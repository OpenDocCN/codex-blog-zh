<html>
<head>
<title>Picking a Disneyland — Natural Language Processing of Reviews. Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">选择迪斯尼乐园-评论的自然语言处理。第二部分</h1>
<blockquote>原文：<a href="https://medium.com/codex/picking-a-disneyland-natural-language-processing-of-reviews-part-2-a74658c2b16d?source=collection_archive---------8-----------------------#2022-04-18">https://medium.com/codex/picking-a-disneyland-natural-language-processing-of-reviews-part-2-a74658c2b16d?source=collection_archive---------8-----------------------#2022-04-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a55d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个系列的第一部分，迪斯尼加州以平均排名在我们的名单上名列前茅，但是它的评论会支持它的位置吗？</p><p id="efbe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们将尝试自然语言处理，建立一个模型来将评论分为正面和负面，看看哪个迪士尼乐园最受游客喜爱！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/7aa49090fd837bf612a9a2ba43227a81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XxZLBAKPGiMBsG3y"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://unsplash.com/@kinli?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">金立</a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="f62a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在第3部分中，我们将从Tripadvisor上搜集评论，并在上面运行我们的模型，看看迪士尼乐园是否坚持自己的立场。</p><p id="f00a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始摇滚吧！</p><h2 id="46e5" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">步骤:</h2><ol class=""><li id="419c" class="kp kq hi ih b ii kr im ks iq kt iu ku iy kv jc kw kx ky kz bi translated"><strong class="ih hj">上传数据集:</strong>将其分为测试和训练数据集，将在整个项目中使用。</li><li id="2f80" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">标记训练数据集:</strong>根据访问者给出的评级，将评论标记为正面或负面。</li><li id="b072" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">清理数据:</strong>去掉标点、数字和特殊字符，去掉短词。修饰和词干</li><li id="6ea3" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">将数据可视化</strong></li><li id="38ef" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">应用机器学习模型:</strong>我将使用词袋模型中的特征来使用逻辑回归。</li><li id="c2fe" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">预测测试数据:</strong>我将基于测试数据集使用模型来预测评论是正面还是负面。</li><li id="632c" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">寻找赢家:</strong>正面和负面评价比例最高的迪士尼乐园将成为我们的赢家！</li></ol><h2 id="0840" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">步骤1 —上传数据</h2><p id="9508" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">导入必要的包:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="39e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们上传数据集:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><h2 id="3441" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">步骤2-创建并标记训练数据集</h2><p id="2761" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">首先，让我们用下面一行创建我们的训练数据集:</p><p id="0220" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lk">train = PD . read _ CSV(' disneylandreviews . CSV '，编码='latin-1') </em></p><p id="35dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">既然训练数据集已经上传，我们需要看一下“评级”栏，因为这是我们试图预测的。最初的等级是从1到5。为了便于分析，我将正面评价(<strong class="ih hj"> &gt; 3)替换为1 </strong>，负面评价(<strong class="ih hj"> &lt; 4)替换为0 </strong>)。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="0f56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们有了这样的东西:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ll"><img src="../Images/3cbd6bd68147f8eee6b12cb4695185d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ourUnOMmaJZGrFtCHDSs6Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">上传的数据集</figcaption></figure><p id="2af5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，让我们使用以下代码行重命名这些列，这将有助于我们在清理和分析训练数据集中包含的数据时引用特定的列。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><h2 id="c462" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">步骤3—清理数据</h2><p id="be42" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">现在我们需要清理数据。这是使我们的文本具有正确格式的关键一步，以便稍后将其输入到模型中。如果我们看一下当前的评论格式，它们看起来像这样:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lm"><img src="../Images/af29253ee30d4ad497c378d0877e0eea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aghDJi3rh8f9eXF4ndOw9Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">评论的原始格式</figcaption></figure><p id="897a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你所看到的，这篇文章的很多部分对我们的分析没有任何帮助。例如，尽管标点符号和特殊字符可能赋予数据额外的含义(感叹号(！)表示激动的心情，而句号(。)可以暗示确定性)，它们不会对审查本身的意义产生重大影响，因此我们需要删除它们。</p><p id="d41e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是清理评论的基本步骤:</p><ol class=""><li id="b126" class="kp kq hi ih b ii ij im in iq ln iu lo iy lp jc kw kx ky kz bi translated"><strong class="ih hj">删除标点、数字和特殊字符</strong></li><li id="5784" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">去掉短词</strong></li><li id="5af0" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">对单词进行标记</strong> —标记是单独的术语或单词，标记化是将一串文本拆分成标记的过程。</li><li id="cc0b" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">词干化</strong> —从单词中去除后缀(“ing”、“ly”、“es”、“s”等)的基于规则的过程。</li></ol><h2 id="e6bf" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated"><strong class="ak">删除标点、数字和特殊字符</strong></h2><p id="8f95" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">我们创建了一个名为“tidy_review”的新列，其中我们用空格替换了所有标点符号、数字和特殊字符。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lq"><img src="../Images/f42cc7342a9e8a6f55f2bad0750d28c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sXLq_cwpGQLoEWDCA4FEFg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">我们最终得到的评论的干净版本</figcaption></figure><h2 id="5773" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">删除短词</h2><p id="3465" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">大多数短词，如“on”、“up”、“go”等，在分析评论时没有什么价值，因此我们将使用以下函数删除所有长度为3个字符或更少字符的词:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lr"><img src="../Images/9e14c47381d6c15523f173fc6a84db46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PEwUW9tfkUIo1yozNmzYPQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">“tidy_review”列中的所有单词现在长度为4个或更多字符</figcaption></figure><h2 id="8e52" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">修饰词语</h2><blockquote class="ls lt lu"><p id="a134" class="if ig lk ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated">标记化是将文本分割成可以在上下文中解释的有意义的块，这将帮助我们理解上下文并为NLP开发模型。</p></blockquote><p id="7963" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将使用<em class="lk"> split() </em>方法来标记单词。这个方法将一个句子字符串转换成由逗号分隔的单词列表。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="2e83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们所有的注释都是1D数组的形式，带有一个索引来标识每个注释的位置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ly"><img src="../Images/f7fab4f4841f2a7de109b9fa96234378.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dxoaJa7CunYSrewRQPdmXg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><strong class="bd jw"> <em class="lz"> split() </em> </strong>方法的输出</figcaption></figure><h2 id="08f7" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">词干</h2><blockquote class="ls lt lu"><p id="fdd9" class="if ig lk ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated">词干化就是把这个词简化到它最基本的意思。当我们提到词干时，我们指的是<strong class="ih hj">结尾、后缀(“ing”、“ly”、“es”、“s”等。)和单词的前缀。</strong></p></blockquote><p id="090b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这种情况下，我将使用波特斯特梅尔算法。这个算法太复杂了，不在本文的讨论范围之内，但是您可以在这里找到关于它的更多信息:</p><div class="ma mb ez fb mc md"><a href="https://vijinimallawaarachchi.com/2017/05/09/porter-stemming-algorithm/" rel="noopener  ugc nofollow" target="_blank"><div class="me ab dw"><div class="mf ab mg cl cj mh"><h2 class="bd hj fi z dy mi ea eb mj ed ef hh bi translated">波特词干算法-基本介绍</h2><div class="mk l"><h3 class="bd b fi z dy mi ea eb mj ed ef dx translated">在语言学(语言及其结构的研究)中，词干是单词的一部分，是所有词形变化所共有的…</h3></div><div class="ml l"><p class="bd b fp z dy mi ea eb mj ed ef dx translated">vijinimallawaarachchi.com</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr jn md"/></div></div></a></div><p id="e9c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是我们将用于在标记化评论上实现波特词干分析器算法的代码:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="35d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们得到以下输出:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ms"><img src="../Images/069ee6999a4ff732e9839b0825a277ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2FsS1ouXEDtq4F7fRVd5jg.png"/></div></div></figure><p id="8509" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们需要用波特·斯特梅尔的结果来更新我们的专栏。正如您在输出中看到的，单词已经被简化为基本的词条，并准备好进行操作:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><h2 id="c75b" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">步骤4 —可视化数据</h2><p id="6080" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">将数据可视化不仅超级有趣(谁不喜欢色彩缤纷的拼贴画呢！)，但它也可以为我们提供关于访问者最常用的词语、整体情绪和态度的重要见解。</p><p id="b036" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我决定使用一个单词云来进行可视化。要实现它，让我们首先导入必要的库:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">导入必要库的代码</figcaption></figure><p id="faae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看看负面评论是关于什么的总是有用的。因此，让我们用评分为0(低于原始等级3)的评论创建一个单词云。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">生成单词云的代码</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mt"><img src="../Images/cc3855e8fb20bdba5d59a00a74ce4fa3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0SCnEb0PUCijunlQm5sqvQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">负面情绪词云</figcaption></figure><p id="3575" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我们得到的美丽的单词云。您可以对任何图像进行此操作，只需越过上面代码中的链接即可！</p><p id="05b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于这个单词云，值得注意的是,“巴黎”这个词直接出现了，这表明人们对巴黎迪士尼乐园的不满程度可能比其他迪士尼乐园更高。还有很多与定价有关的词，如“欧元”、“昂贵”和“价格”，向我们表明价格是一些游客关心的问题。</p><h2 id="3514" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">步骤5-应用机器学习模型</h2><p id="906f" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">首先，我将应用<strong class="ih hj">单词袋模型。</strong>该模型简化了单词的表示，用于从给定文本中提取特征。简而言之，它将一串单词转化为一串可以分析的数字，并通过确定单词属于哪个主题来实现这一点。</p><p id="1b72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从单词袋模型开始，我们首先需要建立一个特征矩阵，可以用下面的代码来完成:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">设置特征矩阵的代码</figcaption></figure><p id="a7d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我们得到的输出矩阵:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mu"><img src="../Images/3497c6f97474f9e9e8d49d613fefd651.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i0nTyUmlo1PGHEvJADjyxA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">输出特征矩阵</figcaption></figure><p id="9c80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">应用单词包功能:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="4d2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们将创建我们的测试数组。为此，我们将使用我们刚刚创建的矩阵中的值，并使用<em class="lk">创建一个稀疏矩阵。todense() </em>功能:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">从数据创建稀疏矩阵</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mv"><img src="../Images/1173c070d7f79d2d5c3e610278ee2f33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ygE-IxDBF3FJrWRY9qDTTA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">稀疏训练矩阵</figcaption></figure><p id="11e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们对数据进行逻辑回归。这是一种预测二元结果的分析方法，在我们的例子中，是评论将被称为正面(1)还是负面(0)。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">创建逻辑回归</figcaption></figure><p id="04ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们将逻辑回归应用到我们之前创建的训练矩阵中:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><h2 id="3759" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">步骤6—确定模型的准确性</h2><p id="afcd" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">现在我们做了一个模型！万岁！</p><p id="ecd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">了解我们的模型在预测评论的性质方面有多准确很重要。我将使用F1的分数来看看这个模型是否能做出准确的预测。虽然对于给定的模型，F1分数是最优的没有明确的基准，但是0.8到0.9的范围通常是理想的。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">计算我们模型的F1分数</figcaption></figure><p id="b3f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们得到F1的分数是<strong class="ih hj"> 0.9172350230414746 </strong>，不错吧！</p><h2 id="6791" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">步骤7 —将模型应用于测试数据</h2><p id="e2e7" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">现在我们的模型看起来相当不错，可以做出一些相当准确的预测。让我们将它应用到我们在这个项目开始时创建的测试数据集上，看看它能够对评论进行多少排序。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">测试我们制作的模型</figcaption></figure><p id="8f6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此代码将对测试数据运行我们的模型，并将其预测输出到单独的。名为“result.csv”的csv文件，我们可以下载该文件。</p><p id="a51d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看我们得到了什么结果:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mw"><img src="../Images/42a63de98ef821d04828a7e70df92367.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xqQKusrRTYhJOFINWbtSnw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">结果文件</figcaption></figure><p id="6ed9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你可以看到的前4个评论，模型做得相当不错。第一个(0)评论包含关键字，如“精彩”和“相当好”，这表明该评论总体上是积极的，因此它的评级为1。另一方面，第三条评论显然是负面的，因为游客似乎对公园内的施工工作以及食品价格高感到失望，因此该评论的评分为0。</p><h2 id="723b" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">第八步——寻找获胜者</h2><p id="5507" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated">现在让我们找出平均正面评价数最高的迪士尼乐园。为此，我们将对每个分支的评级等于1的所有值求和，然后除以记录总数。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="794f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分数概要:</p><p id="57ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">巴黎:<strong class="ih hj">0.622972120322817</strong></p><p id="ed3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">香港:<strong class="ih hj"> 0.712993762993763 </strong></p><p id="1d83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">加州:<strong class="ih hj">0.764688838503555</strong></p><p id="4807" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总体而言，加州迪士尼乐园赢得了最多的正面评价。这证明了我们在第一部分中的结果，在第一部分中，迪斯尼加州获得了最高的数字平均值。</p><p id="f271" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，如果你碰巧选择了去哪里——迪士尼加州是首选。</p><p id="1bfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lk">参见源代码:</em></p><div class="ma mb ez fb mc md"><a href="https://github.com/sashakorovkina123/disneyland_sentiment.git" rel="noopener  ugc nofollow" target="_blank"><div class="me ab dw"><div class="mf ab mg cl cj mh"><h2 class="bd hj fi z dy mi ea eb mj ed ef hh bi translated">GitHub-sashakorovkina 123/迪士尼乐园_感悟</h2><div class="ml l"><p class="bd b fp z dy mi ea eb mj ed ef dx translated">github.com</p></div></div><div class="mm l"><div class="mx l mo mp mq mm mr jn md"/></div></div></a></div><blockquote class="ls lt lu"><p id="ed38" class="if ig lk ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated"><em class="hi">请继续关注第三部分，我们将从各种旅游网站收集数据，看看迪士尼顾客的观点是如何随着时间的推移而变化的！</em></p><p id="0b73" class="if ig lk ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated">与此同时，<strong class="ih hj">请在评论区留下任何意见/更正或明智的话，作为一名初学数据科学家，您的意见对我来说非常有价值！</strong></p></blockquote></div></div>    
</body>
</html>