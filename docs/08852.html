<html>
<head>
<title>Time Series Project (Stock Market Case Study)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列项目(股票市场案例研究)</h1>
<blockquote>原文：<a href="https://medium.com/codex/time-series-project-stock-market-case-ae14b04c17d1?source=collection_archive---------3-----------------------#2022-09-07">https://medium.com/codex/time-series-project-stock-market-case-ae14b04c17d1?source=collection_archive---------3-----------------------#2022-09-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6eb357084fa2cd1faa104e662d24a6c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9jXFPHus-3sjcOPP"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">杰里米·贝赞格在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="76f4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本帖中，我们将对股票市场进行分析。在S&amp;P，代表着。标准普尔500指数，简称标准普尔500，是一个跟踪在美国上市的500家大公司股票表现的股票市场指数。</p><h2 id="ca34" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">什么是时间序列？</h2><p id="006b" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">所以简单来说，时间序列就是一系列按时间顺序索引的数据点，或者你可以说。时间序列是<strong class="ix hj">通过在一段时间内重复测量获得的定义明确的数据项的观察值的集合</strong>。例如，测量一年中每个月的零售额将包含一个时间序列。</p><p id="6a7a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么，你能对这些股票数据做什么样的分析呢？假设你要分析每只股票在一周内的日收益率。</p><p id="23ca" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">分析每日回报</strong></p><figure class="ku kv kw kx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kt"><img src="../Images/1b220f4073e8ed7218147ffd1351692e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TWLHfykEIf6XpJ8C5qlRhg.png"/></div></div></figure><p id="95e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设你在y轴和x轴上有年收益。如您所见，我们在2013年看到了最高的百分比，在2012年年中，您看到了最低的值。这是一种可以对数据进行的分析。</p><h2 id="9ad5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">比较股票价格</h2><figure class="ku kv kw kx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/15f8352ae6da3aa3d4d36a65ed8827f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J3zQoMx3tTtoi8xAkd1FFA.png"/></div></div></figure><p id="49b1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以做的另一个分析是对比股价，这是对每个股票公司的另一种分析。所以不浪费时间，让我们开始吧。</p><p id="ba43" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">下载数据集</strong></p><p id="2aa5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Kaggle下载- <a class="ae iu" href="https://www.kaggle.com/datasets/singole/stocks-data-individual-stock-5-years" rel="noopener ugc nofollow" target="_blank">点击我</a></p><p id="2931" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了简单起见，代码是从我的<a class="ae iu" href="https://jovian.ai/shubhamingole/notebooks" rel="noopener ugc nofollow" target="_blank"> Jovian个人资料中嵌入的。</a></p><h1 id="1132" class="kz ju hi bd jv la lb lc jz ld le lf kd lg lh li kg lj lk ll kj lm ln lo km lp bi translated">1.分析股票收盘价和成交量趋势</h1><p id="ecd9" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated"><strong class="ix hj">导入必要的库</strong></p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="05d0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">创建我们的主数据框</strong></p><p id="90bb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您出于简化和节省时间的目的查看我们的数据库文件，我们将每个公司的CSV文件分开。我们现在将重点分析排名前四的公司:'<strong class="ix hj">亚马逊</strong>，' '<strong class="ix hj">微软</strong>，' '<strong class="ix hj">谷歌</strong>和<strong class="ix hj">苹果。你可以选择所有的公司或者你喜欢的任何一家。</strong></p><figure class="ku kv kw kx fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/6f70d83e8abde83d80af28dd1854d097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*081_-d2ndOIXOQkCv94j5Q.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我们总共有超过500家公司的数据</figcaption></figure><p id="469c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将4家公司的数据合并成一个。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="091b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">数据的形状</strong></p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="42ac" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">数据类型:</strong></p><p id="0f3f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你看下面的图片，日期列的数据类型是错误的，这是一个对象类型。我们需要将数据类型指定为日期时间。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="7191" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">将数据类型更改为日期时间</strong></p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><h2 id="e7ac" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">分析所有股票的收盘价</h2><p id="ba0a" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">让我们开始写第一份问题陈述。为此，我们的数据集中总共有4只股票；我们将分析与日期相关的每个数据集的收盘价，以便我们可以从图表中看到哪一年的收盘价是低还是高。</p><p id="2e5a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">存储公司的名称</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="826b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">绘制图形</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="3dbb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们来理解上面的代码。</p><p id="2e11" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在第一行中，我们定义图形大小。</p><p id="3200" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第二行是<code class="du lt lu lv lw b">for i,company in enumerate(tech_list,1):</code>,我们用枚举函数进行循环，如果你在第一次迭代中通过了tech_list，它将给出i=1和company = 'AAPL '。</p><p id="5e66" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第3行<code class="du lt lu lv lw b"> plt.subplot(2,2,i)</code>我们正在绘制一个空图，其中i =1</p><figure class="ku kv kw kx fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/27cd256e323ad10e773e4b176753bfc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/1*PmIJZeri7dphE_oBtCTquQ.png"/></div></figure><p id="9882" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了更好地理解，我手动将i=1放到showcase中</p><p id="08d6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第四行<code class="du lt lu lv lw b">df= full_df[full_df['Name']==company]</code>对于每家公司，我们正在创建一个名为df的临时数据框，如果你能想象它会像下图这样。</p><figure class="ku kv kw kx fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/dfb76040ecd126b52519c741848dbbe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*Zh9rVhzthZK3RqvZfWpVtg.png"/></div></figure><p id="9e9e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第5行<code class="du lt lu lv lw b">plt.plot(df['date'],df['close'])</code>在这一行，我们只是使用临时数据框名称df绘制plt。</p><p id="d5c0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第6行<code class="du lt lu lv lw b">plt.title(company)</code>它只是给我们的图表起了个标题，在第一次迭代中，它给出的图表将会是这样的</p><figure class="ku kv kw kx fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/49f0d2d122cd9005a75ea5a73e6568b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*NXWNw9BKjD-Zk-wLlQEBpg.png"/></div></figure><p id="7947" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是第一次迭代，同样的方式，循环将再次循环，并给出所有的输出。</p><p id="57f5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从上图可以看出，2016年年中收盘价有所下降。</p><p id="c1d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 2。分析每天交易的股票总量</strong></p><p id="abeb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为此，我们将使用<strong class="ix hj"> Plotly </strong></p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="0502" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你需要查看2015 -2017年的交易量，你可以画一个正方形，然后自动放大它，每月获得更多细节。</p><p id="c002" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请查看下面的视频，了解如何使用它。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="ma lr l"/></div></figure><h1 id="1167" class="kz ju hi bd jv la lb lc jz ld le lf kd lg lh li kg lj lk ll kj lm ln lo km lp bi translated"><strong class="ak"> 2。分析每日回报</strong></h1><p id="7b22" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">问题陈述</p><ol class=""><li id="1dee" class="mb mc hi ix b iy iz jc jd jg md jk me jo mf js mg mh mi mj bi translated">分析股票的每日价格变化</li><li id="fb87" class="mb mc hi ix b iy mk jc ml jg mm jk mn jo mo js mg mh mi mj bi translated">分析封闭特征的月均值</li></ol><p id="d46d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们读一下数据集，我们将只处理亚马逊的一个数据集。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="8846" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如我们所看到的，没有告诉我们每日价格变化的特征</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="da63" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们正在创建一个新的栏目，告诉我们每天的价格变化。让我们看看数据集是什么样子的。如您所见，添加了一个新列。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="24e3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">让我们也来看看每日回报率的百分比</strong></p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="f024" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用我们之前导入的Plotly，我们将绘制图表</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="8b46" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过这个我们可以知道哪一年的回报是最低和最高的。</p><h2 id="d8e0" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">分析封闭特征的月均值</h2><p id="6f85" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">我们将使用同一个数据库，我们将只制作数据库的副本，这样原始数据集就不会受到干扰。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="0f4f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将作为对象的日期列转换为日期时间。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="a3c1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">重置索引到当前日期</strong></p><p id="3943" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将索引设置为日期。假设您想要获取某个时间间隔的日期，我们可以很容易地传递日期范围并获取它，如下所示。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="be56" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">用每月的平均值重新采样数据</strong></p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="e9e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">重采样用于按照时间间隔采样我们给定的范围值。如果你想了解更多关于重采样的信息，请观看下面的视频。</p><p id="dcfb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://youtu.be/l4dvMiSDBzs" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">点击我查看视频</strong> </a></p><p id="5c05" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">是时候绘制数据了</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="646c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如我们在图表中看到的那样，收盘价格不断上涨。中间有一些落差。</p><p id="8562" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">根据年份重新取样</strong></p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><h1 id="282b" class="kz ju hi bd jv la lb lc jz ld le lf kd lg lh li kg lj lk ll kj lm ln lo km lp bi translated">3.执行多变量分析</h1><p id="3af3" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">问题陈述</p><ol class=""><li id="43c9" class="mb mc hi ix b iy iz jc jd jg md jk me jo mf js mg mh mi mj bi translated">分析这些科技公司的股价是否相关。</li><li id="8ccd" class="mb mc hi ix b iy mk jc ml jg mm jk mn jo mo js mg mh mi mj bi translated">分析每只股票的每日回报，以及它们之间的相互关系。</li><li id="ce98" class="mb mc hi ix b iy mk jc ml jg mm jk mn jo mo js mg mh mi mj bi translated">科技公司的风险价值分析。</li></ol><h2 id="680d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">分析这些科技公司的股价是否相关</h2><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="1422" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们总共有4家公司，所以我们将一起分析它们，看看科技公司之间是否有任何相关性。</p><p id="8ff5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将分别导入所有数据集，以便我们可以合并该公司的所有收盘价是否相关。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="4fcd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们定义一个空数据集，这样我们就可以将上述所有公司的收盘价联系在一起并进行分析</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="daa8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你看到下面，我们现在有每家公司的所有收盘价单独在一列，现在很容易绘制图表</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="e446" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们正在绘制结对图</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="8796" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">绘制热图</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="b702" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你看一下上面的图表，就会发现亚马逊、谷歌和微软之间有很高的相关性。这意味着我们可以说，如果任何一家公司的股价下跌，有97%的机会，其他两家公司的股价也会下跌。</p><p id="3047" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你也可以考虑数据集中的其他公司，自己进行分析。</p><h2 id="41d3" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">分析每只股票的每日回报，以及它们之间的相互关系。</h2><p id="0194" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">为了分析日收益率，我们必须分别计算每只股票的日收益率，为此我们将使用公式<strong class="ix hj">((收盘价-开盘价)/收盘价*100)。</strong></p><p id="627e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将使用4家公司的相同数据集</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="cc4b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我们创建一个名为<strong class="ix hj"> data </strong>的空白数据名称，然后我们使用上述公式计算每只股票的日收益率。将对每种股票分别执行这一步骤。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="6373" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">绘制结对图</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="5255" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">热图</strong></p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="a5dd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如我们从上面的热图中看到的，谷歌和亚马逊的每日回报之间有很好的相关性。我们也可以看到一些微软和谷歌。</p><h2 id="9a11" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">科技公司的风险价值分析。</h2><p id="8ae1" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">让我们绘制一个分布图来看看数据的创建</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="f120" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过这个，我们可以知道我们68 %的数据在第一个标准差之间</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="78db" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的第二个标准差告诉我们，95%的数据位于-2.37到2.37之间</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="9ee6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的第三个标准差告诉我们，99.7%的数据位于-3.56到3.56之间</p><p id="d666" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">让我们检查一下我们的分位数值</strong></p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="e739" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以它会返回我-1.42，基本上就是说，90%的时间里，我的每日损失不会超过这个-1.42。这就是这个分位数的基本结论。</p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="lq lr l"/></div></figure><p id="aaa4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这都是我今天的观点。尝试探索数据。尽量多考虑不同的股票，从你这边分析。我希望你喜欢这个博客，并从它中学到一些东西。</p><p id="94f3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一定要关注，喜欢，分享</p><p id="3586" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">谢谢你</p><p id="2699" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">参考</strong></p><p id="dd04" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">威风凛凛—<a class="ae iu" href="https://jovian.ai/shubhamingole/notebooks" rel="noopener ugc nofollow" target="_blank">https://jovian.ai/shubhamingole/notebooks</a></p></div></div>    
</body>
</html>