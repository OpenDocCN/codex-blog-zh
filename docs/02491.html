<html>
<head>
<title>VOL 2: Syntactic Sugar, Sharp Knives, and Ruby Magic</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第2卷:语法糖，锋利的刀，和红宝石魔术</h1>
<blockquote>原文：<a href="https://medium.com/codex/vol-2-syntactic-sugar-sharp-knives-and-ruby-magic-8b2951cdd4e9?source=collection_archive---------24-----------------------#2021-07-22">https://medium.com/codex/vol-2-syntactic-sugar-sharp-knives-and-ruby-magic-8b2951cdd4e9?source=collection_archive---------24-----------------------#2021-07-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f90c74874a85cc456e3317e2a18fddcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jRs4yIXJEuQdMe_26Ts-ig.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">帕韦尔·奥莱克·鲁比</figcaption></figure><p id="443b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">到目前为止，在我学习编码的过程中，Ruby on Rails是我最喜欢钻研的语言。Ruby on Rails是一种非常强大和灵活的开源编程语言。作为一个喜欢结构的人，我喜欢RoR，因为它的文档非常全面，语言本身也非常简单易懂。不像Java Script，我发现它有更多的学习曲线，因为它更像是一种“无所不能”的语言。代码的狂野西部。但不是露比。这是一种非常强大的语言，因为在几个小时内，你就可以从一张白纸变成一个功能齐全的多页应用程序，包括登录和注销功能、多种模型和路径。想想就觉得挺疯狂的。</p><p id="298e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">事实上，你日常使用的许多网站实际上都是由Rails驱动的。AirBnb、Shopify、Twitter、Kickstarter、Hulu、Github等等。正如你所知，这种语言在有社交媒体背景的公司中最受欢迎。有时候Rails因为“慢”而受到指责，但是老实说，我认为这更多的是关于开发人员如何选择合适的工具来完成工作。肯定有Rails不适合这项工作的情况，但是您可以用Java Script、Python、Django或任何其他编程语言来证明这一点。他们每个人都有自己的长处和短处。</p><p id="534d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">关于Rails，最让我感兴趣的事情之一是我如何不断遇到“Ruby magic”这个短语。当调试我的代码时，我会在StackOverflow或论坛上看到这个短语。我从来不明白大家都在谈论什么。但是这个短语引起了我的兴趣，让我对这种语言的起源非常好奇。在花了几个月的时间真正钻研和掌握这门语言之后，我现在明白了。让我告诉你，Ruby <em class="js">是</em>魔法。</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure></div><div class="ab cl jz ka gp kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hb hc hd he hf"><h2 id="3cd8" class="kg kh hi bd ki kj kk kl km kn ko kp kq jf kr ks kt jj ku kv kw jn kx ky kz la bi translated">什么是红宝石魔法？</h2><p id="b9e3" class="pw-post-body-paragraph iu iv hi iw b ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn lf jp jq jr hb bi translated">为了回答这个问题，让我给你一个简单的语言历史和起源的概述。Ruby是由一位名叫<a class="ae lg" href="https://en.wikipedia.org/wiki/Yukihiro_Matsumoto" rel="noopener ugc nofollow" target="_blank">松本幸宏</a>，又名“马茨”的日本计算机科学家在1995年设计和创造的。</p><blockquote class="lh li lj"><p id="7e37" class="iu iv js iw b ix iy iz ja jb jc jd je lk jg jh ji ll jk jl jm lm jo jp jq jr hb bi translated">他的行为在Ruby社区中带来了一句格言:“Matz很好，所以我们也很好”，通常缩写为MINASWAN。</p></blockquote><p id="f963" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然后，在2004年，出现了一个名叫大卫·海涅梅尔·汉森的丹麦程序员。当时，Hansson实际上正与另一名开发人员一起开发一个项目管理工具，后来成为Basecamp。在这个工具的开发过程中，Hansson使用Ruby创建了一个定制的web开发框架，后来他以开源语言Ruby on Rails的形式发布了这个框架，Rails就这样诞生了——这是一个令人高兴的意外。阅读Rails教义与阅读其他语言的文档是非常不同的体验。汉森学说充满了富有表现力的，甚至是宗教性的语言，宣称这种语言背后的指导原则。</p><h2 id="054b" class="kg kh hi bd ki kj kk kl km kn ko kp kq jf kr ks kt jj ku kv kw jn kx ky kz la bi translated">铁路原则的9大支柱</h2><ol class=""><li id="b207" class="ln lo hi iw b ix lb jb lc jf lp jj lq jn lr jr ls lt lu lv bi translated"><a class="ae lg" href="https://rubyonrails.org/doctrine/#optimize-for-programmer-happiness" rel="noopener ugc nofollow" target="_blank">为程序员的快乐而优化</a></li><li id="5ab5" class="ln lo hi iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated"><a class="ae lg" href="https://rubyonrails.org/doctrine/#convention-over-configuration" rel="noopener ugc nofollow" target="_blank">配置约定</a></li><li id="7697" class="ln lo hi iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated"><a class="ae lg" href="https://rubyonrails.org/doctrine/#omakase" rel="noopener ugc nofollow" target="_blank">菜单是omakase </a></li><li id="e167" class="ln lo hi iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated"><a class="ae lg" href="https://rubyonrails.org/doctrine/#no-one-paradigm" rel="noopener ugc nofollow" target="_blank">无人范式</a></li><li id="d747" class="ln lo hi iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated"><a class="ae lg" href="https://rubyonrails.org/doctrine/#beautiful-code" rel="noopener ugc nofollow" target="_blank">高举美码</a></li><li id="018b" class="ln lo hi iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated"><a class="ae lg" href="https://rubyonrails.org/doctrine/#provide-sharp-knives" rel="noopener ugc nofollow" target="_blank">提供锋利的刀具</a></li><li id="6a7c" class="ln lo hi iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated"><a class="ae lg" href="https://rubyonrails.org/doctrine/#integrated-systems" rel="noopener ugc nofollow" target="_blank">价值集成系统</a></li><li id="bd5e" class="ln lo hi iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated"><a class="ae lg" href="https://rubyonrails.org/doctrine/#progress-over-stability" rel="noopener ugc nofollow" target="_blank">进展超过稳定</a></li><li id="8512" class="ln lo hi iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated"><a class="ae lg" href="https://rubyonrails.org/doctrine/#big-tent" rel="noopener ugc nofollow" target="_blank">推起一个大帐篷</a></li></ol><p id="f7c3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们不会对每个支柱进行太多的描述，但我会重点介绍一下。Rails被设计得很有趣，在当时是一个新颖的编程概念。</p><p id="0ba4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Hansson说，“Ruby不仅认识到，而且适应和提升程序员的感受。无论他们是不充分的，古怪的，还是快乐的。Matz跳过了令人震惊的复杂的实现障碍，使机器看起来像是在微笑，奉承它的人类同伙。Ruby充满了视错觉，在我们看来简单、清晰、美丽的东西实际上是遮光罩下一团乱麻。”</p><p id="1cbd" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是我读过的关于Rails的最好的总结。这些“视错觉”就是红宝石魔法一词的来源。</p><p id="20b3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">更具体地说，他所说的“视错觉”实际上只是一些简单而有思想的代码，让你的应用程序更加优雅和直观。让我给你举个例子。Rails遵循约定胜于配置的原则。这不仅仅是一个风格上的决定。约定优于配置意味着在Rails中，您的应用程序及其文件和文件夹遵循特定的命名和组织约定。原因是引擎盖下发生了太多的事情。为了让您的模型、视图和控制器能够像它们应该的那样一起工作，它们必须被恰当地命名，以便发挥作用。你所遵循的惯例是向Rails发出你希望你的应用程序做什么的信号。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/845ddfd7b6703a14c6cda3fab77f8b38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-R_PAKjSNE6tkKArt1WxUg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">克孜勒苏达2020</figcaption></figure><p id="60b5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">像任何事情一样，这种类型的语言肯定有它的缺点。首先，当幕后有如此多的“rails魔术”发生时，事情会变得非常抽象。作为程序员，你必须对实际发生的事情有深入的了解。由于这个原因，Rails可以被硬调试。其次，如果您正在查看其他人的Rails代码，可能会有点不清楚那个人打算用那个方法或视图来完成什么。在构建Rails应用程序时，如何命名方法、控制器、视图和路径至关重要。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/f30c4c67228cd4a05c0c1f76301f25f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*siu2Pl_NIY_YCT6DhOPrHA.jpeg"/></div></figure><h2 id="b154" class="kg kh hi bd ki kj kk kl km kn ko kp kq jf kr ks kt jj ku kv kw jn kx ky kz la bi translated"><strong class="ak">句法糖</strong></h2><p id="b7e0" class="pw-post-body-paragraph iu iv hi iw b ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn lf jp jq jr hb bi translated">输入语法糖。这是编程中的一个术语，我认为它很可爱，但不知道它是什么意思。事实证明，语法糖在Rails(以及几乎所有编程语言)的世界中非常有用。)实际上，它只是在你的代码中加入了一些额外的语法，以使你的代码更“可爱”和更易读。我举一个很基本的例子。假设您有下面一行代码:<code class="du md me mf mg b">x = x + 5</code></p><p id="8bcc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你想给变量<code class="du md me mf mg b">x</code>加上<code class="du md me mf mg b">5</code>，这段代码的‘更好’的版本应该是只写<code class="du md me mf mg b">x += 5.</code></p><p id="c330" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">很整洁，是吧？</p><p id="5b6c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">三元运算符是一种更常见、更广泛使用的甜语法。以下是如何使用三元组:</p><pre class="jt ju jv jw fd mh mg mi mj aw mk bi"><span id="26c3" class="kg kh hi mg b fi ml mm l mn mo">if apple_stock &gt; 1</span><span id="1e6c" class="kg kh hi mg b fi mp mm l mn mo"><em class="js">:eat_apple</em></span><span id="098b" class="kg kh hi mg b fi mp mm l mn mo">else</span><span id="e4bd" class="kg kh hi mg b fi mp mm l mn mo"><em class="js">:buy_apple</em></span><span id="51f4" class="kg kh hi mg b fi mp mm l mn mo">end</span></pre><p id="2553" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这5行代码实际上可以表示为一行:</p><pre class="jt ju jv jw fd mh mg mi mj aw mk bi"><span id="2a1b" class="kg kh hi mg b fi ml mm l mn mo">apple_stock &gt; 1 ? :eat_apple : :buy_apple</span></pre><p id="c9b9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">哇！</p><p id="193d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">之所以称之为“语法糖”,是因为虽然它不会直接影响代码的功能，但对于其他开发人员来说，阅读和理解它会更加美观。此外，你的应用程序越大越复杂，你的代码就会越来越长。所以这些小捷径是确保你的代码干净、简洁、甜美的完美工具！</p></div></div>    
</body>
</html>