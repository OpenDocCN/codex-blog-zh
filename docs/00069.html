<html>
<head>
<title>Using Time Series Analysis with ARIMA and GARCH Model in R To Analyze Stocks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用时间序列分析中的ARIMA和GARCH模型分析股票</h1>
<blockquote>原文：<a href="https://medium.com/codex/using-time-series-analysis-with-arima-and-garch-model-in-r-to-analyze-stocks-d5e89cfe93e?source=collection_archive---------0-----------------------#2020-05-18">https://medium.com/codex/using-time-series-analysis-with-arima-and-garch-model-in-r-to-analyze-stocks-d5e89cfe93e?source=collection_archive---------0-----------------------#2020-05-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="543e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在听说Grub和优步之间的合并可能性后，我决定对Grub做一个简短的股票分析，看看股票的表现如何，以及它在未来几个月的表现如何。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/e8ba16ceb0ca674f6752af8397a04c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m3z6yUz-pUSN7tvkxKVUjw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图一。(GRUB)2019年4月至2020年5月之间的股票价格</figcaption></figure><p id="acc5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我首先得到了Grub在2019年4月至2020年5月18日之间的股价图——图1。</p><p id="6e66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从图表中可以看出，Grub在10月29日经历了43.295%的重大股价下跌，至38.97美元。这一下跌发生在Grub公布季度业绩之后。</p><p id="f36d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了更好地了解股票，我创建了一个布林线图，交易量和MACD(移动平均线收敛背离)。</p><p id="b8a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面的图表中，很明显有一个强烈的下降趋势，价格开始在下降通道内交易。</p><p id="a9cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在见证了多头背离之后，15周期移动平均线的突破进一步提供了进入交易的信号。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/03e80e55d5b4eb6570caa01aea1c872b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qUYFk903D67Y0-XNwGhmvw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图二。布林线、成交量和MACD</figcaption></figure><p id="4ead" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">MACD线也穿过了信号线，证明MACD指标支持多头交易。还可以看到，MACD线继续在信号线上方移动，这转化为强劲的上涨动力。</p><p id="20fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们现在开始使用ARIMA方法进行预测。</p><p id="df80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为金融时间序列通常暴露于指数增长，这允许对数变换来线性化序列，所以我使用差分来稳定时间序列的方差。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/8076f5261cf249b1b14c29d83dbf03f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*34kk11_WnNrIfGYPINz9nQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图3</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jv"><img src="../Images/12241b97a2e77ea53b6e7b1ac60d226f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ejEIDzezSBtPqC-rtKYKVg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图4。差异日志Grub</figcaption></figure><p id="34af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与价格序列相比，时间序列更令人感兴趣，因为我们倾向于关注股票的回报而不是价格。对数价格的差异类似于股票价格的百分比变化。</p><p id="3e77" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面的图5显示了一个自动回归模型，自动ARIMA，这将有助于我们预测接近未来的价格值。</p><p id="e131" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如图所示，图表中有一条蓝线，代表预测的平均值。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jw"><img src="../Images/75eb42269570c8b4954a75621d79296b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wvCVDfTkIxoUr7o7CwCAJQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图5</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jx"><img src="../Images/61c5d1e198819dd16e8b7d4bff73367c.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*JoMdV9BA2hr9Q6f-2fUuEw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图6</figcaption></figure><p id="37d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的图5中，有深灰色和浅灰色区域，它们分别对应于80%和95%的置信区间。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jy"><img src="../Images/07c5096b5b7ecf9347c816e39d999dc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*9IXukpgv1BMpZX_HA8mFhg.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图7。数据集预测较低的前几个值</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jz"><img src="../Images/2616e545387829b73ea3b22f06103751.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*cnE-AWtef4WVfraqUwDr5A.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图8。数据集预测前几个高值</figcaption></figure><p id="dd82" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">仅仅用MACD和ARIMA来分析是不够的。我决定使用GARCH模型，利用它的功能进行“波动聚类”，这将有助于我们尽量减少波动的影响。</p><p id="4aa2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我运行自动ARIMA函数来寻找ARIMA参数，我后来把它合并到Garch模型中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/a3135a81c60fd779af1767bbfb441fae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F8ozRo891t8GAtvdSJkVqA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图9</figcaption></figure><p id="6271" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面的图10显示了关于这个模型的Akaike和其他信息。如我们所见，我们的模型已经达到了更好的Akaike和Bayes测试值。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kb"><img src="../Images/2dc51ee3fb5439f802e43e78dc9acc7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*3xwVOdwhDO-aIs8y8D1HSw.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图10</figcaption></figure><p id="3b6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，所有导出的信息用于创建正常残差图，如下图11所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kc"><img src="../Images/2fa4ba2aa8030b111a2285634e2d0165.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PlGA6H6rR0sWmgBM_6FgHw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图11</figcaption></figure><p id="8cbb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是标准化残差图。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kd"><img src="../Images/633e3b9b32e8dbf8b128be72d7e26bd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1dd7m4IbBwE6U2srdRIvQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图12</figcaption></figure><p id="c548" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">尽管我们有一些超出正态分布的异常值，但大多数数据都位于中心线上。</p><p id="6b3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了所有需要的模型后，我绘制了数据预测图，显示了未来3个月的预测——如下所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ke"><img src="../Images/e2c006005ba748a89aeef2cdde9fc865.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DQ-vHfmwIbMTg4qvWzU-XQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图13</figcaption></figure><p id="5d81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们所见，该模型预测了未来3个月的价格下降趋势。但是，请注意，自回归模型使用历史数据来预测未来值。ARIMA模型也没有考虑到最近可能发生的变化。</p><p id="589f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">书籍推荐</strong></p><p id="3f8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae kf" href="https://amzn.to/3bqc7Vy" rel="noopener ugc nofollow" target="_blank"> Python食谱第三版</a></p><p id="a9c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae kf" href="https://amzn.to/39Mi1zI" rel="noopener ugc nofollow" target="_blank">Python机器学习简介:数据科学家指南</a></p></div></div>    
</body>
</html>