<html>
<head>
<title>5 Million Users a Day From Snowflake to Iterable</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从雪花到可迭代，每天500万用户</h1>
<blockquote>原文：<a href="https://medium.com/codex/5-million-users-a-day-from-snowflake-to-iterable-f6ee2d185ceb?source=collection_archive---------3-----------------------#2022-01-11">https://medium.com/codex/5-million-users-a-day-from-snowflake-to-iterable-f6ee2d185ceb?source=collection_archive---------3-----------------------#2022-01-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/af4214d34e7ac29199fbf20353f1fd90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2FrivwrVd421Rm3XYvjTXQ.png"/></div></div></figure><p id="d2c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当您使用<a class="ae jo" href="https://rudderstack.com/blog/why-your-data-warehouse-should-be-the-foundation-of-your-cdp" rel="noopener ugc nofollow" target="_blank"> warehouse first </a>方法设置您的数据堆栈时，RudderStack的多功能特性允许您克服某些曾经过于昂贵或过于困难的障碍。这种灵活性在我们最近帮助一家客户解决其中一个难题时得到了充分展示。</p><h1 id="5537" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">情况:批量订阅注册</h1><p id="9a4b" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">我们的一个客户有一个业务用例，每天一次从Snowflake向<a class="ae jo" href="https://iterable.com/" rel="noopener ugc nofollow" target="_blank"> Iterable </a>发送500万用户，用于客户参与活动。如果你认为这是反向ETL的一个明显例子，那你就对了。使用RudderStack的<a class="ae jo" href="https://rudderstack.com/docs/warehouse-actions/" rel="noopener ugc nofollow" target="_blank">反向ETL工具</a>，该客户可以从雪花表中提取500万用户，然后将他们激活到Iterable中，这样他们就可以被触发接收电子邮件。就这么简单！</p><h1 id="db55" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">问题是:速度限制和处理时间</h1><p id="5c11" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">博客并没有到此结束，所以你可能会猜到事情没那么简单。有几个障碍使得这个看似简单的集成变得困难。</p><ol class=""><li id="8960" class="ks kt hi is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">他们通过RudderStack访问的可迭代端点是事件/跟踪端点。这个特殊的终点有一个年速率限制，在大约500万/天的速率下，几个星期后就会耗尽。</li><li id="00f0" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">一个大约500万行的反向ETL作业需要相当长的时间来处理，可能需要10到15个小时。每天重复这些会变得非常消耗精力。</li></ol><h1 id="203c" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">解决方案:webhook、转换和反向ETL</h1><p id="6d15" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">我们从第一个障碍开始。事件/跟踪端点使用起来并不理想。客户发现Iterable有另一个端点列表/订阅，您可以一次为多个用户订阅一个列表，这可以触发向他们发送电子邮件。这很好地满足了客户的需求，并且有一个更宽松的费率限制。</p><p id="8d0c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">RudderStack不支持Iterable目标中的此端点。幸运的是，我们可以使用强大的<a class="ae jo" href="https://rudderstack.com/docs/destinations/webhooks/" rel="noopener ugc nofollow" target="_blank">自定义webhook目的地</a>并将其指向lists/subscribe端点。通过使用用户转换，我们可以将有效载荷转换成Iterable所需的格式。我们现在越过了第一个障碍！</p><p id="8b4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于第二个障碍，我们仍然必须处理每天运行大约500万行反向ETL作业的性能问题。因为这个新的端点可以接收用户列表，而不是一次只接收一个用户，所以我们将重点转移到如何在数据仓库中批量处理用户列表，以<strong class="is hj">将反向ETL作业大小减少500倍</strong>。</p><h1 id="ea9f" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">技术深度挖掘:在仓库中</h1><p id="40a3" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">这是魔法开始的地方。因为RudderStack的反向ETL工具能够从雪花视图中提取数据，所以我们编写了一个查询来创建一个视图。该查询从500万行用户表中提取用户，并创建一个视图，其中500个用户被分批放入一行。现在，不是有500万行来运行反向ETL作业，而是只有1万行。下面的示例显示了该查询如何获取多行数据并将其转换为一行。</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="a0d1" class="lp jq hi ll b fi lq lr l ls lt">create or replace view "DB_NAME"."SCHEMA_NAME"."VIEW_NAME" as (</span><span id="97b2" class="lp jq hi ll b fi lu lr l ls lt">select list_id</span><span id="c839" class="lp jq hi ll b fi lu lr l ls lt">,'[' ||</span><span id="c31c" class="lp jq hi ll b fi lu lr l ls lt">listagg( distinct '{"email":"' ||  email</span><span id="6fe6" class="lp jq hi ll b fi lu lr l ls lt">|| '", "userId": "' ||  ID</span><span id="63db" class="lp jq hi ll b fi lu lr l ls lt">|| '", "dataFields": ' ||  content</span><span id="023c" class="lp jq hi ll b fi lu lr l ls lt">|| '}', ',')</span><span id="6e70" class="lp jq hi ll b fi lu lr l ls lt">within group (order by 1)</span><span id="70c2" class="lp jq hi ll b fi lu lr l ls lt">|| ']'</span><span id="edf3" class="lp jq hi ll b fi lu lr l ls lt">as subscribers_list</span><span id="12b7" class="lp jq hi ll b fi lu lr l ls lt">,min(row_id) as first_row</span><span id="bc5d" class="lp jq hi ll b fi lu lr l ls lt">,max(row_id) as last_row</span><span id="eaa8" class="lp jq hi ll b fi lu lr l ls lt">,TO_CHAR(current_date, 'YYYYMMDD') ||</span><span id="3ff5" class="lp jq hi ll b fi lu lr l ls lt">to_Char(current_time(), 'HHMI') ||</span><span id="1574" class="lp jq hi ll b fi lu lr l ls lt">'_' || list_id ||</span><span id="cce3" class="lp jq hi ll b fi lu lr l ls lt">'_' || batch as row_id</span><span id="a7dd" class="lp jq hi ll b fi lu lr l ls lt">from (</span><span id="7ca1" class="lp jq hi ll b fi lu lr l ls lt">select ROW_NUMBER() OVER (order by list_id, 1) as row_id</span><span id="4edc" class="lp jq hi ll b fi lu lr l ls lt">,truncate ((row_id/500)) + 1 as batch</span><span id="fccc" class="lp jq hi ll b fi lu lr l ls lt">,email as email, list_id</span><span id="7f84" class="lp jq hi ll b fi lu lr l ls lt">,to_varchar(object_data) as content</span><span id="ce93" class="lp jq hi ll b fi lu lr l ls lt">from DB_NAME.SCHEMA_NAME.USER_TABLE_NAME</span><span id="0d51" class="lp jq hi ll b fi lu lr l ls lt">where list_id is not null</span><span id="a1e1" class="lp jq hi ll b fi lu lr l ls lt">order by row_id</span><span id="f20f" class="lp jq hi ll b fi lu lr l ls lt">) b</span><span id="0553" class="lp jq hi ll b fi lu lr l ls lt">Group by batch, list_id</span><span id="f0c3" class="lp jq hi ll b fi lu lr l ls lt">order by 1, first_row</span><span id="13e2" class="lp jq hi ll b fi lu lr l ls lt">)</span></pre><p id="b8eb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">用户表</strong></p><p id="6262" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">idemailobject _ data list _ id 1 nkd 9 a 3 dummy @ email . com { " country ":" USA "，" sport ":" basketball " } 110 fmvd 7 e sample @ email . com { " country ":" Japan "，" sport ":" baseball " } 18 dhcu 6 sk not @ email . com { " country ":" England "，" sport": "soccer" }1</p><p id="cfc6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">新视图(使用上面的查询后)</strong></p><p id="835b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">list _ id subscribers _ list first _ row last _ row row _ id1 " { " userId ":" 1 nkd 9 a 3 "，" email": "dummy@email.com "，" dataFields": { "country": "USA "，" sport": "basketball" } }，{ "userId": "10fmvd7e "，" email": "sample@email.com "，" dataFields": { "country": "Japan "，" sport": "baseball" }，{ "userId": "8dhcu6sk "，" email": "not@email.com</p><p id="db17" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更深入地研究视图查询，有几件事情需要指出。</p><ul class=""><li id="3311" class="ks kt hi is b it iu ix iy jb ku jf kv jj kw jn lv ky kz la bi translated">这个查询中完成大部分工作的部分是listagg()函数。这将编译Iterable API端点的所有必要信息，并以字符串格式将其存储为JSON数组。当我们运行反向ETL时，我们可以使用RudderStack中的用户转换将它转换回JSON对象数组(本博客末尾的例子)。</li><li id="e566" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn lv ky kz la bi translated"><code class="du lw lx ly ll b">truncate ((row_id/500)) + 1</code>该行负责创建批次的大小限制。这里的500代表一行可以包含的最大用户数。因此，如果您有一个1300个用户的用户列表，该查询将创建一个包含2行的视图，每一行包含500个用户，然后第三行只包含300个用户。</li><li id="ac22" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn lv ky kz la bi translated">该查询还将根据用户的list_id对用户进行批处理。只有具有相似list_id的用户才会在一行中进行编译。这允许我们每天为<code class="du lw lx ly ll b">list/subscribe endpoint</code>处理多个列表。</li></ul><h1 id="71b8" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">技术深潜:在舵栈中</h1><p id="a168" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">随着仓库中繁重工作的完成，我们只需要在RudderStack中创建一个源和目的地。</p><p id="1133" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们创建了一个<a class="ae jo" href="https://rudderstack.com/docs/warehouse-actions/snowflake/" rel="noopener ugc nofollow" target="_blank">雪花源</a>，选择我们想要的权限，然后选择同步频率。创建源之后，我们导航到创建的雪花源并点击“创建新的目的地”。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/e653fa51cc621bd779c3fa7d20959326.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/0*KTuqfBJJNdKyT01M.png"/></div></figure><p id="d165" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，我们创建了Webhook目的地，填写了正确的端点，并包含了正确的授权头。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/5c533670353ee268c90ad7799ad5ba4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-fYiEmDsR3msarox.png"/></div></div></figure><p id="450a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">单击“Next”后，我们通过选择模式和表来选择要对哪个表执行反向ETL。然后，我们选择惟一的ROW_ID作为“user_id ”,并选择引入所有的表列。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/264f6124926acc7b28f9e28430337186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*03WOaL22go3hjyaC.png"/></div></div></figure><p id="2da1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我们创建了一个用户转换，这样这些有效负载就可以被格式化为Iterable。</p><p id="1557" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面，您可以看到这些有效载荷是如何从反向ETL进入RudderStack的。</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="8472" class="lp jq hi ll b fi lq lr l ls lt">{</span><span id="8add" class="lp jq hi ll b fi lu lr l ls lt">"type": "identify",</span><span id="77ea" class="lp jq hi ll b fi lu lr l ls lt">"traits": {</span><span id="c0d0" class="lp jq hi ll b fi lu lr l ls lt">"LIST_ID": 1,</span><span id="9934" class="lp jq hi ll b fi lu lr l ls lt">"LAST_ROW": 3,</span><span id="5aae" class="lp jq hi ll b fi lu lr l ls lt">"FIRST_ROW": 1,</span><span id="9778" class="lp jq hi ll b fi lu lr l ls lt">"SUBSCRIBERS_LIST": "[{ \"userId\":\"1nkd9a3\",\"email\":\"dummy@email.com\",\"dataFields\":{ \"country\":\"USA\",\"sport\":\"basketball\"}}, { \"userId\":\"10fmvd7e\",\"email\":\"sample@email.com\",\"dataFields\":{ \"country\":\"Japan\",\"sport\":\"baseball\"}}, { \"userId\":\"8dhcu6sk\",\"email\":\"not@email.com\",\"dataFields\":{ \"country\":\"England\",\"sport\":\"soccer\"}}]"</span><span id="540d" class="lp jq hi ll b fi lu lr l ls lt">},</span><span id="8645" class="lp jq hi ll b fi lu lr l ls lt">"userId": "202112221242_1_1",</span><span id="f31b" class="lp jq hi ll b fi lu lr l ls lt">"channel": "sources",</span><span id="b5c0" class="lp jq hi ll b fi lu lr l ls lt">"context": {</span><span id="051a" class="lp jq hi ll b fi lu lr l ls lt">"sources": {</span><span id="a365" class="lp jq hi ll b fi lu lr l ls lt">"job_id": "21HbSd8lPbwhdakjfdhakjfhdakj/Syncher",</span><span id="cc2b" class="lp jq hi ll b fi lu lr l ls lt">"task_id": "QRY_USER_LIST",</span><span id="a856" class="lp jq hi ll b fi lu lr l ls lt">"version": "v1.7.2",</span><span id="2a7c" class="lp jq hi ll b fi lu lr l ls lt">"batch_id": "2afdsa10f-a7d7-471f-96c8-68dsad291cc",</span><span id="0bf0" class="lp jq hi ll b fi lu lr l ls lt">"job_run_id": "c6dtccxasadsadng",</span><span id="2e50" class="lp jq hi ll b fi lu lr l ls lt">"task_run_id": "c6defeafeaef3no0"</span><span id="9c1c" class="lp jq hi ll b fi lu lr l ls lt">}</span><span id="4749" class="lp jq hi ll b fi lu lr l ls lt">},</span><span id="4650" class="lp jq hi ll b fi lu lr l ls lt">"recordId": "30",</span><span id="28ba" class="lp jq hi ll b fi lu lr l ls lt">"rudderId": "d47abfd7-37b3-43fa-81a7-bced4a91a2c3",</span><span id="485c" class="lp jq hi ll b fi lu lr l ls lt">"messageId": "f80a4436-a6a5-4b46-9e8c-ac3a6edb67ff"</span><span id="5ddc" class="lp jq hi ll b fi lu lr l ls lt">}</span></pre><p id="1839" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面的用户转换将有效负载转换成适合于<code class="du lw lx ly ll b">lists/subscribe</code>端点的格式。</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="5734" class="lp jq hi ll b fi lq lr l ls lt"><em class="mc">export</em> <em class="mc">function</em> transformEvent(event, metadata) {</span><span id="4dbf" class="lp jq hi ll b fi lu lr l ls lt">event.type = 'track'</span><span id="e84f" class="lp jq hi ll b fi lu lr l ls lt">event.listId = event.traits.LIST_ID</span><span id="118f" class="lp jq hi ll b fi lu lr l ls lt">event.subscribers = JSON.parse (event.traits.SUBSCRIBERS_LIST)</span><span id="b320" class="lp jq hi ll b fi lu lr l ls lt">event.preferUserId = true // Refer to Iterable Docs</span><span id="9f42" class="lp jq hi ll b fi lu lr l ls lt"><em class="mc">delete</em> event.traits</span><span id="0259" class="lp jq hi ll b fi lu lr l ls lt"><em class="mc">delete</em> event.userId</span><span id="b8b2" class="lp jq hi ll b fi lu lr l ls lt"><em class="mc">delete</em> event.channel</span><span id="2ceb" class="lp jq hi ll b fi lu lr l ls lt"><em class="mc">delete</em> event.rudderId</span><span id="e772" class="lp jq hi ll b fi lu lr l ls lt"><em class="mc">delete</em> event.messageId</span><span id="da7f" class="lp jq hi ll b fi lu lr l ls lt"><em class="mc">delete</em> event.context</span><span id="ab15" class="lp jq hi ll b fi lu lr l ls lt"><em class="mc">delete</em> event.recordId</span><span id="6c4a" class="lp jq hi ll b fi lu lr l ls lt"><em class="mc">return</em> event;</span><span id="632a" class="lp jq hi ll b fi lu lr l ls lt">}</span></pre><p id="31b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是转换后的有效载荷的样子。</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="dd54" class="lp jq hi ll b fi lq lr l ls lt">[</span><span id="2197" class="lp jq hi ll b fi lu lr l ls lt">{</span><span id="0d50" class="lp jq hi ll b fi lu lr l ls lt">"type": "track",</span><span id="38ac" class="lp jq hi ll b fi lu lr l ls lt">"listId": 1,</span><span id="69b2" class="lp jq hi ll b fi lu lr l ls lt">"subscribers": [</span><span id="a5bf" class="lp jq hi ll b fi lu lr l ls lt">{</span><span id="4e87" class="lp jq hi ll b fi lu lr l ls lt">"userId": "1nkd9a3",</span><span id="eba3" class="lp jq hi ll b fi lu lr l ls lt">"email": "dummy@email.com",</span><span id="0fa8" class="lp jq hi ll b fi lu lr l ls lt">"dataFields": {</span><span id="1bae" class="lp jq hi ll b fi lu lr l ls lt">"country": "USA",</span><span id="b804" class="lp jq hi ll b fi lu lr l ls lt">"sport": "basketball"</span><span id="05be" class="lp jq hi ll b fi lu lr l ls lt">}</span><span id="c607" class="lp jq hi ll b fi lu lr l ls lt">},</span><span id="c7c1" class="lp jq hi ll b fi lu lr l ls lt">{</span><span id="eed7" class="lp jq hi ll b fi lu lr l ls lt">"userId": "10fmvd7e",</span><span id="cff0" class="lp jq hi ll b fi lu lr l ls lt">"email": "sample@email.com",</span><span id="4565" class="lp jq hi ll b fi lu lr l ls lt">"dataFields": {</span><span id="bf17" class="lp jq hi ll b fi lu lr l ls lt">"country": "Japan",</span><span id="fc62" class="lp jq hi ll b fi lu lr l ls lt">"sport": "baseball"</span><span id="5611" class="lp jq hi ll b fi lu lr l ls lt">}</span><span id="cdb9" class="lp jq hi ll b fi lu lr l ls lt">},</span><span id="f5be" class="lp jq hi ll b fi lu lr l ls lt">{</span><span id="a5c1" class="lp jq hi ll b fi lu lr l ls lt">"userId": "8dhcu6sk",</span><span id="8030" class="lp jq hi ll b fi lu lr l ls lt">"email": "not@email.com",</span><span id="c9f5" class="lp jq hi ll b fi lu lr l ls lt">"dataFields": {</span><span id="6123" class="lp jq hi ll b fi lu lr l ls lt">"country": "England",</span><span id="70cb" class="lp jq hi ll b fi lu lr l ls lt">"sport": "soccer"</span><span id="2ed3" class="lp jq hi ll b fi lu lr l ls lt">}</span><span id="4de3" class="lp jq hi ll b fi lu lr l ls lt">}</span><span id="b11f" class="lp jq hi ll b fi lu lr l ls lt">],</span><span id="abf2" class="lp jq hi ll b fi lu lr l ls lt">"preferUserId": true</span><span id="d0dd" class="lp jq hi ll b fi lu lr l ls lt">}</span><span id="0ee8" class="lp jq hi ll b fi lu lr l ls lt">]</span></pre><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/984399b898518319648375e0e52bad19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gkwf3jMNbK_BRDfv.png"/></div></div></figure><h1 id="1eb7" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">结论</h1><p id="6201" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">现在，来自仓库表user-list的500万用户被成功地从仓库中提取出来，通过RudderStack进行转换，然后发送到Iterable，因此所有用户都可以收到正确的电子邮件。这个简化的过程现在可以日复一日地重复，并且不需要几个小时就可以完成。</p><h1 id="d479" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">视窗网际网路名称服务</h1><ul class=""><li id="7abf" class="ks kt hi is b it kn ix ko jb me jf mf jj mg jn lv ky kz la bi translated">将反向ETL中的记录数量从500万减少到仅仅1万条</li><li id="3e76" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn lv ky kz la bi translated">体积的减少将处理时间从几个小时减少到30分钟</li><li id="8ea1" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn lv ky kz la bi translated">数量的减少解除了对达到目的地设定的api极限的担忧</li><li id="4682" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn lv ky kz la bi translated">RudderStack的Webhook目的地使我们能够将事件发送到更合适的端点</li><li id="9667" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn lv ky kz la bi translated">用户转换很容易确保我们的有效负载与Iterable对数据的需求完全匹配</li></ul><p id="0128" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="mc">本博客最初发表于:<br/></em><a class="ae jo" href="https://rudderstack.com/blog/5-million-users-day-from-snowflake-to-iterable/" rel="noopener ugc nofollow" target="_blank"><em class="mc">https://rudder stack . com/blog/500万用户-天从雪花到可迭代/ </em> </a></p></div></div>    
</body>
</html>