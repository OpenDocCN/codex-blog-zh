<html>
<head>
<title>To-do list app with React Class and Functional Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有React类和功能组件的待办事项应用程序</h1>
<blockquote>原文：<a href="https://medium.com/codex/to-do-list-app-with-reactjs-class-and-functional-components-3822f261e994?source=collection_archive---------1-----------------------#2022-03-21">https://medium.com/codex/to-do-list-app-with-reactjs-class-and-functional-components-3822f261e994?source=collection_archive---------1-----------------------#2022-03-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d825" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好😊，今天我们将使用ReactJs创建一个简单的Todo-list应用程序，使用它的两个主要组件:函数组件和类组件</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/7a43c089af50fbc946b4b9f6e33d80db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jTHsj3Hu7kW58vM8YXFW1A.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">格伦在Unsplash上拍摄的照片</figcaption></figure><p id="b1cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我们将使用类组件。</p><p id="2560" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jt">你凸轮检出功能组件方式</em> </strong> <a class="ae ju" rel="noopener" href="/@onlygod/to-do-list-app-with-react-functional-and-class-components-f7cb3d33b72e"> <strong class="ih hj"> <em class="jt">此处</em> </strong> </a> <strong class="ih hj"> <em class="jt">！！</em>T13】</strong></p><h1 id="a52b" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">我将使用的工具:</h1><ul class=""><li id="8b43" class="kt ku hi ih b ii kv im kw iq kx iu ky iy kz jc la lb lc ld bi translated"><a class="ae ju" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a>(文本编辑器)</li><li id="979c" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated"><a class="ae ju" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> Nodejs </a> (npm 8.1.2 +)</li></ul><h2 id="6d33" class="lj jw hi bd jx lk ll lm kb ln lo lp kf iq lq lr kj iu ls lt kn iy lu lv kr lw bi translated">特征</h2><ul class=""><li id="bb21" class="kt ku hi ih b ii kv im kw iq kx iu ky iy kz jc la lb lc ld bi translated">创建任务</li><li id="b977" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">列表任务</li><li id="f936" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">编辑任务</li><li id="71dc" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">删除任务</li></ul><h1 id="3e4d" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">所以让我们开始吧！！！🚀🚀</h1><h1 id="46a3" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">1.设置项目</h1><p id="64e1" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">在这里，我们正在使用终端创建我们的项目应用程序，确保您已经在全球范围内安装了<a class="ae ju" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Nodejs </a>和<a class="ae ju" href="https://create-react-app.dev/docs/getting-started/" rel="noopener ugc nofollow" target="_blank"> create-react-app </a></p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="37dc" class="lj jw hi mb b fi mf mg l mh mi">npx create-react-app &lt;project_name_here&gt;<br/></span></pre><p id="e0c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用vscode打开项目目录，现在在您的终端上通过运行下面的命令启动您的服务器</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="e306" class="lj jw hi mb b fi mf mg l mh mi">yarn start // for those using yarn</span><span id="2b83" class="lj jw hi mb b fi mj mg l mh mi">npm start // for those using npm</span></pre><p id="6140" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在打开<strong class="ih hj"><em class="jt">app . js</em></strong><em class="jt"/>文件中的<strong class="ih hj"> <em class="jt"> src </em> </strong>文件夹你会看到功能组件的做法👇🏼</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">功能组件(App.js)</figcaption></figure><p id="dac8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要将其更改为类组件，只需粘贴下面的代码👇🏼</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">类组件(App.js)</figcaption></figure><p id="ad01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来用return语句中的这个附加模板更新<strong class="ih hj"><em class="jt">app . js</em></strong><em class="jt">a</em>gain</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mk ml l"/></div></figure><p id="da27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样用下面的  <em class="jt">替换<strong class="ih hj"> <em class="jt"> App.css中的样式</em></strong></em></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">App.css</figcaption></figure><p id="51c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您可以通过在终端中运行<strong class="ih hj"> <em class="jt">纱线启动</em> </strong> <em class="jt"> </em>来检查您的浏览器</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mm"><img src="../Images/00aa3b1b42efda797676052b518cde9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*OB-sSFTbfImvRbqyHJC7Sw.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae ju" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a></figcaption></figure><h1 id="f239" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">2.创建待办任务和列表任务</h1><p id="f515" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">好了，让我们进入功能，我们将从创建任务开始。因此，首先我们需要使用<strong class="ih hj"> <em class="jt">构造函数</em> </strong> <em class="jt">来构造我们在类组件中的状态，这个构造函数在react组件挂载之前被称为</em>，</p><p id="bfb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们更新我们的待办事项应用程序，如下所示</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">App.js (CreateTodo)</figcaption></figure><ul class=""><li id="9d36" class="kt ku hi ih b ii ij im in iq mn iu mo iy mp jc la lb lc ld bi translated">从上面的代码中，我们看到，我给构造函数添加了两个状态:<strong class="ih hj"> value </strong>和<strong class="ih hj"> todos </strong>，它们将分别处理添加todo项的文本输入的onChange和存储todos。</li><li id="92e2" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">你也会注意到我添加了一个<strong class="ih hj"> onAddTask </strong>函数来处理添加todo项的逻辑，我把它变成了一个对象，在它被存储之前包含了一个<strong class="ih hj">名称</strong>和一个<strong class="ih hj"> id </strong>。</li><li id="2274" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">最后，我们添加了一个无序列表标签来显示待办事项列表</li></ul><p id="0e9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在刷新您的浏览器，尝试添加一个任务，看看结果如下👇🏼</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mq"><img src="../Images/e4428274c5895f2689d8a17d877ec792.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jpvqgzBZPZCVf4jm_hO1UA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae ju" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a></figcaption></figure><h1 id="5533" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">3.删除待办任务</h1><p id="6541" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">接下来让我们添加一个函数来删除一个待办任务，按照下面的代码来做👇🏼</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><em class="mr"> App.js (DeleteTodo) </em></figcaption></figure><ul class=""><li id="b28d" class="kt ku hi ih b ii ij im in iq mn iu mo iy mp jc la lb lc ld bi translated">从上面的代码中，我添加了一个函数<strong class="ih hj"> <em class="jt"> onDeleteTask </em> </strong>，它接收待办事项的id，过滤待办事项，然后删除该事项。</li><li id="e657" class="kt ku hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">接下来我添加了一个onClick处理程序，<strong class="ih hj"><em class="jt">this . on delete task</em></strong>到删除按钮。</li></ul><p id="c41d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在再次刷新您的浏览器，尝试删除一个任务，以查看如下结果👇🏼</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ms"><img src="../Images/6027b119a6e15094ea8d8a8c7362348d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GNwaXXUmTiqgO5lCzfwdaQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae ju" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a></figcaption></figure><h1 id="52fc" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">3.编辑待办任务</h1><p id="1831" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">现在要编辑一个任务，我们将添加几个状态，到<strong class="ih hj"><em class="jt"/></strong><em class="jt">a</em><strong class="ih hj"><em class="jt">editing:false，</em> </strong> <em class="jt">和states来保存todo id(</em><strong class="ih hj"><em class="jt">currentId)</em></strong>和todo name ( <strong class="ih hj"> currentValue </strong></p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="dd70" class="lj jw hi mb b fi mf mg l mh mi">constructor() {<br/>super()<br/>this.state = ({<br/> todos: [],<br/> value: "",<br/> editing: false,<br/> currentid: "",<br/> currentValue: ""<br/>});</span></pre><ul class=""><li id="0452" class="kt ku hi ih b ii ij im in iq mn iu mo iy mp jc la lb lc ld bi translated">因此，要用上面声明的编辑状态更新您的todo模板，请将下面的代码粘贴到您的return语句中</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">待办事项-模板-已更新</figcaption></figure><ul class=""><li id="0418" class="kt ku hi ih b ii ij im in iq mn iu mo iy mp jc la lb lc ld bi translated">接下来添加切换处理程序(<strong class="ih hj"> <em class="jt"> onToggleEdit </em> </strong>)，你会看到它将editing设置为true并接受当前todo对象，然后将其值存储在<strong class="ih hj"> <em class="jt"> currentid </em> </strong>和<strong class="ih hj"> <em class="jt"> currentValue </em> </strong>中。</li></ul><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="8423" class="lj jw hi mb b fi mf mg l mh mi">onToggleEdit = (todo) =&gt; {<br/> this.setState({ editing: true })<br/> this.setState({ currentid: todo.id })<br/> this.setState({ currentValue: todo.name })</span><span id="dbcd" class="lj jw hi mb b fi mj mg l mh mi">}<br/></span></pre><p id="3db1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们为input添加onChange处理程序(<strong class="ih hj"><em class="jt">onEditInputChange</em></strong><em class="jt">)</em>，它只是由用户将当前值设置为值类型。</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="e902" class="lj jw hi mb b fi mf mg l mh mi">onEditInputChange = (e) =&gt; {<br/> this.setState({ currentValue: e.target.value })<br/>}</span></pre><p id="7707" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在添加onSubmit处理程序(<strong class="ih hj"><em class="jt">onSubmitEditTodo</em></strong>)来处理Todo项目的提交</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="5b1e" class="lj jw hi mb b fi mf mg l mh mi">onSubmitEditTodo = (e) =&gt; {<br/> e.preventDefault()<br/> this.onEditTodo(this.state.currentid, this.state.currentValue)<br/> this.setState({ editing: false })</span><span id="1862" class="lj jw hi mb b fi mj mg l mh mi">}</span></pre><p id="dd45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从上面的代码中，我们看到它简单地获取currentid和currentValue，并传递给下面的<strong class="ih hj"> onEditTodo </strong>函数，👇🏼该方法循环遍历所有待办事项，找到待办事项id并更新其值</p><pre class="je jf jg jh fd ma mb mc md aw me bi"><span id="cb5a" class="lj jw hi mb b fi mf mg l mh mi">onEditTodo = (id, newValue) =&gt; {<br/> this.state.todos.map(todo =&gt; {<br/>  if (todo.id === id) {<br/>      todo.name = newValue;</span><span id="34a7" class="lj jw hi mb b fi mj mg l mh mi">}})}</span></pre><p id="7baa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在为了测试它，更新onClick和onsubmit处理程序的函数，如下所示</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">待办事项-模板-已更新-2</figcaption></figure><p id="72d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们试着编辑一个todo我们的浏览器如下</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ms"><img src="../Images/0b83ca1c5db3da7de1ad742d6e20bfd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0VeYEAk7jJAwnjl_kCofuw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae ju" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a></figcaption></figure><p id="319a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在点击<strong class="ih hj">编辑</strong>按钮我们看到了这个项目，接下来让我们更新它</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ms"><img src="../Images/26e12a76e05a535de727137f1bd4cacc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*noAnogrd7M1Lgr60qm05hA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae ju" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a></figcaption></figure><p id="d975" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们看到待办事项1已经更新了🥳🥳</p><p id="f892" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有任何错误，不用担心，下面是完整的源代码👇🏼</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mk ml l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">App.js</figcaption></figure><p id="bcad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢你的时间，♥️</p><h1 id="bac1" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">去哪里找我👇</strong></h1><p id="74d0" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq lx is it iu ly iw ix iy lz ja jb jc hb bi translated">你可以跟随我来到❤️</p><p id="d26b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您也可以在上找到我👉<a class="ae ju" href="https://github.com/Onlynfk" rel="noopener ugc nofollow" target="_blank">Github</a>/<a class="ae ju" href="https://www.instagram.com/onlyg.codes/" rel="noopener ugc nofollow" target="_blank">Instagram</a>/<a class="ae ju" href="https://www.linkedin.com/in/onlygod-o-b64084166/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>🔥</p></div></div>    
</body>
</html>