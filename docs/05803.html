<html>
<head>
<title>Monorails and Pyramids</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">单轨铁路和金字塔</h1>
<blockquote>原文：<a href="https://medium.com/codex/monorails-and-pyramids-9b03949565a1?source=collection_archive---------18-----------------------#2022-03-29">https://medium.com/codex/monorails-and-pyramids-9b03949565a1?source=collection_archive---------18-----------------------#2022-03-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="34a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我工作过的一个开发团队有一个流传已久的笑话，说工程师喜欢开发单轨铁路。在软件世界中，monorail是一段过度工程化的代码，对客户来说没有什么价值，但是写起来真的很有趣。</p><p id="a85a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这学期大约是在一个星期五的下午。不知何故，一场关于一些过于复杂的几乎无用的代码的对话，已经退化成了一场关于机场效率低下的讨论。我们试图确定工程师的思维过程，他可能设计了一些奇怪的东西。我们想象对话是这样的。</p><p id="d4b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">约翰:“终于完美了！马克，你觉得这个机场设计怎么样？看看所有飞机进出跑道有多容易。”马克:“非常好。停车场在哪里？”约翰:“该死！我忘了该死的停车。”<br/>马克:“好吧，如果你把它放在这里，到大门只有很短的一段路。”约翰:“不行，如果我把它放在那里，会破坏美观。我会把它放在后面，他们可以运行一个穿梭或什么的。”<br/>马克:“忘掉穿梭巴士吧，如果停车场有一条单轨铁路就好了！”约翰:“哦，天啊，我从来没有做过单轨铁路，现在我要把它加进去。”</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/2bacb876f7ad904aaa0df4d1a15bfd36.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/0*gcR0vDc9Q35vH55R"/></div></figure><p id="6ad6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在机场有了单轨铁路。不是因为它是最好的解决方案，也不是因为它是最简单的解决方案，而是因为它是最有趣的解决方案。我们认为这类似于软件开发过程中的思维过程。工程师遇到了一个他们不知何故忽略了的问题。他们可以返回并重构，以简单的方式解决问题，但有一个他们真正想尝试的简洁的解决方案。也许这是他们刚刚发现的语言的一个特性，一个他们渴望尝试的新库，或者一个他们还没有使用的模式。不管怎样，他们的工具箱里有一个闪亮的新工具，真的需要出来敲敲钉子。</p><p id="1556" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有些单轨综合症的出现并不都是坏事。它让工程师有机会发挥创造力，提高他们的技能，而不会产生太多的技术债务。当系统的架构变成单轨铁路时，这确实开始成为一个问题。当决定将系统作为一个框架或平台来实现时，我最常遇到这种情况。这种情况经常发生，因为需求在前面并不为人所知，开发团队需要“忙于”编写一些代码。因此，他们决定建立一个最终灵活的平台，能够解决任何抛给它的需求。团队离开几个月或几年，最后他们发布了构建在框架之上的第一组特性。代码现在看起来有点像这张图片。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/991fd2907a32954883497e00d3b7c568.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/0*Oj67HHsE5ZGcuQSp.jpg"/></div></figure><p id="94f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于平台的第一次发布来说，这看起来相当不错。有一些不错的垂直特性和一个强大的基础来构建下一组特性。接下来的功能完成后，解决方案看起来有点像这样。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/cb9ae7c2d56faccbe4ceaa15226a5f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vs241rDtRrcgFrsK.jpg"/></div></div></figure><p id="3311" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好的，所以这个框架需要做一些工作来支持这些新特性。当然，最终会有足够的结构来支持任何想象中即将出现的特性。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/a3b5a7ae2391003a9285dabf0109ec8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*FUEPQxuz9KzPJFGS.jpg"/></div></div></figure><p id="e869" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不，我猜不是。事实证明，几乎每个特性都需要添加到框架中，而平台的大部分都作为技术债务闲置着。原来建造平台就像建造单轨铁路。这是一个很好的想法，实施起来也很酷，但对客户的价值却很低。</p><p id="56fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果开发一个平台真的行不通，那么应该如何开发一个系统，以便在不重构整个架构的情况下添加未来的功能？我们的团队得出的结论是，一个体面的方法是建立一个金字塔形状的系统。只构建发布所需的特性，以及足够的基础设施来支持这些特性和很可能在接下来的几次迭代中构建的未来特性。这并不是敏捷方法，敏捷方法认为开发团队应该只构建当前迭代中需要的东西。这更像是敏捷的财政季度展望。只需一点点努力和一点点预先考虑，就可以设计和实现该架构，以便更容易构建下一组功能。</p><p id="3441" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下图显示了一个金字塔结构。基础比严格必要的要宽一点，这意味着在这个版本中有一些未使用的平台，但是为下一个里程碑计划的特性将填充这个基础。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/ac21e08450d1fd08478dca834785ab00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Hz5OqxfAYY_gReew.jpg"/></div></div></figure><p id="59dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一次又一次地重复，不要害怕寻找和破坏平台中未使用的部分作为重构的一部分，最终，系统将成为用户问题的解决方案，这个解决方案是必要的和充分的，满足他们的所有需求，并提供高投资回报。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/bb26f82801bed6a2f511c89704fbd59f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8UuPgJfsOYFxEpz8.jpg"/></div></div></figure></div></div>    
</body>
</html>