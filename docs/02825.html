<html>
<head>
<title>Swift — Optional what is it? And how to use it</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift —可选的是什么？以及如何使用它</h1>
<blockquote>原文：<a href="https://medium.com/codex/swift-optional-a09dcb2432d9?source=collection_archive---------7-----------------------#2021-08-07">https://medium.com/codex/swift-optional-a09dcb2432d9?source=collection_archive---------7-----------------------#2021-08-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/fc5cc38c95652a3ab8092fb78d88e086.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J4xt5jx30ajuK8nXsIThew.jpeg"/></div></div></figure><p id="da84" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Swift语言给了我们一个概念叫做<strong class="is hj">可选</strong>。<br/> <strong class="is hj">可选</strong>并不新鲜，几年前就有了(由Haskell等语言，一个叫做<a class="ae jo" href="https://wiki.haskell.org/Maybe" rel="noopener ugc nofollow" target="_blank">也许是</a>的对象)。<br/>如果您刚接触Swift，这个概念可能会显得陌生或不直观，但<strong class="is hj">可选的</strong>有其优势，我们将在这里解释它们。</p><p id="865a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">什么是可选的？<br/> </strong>对于<strong class="is hj">可选的正确定义，</strong>是一个有两种情况的<strong class="is hj">枚举</strong>，这两种情况是:</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="d7bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其中none表示该值为空—零，some表示该值实际上包含某些内容。<br/>瞧——这就是隐藏在我们称之为<strong class="is hj">可选的怪异新事物下的惊喜。</strong></p><p id="d70f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更清楚地说，一个<strong class="is hj">可选的</strong>是围绕值的包装器，这个包装器可以是两个中的一个，或者是空的<strong class="is hj">(。无)</strong>，或者里面有东西<strong class="is hj">(。一些(包好的))。</strong></p><p id="f388" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设开发者给一个<strong class="is hj">可选的</strong>赋值，这个基本构造函数将被调用，这个构造函数创建一个新的<strong class="is hj">枚举</strong>，开发者将赋值设置到<strong class="is hj">中。某</strong>案。</p><p id="be0b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另一方面，如果开发者给一个<strong class="is hj">可选值赋了一个空值，那么</strong>构造器将创建一个<strong class="is hj">枚举</strong>和<strong class="is hj">。无</strong>案例。在上面的截图中，我们可以看到<strong class="is hj">可选</strong>符合<strong class="is hj">expressibybynilliteral</strong>协议，这就是为什么它允许我们在<strong class="is hj">可选</strong>中设置一个空值。</p><h1 id="daff" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">展开</strong></h1><p id="6505" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">那么，现在我们明白了什么是<strong class="is hj">可选</strong>了，我们该如何使用它呢？<br/>有几种方法可以使用<strong class="is hj">可选的</strong>值。</p><p id="5107" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">无条件展开<br/> </strong>无条件展开可以通过使用字符'！'来实现。通过使用无条件解包，我们说:“是的，我100%确定那个<strong class="is hj">可选</strong>中有一个值，我想使用它”，例如:</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="6887" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">可选解包<br/> </strong>另一种解包<strong class="is hj">可选</strong>值的方法是在使用实际值之前检查它是否存在，例如:</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="6d79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Swift 3.0向我们介绍了可选的解包，它基本上与上面的片段相同，只是语法看起来更好，例如:</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="6705" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的代码片段需要使用“！”标记是为了解开<strong class="is hj">可选，</strong>因为实际值在<code class="du ky kz la lb b">unwrappedString</code>里面，<code class="du ky kz la lb b">unwrappedString</code>不是<strong class="is hj">可选</strong>而是一个实际的字符串。</p><p id="cbeb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> Guard <br/></strong></p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><h1 id="1252" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">结论</strong></h1><p id="adf0" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">Swift向我们介绍了一种使用值的新方法，可选的<strong class="is hj">是一个强大的对象。开发人员可能会感到困惑，因为使用无条件解包很容易忽略可选的，但是当正确使用可选的时，它会使代码安全、易于维护和可读。</strong></p><p id="f1dd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是关于Swift中<strong class="is hj">可选</strong>的简要说明，进一步阅读你可以在这里找到<a class="ae jo" href="https://developer.apple.com/documentation/swift/optional" rel="noopener ugc nofollow" target="_blank">的</a></p></div></div>    
</body>
</html>