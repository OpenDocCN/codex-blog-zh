<html>
<head>
<title>Create a Custom PDF using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python创建自定义PDF</h1>
<blockquote>原文：<a href="https://medium.com/codex/create-a-custom-pdf-using-python-219a7e11c78b?source=collection_archive---------0-----------------------#2021-08-22">https://medium.com/codex/create-a-custom-pdf-using-python-219a7e11c78b?source=collection_archive---------0-----------------------#2021-08-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c15c655b35fbd36f9fcf6d562b08a0e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sk4k7c4wTpyr-WgK5YryZA.png"/></div></div></figure><p id="14b7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇文章中，我将向你展示我们如何使用<strong class="is hj"> Python </strong>和<strong class="is hj"> FPDF </strong>库创建PDF。默认情况下，FPDF只支持某些语言，所以我也将通过FPDF使用更多语言所需的步骤。</p><p id="5a24" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">学习成果:</p><ol class=""><li id="b848" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">什么是FPDF、PyFPDF和tFPDF？</li><li id="7e9b" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">用Python实现FPDF的基本功能。</li><li id="1c75" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">FPDF的多语言支持。</li><li id="0c62" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">在这篇文章里和我一起做一个简单的PDF。</li></ol></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><figure class="kk kl km kn fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kj"><img src="../Images/7a281a46d6f3f8bb041e1499be1ad9b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7fGZoZOiLb4XKyvSL0Dg0Q.jpeg"/></div></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">来源:https://unsplash.com/<a class="ae ks" href="https://unsplash.com/photos/NodtnCsLdTE" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure><h1 id="861e" class="kt ku hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">什么是FPDF？</h1><p id="5803" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">FPDF是一个PHP类，允许用纯PHP生成PDF文件。来自FPDF的f代表免费:你可以将它用于任何用途，并根据你的需要进行修改。生成PDF是一个相当流行的选择。</p><h1 id="246e" class="kt ku hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">PyFPDF</h1><p id="0ba3" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">从PHP FPDF移植而来，<em class="lw"> PyFPDF </em>是一个在Python下生成PDF文档的库。这是我们将要安装和使用的库。下面解释的基本函数也来自这个库。</p><h1 id="80a0" class="kt ku hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">tFPDF</h1><p id="97ce" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">FPDF的一个修改版本，增加了对UTF 8的支持，只要您提供字体，就可以生成多种语言的文档。您需要在您的机器上安装PHP来使用这个PHP类。</p><p id="7a5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您想了解如何立即将其他语言添加到您的PDF中，请转到最后一节<a class="ae ks" rel="noopener" href="/p/219a7e11c78b#e040"/>。</p><h1 id="0bdf" class="kt ku hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">主要特征</h1><p id="aab1" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">FPDF提供了一系列现成的高级功能:</p><ul class=""><li id="f95d" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn lx ju jv jw bi translated">度量单位、页面格式和页边距的选择</li><li id="a4d5" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lx ju jv jw bi translated">页眉和页脚管理</li><li id="eb65" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lx ju jv jw bi translated">自动分页</li><li id="68f7" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lx ju jv jw bi translated">自动换行和文本对齐</li><li id="2656" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lx ju jv jw bi translated">图像支持(JPEG、PNG和GIF)</li><li id="5a08" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lx ju jv jw bi translated">颜色；色彩；色调</li><li id="e54c" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lx ju jv jw bi translated">链接</li><li id="357c" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lx ju jv jw bi translated">TrueType、Type1和编码支持</li><li id="f9f8" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lx ju jv jw bi translated">页面压缩</li></ul></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><p id="b511" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这一节中，我将向您展示如何安装FPDF和使用它的基本功能，打开一个新的Python文件并跟随操作！</p><figure class="kk kl km kn fd ij"><div class="bz dy l di"><div class="ly lz l"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">来源:<a class="ae ks" href="https://gfycat.com/" rel="noopener ugc nofollow" target="_blank">gfycat.com</a></figcaption></figure><h2 id="1579" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">装置</h2><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="1b85" class="ma ku hi mp b fi mt mu l mv mw">$ pip install fpdf</span></pre><h2 id="f4b0" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">开始一个FPDF</h2><p id="b4c7" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">在一个python文件中，我们将首先导入并创建一个FPDF对象。</p><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="fc86" class="ma ku hi mp b fi mt mu l mv mw">from fpdf import FPDF<br/><br/>pdf = FPDF('P', 'mm', 'A4')<br/>pdf.add_page()</span><span id="26ad" class="ma ku hi mp b fi mx mu l mv mw">pdf.set_margins(0, 0, 0)</span></pre><p id="0cd2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的FPDF对象使用默认值:页面为纵向，度量单位为毫米，格式为A4。您可以使用横向(L)、度量单位(pt、cm、in)和其他页面格式(如Letter和Legal)。</p><p id="9af3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我们用<em class="lw"> pdf.add_page() </em>添加一个新页面。原点位于左上角，默认情况下，当前位置位于距离边框1厘米处。可以使用<em class="lw"> pdf.set_margins() </em>更改页边距。</p><h2 id="47a6" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">生成PDF</h2><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="8ada" class="ma ku hi mp b fi mt mu l mv mw">pdf.output('sample.pdf', 'F')</span></pre><p id="e444" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用给定的名称“sample.pdf”将PDF保存到本地文件。遵循以下步骤，重新运行python文件，以查看添加新行时的差异。</p><p id="dba8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您是第一次创建PDF文件，可能需要一些时间，下次会更快。</p><p id="0a69" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">始终将这一行放在代码的底部。</p><h2 id="392a" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">在PDF中添加您的第一行</h2><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="9e42" class="ma ku hi mp b fi mt mu l mv mw">pdf.set_font('Arial', 'B', 14)<br/>pdf.cell(w = 40, h = 10, 'Hello World!', border = 0, ln = 1, align = '', fill = <strong class="mp hj">False</strong>, link = '')</span></pre><p id="85b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们可以打印文本之前，必须使用<em class="lw"> pdf.set_font() </em>选择一种字体。我们可以用I指定斜体，用U指定下划线，甚至用BI指定斜体和粗体。其他标准字体有Times、Courier、Symbol和ZapfDingbats。</p><p id="fddd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个<a class="ae ks" href="https://pyfpdf.readthedocs.io/en/latest/reference/cell/index.html" rel="noopener ugc nofollow" target="_blank">单元格</a>是一个可以容纳内容的矩形区域。我们指定它的尺寸(w，h)、它的文本、是否应该绘制边框、当前位置在它之后移动到哪里(向右、向下或到下一行的开头)、它的文本对齐、形状填充和链接附件。</p><h2 id="e69a" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">添加新行</h2><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="eebc" class="ma ku hi mp b fi mt mu l mv mw">pdf.set_font('Times', '', 12)<br/>pdf.cell(210, 10, 'Powered by FPDF.', 0, 0, 'C')</span></pre><p id="2ebc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后让我们用另一种字体添加一个新行。新的单元格将位于下一行，就像我们在前面的<em class="lw"> pdf.cell() </em>中的<code class="du my mz na mp b">ln=1</code>一样，它指定了下一行的位置。此外，它在其单元维度中居中，没有边框。</p><h2 id="0662" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">管理您的文本位置</h2><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="3c0b" class="ma ku hi mp b fi mt mu l mv mw">pdf.set_font('Arial', '', 12)<br/>pdf.ln(50)<br/>pdf.cell(85)<br/>pdf.cell(0, 0, 'We have a new line.', 0)</span></pre><p id="9454" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">转到下一行，我个人更喜欢使用<em class="lw"> ln </em>，它允许你指定断点的高度。如果你注意到了，<em class="lw"> pdf.ln() </em>和<em class="lw"> pdf.cell() </em>实际上是从我们的第二行“由FPDF驱动”的左上角开始计数的<em class="lw"> pdf.ln() </em>和<em class="lw"> pdf.cell() </em>就像一个光标，它从它所指向的地方开始，通过<em class="lw"> pdf.ln() </em>和<em class="lw"> pdf.cell() </em>移动到下一个指定高度和宽度的地方。</p><p id="0f41" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您想创建一个复杂的pdf文件，比如一张收据，其中的文本不是逐行排列的，那么这是一个放置文本的好方法。但是如果您只想生成一个包含一些文本或者图像的整洁的文档，您可以通过在<em class="lw"> pdf.cell() </em>参数中指定下一行的位置来轻松实现。</p><p id="da2b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，如果您已经有一个虚拟模板，测量文本位置的一个技巧是使用word编辑器中的标尺。</p><h2 id="bd86" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">添加图像</h2><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="fa6c" class="ma ku hi mp b fi mt mu l mv mw">pdf.image('cat_in_the_snow.jpg', x = 85, y = 32.5, w = 40, h = 0, type = '', link = '')</span></pre><p id="2e56" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将指定图像左上角的坐标(x，y)。此外，如果没有指定，将自动计算图像的宽度(w)和高度。</p><h2 id="5e99" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">划一界线</h2><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="5f54" class="ma ku hi mp b fi mt mu l mv mw">pdf.line(x1 = 85, y1 = 27.5, x2 = 125, y2 = 27.5)</span></pre><p id="7123" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用FPDF画线很容易，我们只需要指定线的两个端点的坐标，(x1，y1)和(x2，y2)。</p><p id="23bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请注意，图像和线条都不受<em class="lw"> pdf.ln() </em>和<em class="lw"> pdf.cell() </em>当前指向位置的影响。它们只会影响细胞的位置。</p><h2 id="0daf" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">画一个矩形或椭圆形</h2><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="553d" class="ma ku hi mp b fi mt mu l mv mw">pdf.rect(x = 80, y = 20, w = 50, h = 55, style = '')</span></pre><p id="6845" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过设置左上角的位置(x，y)和矩形的尺寸(w，h ),毫不费力地画出一个矩形。或者，画一个有边框的单元格也可以，两者都可以进行颜色填充。</p><p id="e0cb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">绘制(D)是默认样式，您可以使用填充(F)或绘制和填充(DF或FD)来更改样式。</p><p id="69b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样，可以用<em class="lw"> pdf.ellipse() </em>画一个椭圆。</p><h2 id="9259" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">设置颜色</h2><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="1e4a" class="ma ku hi mp b fi mt mu l mv mw">pdf.set_fill_color(128, 166, 197)<br/>pdf.set_draw_color(41, 53, 50)<br/>pdf.rect(80, 115, 50, 10, 'DF')<br/><br/>pdf.set_text_color(183, 208, 232)<br/>pdf.ln(50)<br/>pdf.cell(70)<br/>pdf.cell(70, 0, 'We have a new line.', 0, 0, 'C')</span></pre><p id="cf40" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以用上面的代码为下面的单元格、线条或形状设置颜色。</p><p id="2503" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就是我将介绍的FPDF的基本功能，如果你需要更多的资源来做你需要的事情，请查看PyFPDF的参考手册<a class="ae ks" href="https://pyfpdf.readthedocs.io/en/latest/ReferenceManual/index.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="d8ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们进入最后一部分之前，让我们来看看popcat边框。</p><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="00df" class="ma ku hi mp b fi mt mu l mv mw">for i in range(17):<br/>    pdf.image('popcat.gif', 20 + i * 10, 102.5, 5)<br/>    pdf.image('popcat.gif', 20 + i * 10, 82.5, 5)<br/>    pdf.image('popcat2.jpg', 25 + i * 10, 102.5, 5)<br/>    pdf.image('popcat2.jpg', 25 + i * 10, 82.5, 5)</span></pre><figure class="kk kl km kn fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nb"><img src="../Images/04ed000c601229aa35332035db238d69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wJqy8vkIEaOh5gH9NxJ8Iw.png"/></div></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">来源:<a class="ae ks" href="https://www.monkeyuser.com/" rel="noopener ugc nofollow" target="_blank">monkeyuser.com</a></figcaption></figure><p id="bf77" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，让我们谈谈如何在PDF中使用多种语言。</p><h2 id="e040" class="ma ku hi bd kv mb mc md kz me mf mg ld jb mh mi lh jf mj mk ll jj ml mm lp mn bi translated">启用其他语言</h2><p id="94df" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi">If you are finding a solution to works with multi-language in FPDF, you may face the problem already which the text printed out is a list of rectangles ▯▯▯▯ while what you want to show is four letters, eg. “欢迎光临”. Or no better, a Unicode Encode Error pop out.</p><p id="3ad9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将展示如何用<strong class="is hj"> tFPDF </strong>包含更多的语言字体。可能还有其他的解决方案，比如中文对FPDF的支持，日文的插件，或者甚至使用另一个PDF生成器。然而，我发现FPDF的tFPDF是最好的，它的设置非常简单，你可以使用它的许多语言和字体。</p><p id="efdd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">设置:</p><ol class=""><li id="e82a" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">在你的机器上安装PHP。</li></ol><ul class=""><li id="5ec7" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn lx ju jv jw bi translated">我建议像XAMPP这样的一体化软件包，如果你单独安装PHP，可能会发生一些奇怪的事情，需要你编辑<code class="du my mz na mp b">php.ini</code>来启用mbstring扩展。</li></ul><p id="a1e8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.下载<a class="ae ks" href="http://www.fpdf.org/en/script/dl.php?id=92&amp;f=zip" rel="noopener ugc nofollow" target="_blank"> tFPDF.zip </a>或从这个<a class="ae ks" href="http://www.fpdf.org/en/script/script92.php" rel="noopener ugc nofollow" target="_blank">站点</a>下载。</p><p id="d2fd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.你需要的只是<code class="du my mz na mp b">tfpdf.php</code>和<code class="du my mz na mp b">font/</code>文件夹。将它们放在当前目录下。其余的是一些示例文件，请随意测试。</p><p id="d142" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.在python文件的顶部包含以下行:</p><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="3aac" class="ma ku hi mp b fi mt mu l mv mw">from fpdf import FPDF<br/>import subprocess<br/>subprocess.call(["php", "tfpdf.php"], shell=True)<br/>font_path = './font/unifont/'</span></pre><p id="6f77" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.不错！我们快到了。让我们通过<em class="lw"> pdf.add_font() </em>添加你想要使用的字体。</p><ul class=""><li id="f547" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn lx ju jv jw bi translated">在<code class="du my mz na mp b">font/</code>文件夹中已经有一些字体可以直接使用。<code class="du my mz na mp b">font/unifont/</code>下的字体需要添加<em class="lw"> pdf.add_font() </em>才能使用。</li><li id="aff3" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lx ju jv jw bi translated">您可以在<code class="du my mz na mp b">font/unifont/</code>中添加更多<code class="du my mz na mp b">.ttf</code>格式的字体。在我下面的GitHub链接中，你可以找到我在这里展示的<code class="du my mz na mp b">Simsun</code>字体。</li><li id="55db" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn lx ju jv jw bi translated">然而，一个挫折是并不是所有的<code class="du my mz na mp b">.ttf</code>字体都可以与tFPDF一起使用，需要进行测试来找出可用的字体。</li></ul><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="1d4d" class="ma ku hi mp b fi mt mu l mv mw">pdf.add_font('Simsun', '', font_path + 'SIMSUN.ttf', uni=True)</span></pre><p id="af23" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.设置字体并使用它。</p><pre class="kk kl km kn fd mo mp mq mr aw ms bi"><span id="ce2e" class="ma ku hi mp b fi mt mu l mv mw">pdf.set_text_color(0, 0, 0)<br/>pdf.set_font('Simsun', '', 22)<br/>pdf.ln(-24)<br/>pdf.cell(90)<br/>pdf.cell(0, 0, '欢迎光临', 0)</span></pre><p id="7ef9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您完全遵循了我们的代码，您将能够生成包含以下内容的PDF文件:</p><figure class="kk kl km kn fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nc"><img src="../Images/077b9df09b63f151d0d039e26d4721f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yAG8ZJwLMfrIGXaE1PKHtw.jpeg"/></div></div></figure><h1 id="4bbf" class="kt ku hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">开源代码库</h1><p id="9816" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">你可以在<a class="ae ks" href="https://github.com/hansheng0512/fpdf-python" rel="noopener ugc nofollow" target="_blank">这个网站</a>找到以上所有代码。</p><h1 id="920c" class="kt ku hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">参考</h1><ol class=""><li id="ee8d" class="jo jp hi is b it lr ix ls jb nd jf ne jj nf jn jt ju jv jw bi translated"><a class="ae ks" href="http://www.fpdf.org/" rel="noopener ugc nofollow" target="_blank">http://www.fpdf.org/</a></li><li id="62f1" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><a class="ae ks" href="http://www.fpdf.org/en/script/script92.php" rel="noopener ugc nofollow" target="_blank">http://www.fpdf.org/en/script/script92.php</a></li><li id="25f6" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><a class="ae ks" href="https://pyfpdf.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">https://pyfpdf.readthedocs.io/en/latest/</a></li><li id="1de7" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><a class="ae ks" href="https://pyfpdf.readthedocs.io/en/latest/reference/image/index.html" rel="noopener ugc nofollow" target="_blank">https://pyfpdf . readthedocs . io/en/latest/reference/image/index . html</a></li></ol><h1 id="284e" class="kt ku hi bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">关于作者</h1><p id="496a" class="pw-post-body-paragraph iq ir hi is b it lr iv iw ix ls iz ja jb lt jd je jf lu jh ji jj lv jl jm jn hb bi translated">本文由马来西亚<a class="ae ks" href="https://arkmind.com.my" rel="noopener ugc nofollow" target="_blank"> Arkmind </a>技术负责人韩胜撰写。他对软件设计/架构相关的东西、计算机视觉以及边缘设备充满热情。他开发了几个基于人工智能的网络/移动应用程序来帮助客户解决现实世界的问题。你可以通过他的Github简介来了解他。</p></div></div>    
</body>
</html>