<html>
<head>
<title>How Does HTTPS Actually Work?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HTTPS实际上是如何工作的？</h1>
<blockquote>原文：<a href="https://medium.com/codex/do-you-really-understand-https-a1da40195335?source=collection_archive---------4-----------------------#2022-07-11">https://medium.com/codex/do-you-really-understand-https-a1da40195335?source=collection_archive---------4-----------------------#2022-07-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/954ab1caf4192a6365fb31e79130e078.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qw17Z2bpARCAKidKHI-Dtw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来自<a class="ae iu" href="https://www.x-cart.com/blog/what-is-https-and-ssl.html" rel="noopener ugc nofollow" target="_blank">x-cart.com</a></figcaption></figure><p id="7751" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你们大多数人可能以前听说过HTTPS。<a class="ae iu" href="https://w3techs.com/technologies/details/ce-httpsdefault#:~:text=Default%20protocol%20https%20is%20used%20by%2079.4%25%20of%20all%20the%20websites." rel="noopener ugc nofollow" target="_blank">这篇文章</a>声称目前79%的网站使用HTTPS。简而言之，HTTPS是HTTP的加密版本，是两台服务器之间传输数据最常用的协议。为了加强传输数据的安全性，HTTPS是第7层协议，它对传输的数据进行加密。</p><p id="b795" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">查看<a class="ae iu" rel="noopener" href="/@himanishm07/list/http-0f55a4493736">这一系列文章</a>，了解更多关于HTTP。</p><p id="f76c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">HTTPS的优点和底层技术，如TLS、TLS握手、证书和认证机构都将在本文中讨论。</p><h1 id="a050" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">1.什么是HTTPS</h1><p id="25cd" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">HTTPS是HTTP的安全变体。简单明了地说，HTTPS就是HTTP协议加上数据加密和SSL/TLS提供的附加特性。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/3c2ca6caa7779e2e33c5263c1d7616d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*J9D32CPDVDCJ-wpa_e8J1Q.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://love2dev.com/blog/how-https-works/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><h1 id="3d6a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">2.为什么是HTTPS</h1><p id="5f6e" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">大多数在线数据交换使用HTTP。默认情况下，这些数据是不加密的，这使得任何人都有可能通过使用中间人攻击来欺骗源和目的地之间的数据。此外，您收到的信息可能会被篡改，或者恶意行为者可能会代替真正的服务器回答问题。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/15d7f84fd70642d1d7b42fb78a58919e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sqWC3fZB0z3Jp4_D6zDjUA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://ahrefs.com/blog/what-is-https/" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="49c2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了解决这些问题，HTTPS用<strong class="ix hj">加密</strong>、<strong class="ix hj">认证</strong>和<strong class="ix hj">完整性</strong>增强了HTTP协议。</p><blockquote class="lc ld le"><p id="c7b5" class="iv iw lf ix b iy iz ja jb jc jd je jf lg jh ji jj lh jl jm jn li jp jq jr js hb bi translated">在这一节中，我将提供它如何工作的高级概述，然后在下一节中，我将更详细地介绍底层技术和过程。</p></blockquote><p id="e432" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">加密:- </strong> HTTPS通过包括SSL/TLS加密来保护通过互联网传输的数据不被第三方截取和读取。<a class="ae iu" href="https://www.ssl.com/faqs/what-is-public-key-cryptography/" rel="noopener ugc nofollow" target="_blank">公钥加密</a>和TLS握手实现了这一点。下面，我们就来说说这些程序。我们将在下面讨论这些过程。</p><p id="22b2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">加密前:</p><pre class="kx ky kz la fd lj lk ll lm aw ln bi"><span id="176a" class="lo ju hi lk b fi lp lq l lr ls">This is a string of text that is completely readable</span></pre><p id="fd08" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">加密后:</p><pre class="kx ky kz la fd lj lk ll lm aw ln bi"><span id="fdc8" class="lo ju hi lk b fi lp lq l lr ls">ITM0IRyiEhVpa6VnKyExMiEgNveroyWBPlgGyfkflYjDaaFf/Kn3bo3OfghBPDWo6AfSHlNtL8N7ITE</span></pre><p id="9867" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">认证:- </strong>与HTTP相反，HTTPS通过TLS协议和CA证书使用强大的认证系统。作为建立HTTPS连接时TLS握手的一部分，服务器发送一系列证书，客户端可以使用这些证书来验证握手是否由所需的服务器完成。如果服务器的证书已经由公认的<a class="ae iu" href="https://www.ssl.com/faqs/what-is-a-certificate-authority/" rel="noopener ugc nofollow" target="_blank">认证机构(CA) </a>签署，客户端将确认证书中包含的任何识别信息已经由信誉良好的第三方验证。下面，我们就来说说证书和CA。</p><p id="1ee2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">完整性:- </strong>由HTTPS网络服务器发送给客户的每个文档(如网页、图像、JavaScript文件或任何其他数据)都包含一个消息摘要，客户可以使用该消息摘要来确定数据在传输过程中未被第三方修改或损坏。HTTPS协议用<strong class="ix hj">消息认证码(MAC) </strong>对每条消息进行签名。MAC算法是一种单向加密哈希函数(实际上是校验和)，其密钥由两个连接对等方在TLS握手期间协商。每当发送TLS记录时，都会为该消息生成并附加一个MAC值。在接收端，接收方根据收到的消息创建另一个MAC，然后比较两个MAC代码以确保消息的真实性。</p><h1 id="94cc" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak"> 3。深入TLS </strong></h1><p id="ff25" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">传输层安全性或TLS是一种<a class="ae iu" href="https://en.wikipedia.org/wiki/Cryptographic_protocol" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">加密协议</strong> </a>，为通过互联网在应用程序之间发送的数据提供端到端的安全性。<strong class="ix hj">虽然TLS也可以在UDP、DCCP和SCTP上实现，但它通常是在TCP </strong>之上实现的，以便对HTTP、FTP、SMTP和IMAP等应用层协议进行加密。</p><p id="2f47" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">作为目前使用最广泛的协议，TLS1.2的规范将是本文的主要焦点。其前身(SSL 1.0、SSL 2.0、SSL 3.0和TLS 1.1)目前已被弃用，其后继版本(TLS 1.3)正处于采用阶段。</p><blockquote class="lc ld le"><p id="58dd" class="iv iw lf ix b iy iz ja jb jc jd je jf lg jh ji jj lh jl jm jn li jp jq jr js hb bi translated">TLS实际上为运行在其上的所有应用程序提供了上述3种功能:加密、身份验证和数据完整性。在HTTPS的情况下，在它上面运行的应用程序是HTTP。</p></blockquote><p id="881e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在通过TLS传输应用程序数据之前，必须在客户端和服务器之间建立加密隧道。为此，客户端和服务器必须就TLS协议版本达成一致，选择一个密码套件，<strong class="ix hj">创建会话密钥</strong>，并在必要时验证证书。这是TLS握手的一部分。</p><h2 id="976d" class="lo ju hi bd jv lt lu lv jz lw lx ly kd jg lz ma kh jk mb mc kl jo md me kp mf bi translated">3.1.TLS握手</h2><p id="e251" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">握手是TLS最重要的部分之一，因为这是每个连接开始的地方，也是建立TLS技术基础的地方。</p><blockquote class="lc ld le"><p id="8219" class="iv iw lf ix b iy iz ja jb jc jd je jf lg jh ji jj lh jl jm jn li jp jq jr js hb bi translated">TLS握手发生在底层网络层握手之上。因此，如果TLS工作在TCP之上，TCP握手发生在客户机和服务器之间。一旦完成，TLS握手就开始了。</p></blockquote><p id="c0e9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">TLS握手完成3件主要事情:</p><ul class=""><li id="be4a" class="mg mh hi ix b iy iz jc jd jg mi jk mj jo mk js ml mm mn mo bi translated">交换密码套件、TLS版本和其他参数。</li><li id="01a7" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js ml mm mn mo bi translated">认证一方或双方。</li><li id="7e8d" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js ml mm mn mo bi translated">创建/交换对称会话密钥。</li></ul><p id="fa29" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面提到在握手中发生的步骤。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/2e521c300ddc9109db774148cf7cf388.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rx4dY0FcDceaayHl2xn2UQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://www.thesslstore.com/blog/explaining-ssl-handshake/#the-tls-12-handshake-step-by-step" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><ol class=""><li id="d9f0" class="mg mh hi ix b iy iz jc jd jg mi jk mj jo mk js mv mm mn mo bi translated">第一条消息称为“ClientHello”该消息列出了客户端的能力，以便服务器可以选择两者将用于通信的密码套件。它还包括一个大的，<a class="ae iu" href="https://www.thesslstore.com/blog/why-all-the-fuss-about-64-bit-serial-numbers/" rel="noopener ugc nofollow" target="_blank">随机挑选的</a>质数，称为“客户端随机”</li><li id="e86e" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">服务器用“SeverHello”消息进行响应。在这个消息中，它告诉客户端它从提供的列表中选择了什么连接参数，并返回它自己随机选择的质数，称为“服务器随机”如果客户端和服务器不共享任何共同的能力，<a class="ae iu" href="https://www.thesslstore.com/blog/troubleshoot-firefoxs-tls-handshake-message/" rel="noopener ugc nofollow" target="_blank">连接不成功地终止</a>。</li><li id="c9a6" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">在“证书”消息中，服务器将其TLS证书链(包括其<a class="ae iu" href="https://www.thesslstore.com/blog/root-certificates-intermediate/" rel="noopener ugc nofollow" target="_blank">叶证书和中间证书</a>)发送给客户端。我们稍后将讨论证书和证书链。</li><li id="59b0" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">这是一条可选消息，仅在某些需要服务器提供额外数据的密钥交换方法(Diffie-Hellman)中需要。</li><li id="ac06" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">“服务器Hello Done”消息告诉客户端它已经发送了所有的消息。</li><li id="e780" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">然后，客户端提供其对会话密钥的贡献。这一步的细节取决于最初的“Hello”消息中确定的密钥交换方法，通常是RSA或Diffie-Hellman。</li><li id="4ac9" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">“更改密码规范”消息让另一方知道它已经生成了会话密钥，并将切换到加密通信。</li><li id="6e90" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">然后发送“完成”消息，以指示客户端的握手完成。完成的消息被加密，并且是由会话密钥保护的第一个数据。该消息包含允许每一方确保握手未被篡改的数据(MAC)。</li><li id="d7ff" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">现在轮到服务器做同样的事情了。它解密预主密钥并计算会话密钥。然后，它发送其“更改密码规范”消息，以指示它正在切换到加密通信。</li><li id="a006" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">服务器使用它刚刚生成的对称会话密钥发送它的“完成”消息，它还执行相同的校验和来验证握手的完整性。</li></ol><p id="14a7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这些步骤之后，TLS握手就完成了。双方现在都有了会话密钥，并将开始通过加密和认证的连接进行通信。</p><p id="ffaf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此时，可以发送“应用程序”数据的第一个字节(属于双方将要交流的实际服务的数据，即网站的HTML、Javascript等)。</p><blockquote class="lc ld le"><p id="3041" class="iv iw lf ix b iy iz ja jb jc jd je jf lg jh ji jj lh jl jm jn li jp jq jr js hb bi translated">在TLS 1.2中，每个会话都有完整的握手，而TLS 1.3则不是这样。</p></blockquote><h1 id="db8c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">4.深入研究TLS证书和身份验证</h1><p id="77ce" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">每个TLS连接都必须首先通过身份验证。正如我们在整篇文章中反复提到的，TLS通过使用证书来提供身份验证。在本节中，我们将首先回顾一些术语，然后看看身份认证过程本身。</p><h2 id="95b6" class="lo ju hi bd jv lt lu lv jz lw lx ly kd jg lz ma kh jk mb mc kl jo md me kp mf bi translated">4.1证书</h2><p id="d67b" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">那么，首先，什么是证书？</p><blockquote class="lc ld le"><p id="c898" class="iv iw lf ix b iy iz ja jb jc jd je jf lg jh ji jj lh jl jm jn li jp jq jr js hb bi translated"><em class="hi">证书只不过是一个简单的文档，包含</em> <strong class="ix hj"> <em class="hi">公钥</em> </strong> <em class="hi">以及创建证书的组织的一些信息。</em></p></blockquote><p id="eb4b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们以媒体的证书为例</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mw"><img src="../Images/a98d60c8f27fb313709248a0a845640b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lCoaI52Y03Oeoq5EP5eQEA.png"/></div></div></figure><p id="1161" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如您所见，证书记录了各种数据。它记录了证书所有者的信息，在本例中是medium.com。此外，它还标识了签名机构，在本例中是Cloudfare，Inc. <br/>此外，正如您所看到的，证书允许您访问所有者的公钥。在TLS握手的密钥交换期间，可以使用这个公钥。</p><p id="5321" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是<strong class="ix hj">让我们记住</strong>证书本身不足以为server (medium.com)提供任何类型的认证。我可以创建自己的证书，将所有者(也就是我)命名为medium.com，并将其发送回客户端。我们将在下面讨论如何使用证书进行身份验证。</p><h2 id="f6ef" class="lo ju hi bd jv lt lu lv jz lw lx ly kd jg lz ma kh jk mb mc kl jo md me kp mf bi translated">4.2信任链</h2><blockquote class="lc ld le"><p id="fa1e" class="iv iw lf ix b iy iz ja jb jc jd je jf lg jh ji jj lh jl jm jn li jp jq jr js hb bi translated">当您从服务器获得证书时，您实际上获得了证书链。</p></blockquote><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mx"><img src="../Images/8c9a88db977e5b3b159d753638be413a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I1ge8dcEIwOnn56xP_RfFQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://www.oreilly.com/library/view/high-performance-browser/9781449344757/ch04.html" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="bddb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">信任证书链旨在证明特定证书来自可信来源。有了这个证书链，我们将递归地验证每个证书的真实性，直到我们得到根证书。</p><p id="37d9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">链条由3部分组成:-</p><p id="86f3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">服务器证书:- </strong>服务器证书是颁发给与客户端通信的特定域的证书。</p><p id="6874" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">中级证书:- </strong>中级证书像树枝一样从根证书上分叉出来。它们充当受保护的根证书和发布给公众的服务器证书之间的中间人。一个证书链中至少会有一个中间证书，但也可以有多个。</p><p id="4e56" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">根证书:- </strong>根证书是属于发行证书机构的数字证书。在大多数浏览器中，它是预先下载的，存储在所谓的“信任存储”中根证书由证书颁发机构严密保护。</p><p id="5ee3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果证书是合法的，并且链接回客户端浏览器的信任库中的根CA，用户将知道网站是安全的，基于接口信任指示器。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es my"><img src="../Images/bd6a1bb391c6241b24ca98359d779243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DT_tU4kgKhKh01LbvJUWqg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" rel="noopener" href="/geekculture/story-of-ssl-certificates-161f29df8b65">来源</a></figcaption></figure><p id="2897" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上图中，medium.com是服务器证书，Cloudfare Inc是中间证书，Baltimore CyberTrust Root是根证书。</p><h2 id="72e6" class="lo ju hi bd jv lt lu lv jz lw lx ly kd jg lz ma kh jk mb mc kl jo md me kp mf bi translated">4.3什么是CA？</h2><p id="b170" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">认证机构(CA)是发布符合ITU-T的<a class="ae iu" href="http://www.itu.int/itu-t/recommendations/rec.aspx?rec=X.509" rel="noopener ugc nofollow" target="_blank"> X.509公钥基础设施(PKI)标准</a>的数字证书的实体。数字证书证明证书所有者的公钥(称为主题)，以及所有者控制受证书保护的域。因此，CA充当可信的第三方，向客户端(称为依赖方)保证它们连接到由经验证的实体操作的服务器。</p><p id="c492" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面解释的证书链中，所有的证书都由一个CA签名。服务器证书(medium.com)由认证机构CloudFare签署。然后CloudFare的证书由Balitmore CyberTrust签署。由于Balitmore CyberTrust根证书是根证书，所以它是一个自签名证书。</p><h2 id="3f30" class="lo ju hi bd jv lt lu lv jz lw lx ly kd jg lz ma kh jk mb mc kl jo md me kp mf bi translated">4.4认证</h2><p id="9a76" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">现在我们已经了解了证书的基础知识，让我们来了解身份验证实际上是如何工作的。</p><p id="a16f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是服务器认证中涉及的步骤:-</p><ol class=""><li id="3ae6" class="mg mh hi ix b iy iz jc jd jg mi jk mj jo mk js mv mm mn mo bi translated">从服务器获取证书链。</li><li id="6844" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">从证书链中获取顶级证书。</li><li id="fcea" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">使用颁发者证书的公钥解密证书的签名。</li><li id="c608" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">将解密的签名与证书的公钥进行比较。</li><li id="bae2" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">遵循过程2–4，直到您获得根证书。</li><li id="b7fa" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">如果任何一步的比较失败，则验证过程失败。</li></ol><p id="0a5d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦验证了整个证书链的正确性，我们就可以安全地假设具有给定细节的证书是有效的，并且我们正在与正确的服务器通信。</p><h1 id="8a00" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">5.摘要</h1><p id="e169" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">浏览我们在本文中涉及的主题</p><ol class=""><li id="91c3" class="mg mh hi ix b iy iz jc jd jg mi jk mj jo mk js mv mm mn mo bi translated">什么是HTTPS。</li><li id="1c0c" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">HTTP的安全限制</li><li id="2e77" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">HTTPS如何解决安全限制</li><li id="f6e3" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">TLS和TLS握手</li><li id="7995" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">证书、证书链和证书颁发机构。</li><li id="b0b2" class="mg mh hi ix b iy mp jc mq jg mr jk ms jo mt js mv mm mn mo bi translated">证书如何用于服务器身份验证。</li></ol></div><div class="ab cl mz na gp nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="hb hc hd he hf"><p id="5954" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以这是我对HTTPS的介绍。我确实相信，对于许多概念，需要给出更多的细节，例如与Diffie-Hellman的密钥交换、整个CipherSpec交换、TLS证书的产生等等。和HTTPS的问题绝对不可能在一页纸内解决。不过，我会在以后的文章中更详细地讨论这些话题，因为这篇文章目前已经超过十分钟了。</p><p id="0318" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">与此同时，如果你认为这对你有任何帮助，请鼓掌并跟我来，如果我错过了什么，请发表评论。干杯:)</p></div></div>    
</body>
</html>