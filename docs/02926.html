<html>
<head>
<title>Getting Started with Express.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Express.js入门</h1>
<blockquote>原文：<a href="https://medium.com/codex/getting-started-with-express-js-721ef88efe99?source=collection_archive---------15-----------------------#2021-08-11">https://medium.com/codex/getting-started-with-express-js-721ef88efe99?source=collection_archive---------15-----------------------#2021-08-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="bb3f" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何使用Express.js设置和利用服务器交互和路由</h2></div><p id="c0e1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你好！今天我将讨论如何使用Express框架为我们的前端代码创建一个基本的服务器。本文还将展示如何使用节点js来利用路由和与Express服务器的交互。我们开始吧！</p><h1 id="a18c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">什么是快递？</h1><p id="7e9a" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">Express.js是一个Node.js <em class="kq">框架</em>,它公开了一个最小的、但是通用的中间件<em class="kq">集</em>,允许我们在表面层次上将Node.js应用程序搭建到服务器上。使用Express时，我们可以使用的功能非常广泛。我们可以使用Express创建路由器，定义从某个路由端点发送的响应，处理用户身份验证/授权，与第三方API服务交互，提供静态或服务器端文件，甚至，考虑到它对数据库的非独立处理，为MongoDB或PostgreSQL等关系和非关系数据库提供配置。前面提到的所有特性也使得Express的结构更加灵活，因此确实没有一种方法可以创建Express应用程序；它的结构最终取决于您的应用程序需求或您的开发团队的偏好。</p><h1 id="cc24" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">一个简单的快速服务器</h1><p id="25b8" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">让我们创建一个基本的Express服务器和一个简单的<em class="kq">中间件</em>函数，它将使用Node.js <code class="du kr ks kt ku b">request</code>和<code class="du kr ks kt ku b">response</code>对象在请求-响应周期中发送和接收数据。(期望在本文中大量看到<em class="kq">中间件</em>这个词；Express很大程度上强调了中间件的使用)。首先，我们必须将Express模块导入到我们指定的<code class="du kr ks kt ku b">server.js</code>文件中，并实例化一个端口号，要么使用port的全局环境变量，要么提供一个数字值。我们还需要通过调用Express.js <code class="du kr ks kt ku b">express()</code>函数来实例化Express应用程序。最后，我们需要监听给定端口的连接，因此我们还必须调用内置的<code class="du kr ks kt ku b">app.listen()</code>，它将接收端口值，并通过向控制台发送消息来确认到端口的连接。下面的例子演示了这可能是什么样子。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/776fa641e5d11c358c5168a5d881f8b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ITbeu1PrRL4EsHt3ZPoVtw.png"/></div></div><figcaption class="lh li et er es lj lk bd b be z dx translated">Node.js应用程序的基本Express.js服务器。(创建于<a class="ae ll" href="https://carbon.now.sh" rel="noopener ugc nofollow" target="_blank"> https://carbon.now.sh </a>)</figcaption></figure><h1 id="794e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">按指定路线发送</h1><p id="3504" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">正如我提到的，Express.js允许我们使用中间件功能来利用HTTP请求。上面的例子包含一个指向根模块`/'的GET请求，并且像所有中间件函数一样，接收<code class="du kr ks kt ku b">request</code>和<code class="du kr ks kt ku b">response</code>对象。这个示例中间件只是将一条消息记录到控制台，但是Express允许我们使用各种各样的中间件来利用HTTP请求的不同功能。</p><p id="36ea" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们的Express应用程序中定义路由的另一个选项是使用Express Router模块。这允许我们使用一个中间件系统，该系统使用一个<code class="du kr ks kt ku b">Router()</code>模块来处理路由。下面的例子是上面的同一个示例服务器的实现，它使用<code class="du kr ks kt ku b">Router()</code>模块来处理相关的路由方法(GET、PUSH、POST、DELETE)。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/641e52667976b2d9e221671792482924.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8t2Jk8EQOh7OuwaXaD5uBw.png"/></div></div></figure><p id="47c1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kr ks kt ku b">Router()</code>也可以利用基于HTTP动词的处理函数。例如，GET请求可以通过用户ID或用户的新闻提要来处理对用户列表的请求。POST可以利用授权用户的登录或向帖子列表添加新内容。PUT可用于更新用户的帐户信息。最后，删除除了从用户数据库中删除帐户信息之外，还可以在用户注销帐户时删除会话cookies。</p><h1 id="7ad3" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">快速应用生成器</h1><p id="7f51" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">除了创建Express.js服务器和通过内置中间件管理路由和客户端-服务器交互之外，为了将Express.js实现到web应用程序，我们可以使用CLI命令生成一个服务器文件，其中Express中间件是现成实现的。生成器还提供了使用什么前端标记的选项(我们可以在Pug、Handlebars.js、EJS或Hogan.js之间选择)。</p><p id="c471" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以使用CLI命令<code class="du kr ks kt ku b">npx express-generator</code>来初始化Express App生成器(Node.js 8.2.0及更高版本)。安装完成后，我们可以开始为生成的Express应用程序设置配置。一旦我们运行这个命令，我们可以开始选择可选的添加剂，如前端引擎。默认情况下，Express Generator将使用Jade作为UI引擎。如果您更喜欢使用静态HTML文件而不是UI引擎，您可以在您的终端中使用标签<code class="du kr ks kt ku b">— no-view</code>运行<code class="du kr ks kt ku b">express</code>。</p><p id="e49d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦设置了选项，Express Generator将添加文件来伴随Express server文件，例如UI组件(使用所选的引擎，如果有的话)、样式表以及它们各自的路由文件。下图是默认文件结构的表示，如果没有选择任何选项，它使用Jade作为它的UI引擎:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lm"><img src="../Images/288b1f4268c95830647387ad4cd693eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bJliQGCQe-nP0mm1jWrhXw.png"/></div></div><figcaption class="lh li et er es lj lk bd b be z dx translated">由Express Generator CLI创建的默认文件树(创建于<a class="ae ll" href="https://carbon.now.sh" rel="noopener ugc nofollow" target="_blank"> https://carbon.now.sh </a>)</figcaption></figure><p id="6905" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">生成文件树后，终端应该显示一条消息，指示在我们开始运行应用程序之前，通过运行<code class="du kr ks kt ku b">npm install</code>或<code class="du kr ks kt ku b">yarn</code>来安装依赖项。安装好应用程序的依赖项后，我们可以通过运行<code class="du kr ks kt ku b">npm start</code>或<code class="du kr ks kt ku b">yarn start</code>来运行应用程序。</p><p id="2ff6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">希望您已经更好地理解了如何为您的web应用程序实现Express.js，现在您已经阅读了一些基本功能以及一些可选的实现方法。如果你想看更多如何使用Express.js的例子，他们的<a class="ae ll" href="https://github.com/expressjs/express/tree/master/examples" rel="noopener ugc nofollow" target="_blank"> Github库</a>提供了许多构建Express服务器的不同用例。今天就到这里吧！非常感谢您的阅读！如果您想要更多的资源来深入了解这个框架，您可以在下面找到一个资源列表。下次见！</p><h1 id="5b8e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">引用的消息来源</h1><p id="d642" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">“快递—节点。Js Web应用程序框架。”<em class="kq">快递—节点。Js Web应用框架</em>，StrongLoop，IBM，等expressjs.com投稿人，2017，<a class="ae ll" href="http://expressjs.com/." rel="noopener ugc nofollow" target="_blank">http://expressjs.com</a>。于2021年8月9日访问。</p><p id="8a08" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">"快速应用程序生成器。"<em class="kq">快递—节点。Js Web应用框架</em>，<a class="ae ll" href="http://expressjs.com/en/starter/generator.html." rel="noopener ugc nofollow" target="_blank">http://expressjs.com/en/starter/generator.html.</a>2021年8月9日接入。</p></div></div>    
</body>
</html>