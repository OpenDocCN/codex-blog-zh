<html>
<head>
<title>Creating Modular Powerup Systems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建模块化通电系统</h1>
<blockquote>原文：<a href="https://medium.com/codex/creating-modular-powerup-systems-dad9d8b41721?source=collection_archive---------8-----------------------#2021-04-14">https://medium.com/codex/creating-modular-powerup-systems-dad9d8b41721?source=collection_archive---------8-----------------------#2021-04-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/06460e1fae8c139017db67b07844c264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WtSB3CNbsZGY6AA5"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">照片由<a class="ae hv" href="https://unsplash.com/@muratodr?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">穆拉特·翁德尔</a>在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><div class=""/><p id="9900" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">对于玩家来说，能量是一个吸引人的因素。它们被认为是决定一款游戏成败的因素之一(例如无敌能量启动，在它持续的时候很有趣，但是在整个游戏过程中启用它，你会失去乐趣/挑战因素)。到目前为止，我们一直致力于为游戏增加三倍的能量，但是如果我们需要为游戏增加更多的能量呢？在这种情况下，我们将需要建立一个模块化的系统，可以处理和执行任何我们希望添加到游戏中的能量。</p><p id="47ba" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">让我们来看看构建模块化上电系统的一种方法。</p><p id="cf9f" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">首先，让我们创建一个名为<strong class="iy hz">速度</strong>的新技能，顾名思义，它可以让我们的玩家移动得更快。</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ju"><img src="../Images/b658455a917156ddca36065509499222.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zoMuBS99ZdvIdxyAu-AVlQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">资产可以在这里找到<a class="ae hv" href="https://filebase.gamedevhq.com" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure><p id="c107" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">现在让我们来实现这个方法，让玩家移动得更快。</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jz"><img src="../Images/03220fab569975ea51f20bb5ed292a01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PC8s1V5MGxk9H1SJfRPjBQ.png"/></div></div></figure><p id="3ccc" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这里，<strong class="iy hz">speedupeffectslast()</strong>是一个<a class="ae hv" rel="noopener" href="/codex/unity-development-coroutines-adae74fcd857">协程</a>，用于加倍玩家的移动速度，并在给定的时间间隔内保持有效(_delay存储协程暂停执行的时间)。</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ka"><img src="../Images/2710959725b4d81d13be5de970584054.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f-RYxWKg30Ffg5hHYsfbTw.png"/></div></div></figure><p id="3590" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">调用IsSpeedUpActive()时，玩家的移动速度会在短时间内加倍。</p><p id="1fda" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">现在我们已经有了加速方法，让我们继续创建一个模块化的加电系统。</p><p id="99e6" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这种模块化系统背后的概念是，每个加电都包含一个唯一的ID，当被调用时，该ID实例化附加的加电。从我们到目前为止所看到的，每一个行为都有它自己相关的行为脚本。这意味着我们所有的加电都将包含相同的<a class="ae hv" rel="noopener" href="/codex/starting-to-feel-like-a-real-video-game-98d19567ca44">加电</a>脚本，而与该加电的功能无关。所以，</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div class="er es kb"><img src="../Images/3ccfc8fc5217f4fc92630ae37498bce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*l2OR8ojPlwdVdrDxOhFaRw.png"/></div></figure><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kc"><img src="../Images/0eeec6ec4882b8e232359a89d4b0bfcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9iCcvIbgMH9RIf9khU8OaQ.gif"/></div></div></figure><p id="4182" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><strong class="iy hz"> _powerUpID </strong>是唯一的ID，我们根据该ID激活所需的加电。</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kd"><img src="../Images/4638d0f2cec869c10624eb49e2ad4bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VAUGGFf6Z6b76GybEnrfMQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">在<a class="ae hv" rel="noopener" href="/codex/starting-to-feel-like-a-real-video-game-98d19567ca44">和</a>的基础上。</figcaption></figure><p id="a149" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">在这里，我们可以观察到我们正在实例化三倍镜头，并且只有在调用相关联的加电ID时才加速加电。</p><p id="4e93" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">现在让我们继续使用使用唯一id的模块化方法来生成随机加电。</p><p id="53ce" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">在我们继续之前，我们需要对什么是<strong class="iy hz">数组</strong>有一个基本的概念。</p><p id="854c" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><strong class="iy hz">阵列:</strong></p><p id="95e7" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">数组是一种存储相似项(相同数据类型)集合的数据结构。它们基本上用于存储数据集合，唯一的约束是它们属于相同的数据类型，并且不超过数组的大小。</p><p id="fab3" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">我们使用方括号([])来初始化/表示给定的变量是一个数组。</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ke"><img src="../Images/ee677aab3a97e36cf19b0e70a97f216d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x7jn3-dfF256JtJTQfN_iw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">句法</figcaption></figure><p id="11c9" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">让我们用我们的用例来解释数组的用法。我们希望根据开机ID产生一个随机开机。要做到这一点，我们首先需要收集我们所有的电源，这可以通过执行以下操作来实现:</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kf"><img src="../Images/8180034eb5b9928aa9c029f45febfc3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u35PbqRRGlx23qgEpMklSg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">默认情况下，访问修饰符设置为private。</figcaption></figure><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kc"><img src="../Images/038948b0f7661781f7df1720d1482fb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*vmxuXwQJhnMAtvAMDDBZhQ.gif"/></div></div></figure><p id="2c68" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">现在我们有了一个大小为2的powerUp数组，我们可以使用数组的索引(powerUp[0]，powerUp[1])来访问它的元素。数组索引从0开始，一直到size(Array)-1，在本例中是1。我们还观察到索引0被tripleShotPowerUp占用，索引1被SpeedPowerUp占用。</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div class="er es kg"><img src="../Images/8465319b372e8cfa99a16a5581d69298.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*U-DyUzbZ29ir6fhsrvEtYw.png"/></div></figure><p id="b9a9" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">可以使用索引值来访问数组的元素。所以，</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kh"><img src="../Images/b4693f4cd4052ffe4fc449d8fddbe829.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MZHBUq8vHZ3e43DSGMpRqg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">这只是一个例子，与我们的代码无关。</figcaption></figure><p id="75c8" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">利用这种阵列知识，可以在随机的时间间隔内随机启动电源。</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ki"><img src="../Images/8be639caf13654c5a6849082fc2b831a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DIIUqzhv3jzSg_4pl-5UjA.png"/></div></div></figure><p id="8389" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这里，<strong class="iy hz"> _randomID </strong>是一个变量，存储0–1之间的随机值，<strong class="iy hz"> _goPowerUps。Length </strong>在这种情况下返回2，因为我们的数组包含2个元素(Random。Range在minVal和maxVal(不包括)之间选择一个随机值。<br/><strong class="iy hz">SpawnPowerUps()</strong>以5到9秒的随机间隔从给定的数组中随机产生一个能量。</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kj"><img src="../Images/e825307ea6457dc4971d60bce35afbd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5c-Jcug-TmK63_MfMl3fkw.png"/></div></div></figure><p id="6bea" class="pw-post-body-paragraph iw ix hy iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这给了我们以下结果，</p><figure class="jv jw jx jy fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kc"><img src="../Images/01074854bf4aae1220b905244e9bcdb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*drsY8uqsj5aFCTt-tNoYHQ.gif"/></div></div></figure></div></div>    
</body>
</html>