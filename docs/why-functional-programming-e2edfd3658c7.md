# 为什么是函数式编程？

> 原文：<https://medium.com/codex/why-functional-programming-e2edfd3658c7?source=collection_archive---------4----------------------->

让我们先举一个例子:

命令式风格

声明式风格

我们有 2 个程序打印奇数到控制台。这些编程范例之间的区别在于我们如何读写代码的本质。这两个范例是命令式的和声明式的。

## 命令式:

*   命令式代码是指主要关注**如何按照指令/程序做某事**的代码。由于这种风格的**如何**本质，我们的大脑需要在理解其目的之前在精神上执行代码。我们不能简单地看一眼代码就立刻理解特定的代码段在做什么。

## 声明性:

*   在声明式风格**中**如何**不**重要，重要的是**是什么。**以这种方式，程序根据**表达式**指定**需要做什么**。函数式编程本质上更具有声明性。

对于哪些代码是声明性的或命令性的，没有确切的标记。这是相对的。如果你正在使用汇编语言进行低级编程，或者直接用 0 或 1 进行编码哈哈，然后如果你看到 for 循环或 If 语句，你会说哇，这是如此的声明性，然后如果你将其与一些函数式风格进行比较，相同的代码将开始看起来像命令式的。这完全是关于我们所处的抽象层次。

如果我们编写一些代码，强迫人们在头脑中执行这些代码，这样他们就能理解这些代码，这些代码就更难理解、维护、改进和修复。因此，我们的目标是将读者的注意力从命令性转移到声明性，这样更容易理解。

# 什么是函数式编程？

在函数式编程范例中，我们只使用纯函数来构造程序。为了使函数纯净，它应该是**引用透明的。**稍后我会解释 **referential transparent** 是什么意思，但首先，我们要理解在函数式编程的精神下，函数的实际定义是什么。

## 什么是纯函数？

> 按照函数式编程的精神，纯函数的正确定义是

*   一个函数不仅需要一些输入，还必须返回一些输出。下面的例子不符合函数的条件，因为它不返回任何输出，而是通过打印到控制台导致**副作用**。

*   如果函数名能够描述输入和输出的语义关系，那么函数**会更好**。

```
f(r) = π * r * rIn the above example, areaOfCircle perfectly describe the semantic relationship b/w function input and output.
```

*   在函数中，输入和输出应该是直接的。函数调用应该独立于程序的其他部分来完成它的任务。它应该不会引起任何副作用。在下面的例子中，输入和输出都是间接的，在程序执行的过程中会发生变化。

*   一个函数可以有间接输入，只要它们没有变异或改变。间接输入应该在整个项目过程中保持不变。这里 pi 永远不变，因此变量 pi 作为间接输入是有效的。

*   一个函数调用在被调用的任何时候都应该返回相同的输出

在下面的代码示例中，areaOfCircle 和 areaOfCylinder 函数调用都是引用透明的，因为我们可以用计算出的值替换相同输入的函数调用，而不会影响程序的任何其他部分。

由于引用的透明性，我们保证函数调用的输出是透明的，因此语言编译器可以利用这一点，记忆给定输入的函数调用的结果，并在任何地方替换它的值，而不是再次计算相同的值。就像求解内部表达式，然后把它的结果代入现在求解的更大的表达式，等等。

这也给了代码的读者一个优势，如果我们也可以做同样的代入，以便快速理解并得到结果，求解表达式。

在我的解释中，我也使用了“副作用”这个术语。那么它们是什么呢？

副作用只不过反映了变化或易变性。副作用的例子有:

*   任何类型的 I/O 操作
*   网络通话
*   数据库写入
*   时间戳生成
*   值可变性，例如，改变数据结构，即推入数组或从中弹出。

> 因此，为了防止值的可变性，我们创建了一个新的克隆，而不是修改它，使更改生效。你可能会想，这会导致 CPU 和内存开销，因为我们会一遍又一遍地复制相同的数据，这就是我们从不可变数据结构库中获得帮助的地方，例如 **Immutable.js 和 Google Guava** 。他们从我们的业务逻辑上下文中抽象出这些东西，并以一种更具性能的方式来处理这些事情。**在另一篇博客**中有更多关于他们是如何做到的。

不可能有一个没有任何副作用的实用程序。所以问题不是要有 0 副作用，而是要把副作用降到最低，要么把它包含在局部范围内，要么把它提取出来放在大家都知道的地方。最小化这些副作用将使我们调试得更快，并且将帮助我们将来在哪里寻找错误，因为错误更可能发生在有副作用和状态突变发生的地方。

希望这篇博客能帮助你理解函数式编程背后的原因。函数式编程还有更多的内容，例如局部应用、currying、函数组合。稍后将详细介绍。看阿雅！！。