<html>
<head>
<title>How to Get Currency Exchange Rates in Laravel</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•è·å–æ‹‰éŸ¦å‹’çš„è´§å¸æ±‡ç‡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/how-to-get-currency-exchange-rates-in-laravel-a4e053bde494?source=collection_archive---------3-----------------------#2021-10-21">https://medium.com/codex/how-to-get-currency-exchange-rates-in-laravel-a4e053bde494?source=collection_archive---------3-----------------------#2021-10-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/72e17786364fa6cb1200cf4f4f1a5f47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TAJyXRcXBpKR3vFQgKJZWQ.png"/></div></div></figure><h1 id="0967" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">ä»‹ç»</h1><p id="15d0" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">æœ‰æ—¶ï¼Œå½“æ‚¨æ„å»ºwebåº”ç”¨ç¨‹åºæ—¶ï¼Œæ‚¨å¯èƒ½éœ€è¦ä¸€äº›åŠŸèƒ½æ¥å¤„ç†æ¥è‡ªä¸–ç•Œå„åœ°çš„ä¸åŒè´§å¸ã€‚ä¸ºäº†èƒ½å¤Ÿå¤„ç†ä¸åŒçš„è´§å¸ï¼Œä½ éœ€è¦æ‰¾åˆ°æ±‡ç‡ã€‚</p><p id="b5e0" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•ä½¿ç”¨<a class="ae kr" href="https://github.com/ash-jc-allen/laravel-exchange-rates" rel="noopener ugc nofollow" target="_blank"> Laravelæ±‡ç‡</a>åŒ…ä¸<a class="ae kr" href="http://exchangeratesapi.io" rel="noopener ugc nofollow" target="_blank">Exchange ratesapi . io</a>APIè¿›è¡Œäº¤äº’ã€‚æˆ‘ä»¬è¿˜å°†äº†è§£å¦‚ä½•ä½¿ç”¨å®ƒæ¥è·å–æœ€æ–°æˆ–å†å²æ±‡ç‡ï¼Œå¹¶åœ¨ä¸åŒè´§å¸ä¹‹é—´è½¬æ¢è´§å¸å€¼ã€‚</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/c93c5ac0690d4166f44f96b4fca80de2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rcmdFBzRxa0U5ePf.png"/></div></div></figure><h1 id="b1eb" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">è£…ç½®</h1><p id="7f35" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">è¦å¼€å§‹ä½¿ç”¨Laravelæ±‡ç‡åŒ…ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥ä½¿ç”¨Composerå®‰è£…å®ƒ:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="1a41" class="lc ir hi ky b fi ld le l lf lg">composer require ashallendesign/laravel-exchange-rates</span></pre><h1 id="9cea" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">è·å–æ‚¨çš„APIå¯†é’¥</h1><p id="ae6c" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">ç°åœ¨æˆ‘ä»¬å·²ç»å®‰è£…äº†è¿™ä¸ªåŒ…ï¼Œæˆ‘ä»¬éœ€è¦ä»<a class="ae kr" href="https://exchangeratesapi.io/pricing" rel="noopener ugc nofollow" target="_blank">https://exchangeratesapi.io/pricing</a>è·å¾—ä¸€ä¸ªAPIå¯†åŒ™ã€‚æ‚¨å¯ä»¥å…è´¹æ³¨å†Œæˆ–ä½¿ç”¨ä»˜è´¹å±‚ï¼Œè¿™å–å†³äºæ‚¨éœ€è¦è®¿é—®å“ªäº›åŠŸèƒ½ã€‚</p><h1 id="3866" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">é…ç½®</h1><p id="323b" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å‘å¸ƒåŒ…çš„é…ç½®æ–‡ä»¶:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="3f51" class="lc ir hi ky b fi ld le l lf lg">php artisan vendor:publish --provider="AshAllenDesign\LaravelExchangeRates\Providers\ExchangeRatesProvider"</span></pre><p id="60c0" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">æ‚¨ç°åœ¨åº”è¯¥æœ‰äº†ä¸€ä¸ªæ–°çš„<code class="du lh li lj ky b">config/laravel-exchange-rates.php</code>æ–‡ä»¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒ…çš„é…ç½®è®¾ç½®ä¸ºé€šè¿‡HTTPå‘å‡ºè¯·æ±‚ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¹¶ä¸”ä½¿ç”¨APIçš„ä¸€ä¸ªä»˜è´¹å±‚ï¼Œæˆ‘å¼ºçƒˆæ¨èä½¿ç”¨HTTPSã€‚ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥ç®€å•åœ°å°†é…ç½®æ–‡ä»¶æ›´æ–°ä¸ºï¼Œå¹¶å°†<code class="du lh li lj ky b">api_url</code>å­—æ®µæ›´æ”¹ä¸ºä»¥<code class="du lh li lj ky b">https://</code>å¼€å¤´ï¼Œè€Œä¸æ˜¯ä»¥<code class="du lh li lj ky b"><a class="ae kr" rel="noopener ugc nofollow" target="_blank" href="/">http://</a></code> <a class="ae kr" rel="noopener ugc nofollow" target="_blank" href="/"> : </a>å¼€å¤´</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="60ce" class="lc ir hi ky b fi ld le l lf lg">return [<br/>  <br/>    // ...<br/><br/>    'api_url' =&gt; env('EXCHANGE_RATES_API_URL', 'http://api.exchangeratesapi.io/v1/'),<br/><br/>    // ...<br/>  <br/>];</span></pre><p id="0070" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">æ‚¨è¿˜éœ€è¦ç¡®ä¿å°†æ‚¨çš„APIå¯†é’¥æ·»åŠ åˆ°æ‚¨çš„<code class="du lh li lj ky b">.env</code>ä¸­:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="adf1" class="lc ir hi ky b fi ld le l lf lg">EXCHANGE_RATES_API_KEY={Your-API-Key-Here}</span></pre><h1 id="ebc9" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">è·å–å•ä¸ªæ—¥æœŸçš„æ±‡ç‡</h1><p id="8a99" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">ä¸ºäº†å°†ä¸€ç§è´§å¸å…‘æ¢æˆå¦ä¸€ç§è´§å¸ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒ…çš„<code class="du lh li lj ky b">-&gt;exchangeRate()</code>æ–¹æ³•ã€‚</p><p id="5a52" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">å¦‚æœæˆ‘ä»¬æƒ³å¾—åˆ°ä»Šå¤©è‹±é•‘å¯¹æ¬§å…ƒçš„æ±‡ç‡ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="15fa" class="lc ir hi ky b fi ld le l lf lg">$exchangeRates = new ExchangeRate();<br/>$result = $exchangeRates-&gt;exchangeRate('GBP', 'EUR');<br/><br/>// $result: '1.10086'</span></pre><p id="b5bd" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦è·å¾—ç‰¹å®šæ—¥æœŸçš„äº¤æ¢ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ é€’ä¸€ä¸ªæˆ‘ä»¬æƒ³è¦çš„æ—¥æœŸçš„<code class="du lh li lj ky b">Carbon</code>æ—¥æœŸå¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è·å¾—2021å¹´1æœˆ1æ—¥ä»â€œè‹±é•‘â€åˆ°â€œæ¬§å…ƒâ€çš„æ±‡ç‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å…¬å¼:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="498b" class="lc ir hi ky b fi ld le l lf lg">$exchangeRates = new ExchangeRate();<br/>$result = $exchangeRates-&gt;exchangeRate('GBP', 'EUR', Carbon::create('2021-01-01'));<br/><br/>// $result: '1.10086'</span></pre><h1 id="144d" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">è·å–ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æ±‡ç‡</h1><p id="6352" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">å¦‚æœæˆ‘ä»¬æƒ³è·å¾—ç»™å®šæ—¥æœŸèŒƒå›´å†…ä¸¤ç§è´§å¸ä¹‹é—´çš„æ±‡ç‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒ…çš„<code class="du lh li lj ky b">-&gt;exchangeRateBetweenDateRange()</code>æ–¹æ³•ã€‚</p><p id="804f" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">å‡è®¾æˆ‘ä»¬æƒ³è·å–è¿‡å»3å¤©è‹±é•‘å¯¹æ¬§å…ƒçš„æ±‡ç‡ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ä»£ç :</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="450e" class="lc ir hi ky b fi ld le l lf lg">$exchangeRates = new ExchangeRate();<br/>$result = $exchangeRates-&gt;exchangeRateBetweenDateRange(<br/>    'GBP',<br/>    'EUR',<br/>    Carbon::now()-&gt;subDays(3),<br/>    Carbon::now(),<br/>);<br/><br/>// $result: [<br/>//     '2021-07-07' =&gt; 1.1092623405<br/>//     '2021-07-08' =&gt; 1.1120625424<br/>//     '2021-07-09' =&gt; 1.1153867604<br/>// ];</span></pre><h1 id="842f" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">è½¬æ¢å•ä¸€æ—¥æœŸçš„è´§å¸</h1><p id="959e" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">è¯¥è½¯ä»¶åŒ…ä¸ä»…å…è®¸æˆ‘ä»¬è·å–è´§å¸ä¹‹é—´çš„æ±‡ç‡ï¼Œè¿˜å…è®¸æˆ‘ä»¬å°†è´§å¸ä»·å€¼ä»ä¸€ç§è´§å¸è½¬æ¢ä¸ºå¦ä¸€ç§è´§å¸ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="du lh li lj ky b">-&gt;convert()</code>æ–¹æ³•ã€‚</p><p id="b0bd" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»Šå¤©çš„æ±‡ç‡å°†1è‹±é•‘å…‘æ¢æˆæ¬§å…ƒ:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="bbcf" class="lc ir hi ky b fi ld le l lf lg">$exchangeRates = new ExchangeRate();<br/>$result = $exchangeRates-&gt;convert(100, 'GBP', 'EUR', Carbon::now());<br/><br/>// $result: 110.15884906</span></pre><p id="c8b4" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬å°†<code class="du lh li lj ky b">100</code>ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ã€‚è¿™æ˜¯å› ä¸ºè¯¥åŒ…è¦æ±‚æˆ‘ä»¬ä»¥è´§å¸çš„æœ€ä½é¢é¢ä¼ é€’è´§å¸å€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›è½¬æ¢1ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼ é€’100ï¼Œå› ä¸º1ç­‰äº100ä¾¿å£«ã€‚</p><h1 id="1fbd" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">åœ¨ä¸¤ä¸ªæ—¥æœŸä¹‹é—´è½¬æ¢è´§å¸</h1><p id="c1f6" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">ç±»ä¼¼äºè·å–æ—¥æœŸèŒƒå›´ä¹‹é—´çš„æ±‡ç‡ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨åŒ…å°†è´§å¸å€¼ä»ä¸€ç§è´§å¸è½¬æ¢ä¸ºå¦ä¸€ç§è´§å¸ã€‚ä¸ºæ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="du lh li lj ky b">-&gt;convertBetweenDateRange()</code>æ–¹æ³•ã€‚</p><p id="a899" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">å‡è®¾æˆ‘ä»¬æƒ³ä½¿ç”¨è¿‡å»3å¤©çš„æ±‡ç‡å°†1è‹±é•‘å…‘æ¢æˆæ¬§å…ƒã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ä»£ç :</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="8069" class="lc ir hi ky b fi ld le l lf lg">exchangeRates = new ExchangeRate();<br/>$exchangeRates-&gt;convertBetweenDateRange(<br/>    100,<br/>    'GBP',<br/>    'EUR',<br/>    Carbon::now()-&gt;subDays(3),<br/>    Carbon::now()<br/>);<br/><br/>// $result: [<br/>//     '2020-07-07' =&gt; 110.92623405,<br/>//     '2020-07-08' =&gt; 111.20625424,<br/>//     '2020-07-09' =&gt; 111.53867604,<br/>// ];</span></pre><h1 id="c58b" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">é€šè¿‡ä½¿ç”¨åŒ…çš„ç¼“å­˜æ¥æé«˜æ€§èƒ½</h1><p id="133e" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¥è‡ª<a class="ae kr" href="http://exchangeratesapi.io" rel="noopener ugc nofollow" target="_blank"> exchangeratesapi.io </a> APIçš„æ‰€æœ‰APIå“åº”éƒ½è¢«åŒ…ç¼“å­˜ã€‚è¿™å¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½å¹¶å‡å°‘æœåŠ¡å™¨çš„å¸¦å®½ã€‚è¿™ä¹Ÿæ˜¯æœ‰ç›Šçš„ï¼Œå› ä¸ºå¦‚æœæ‚¨å·²ç»è·å–äº†è¿‡å»çš„æ±‡ç‡ï¼Œå®ƒå¯ä»¥é˜²æ­¢æ‚¨ä½¿ç”¨ä¸€äº›æ¯æœˆçš„APIè¯·æ±‚ã€‚</p><p id="3869" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">ä½†æ˜¯ï¼Œå¦‚æœå‡ºäºæŸç§åŸå› ï¼Œæ‚¨éœ€è¦æ¥è‡ªAPIçš„æ–°ç»“æœï¼Œè€Œä¸æ˜¯ç¼“å­˜çš„ç»“æœï¼Œé‚£ä¹ˆpacakgeæä¾›äº†ä¸€ä¸ªæˆ‘ä»¬å¯ä»¥ä½¿ç”¨çš„<code class="du lh li lj ky b">-&gt;shouldBustCache()</code>æ–¹æ³•ã€‚</p><p id="38bb" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä»APIä¸­è·å–æ–°çš„æ±‡ç‡ï¼Œå¹¶å¿½ç•¥ä»»ä½•ç¼“å­˜çš„æ±‡ç‡:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="fe53" class="lc ir hi ky b fi ld le l lf lg">$exchangeRates = new ExchangeRate();<br/>$exchangeRates-&gt;shouldBustCache()-&gt;convert(100, 'GBP', 'EUR', Carbon::now());</span></pre><h1 id="6e89" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">ä½¿ç”¨åŒ…çš„éªŒè¯è§„åˆ™</h1><p id="5539" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">æœ‰æ—¶ï¼Œæ‚¨å¯èƒ½å…è®¸ç”¨æˆ·é€‰æ‹©è¦å…‘æ¢çš„è´§å¸ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¡®ä¿æ‚¨çš„ç”¨æˆ·åªèƒ½è¾“å…¥æ±‡ç‡APIæ”¯æŒçš„è´§å¸éå¸¸é‡è¦ã€‚</p><p id="77f0" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">ä¸ºäº†æœ‰åŠ©äºè¿™ä¸€ç‚¹ï¼ŒLaravelæ±‡ç‡æœ‰è‡ªå·±çš„<code class="du lh li lj ky b">ValidCurrency</code>è§„åˆ™æ¥éªŒè¯è´§å¸ã€‚</p><p id="8d65" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè¡¨å•è¯·æ±‚ï¼Œç”¨äºéªŒè¯è¯·æ±‚ä¸­å‘é€çš„è´§å¸ã€‚æˆ‘ä»¬çš„è¡¨å•è¯·æ±‚å¯èƒ½çœ‹èµ·æ¥æœ‰ç‚¹åƒè¿™æ ·:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="adfb" class="lc ir hi ky b fi ld le l lf lg">&lt;?php<br/><br/>namespace App\Http\Requests;<br/><br/>use AshAllenDesign\LaravelExchangeRates\Rules\ValidCurrency;<br/>use Illuminate\Foundation\Http\FormRequest;<br/><br/>class MyAwesomeRequest extends FormRequest<br/>{<br/>    // ...<br/>  <br/>    public function rules(): array<br/>    {<br/>        return [<br/>            'currency' =&gt; ['required', new ValidCurrency()],<br/>        ];<br/>    }<br/>  <br/>    // ...<br/>}</span></pre><h1 id="37d7" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">è¯•éªŒ</h1><p id="5a49" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">å¦‚æœæ‚¨æ­£åœ¨ä¸ºå¤„ç†Laravelæ±‡ç‡åŒ…çš„ä»£ç ç¼–å†™æµ‹è¯•ï¼Œæ‚¨å¯èƒ½å¸Œæœ›é˜»æ­¢ä»»ä½•APIè¯·æ±‚è¢«å®é™…å‘å‡ºã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä½¿ç”¨ä¾èµ–æ³¨å…¥æˆ–ä½¿ç”¨è½¯ä»¶åŒ…æä¾›çš„facadeæ¥å®ä¾‹åŒ–<code class="du lh li lj ky b">ExchangeRate</code>ç±»ã€‚äº‹å®ä¸Šï¼Œå¦‚æœä½ æœ‰å…´è¶£é˜…è¯»æ›´å¤šå…³äºè¿™æ–¹é¢çš„å†…å®¹ï¼Œæˆ‘å»ºè®®ä½ é˜…è¯»ä¸€ä¸‹æˆ‘çš„<a class="ae kr" href="https://ashallendesign.co.uk/blog/how-to-make-your-laravel-app-more-testable" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•è®©ä½ çš„Laravelåº”ç”¨ç¨‹åºæ›´å…·å¯æµ‹è¯•æ€§</a>çš„æ–‡ç« ã€‚</p><p id="1871" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">è®©æˆ‘ä»¬å¿«é€Ÿåœ°çœ‹ä¸€ä¸‹å¦‚ä½•ä¸ºä¸€ä¸ªæ§åˆ¶å™¨æ–¹æ³•ç¼–å†™ä¸€ä¸ªåŸºæœ¬æµ‹è¯•ï¼Œè¯¥æ–¹æ³•è·å–ä»Šå¤©ä»â€œè‹±é•‘â€åˆ°â€œæ¬§å…ƒâ€çš„æ±‡ç‡ã€‚æˆ‘ä»¬çš„æ§åˆ¶å™¨å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="d381" class="lc ir hi ky b fi ld le l lf lg">use AshAllenDesign\LaravelExchangeRates\Classes\ExchangeRate;<br/>use Illuminate\Http\JsonResponse;<br/>use Illuminate\Http\Request;<br/><br/>class MyAwesomeController extends Controller<br/>{<br/>    public function __invoke(Request $request, ExchangeRate $exchangeRate): JsonResponse<br/>    {<br/>        $rate = $exchangeRates-&gt;exchangeRate('GBP', 'EUR');<br/><br/>        return response()-&gt;json(['rate' =&gt; $rate]);<br/>    }<br/>}</span></pre><p id="c452" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä¸ºè¿™ä¸ªæ§åˆ¶å™¨æ–¹æ³•ç¼–å†™ä¸€ä¸ªæµ‹è¯•ã€‚æˆ‘ä»¬å°†å‡è®¾è¯¥æ–¹æ³•çš„è·¯ç”±åç§°æ˜¯<code class="du lh li lj ky b">awesome.route</code>ã€‚æˆ‘ä»¬çš„æµ‹è¯•å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="cf93" class="lc ir hi ky b fi ld le l lf lg">use AshAllenDesign\LaravelExchangeRates\Classes\ExchangeRate;<br/>use Mockery\MockInterface;<br/>use Tests\TestCase;<br/><br/>class MyAwesomeControllerTest extends TestCase<br/>{<br/>    /** @test */<br/>    public function success_response_is_returned(): void<br/>    {<br/>        // Create the mock of the service class.<br/>        $this-&gt;mock(ExchangeRate::class, function (MockInterface $mock): void {<br/>            $mock-&gt;shouldReceive('exchangeRate')<br/>                -&gt;once()<br/>                -&gt;withArgs(['GBP', 'EUR'])<br/>                -&gt;andReturn(123.456);<br/>        });<br/>	<br/>        $this-&gt;postJson(route('awesome.route'))<br/>            -&gt;assertExactJson([<br/>                'rate' =&gt; 123.456<br/>            ]);<br/>    }<br/>}</span></pre><h1 id="bc78" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">ç»“è®º</h1><p id="7473" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">å¸Œæœ›æœ¬æ–‡å·²ç»å‘æ‚¨å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Laravelæ±‡ç‡åŒ…ä¸æ±‡ç‡APIè¿›è¡Œäº¤äº’ï¼Œä»¥è·å¾—æ±‡ç‡å’Œè´§å¸è½¬æ¢ã€‚å®ƒè¿˜åº”è¯¥è®©æ‚¨ç®€è¦äº†è§£å¦‚ä½•ä¸ºä½¿ç”¨è¯¥åŒ…çš„ä»£ç ç¼–å†™æµ‹è¯•ã€‚</p><p id="92da" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæˆ‘å¾ˆä¹æ„å¬å¬ã€‚åŒæ ·ï¼Œå¦‚æœä½ å¯¹è¿™ç¯‡æ–‡ç« æœ‰ä»»ä½•æ”¹è¿›çš„åé¦ˆï¼Œæˆ‘ä¹Ÿå¾ˆä¹æ„å¬åˆ°ã€‚</p><p id="85ab" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">å¦‚æœä½ æœ‰å…´è¶£åœ¨æˆ‘æ¯æ¬¡å‘å¸ƒæ–°å¸–å­æ—¶å¾—åˆ°æ›´æ–°ï¼Œè¯·éšæ„<a class="ae kr" href="https://ashallendesign.co.uk/blog" rel="noopener ugc nofollow" target="_blank">æ³¨å†Œæˆ‘çš„ç®€è®¯</a>ã€‚</p><p id="cb37" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">ç»§ç»­å»ºé€ ä»¤äººæ•¬ç•çš„ä¸œè¥¿ï¼ğŸš€</p></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><p id="c401" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated"><em class="lr">åŸè½½äº</em><a class="ae kr" href="https://ashallendesign.co.uk/blog/how-to-get-currency-exchange-rates-in-laravel" rel="noopener ugc nofollow" target="_blank"><em class="lr">https://ashallendesign.co.uk</em></a><em class="lr">ã€‚</em></p></div></div>    
</body>
</html>