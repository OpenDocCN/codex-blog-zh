<html>
<head>
<title>Stateful AlertDialog in flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">flutter中的状态警报对话框</h1>
<blockquote>原文：<a href="https://medium.com/codex/stateful-alertdialog-in-flutter-adc5a760c5c7?source=collection_archive---------3-----------------------#2022-06-06">https://medium.com/codex/stateful-alertdialog-in-flutter-adc5a760c5c7?source=collection_archive---------3-----------------------#2022-06-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e622" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们将讨论如何使用alertdialog和处理状态。</p><p id="dc95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的工作应用程序功能如下:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/8049d4764e34239309fe51080f1a5cbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*GFW7YTYXubOSV2h9wfUV5g.gif"/></div></figure><p id="aa38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在编码之前，让我们讨论一下我们将在项目中使用的一些术语和部件。</p><h1 id="6aec" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">有状态小部件</h1><p id="4dc3" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">我们使用<strong class="ih hj"> createState()方法</strong>来创建一个有状态的小部件。有状态小部件是通过构建一系列更具体地表示用户界面的其他小部件来描述部分用户接口的小部件。它具有可变的状态，这意味着小部件的任何变量的状态都可以在小部件的生命周期内改变。</p><h1 id="7aa3" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">警报对话框</h1><p id="0a44" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">警告对话框可以被定义为一个小窗口，当我们需要用户的决定或输入额外的信息时显示出来。</p><h1 id="bf00" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">mainAxisSize</h1><p id="3fc4" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">它是定义主轴大小的行和列的属性之一。对于<strong class="ih hj">行</strong>，<strong class="ih hj">主轴</strong>是水平的<strong class="ih hj">，<strong class="ih hj">列</strong>是垂直的。</strong></p><h1 id="b83c" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">国家建设者</h1><p id="0e7b" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">它是一个柏拉图式的小部件，包含状态并调用闭包来获取其子部件。<strong class="ih hj"> StateSetter </strong>函数被传递给builder用于调用一个重建而不是一个典型状态的State.setState</p><h1 id="2b01" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">流行音乐</h1><p id="a6de" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">Pop是一种导航方法。从导航器中弹出最紧密包围给定上下文的最顶层路径。当用户从类或小部件向后导航时，使用或触发它。</p><h1 id="9ef1" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">然后</h1><p id="333d" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">它注册了将来完成时需要调用的回调。当这个future以一个值结束时，<code class="du ko kp kq kr b">onValue</code>回调将使用该值被调用。在大多数情况下，单独使用<a class="ae ks" href="https://api.flutter.dev/flutter/dart-async/Future/catchError.html" rel="noopener ugc nofollow" target="_blank"> catchError </a>，可能带有一个<code class="du ko kp kq kr b">test</code>参数，而不是在一个单独的<a class="ae ks" href="https://api.flutter.dev/flutter/dart-async/Future/then.html" rel="noopener ugc nofollow" target="_blank">然后</a>调用中同时处理值和错误，这样更具可读性。</p><p id="5bf4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，futures不会延迟错误报告，直到添加了侦听器。如果第一个<code class="du ko kp kq kr b">then</code>或<code class="du ko kp kq kr b">catchError</code>调用发生在这个期货有错误地完成之后，那么该错误被报告为未处理的错误。参见关于<a class="ae ks" href="https://api.flutter.dev/flutter/dart-async/Future-class.html" rel="noopener ugc nofollow" target="_blank">未来</a>的描述。</p><h1 id="322b" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">下拉按钮</h1><p id="ad36" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">它是一个材质设计按钮，用于从列表中选择项目。它允许用户从多个项目中进行选择。</p><p id="d2aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些是我们项目中将要用到的术语、小部件和方法。</p><h1 id="fb18" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">让我们开始吃吧</h1><p id="7ac3" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">首先让我们创建一个名为<strong class="ih hj"> <em class="kt"> alertItem.dart的文件。</em> </strong>在这里，我们将创建我们将在<strong class="ih hj">警报对话框</strong>中使用的项目。在其中，我们创建了一个有状态的小部件，在那里我们创建了下拉菜单。</p><p id="6057" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们映射下拉列表中的项目数组或列表。DropDown小部件由接受数组映射的<strong class="ih hj">项</strong>参数组成。</p><pre class="je jf jg jh fd ku kr kv kw aw kx bi"><span id="89d2" class="ky jm hi kr b fi kz la l lb lc">items: items.map((String items) {<br/>            return DropdownMenuItem(<br/>              value: items,<br/>              child: Text(items),<br/>            );<br/>          }).toList(),</span></pre><p id="f28b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在dropdown中，当用户从dropdown中选择一个项目时，触发<strong class="ih hj"> onChanged </strong>方法。它取值。</p><pre class="je jf jg jh fd ku kr kv kw aw kx bi"><span id="e7f5" class="ky jm hi kr b fi kz la l lb lc">onChanged: (String? newValue) {<br/>            setState(() {<br/>              dropdownvalue = newValue!;<br/>            });<br/>          },</span></pre><p id="ef36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当选择项目并单击按钮时，我们会在对话框关闭时返回值。</p><pre class="je jf jg jh fd ku kr kv kw aw kx bi"><span id="210a" class="ky jm hi kr b fi kz la l lb lc">Navigator.pop(context,dropdownvalue);</span></pre><p id="e40f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kt"> alertItem.dart </em></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ld le l"/></div><figcaption class="lf lg et er es lh li bd b be z dx translated">alertItem.dart</figcaption></figure><p id="d0a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，在<strong class="ih hj"> lib </strong>文件夹中创建<strong class="ih hj"> homepage.dart </strong>文件。</p><p id="c449" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们有一个名为<strong class="ih hj"> text </strong>的<strong class="ih hj">字符串</strong>，它在我们从alertdialog返回时取值。当alertdialog关闭<strong class="ih hj">时，就会触发</strong>方法，我们会从中获取数据。</p><pre class="je jf jg jh fd ku kr kv kw aw kx bi"><span id="4e85" class="ky jm hi kr b fi kz la l lb lc">then((value) {<br/>      if (value != null) {<br/>      setState(() {<br/>        text=value;<br/>      });<br/>      }<br/>    });</span></pre><p id="2640" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kt">主页.镖</em></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ld le l"/></div><figcaption class="lf lg et er es lh li bd b be z dx translated">主页. dart</figcaption></figure><p id="6de8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后我们的<strong class="ih hj"> main.dart </strong>文件。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ld le l"/></div><figcaption class="lf lg et er es lh li bd b be z dx translated">主.镖</figcaption></figure><h1 id="8e37" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">让我们连接起来</h1><p id="b767" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">我们可以成为朋友。在<a class="ae ks" href="https://www.facebook.com/nabin.dhakal.714/" rel="noopener ugc nofollow" target="_blank">脸书</a>、<a class="ae ks" href="https://www.linkedin.com/in/nabindhakal/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>、<a class="ae ks" href="https://github.com/nbnD" rel="noopener ugc nofollow" target="_blank"> Github </a>、<a class="ae ks" href="https://www.youtube.com/channel/UCW6oYt_3QSl7J2HSHNqwXWw" rel="noopener ugc nofollow" target="_blank"> Youtube </a>、<a class="ae ks" href="https://www.buymeacoffee.com/nabindhakal" rel="noopener ugc nofollow" target="_blank"> BuyMeACoffee </a>和<a class="ae ks" href="https://www.instagram.com/nbn_d_/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上查找。</p><p id="64cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">拜访:<a class="ae ks" href="https://flutterjunction.com/" rel="noopener ugc nofollow" target="_blank">颤振结</a></p><p id="408f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">投稿:</strong> <a class="ae ks" href="https://www.buymeacoffee.com/nabindhakal" rel="noopener ugc nofollow" target="_blank"> BuyMeACoffee </a></p><h1 id="a0bb" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">结论</h1><p id="ae5a" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">希望这篇文章对你有所帮助，让你学到新的东西。我在这篇文章中使用了一些对你们中的一些人来说可能是新的东西。</p><p id="cf25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你学到了新的东西或者想提出一些建议，请在评论中告诉我。</p><p id="562d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这篇文章，请点击👏图标，它为向大家提供新事物提供了动力。</p><p id="fd12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">也请关注令人兴奋的文章和项目的更新。</p><p id="a992" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过分享学习在学习过程中产生巨大的影响，并使社区越来越大。</p><p id="3e8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分享是吸引其他爱好者的磁石。</p><p id="83ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，让我们迈出一小步，让我们的学习社区变得更大。</p><p id="84dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与你的朋友分享这篇文章，或者如果你喜欢这篇文章，就在推特上发表。</p><h1 id="586e" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak">在:</strong>吃得饱</h1><div class="lj lk ez fb ll lm"><a href="https://github.com/nbnD/alertdialog" rel="noopener  ugc nofollow" target="_blank"><div class="ln ab dw"><div class="lo ab lp cl cj lq"><h2 class="bd hj fi z dy lr ea eb ls ed ef hh bi translated">GitHub-nbnD/警报对话框</h2><div class="lt l"><h3 class="bd b fi z dy lr ea eb ls ed ef dx translated">一个新的颤振项目。这个项目是颤振应用的起点。一些帮助您入门的资源…</h3></div><div class="lu l"><p class="bd b fp z dy lr ea eb ls ed ef dx translated">github.com</p></div></div><div class="lv l"><div class="lw l lx ly lz lv ma jj lm"/></div></div></a></div></div></div>    
</body>
</html>