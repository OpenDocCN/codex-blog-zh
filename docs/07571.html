<html>
<head>
<title>Closure in JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JS中的闭包</h1>
<blockquote>原文：<a href="https://medium.com/codex/closure-in-js-7cb0c4d592b?source=collection_archive---------21-----------------------#2022-06-18">https://medium.com/codex/closure-in-js-7cb0c4d592b?source=collection_archive---------21-----------------------#2022-06-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a78b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">闭包是JavaScript中的一个概念。这是一个普遍令人困惑的概念，在与web开发人员的常见访谈中会被问到。我们将在这个博客中讨论这个概念。</p><p id="9a84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在继续之前，我们将熟悉JavaScript中的变量作用域。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="abda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JS有三种类型的作用域。</p><p id="3667" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">全局范围:-在函数外部声明的变量，称为全局范围变量。您可以在javascript程序的任何地方访问这些变量。</p><p id="d9e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">局部作用域:-在函数内部声明的变量，不能在函数外部访问这些变量。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="0628" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果用“let或var”声明的变量是可变的。您可以随时更改该变量的值。另一方面，“const”声明的变量本质上是不可变的。您不能更改此变量值。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h1 id="56b9" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated"><span class="l ki kj kk bm kl km kn ko kp di"> C </span> losure:-在JavaScript中，函数中引用外部作用域中变量的闭包形成其内部作用域。闭包保留了外部作用域和内部作用域。</h1><p id="3751" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">简单地说，闭包可以定义为包含两个嵌套函数或返回类型的JS特性，子函数可以访问父函数变量。你可以说，为了提供一个函数全局作用域变量，创建了另一个函数。Shah沙阿</p><p id="dad7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们借助一个例子来看看闭包是如何工作的</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es kv"><img src="../Images/316c3ee8e033f456d0a45f31a35915c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*7F_SXbgzJ8Sxbw3jBoG2qg.png"/></div></figure><p id="37cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码是一个简单的闭包函数的例子。在这段代码中有两个名为child和parent的函数。子函数访问子函数内部的父函数变量“g__var”。如您所见，父函数为子函数提供了子变量的可访问性。</p><h1 id="f5f2" class="jk jl hi bd jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh bi translated">JavaScript中闭包的实际用途是什么？</h1><ol class=""><li id="fedf" class="li lj hi ih b ii kq im kr iq lk iu ll iy lm jc ln lo lp lq bi translated">使用私有变量和方法</li><li id="d776" class="li lj hi ih b ii lr im ls iq lt iu lu iy lv jc ln lo lp lq bi translated">维护每个函数调用之间的状态:</li></ol><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es lw"><img src="../Images/1814f2325c1b1199a314ca23ea12c708.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*irYFeaLKOHOuDBAnyQP8hw.png"/></div><figcaption class="lx ly et er es lz ma bd b be z dx translated">使用私有变量和方法</figcaption></figure><p id="be36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码是用函数私有变量和方法的闭包。主要函数是setrentvalue，当我们在setrentvalue中传递参数时，就设置了租金变量的初始值。并且它使全局类型成为方法的范围。该方法使用这个变量作为全局变量，我们可以执行各种操作，如增加租金和减少租金等。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es mb"><img src="../Images/132cb6aa0a4bff8eb9ca9f5a5e84ffa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*0RaZdB1nMH594oKlfjV1rA.png"/></div><figcaption class="lx ly et er es lz ma bd b be z dx translated">维护函数调用之间的状态</figcaption></figure><p id="f9e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码主要说明函数调用之间的条件。如你所见，当我们第一次调用multivalue = 9时，调用这个函数后，下一次调用multi的初始值等于multi的初始值9 * 2 = 18。18.值的倍数与之前的值相等。</p><p id="930f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢</p></div></div>    
</body>
</html>