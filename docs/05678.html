<html>
<head>
<title>Building a book audit web app with python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用python构建图书审计web应用程序</h1>
<blockquote>原文：<a href="https://medium.com/codex/building-a-book-audit-web-app-with-python-e118e749f03a?source=collection_archive---------8-----------------------#2022-03-21">https://medium.com/codex/building-a-book-audit-web-app-with-python-e118e749f03a?source=collection_archive---------8-----------------------#2022-03-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ea21af96341eb8721c5806ad31a81e42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oqapYUlTiMY1XrURBdIGbQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Anthony Tran 在<a class="ae iu" href="https://unsplash.com/s/photos/book-audit?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="5faf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本教程中，我们将建立一个书评网络应用程序。用户可以加入和评价管理员上传的书籍。</p><p id="e5ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将使用django构建我们的应用程序。这是我们最终的web应用程序的截图。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/62742c5cb9841e5b03481718c87da458.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WfG-NaDdsiKopoKYN2cPaw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">主页</figcaption></figure><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/29e3504b1fba483d91c97d5faba0eaea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rTdJhI8Ja8Tl4mNwkIg-dw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">审查页面</figcaption></figure><p id="c4d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基本功能包括发表评论和给出1到5星的评分。更多功能即将推出。</p><p id="9382" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">要求</strong></p><ol class=""><li id="9a79" class="jy jz hi ix b iy iz jc jd jg ka jk kb jo kc js kd ke kf kg bi translated">姜戈</li></ol><p id="a8be" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kh ki kj kk b">pip3 install django</code>安装它</p><p id="5533" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">项目设置</strong></p><p id="5b0b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我们需要创建一个包含django应用程序的项目。运行<code class="du kh ki kj kk b">django-admin startproject book_review</code>。光盘放入<code class="du kh ki kj kk b">book_review</code>创建的文件夹。运行<code class="du kh ki kj kk b">python3 manage.py startapp book</code>，这将创建一个名为<code class="du kh ki kj kk b">book</code>的应用程序</p><p id="8f27" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们配置我们的项目，在<code class="du kh ki kj kk b">settings.py</code>中将我们的应用程序添加到<code class="du kh ki kj kk b">installed_apps</code>列表中。添加以下内容</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="ad2a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的应用程序将需要存储媒体文件，如图书封面图像。为此，我们需要提供文件的路径。在<code class="du kh ki kj kk b">settings.py</code>中添加以下内容</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="cacb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">项目路线</strong></p><p id="aa5a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们需要为我们的主要项目创建路线。在<code class="du kh ki kj kk b">book_review/urls.py</code>中添加以下内容</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="4962" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">是时候进入我们的主应用程序了。我们首先需要几个模型，一个是要评论的书，下一个模型是要评论的。</p><p id="ce24" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的图书模型将有一个标题、图书描述、图书封面，最后是图书封面图像。</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="a98d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于审查模型，我们将有以下一个用户，审查日期，星级槽和评论槽。</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="1cdb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，让我们创建模型来执行此操作<code class="du kh ki kj kk b">python3 manage.py makemigrations</code>这将创建模型定义的表，下一次运行<code class="du kh ki kj kk b">python3 manage.py migrate</code>这将迁移数据。我们仍然需要创建一个超级用户，他将负责上传要审阅的书籍。创建一个超级用户运行<code class="du kh ki kj kk b">python3 manage.py createsuperuser</code>你将被要求填写你的用户名，电子邮件和一个秘密密码。</p><p id="af83" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">足够的模型和管理设置，我们现在需要创建一个评论表，我们的用户将不得不填写，而评级我们的书。在<code class="du kh ki kj kk b">book/forms.py</code>中添加以下内容</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="f2d5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我们需要管理员来识别我们的模型，在<code class="du kh ki kj kk b">book/admin.py </code>中，让我们注册我们的模型</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="8d95" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们的应用程序现在一起出现了。让我们来看看我们的观点。首先，我们需要一个视图来列出我们需要评论的书。在<code class="du kh ki kj kk b">book/views.py</code>中添加以下内容</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">主页视图将列出要评论的书籍</figcaption></figure><p id="9cf8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为主页创建一个模板。在<code class="du kh ki kj kk b">book/templates/book/home.html</code>中添加以下内容。</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="a14a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">路线</strong></p><p id="caa7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">创建一个保存我们路线的文件<code class="du kh ki kj kk b">book/urls.py</code>。在内部添加以下内容</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="5595" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要查看我们的应用程序的进展，我们首先需要运行我们的服务器。跑<code class="du kh ki kj kk b">python3 manage.py runserver</code>。在您的浏览器中，转到<code class="du kh ki kj kk b"><a class="ae iu" href="http://127.0.0.1:8000/admin" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8000/admin</a></code>，使用您在<strong class="ix hj">创建超级用户</strong>步骤中创建的凭证登录。在图书槽中添加图书，如下所示。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/a0cf1e9fa5f1af23f0c99017d5a1b4cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KnlWx4T6JdJ5yMeehd7vHw.png"/></div></div></figure><p id="b3c2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">添加您的图书并返回到您的主页路径，您应该会看到类似这样的内容</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/62742c5cb9841e5b03481718c87da458.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WfG-NaDdsiKopoKYN2cPaw.png"/></div></div></figure><p id="938c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">查看功能</strong></p><p id="e528" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在<code class="du kh ki kj kk b">book/views.py</code>中添加以下内容。</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="504f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里是<code class="du kh ki kj kk b">book/rev.html</code>中的对应模板</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="b400" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">成功重定向</strong></p><p id="36ad" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在一个成功的审查后，我们需要重定向我们的用户到一个成功的页面。这是视图及其模板</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="d439" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kh ki kj kk b">book/templates/book/success.html</code></p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="d4c3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">最终路线</strong></p><p id="f698" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们需要为剩下的功能创建路线。这是我们最后的<code class="du kh ki kj kk b">book/urls.py</code>文件</p><figure class="ju jv jw jx fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="563f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在运行您的服务器。做一些评论，并登录到您的管理员，看到在评论仪表板的进展。这是我的评论仪表板</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/5cad01b655fac1a61d9a22ad5f973b78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uLFwvOPshA8W4h7jyMRuNA.png"/></div></div></figure><p id="719f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢阅读。请随意参与这个项目。下面是<a class="ae iu" href="https://github.com/bunnythecompiler/book_review" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">的源代码</strong> </a></p></div></div>    
</body>
</html>