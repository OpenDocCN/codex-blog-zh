<html>
<head>
<title>Create a reusable custom Button in React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React Native中创建可重用的自定义按钮</h1>
<blockquote>原文：<a href="https://medium.com/codex/create-a-reusable-custom-button-in-react-native-2a2910425695?source=collection_archive---------14-----------------------#2021-08-16">https://medium.com/codex/create-a-reusable-custom-button-in-react-native-2a2910425695?source=collection_archive---------14-----------------------#2021-08-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/95dc7d115d3eccf50b0bffdc6971aec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jST2IsyQO6M36DMYhAuqLA.jpeg"/></div></div></figure><p id="6ac5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">反应原生船有一个默认的按钮组件，你可以在这里找到<a class="ae jo" href="https://reactnative.dev/docs/button" rel="noopener ugc nofollow" target="_blank"/>。这个按钮的一个大缺点是它不是高度可定制的。为此，如果你想玩很多东西，就有必要创建你自己的自定义按钮组件。</p><p id="9848" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用React Native的<code class="du jp jq jr js b">TouchableOpacity</code>组件来创建我们的自定义按钮组件。这个按钮也可以接受道具。</p><p id="e2d2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，</p><ul class=""><li id="be1f" class="jt ju hi is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated">建立一个新的React本地项目；</li><li id="f6f9" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">创建一个<code class="du jp jq jr js b">src</code>文件夹，并在其中添加一个<code class="du jp jq jr js b">component</code>文件夹。</li><li id="7d94" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">在<code class="du jp jq jr js b">component</code>文件夹中创建另一个文件夹，命名为<code class="du jp jq jr js b">CustomButton</code>。</li><li id="b523" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated">在<code class="du jp jq jr js b">CustomButton</code>内部，添加一个<code class="du jp jq jr js b">index.js</code>文件。</li></ul><p id="c520" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您的文件结构应该如下所示</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="b07c" class="kp kq hi js b fi kr ks l kt ku">src <br/>    |components<br/>            |CustomButton<br/>                |index.jsRender the CustomButton in your App’s index.js;</span></pre><p id="a123" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在CustomButton的index.js文件中添加以下代码行。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="81cf" class="kp kq hi js b fi kr ks l kt ku">// CustomButton/index.js<br/>import React from 'react';<br/>import {Text, StyleSheet} from 'react-native';</span><span id="a250" class="kp kq hi js b fi kv ks l kt ku">const CustomButton = () =&gt; {<br/>  return (<br/>        &lt;View style={styles.container}&gt;<br/>           &lt;Text&gt; hello button &lt;/Text&gt; <br/>        &lt;/View&gt;<br/>    );<br/>};</span><span id="8307" class="kp kq hi js b fi kv ks l kt ku">export default CustomButton;</span><span id="7ddc" class="kp kq hi js b fi kv ks l kt ku">const styles = StyleSheet.create({<br/>  container: {<br/>    marginTop: 50,<br/>  },<br/>});</span></pre><p id="e952" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用<code class="du jp jq jr js b">TouchableOpacity</code>替换文件中的<code class="du jp jq jr js b">View</code>组件，</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="258e" class="kp kq hi js b fi kr ks l kt ku">..<br/>import {Text, TouchableOpacity StyleSheet} from 'react-native';<br/>...<br/>    &lt;TouchableOpacity style={styles.container}&gt;<br/>      &lt;Text&gt; hello button &lt;/Text&gt;<br/>    &lt;/TouchableOpacity&gt;<br/>...</span></pre><p id="e860" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jp jq jr js b">TouchableOpacity</code>接收<code class="du jp jq jr js b">View</code>道具和另一个接受函数的<code class="du jp jq jr js b">onPress</code>。</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="e86b" class="kp kq hi js b fi kr ks l kt ku">...<br/> &lt;TouchableOpacity style={styles.container} onPress={() =&gt; console.log("Haha I'm about to be button")}&gt; <br/>      &lt;Text&gt; hello button &lt;/Text&gt;<br/>...</span></pre><p id="107a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有了这个，任何时候我们按下<code class="du jp jq jr js b">hello button</code>文本，我们都会在控制台中看到一个“哈哈我就要成为按钮了”，去试试吧。</p><p id="a4ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们开始设计这个按钮</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="cdf1" class="kp kq hi js b fi kr ks l kt ku">// Here I changed the text and added style prop<br/>...<br/> &lt;Text style={styles.title}&gt; SEND &lt;/Text&gt;</span></pre><p id="8f58" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是新的款式</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="f7be" class="kp kq hi js b fi kr ks l kt ku">const styles = StyleSheet.create({<br/>  container: {<br/>    marginTop: 50,<br/>    backgroundColor: '#512DA8',<br/>    height: 48,<br/>    alignItems: 'center',<br/>    justifyContent: 'center'<br/>  },<br/>  title: {<br/>      color: "#fff",<br/>      fontSize: 16,<br/>  }<br/>});</span></pre><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/fe3e345cfa346203efddea52e367dedd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ScehMUsKyd76sWQy"/></div></div></figure><p id="a2e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当然，您可以添加您认为合适的其他样式。</p><p id="6368" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">目前，我们的按钮是静态的，让我们把它变成动态的和可重用的。也就是说，如果我们想把标题从<code class="du jp jq jr js b">SEND</code>改成<code class="du jp jq jr js b">CONTINUE</code>怎么办，按钮的颜色怎么办，如果我们想让按钮在按下时做别的事情怎么办等等。</p><p id="a1d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了实现这一点，我们将让按钮接受一些道具</p><ul class=""><li id="0df7" class="jt ju hi is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated"><strong class="is hj">标题</strong>:改变按钮的标题。它采用一个<code class="du jp jq jr js b">string</code>数据类型。</li><li id="5106" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hj"> onPress </strong>:传入任意选择的函数。它需要一个函数。</li><li id="cba4" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hj">按钮颜色</strong>:改变按钮的颜色。它采用一个<code class="du jp jq jr js b">string</code>数据类型。</li><li id="a27a" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hj">标题颜色</strong>:改变标题文本的颜色。它采用一个<code class="du jp jq jr js b">string</code>数据类型。</li></ul><p id="7360" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，我们将添加通用样式属性，以防我们想要覆盖默认样式的<code class="du jp jq jr js b">title</code>和<code class="du jp jq jr js b">TouchableOpacity</code></p><ul class=""><li id="8523" class="jt ju hi is b it iu ix iy jb jv jf jw jj jx jn jy jz ka kb bi translated"><strong class="is hj"> buttonStyle </strong>:接受样式的对象。</li><li id="5b34" class="jt ju hi is b it kc ix kd jb ke jf kf jj kg jn jy jz ka kb bi translated"><strong class="is hj"> textStyle </strong>:它接受一个样式的对象。</li></ul><p id="a2a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">像这样设置道具</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="6f42" class="kp kq hi js b fi kr ks l kt ku">...<br/>const CustomButton = ({<br/>  title,<br/>  onPress,<br/>  buttonColor,<br/>  titleColor,<br/>  buttonStyle,<br/>  textStyle,<br/>}) =&gt; {<br/>  return (<br/>...</span></pre><p id="8025" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后把它们放在适当的位置</p><p id="ad37" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于<strong class="is hj">标题</strong>和<strong class="is hj">按下</strong>道具</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="b991" class="kp kq hi js b fi kr ks l kt ku">&lt;TouchableOpacity<br/>  style={styles.container}<br/>    // Here<br/>  onPress={onPress}<br/>&gt;<br/>//Here too<br/>  &lt;Text style={styles.title}&gt; {title} &lt;/Text&gt;<br/>...</span></pre><p id="0b3c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，对于<code class="du jp jq jr js b">TouchableOpacity</code>我们有</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="51a4" class="kp kq hi js b fi kr ks l kt ku">...<br/>&lt;TouchableOpacity<br/>// This here<br/>      style={{...styles.container, ...buttonStyle, backgroundColor: buttonColor || '#512DA8' }}<br/>      onPress={onPress}<br/>&gt;<br/>...</span></pre><p id="8a26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于<code class="du jp jq jr js b">Text</code>,我们有</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="4951" class="kp kq hi js b fi kr ks l kt ku">//This here too<br/>...<br/>&lt;Text style={{...styles.title, ...textStyle, color: titleColor || "#fff"}}&gt; {title} &lt;/Text&gt;<br/>...</span></pre><blockquote class="kx ky kz"><p id="8341" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated"><em class="hi">注意我们如何使用JavaScript</em><a class="ae jo" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank"><em class="hi">spread操作符</em> </a> <em class="hi">来适应许多样式，我们还分别为按钮和文本添加了默认的背景颜色和文本颜色。他们将充当后援。</em></p></blockquote><p id="0eac" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是当前的代码</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="8d6b" class="kp kq hi js b fi kr ks l kt ku">import React from 'react';<br/>import {Text, TouchableOpacity, StyleSheet} from 'react-native';</span><span id="5f91" class="kp kq hi js b fi kv ks l kt ku">const CustomButton = ({<br/>  title,<br/>  onPress,<br/>  buttonColor,<br/>  titleColor,<br/>  buttonStyle,<br/>  textStyle,<br/>}) =&gt; {<br/>  return (<br/>    &lt;TouchableOpacity<br/>      style={{<br/>        ...styles.container,<br/>        ...buttonStyle,<br/>        backgroundColor: buttonColor || '#512DA8',<br/>      }}<br/>      onPress={onPress}&gt;<br/>      &lt;Text<br/>        style={{...styles.title, ...textStyle, color: titleColor || '#fff'}}&gt;<br/>        {title}<br/>      &lt;/Text&gt;<br/>    &lt;/TouchableOpacity&gt;<br/>  );<br/>};</span><span id="c1c5" class="kp kq hi js b fi kv ks l kt ku">export default CustomButton;</span><span id="3d18" class="kp kq hi js b fi kv ks l kt ku">const styles = StyleSheet.create({<br/>  container: {<br/>    marginTop: 50,<br/>    backgroundColor: '#512DA8',<br/>    height: 48,<br/>    alignItems: 'center',<br/>    justifyContent: 'center',<br/>  },<br/>  title: {<br/>    color: '#fff',<br/>    fontSize: 16,<br/>  },<br/>});</span></pre><p id="2a0b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了利用这些道具，打开App.js或任何你渲染过<code class="du jp jq jr js b">CustomButton</code>组件的地方，添加如下内容:</p><pre class="kh ki kj kk fd kl js km kn aw ko bi"><span id="9397" class="kp kq hi js b fi kr ks l kt ku">...<br/>    &lt;&gt;<br/>      &lt;CustomButton<br/>        buttonColor="#536DFE"<br/>        title="SEND"<br/>        buttonStyle={{width: '90%', alignSelf: 'center'}}<br/>        textStyle={{fontSize: 20}}<br/>        onPress={() =&gt; console.log('I am the first button')}<br/>      /&gt;</span><span id="5f58" class="kp kq hi js b fi kv ks l kt ku">&lt;CustomButton<br/>        buttonColor="#4DB6AC"<br/>        titleColor="#000"<br/>        title="DONE"<br/>        buttonStyle={{width: '80%', alignSelf: 'center'}}<br/>        textStyle={{fontSize: 20}}<br/>        onPress={() =&gt; console.log('I am the second button')}<br/>      /&gt;</span><span id="4e22" class="kp kq hi js b fi kv ks l kt ku">&lt;CustomButton<br/>        buttonColor="#9C27B0"<br/>        titleColor="#FFF"<br/>        title="DONE"<br/>        buttonStyle={{width: '60%', alignSelf: 'center'}}<br/>        textStyle={{fontSize: 20}}<br/>        onPress={() =&gt; console.log('I am the third button')}<br/>      /&gt;</span><span id="9b9d" class="kp kq hi js b fi kv ks l kt ku">&lt;CustomButton<br/>        buttonColor="transparent"<br/>        titleColor="#000"<br/>        title="CANCEL"<br/>        buttonStyle={{<br/>          width: '40%',<br/>          alignSelf: 'center',<br/>          borderWidth: 1,<br/>          borderColor: '#1c1c1c',<br/>          borderRadius: 6,<br/>        }}<br/>        textStyle={{fontSize: 20}}<br/>        onPress={() =&gt; console.log('I am the fourth button')}<br/>      /&gt;<br/>    &lt;/&gt;<br/>...</span></pre><p id="fc0b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们会得到</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/0b95775ba7fedc907b7604298ef0b141.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QNx47iw7mh6K7TIh"/></div></div></figure><p id="9920" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就这样，你成功地在React Native中创建了一个可重用的自定义按钮。</p><blockquote class="kx ky kz"><p id="e585" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated">如果您喜欢这篇文章，请点赞、分享并添加您的评论。</p><p id="5578" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated"><em class="hi">你也可以关注我的</em> <a class="ae jo" href="http://twitter.com/talk2dera" rel="noopener ugc nofollow" target="_blank"> <em class="hi">推特</em> </a></p></blockquote></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="1e71" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="la">原载于</em><a class="ae jo" href="https://dera.hashnode.dev/create-a-reusable-custom-button-in-react-native" rel="noopener ugc nofollow" target="_blank"><em class="la">https://dera . hashnode . dev</em></a><em class="la">。</em></p></div></div>    
</body>
</html>