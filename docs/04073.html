<html>
<head>
<title>💪Deploying JBoss AS/Wildfly on CentOS using Bicep</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">💪使用Bicep在CentOS上部署JBoss AS/Wildfly</h1>
<blockquote>原文：<a href="https://medium.com/codex/deploying-jboss-as-wildfly-on-centos-using-bicep-4eef5206318f?source=collection_archive---------4-----------------------#2021-10-23">https://medium.com/codex/deploying-jboss-as-wildfly-on-centos-using-bicep-4eef5206318f?source=collection_archive---------4-----------------------#2021-10-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="eb3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">了解如何使用基础设施即代码在Azure的CentOS上部署WildFly节点。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/3b16baca7d0a22fec5c4363a4297b819.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_UkpEkpgKy6jiLke5TQFw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">💪使用Bicep在CentOS上部署JBoss AS/Wildfly</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="8b4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文将回顾如何通过Azure Bicep利用基础设施即代码在CentOS虚拟机上部署Wildfly。</p><h1 id="2c75" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">什么是野花？</h1><p id="a12b" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">WildFly，原名JBoss AS，或简称JBoss，是由JBoss创作的应用服务器。WildFly是一个开源的、健壮的、模块化的、轻量级的应用服务器，可以帮助您构建令人惊叹的应用程序。</p><p id="ea54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">WildFly提供了一个Java web应用程序，它是对JVM的扩展，具有完整的运行时环境，可以创建一端的数据库到另一端的web客户机的连接。</p><p id="4550" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它是雅加达EE 8全平台和网络配置文件兼容。你可以在这里查看官方网站:</p><div class="ld le ez fb lf lg"><a href="https://www.wildfly.org/" rel="noopener  ugc nofollow" target="_blank"><div class="lh ab dw"><div class="li ab lj cl cj lk"><h2 class="bd hj fi z dy ll ea eb lm ed ef hh bi translated">野花</h2><div class="ln l"><h3 class="bd b fi z dy ll ea eb lm ed ef dx translated">WildFly中的配置是集中的、简单的和以用户为中心的。配置文件由子系统组织…</h3></div><div class="lo l"><p class="bd b fp z dy ll ea eb lm ed ef dx translated">www.wildfly.org</p></div></div></div></a></div><h1 id="2094" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">JBoss和WildFly有什么区别？</h1><p id="49a7" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">JBoss AS/WildFly是可以测试的社区项目的名称<strong class="ih hj">。这个社区项目最终会成为JBoss EAP。“WildFly”只是“AS”的新名称，它代表应用服务器。</strong></p><h1 id="de10" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">该解决方案将由以下组件组成:</h1><ul class=""><li id="abe2" class="lp lq hi ih b ii ky im kz iq lr iu ls iy lt jc lu lv lw lx bi translated">CentOS 8虚拟机</li><li id="641e" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">虚拟网络</li><li id="411c" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">野花18.0.1 .决赛</li><li id="f711" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">部署在WildFly上的名为JBoss-EAP on Azure的示例Java应用程序</li><li id="55b1" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">存储帐户</li></ul><h2 id="fda5" class="md kb hi bd kc me mf mg kg mh mi mj kk iq mk ml ko iu mm mn ks iy mo mp kw mq bi translated">先决条件:</h2><ul class=""><li id="afa7" class="lp lq hi ih b ii ky im kz iq lr iu ls iy lt jc lu lv lw lx bi translated">有效的Azure订阅</li><li id="2152" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">Azure二头肌已安装</li><li id="7c61" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">Azure PowerShell已安装</li><li id="86f7" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">Azure订阅中的资源组</li><li id="3fb7" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">访问WildFly管理控制台的WildFly用户名和密码。</li></ul><h2 id="ea8e" class="md kb hi bd kc me mf mg kg mh mi mj kk iq mk ml ko iu mm mn ks iy mo mp kw mq bi translated">👨‍💻我们的解决方案将包括以下文件:</h2><ul class=""><li id="d2c8" class="lp lq hi ih b ii ky im kz iq lr iu ls iy lt jc lu lv lw lx bi translated">📄<strong class="ih hj"> <em class="mr"> main.bicep </em> </strong>:这是我们主要的二头肌模板</li><li id="3d91" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">📄<strong class="ih hj"><em class="mr">main . parameters . JSON</em></strong>:该文件包含部署时传递的参数</li><li id="0ba0" class="lp lq hi ih b ii ly im lz iq ma iu mb iy mc jc lu lv lw lx bi translated">📁<strong class="ih hj"> <em class="mr">脚本</em> </strong>:该文件夹将包含两个脚本(<em class="mr">wildly-setup . sh</em>和<em class="mr"> JBoss-EAP_on_Azure.war </em>)，您应该将它们存储/上传到一个存储帐户中。</li></ul><p id="c34d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以从该回购中获取文件:</p><div class="ld le ez fb lf lg"><a href="https://github.com/daveRendon/azinsider/tree/main/application-workloads/wildfly" rel="noopener  ugc nofollow" target="_blank"><div class="lh ab dw"><div class="li ab lj cl cj lk"><h2 class="bd hj fi z dy ll ea eb lm ed ef hh bi translated">主daveRendon/azinsider的azin sider/应用程序工作负载/wildfly</h2><div class="ln l"><h3 class="bd b fi z dy ll ea eb lm ed ef dx translated">在GitHub上创建一个帐户，为daveRendon/azinsider开发做出贡献。</h3></div><div class="lo l"><p class="bd b fp z dy ll ea eb lm ed ef dx translated">github.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx jn lg"/></div></div></a></div><p id="53af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们开始使用Bicep模板之前，创建一个资源组和一个存储帐户是很重要的。我们将在存储帐户中创建一个名为“脚本”的容器，并上传这两个脚本(<em class="mr">wildly-setup . sh</em>和<em class="mr"> JBoss-EAP_on_Azure.war </em>)。</p><p id="61bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，确保您提供存储帐户的访问权限。如下图所示设置共享访问签名:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es my"><img src="../Images/2b9c9b05e328ea5dd840c84229def86f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J7Cf2DT4wp-REn3w7Nz3Nw.png"/></div></div></figure><p id="b329" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上图所示，您可以通过转到您的存储帐户，选择共享访问签名选项来配置访问权限。然后指定开始和到期日期/时间。最后，确保只选择HTTPS，并生成SAS和连接字符串。</p><p id="e612" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">连接字符串将是<em class="mr"> artifactsLocation </em>参数。SAS令牌将是<em class="mr"> artifactsLocationSASToken参数。</em></p><p id="ba4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不是让我们开始工作在我们的二头肌模板。</p><h1 id="1ea2" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">1.Azure二头肌模板-参数。</h1><p id="9395" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">现在让我们来研究参数。我们将定义以下内容:</p><pre class="je jf jg jh fd mz na nb nc aw nd bi"><span id="b9d2" class="md kb hi na b fi ne nf l ng nh">@description('Linux VM user account name')<br/>param adminUsername string</span><span id="d621" class="md kb hi na b fi ni nf l ng nh">@allowed([<br/>  'password'<br/>  'sshPublicKey'<br/>])<br/>@description('Type of authentication to use on the Virtual Machine')<br/>param authenticationType string = 'password'</span><span id="e03c" class="md kb hi na b fi ni nf l ng nh">@description('Password or SSH key for the Virtual Machine')<br/>@secure()<br/>param adminPasswordOrSSHKey string</span><span id="d593" class="md kb hi na b fi ni nf l ng nh">@description('User name for WildFly Manager')<br/>param wildflyUserName string</span><span id="d37b" class="md kb hi na b fi ni nf l ng nh">@minLength(12)<br/>@description('Password for WildFly Manager')<br/>@secure()<br/>param wildflyPassword string</span><span id="94f7" class="md kb hi na b fi ni nf l ng nh">@description('The base URI where artifacts required by this template are located.')<br/>param artifactsLocation string</span><span id="60a3" class="md kb hi na b fi ni nf l ng nh">@description('The sasToken required to access _artifactsLocation.')<br/>@secure()<br/>param artifactsLocationSasToken string</span><span id="ad51" class="md kb hi na b fi ni nf l ng nh">@description('Location for all resources')<br/>param location string = resourceGroup().location</span><span id="ca1b" class="md kb hi na b fi ni nf l ng nh">@description('The size of the Virtual Machine')<br/>param vmSize string = 'Standard_D2s_v3'</span></pre><p id="2f01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，我们引用了artifactsLocation和SAS令牌。我们将脚本作为自定义扩展来执行。</p><p id="5724" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们定义变量。</p><h1 id="26ec" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">2.Azure二头肌模板-变量。</h1><p id="1042" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">我们将定义以下变量:</p><pre class="je jf jg jh fd mz na nb nc aw nd bi"><span id="5130" class="md kb hi na b fi ne nf l ng nh">var singlequote = '\''<br/>var imagePublisher = 'OpenLogic'<br/>var imageOffer = 'CentOS'<br/>var imageSKU = '8.0'<br/>var nicName_var = 'centos-vm-nic'<br/>var addressPrefix = '10.0.0.0/16'<br/>var subnetName = 'centosvm-subnet'<br/>var subnetPrefix = '10.0.0.0/24'<br/>var vmName_var = 'centos-vm'<br/>var virtualNetworkName_var = 'centosvm-vnet'<br/>var bootStorageAccountName_var = 'bootstrg${uniqueString(resourceGroup().id)}'<br/>var storageAccountType = 'Standard_LRS'<br/>var linuxConfiguration = {<br/>  disablePasswordAuthentication: true<br/>  ssh: {<br/>    publicKeys: [<br/>      {<br/>        path: '/home/${adminUsername}/.ssh/authorized_keys'<br/>        keyData: adminPasswordOrSSHKey<br/>      }<br/>    ]<br/>  }<br/>}<br/>var subnetRef = resourceId('Microsoft.Network/virtualNetworks/subnets', virtualNetworkName_var, subnetName)<br/>var scriptFolder = 'scripts'<br/>var fileToBeDownloaded = 'JBoss-EAP_on_Azure.war'<br/>var scriptArgs = '-a ${uri(artifactsLocation, '.')} -t "${artifactsLocationSasToken}" -p ${scriptFolder} -f ${fileToBeDownloaded}'</span></pre><p id="d805" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，我们使用变量“scriptArgs”来引用工件，并包含对“JBoss-EAP_on_Azure.war”文件的引用。</p><p id="d38d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们来定义资源。</p><h1 id="2911" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">3.Azure二头肌模板—参考资料。</h1><p id="2a84" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">下面的代码显示了资源定义:</p><pre class="je jf jg jh fd mz na nb nc aw nd bi"><span id="fc6e" class="md kb hi na b fi ne nf l ng nh">resource bootStorageAccountName 'Microsoft.Storage/storageAccounts@2021-02-01' = {<br/>  name: bootStorageAccountName_var<br/>  location: location<br/>  sku: {<br/>    name: storageAccountType<br/>  }<br/>  kind: 'Storage'<br/>  tags: {<br/>    QuickstartName: 'WildFly 18 on CentOS 8 (stand-alone VM)'<br/>  }<br/>}</span><span id="98a3" class="md kb hi na b fi ni nf l ng nh">resource virtualNetworkName 'Microsoft.Network/virtualNetworks@2019-11-01' = {<br/>  name: virtualNetworkName_var<br/>  location: location<br/>  tags: {<br/>    QuickstartName: 'WildFly 18 on CentOS 8 (stand-alone VM)'<br/>  }<br/>  properties: {<br/>    addressSpace: {<br/>      addressPrefixes: [<br/>        addressPrefix<br/>      ]<br/>    }<br/>    subnets: [<br/>      {<br/>        name: subnetName<br/>        properties: {<br/>          addressPrefix: subnetPrefix<br/>        }<br/>      }<br/>    ]<br/>  }<br/>}</span><span id="f5d6" class="md kb hi na b fi ni nf l ng nh">resource nicName 'Microsoft.Network/networkInterfaces@2019-11-01' = {<br/>  name: nicName_var<br/>  location: location<br/>  tags: {<br/>    QuickstartName: 'WildFly 18 on CentOS 8 (stand-alone VM)'<br/>  }<br/>  properties: {<br/>    ipConfigurations: [<br/>      {<br/>        name: 'ipconfig1'<br/>        properties: {<br/>          privateIPAllocationMethod: 'Dynamic'<br/>          subnet: {<br/>            id: subnetRef<br/>          }<br/>        }<br/>      }<br/>    ]<br/>  }<br/>  dependsOn: [<br/>    virtualNetworkName<br/>  ]<br/>}</span><span id="075c" class="md kb hi na b fi ni nf l ng nh">resource vmName 'Microsoft.Compute/virtualMachines@2019-12-01' = {<br/>  name: vmName_var<br/>  location: location<br/>  tags: {<br/>    QuickstartName: 'WildFly 18 on CentOS 8 (stand-alone VM)'<br/>  }<br/>  properties: {<br/>    hardwareProfile: {<br/>      vmSize: vmSize<br/>    }<br/>    osProfile: {<br/>      computerName: vmName_var<br/>      adminUsername: adminUsername<br/>      adminPassword: adminPasswordOrSSHKey<br/>      linuxConfiguration: ((authenticationType == 'password') ? json('null') : linuxConfiguration)<br/>    }<br/>    storageProfile: {<br/>      imageReference: {<br/>        publisher: imagePublisher<br/>        offer: imageOffer<br/>        sku: imageSKU<br/>        version: 'latest'<br/>      }<br/>      osDisk: {<br/>        name: '${vmName_var}_OSDisk'<br/>        caching: 'ReadWrite'<br/>        createOption: 'FromImage'<br/>      }<br/>    }<br/>    networkProfile: {<br/>      networkInterfaces: [<br/>        {<br/>          id: nicName.id<br/>        }<br/>      ]<br/>    }<br/>    diagnosticsProfile: {<br/>      bootDiagnostics: {<br/>        enabled: true<br/>        storageUri: reference(bootStorageAccountName_var, '2021-02-01').primaryEndpoints.blob<br/>      }<br/>    }<br/>  }<br/>  dependsOn: [<br/>    bootStorageAccountName<br/>  ]<br/>}</span><span id="0c82" class="md kb hi na b fi ni nf l ng nh">resource vmName_wildfly_setup 'Microsoft.Compute/virtualMachines/extensions@2019-12-01' = {<br/>  parent: vmName<br/>  name: 'wildfly-setup'<br/>  location: location<br/>  properties: {<br/>    publisher: 'Microsoft.Azure.Extensions'<br/>    type: 'CustomScript'<br/>    typeHandlerVersion: '2.1'<br/>    autoUpgradeMinorVersion: true<br/>    settings: {<br/>      fileUris: [<br/>        uri(artifactsLocation, 'scripts/wildfly-setup.sh${artifactsLocationSasToken}')<br/>      ]<br/>    }<br/>    protectedSettings: {<br/>      commandToExecute: 'sh wildfly-setup.sh ${scriptArgs} ${wildflyUserName} ${singlequote}${wildflyPassword}${singlequote}'<br/>      }<br/>  }<br/>}</span><span id="2d11" class="md kb hi na b fi ni nf l ng nh">output vm_Private_IP_Address string = nicName.properties.ipConfigurations[0].properties.privateIPAddress<br/>output appURL string = '<a class="ae nj" href="http://${nicName.properties.ipConfigurations[0].properties.privateIPAddress}:8080/JBoss-EAP_on_Azure/'" rel="noopener ugc nofollow" target="_blank">http://${nicName.properties.ipConfigurations[0].properties.privateIPAddress}:8080/JBoss-EAP_on_Azure/'</a><br/>output adminConsole string = '<a class="ae nj" href="http://${nicName.properties.ipConfigurations[0].properties.privateIPAddress}:9990'" rel="noopener ugc nofollow" target="_blank">http://${nicName.properties.ipConfigurations[0].properties.privateIPAddress}:9990'</a></span></pre><p id="07cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意我们用的是微软的“<em class="mr">”。compute/virtual machines/extensions</em>资源类型，并引用带有要执行的命令的脚本。</p><p id="a824" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们将包括一些输出，如下所示:</p><pre class="je jf jg jh fd mz na nb nc aw nd bi"><span id="b224" class="md kb hi na b fi ne nf l ng nh">output vm_Private_IP_Address string = nicName.properties.ipConfigurations[0].properties.privateIPAddress<br/>output appURL string = '<a class="ae nj" href="http://${nicName.properties.ipConfigurations[0].properties.privateIPAddress}:8080/JBoss-EAP_on_Azure/'" rel="noopener ugc nofollow" target="_blank">http://${nicName.properties.ipConfigurations[0].properties.privateIPAddress}:8080/JBoss-EAP_on_Azure/'</a><br/>output adminConsole string = '<a class="ae nj" href="http://${nicName.properties.ipConfigurations[0].properties.privateIPAddress}:9990'" rel="noopener ugc nofollow" target="_blank">http://${nicName.properties.ipConfigurations[0].properties.privateIPAddress}:9990'</a></span></pre><p id="c54b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是完整的二头肌模板:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="nk nl l"/></div></figure><p id="a422" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在此找到完整的解决方案:</p><div class="ld le ez fb lf lg"><a href="https://github.com/daveRendon/azinsider/tree/main/application-workloads/wildfly" rel="noopener  ugc nofollow" target="_blank"><div class="lh ab dw"><div class="li ab lj cl cj lk"><h2 class="bd hj fi z dy ll ea eb lm ed ef hh bi translated">主daveRendon/azinsider的azin sider/应用程序工作负载/wildfly</h2><div class="ln l"><h3 class="bd b fi z dy ll ea eb lm ed ef dx translated">在GitHub上创建一个帐户，为daveRendon/azinsider开发做出贡献。</h3></div><div class="lo l"><p class="bd b fp z dy ll ea eb lm ed ef dx translated">github.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx jn lg"/></div></div></a></div><h1 id="3470" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">使用Bicep在CentOS上部署JBoss AS/Wildfly</h1><p id="58c7" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">我们将使用下面的命令来部署我们的二头肌模板:</p><pre class="je jf jg jh fd mz na nb nc aw nd bi"><span id="7859" class="md kb hi na b fi ne nf l ng nh">$date = Get-Date -Format "MM-dd-yyyy"<br/>$deploymentName = "AzInsiderDeployment"+"$date"</span><span id="fc45" class="md kb hi na b fi ni nf l ng nh">New-AzResourceGroupDeployment -Name $deploymentName -ResourceGroupName wildfly -TemplateFile .\main.bicep -TemplateParameterFile .\main.parameters.json -c</span></pre><p id="b117" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的命令中，我们使用标志-c来预览部署。</p><p id="0a9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下图显示了部署的预览。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nm"><img src="../Images/c6b6acbb350441732e31c3d05e015085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4k_swSEAeFv_DeMxhdKbaA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">使用Bicep部署JBoss / Wildfly</figcaption></figure><p id="9d97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将继续执行部署。下图显示了部署的输出。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nn"><img src="../Images/ca238a3c1dbdec03616e7594183cb3dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rZYALsgji6eJ21R2j_w8Rw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">部署输出</figcaption></figure><p id="f82c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以去Azure门户网站验证部署:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es no"><img src="../Images/50a4b1685e0b578aad9811eafcd05392.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hiI8jlxTVnTi2XIkQhlVmg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">JBoss / Wildfly部署</figcaption></figure><p id="4725" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以选择部署名称并查看此部署的详细信息:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es np"><img src="../Images/6484b4374c95426649e11a285ebac7c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0K0a_qGRiVsCw4-xCEHvnQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">JBoss / Wildfly部署细节</figcaption></figure><p id="f286" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">👉<a class="ae nj" href="http://eepurl.com/gKmLdf" rel="noopener ugc nofollow" target="_blank"> <em class="mr">在此加入</em><strong class="ih hj"><em class="mr">azin sider</em></strong><em class="mr">邮箱列表。</em>T15】</a></p><p id="ed5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="mr">-戴夫·r</em></p></div></div>    
</body>
</html>