<html>
<head>
<title>Data Visualization | 6 Reasons Why You Should Go on an Exchange</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据可视化|你应该去交换的6个理由</h1>
<blockquote>原文：<a href="https://medium.com/codex/data-visualization-effectiveness-of-inbound-exchange-3f1fe4b078a5?source=collection_archive---------11-----------------------#2022-06-27">https://medium.com/codex/data-visualization-effectiveness-of-inbound-exchange-3f1fe4b078a5?source=collection_archive---------11-----------------------#2022-06-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="093a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嗨伙计们！这是另一个关于数据可视化的项目。在这个项目中，我计划将我从统计中学到的知识应用于Python专门化。我将首先计算置信区间，然后绘制图表。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/1840cfbed8d28b959c6821191c9631c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*piQuVu3OyjxL17U_YdKK4Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">最终输出:入站交换的有效性。由H创建</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="14a5" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">介绍</h1><p id="61ea" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">本项目基于香港科技大学李忠义教授和吴慧仪博士的会议论文《入境交换生的期望和经历:提升大学形象的见解》。</p><p id="513a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">钟教授和吴博士对279名来港交换生进行了一项调查。在他们的研究中，他们调查了入站交换的有效性。他们的研究发现，入境交流体验被认为是积极的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es le"><img src="../Images/72a98a608077cb47194a2bbc54d9a2e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mFMzDX4zU4tYFRjnKQunAg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">表:从六个方面对入站交换体验的有效性进行评分。由李忠义教授及吴惠妍博士撰写</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="5d25" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">导入数据</h1><p id="51ec" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">首先，导入所有需要的库:<code class="du lf lg lh li b">numpy</code>用于数学计算，<code class="du lf lg lh li b">pandas</code>用于数据争论，<code class="du lf lg lh li b">scipy.stats</code>用于统计计算，<code class="du lf lg lh li b">matplotlib</code>用于绘图。</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="3770" class="ln kb hi li b fi lo lp l lq lr">import numpy as np<br/>import pandas as pd<br/>from scipy.stats import t<br/>import matplotlib.pyplot as plt</span></pre><p id="9a9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，创建一个数据框架，并根据文中的数据输入数据。</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="8bed" class="ln kb hi li b fi lo lp l lq lr"># Create dataframe<br/>df = pd.DataFrame({<br/>    'effectiveness': [<br/>        'Become more aware of cultural differences of people I met', <br/>        'Better understand the people and culture of my host country', <br/>        'Be more able to adapt to changes', <br/>        'Be more open-minded to new experiences', <br/>        'Enhance my interpersonal skills', <br/>        'Become more mature and independent'], <br/>    'mean': [4.3, 4.1, 4.26, 4.4, 4.1, 4.25], <br/>    'sd': [0.83, 0.87, 0.89, 0.83, 0.92, 0.9]<br/>})<br/>n = 274</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ls"><img src="../Images/72b3a188efd32141b28981bd8c3f45e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uHWRDYsfGNiPfyxs5xUhmA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">创建一个数据框架。由H创建</figcaption></figure><p id="0404" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，计算t*来计算置信区间。</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="05a2" class="ln kb hi li b fi lo lp l lq lr"># Compute t star with n-1 degrees of freedom<br/>tstar_80 = t.ppf(.90, df=n-1)<br/>tstar_95 = t.ppf(.975, df=n-1)<br/>tstar_99 = t.ppf(.995, df=n-1)</span></pre><p id="0588" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并分别计算标准差、80%、95%和99%的置信区间。</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="9ded" class="ln kb hi li b fi lo lp l lq lr"># Compute standard error<br/>df['se'] = df['sd'] / np.sqrt(n)</span><span id="f8a2" class="ln kb hi li b fi lt lp l lq lr"># Compute confidence interval with 80% confidence<br/>df['lcb80'] = df['mean'] - tstar_80 * df['se']<br/>df['ucb80'] = df['mean'] + tstar_80 * df['se']</span><span id="3c16" class="ln kb hi li b fi lt lp l lq lr"># Compute confidence interval with 95% confidence<br/>df['lcb95'] = df['mean'] - tstar_95 * df['se']<br/>df['ucb95'] = df['mean'] + tstar_95 * df['se']</span><span id="48bc" class="ln kb hi li b fi lt lp l lq lr"># Compute confidence interval with 99% confidence<br/>df['lcb99'] = df['mean'] - tstar_99 * df['se']<br/>df['ucb99'] = df['mean'] + tstar_99 * df['se']</span><span id="5290" class="ln kb hi li b fi lt lp l lq lr">df = df.sort_values(by='mean')</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ls"><img src="../Images/052ed91e7a9e5fb83fdc698871c9dcd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*54GggHgTbFxSxP-FJVoFcA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">计算置信区间。由H创建</figcaption></figure><h1 id="e6a6" class="ka kb hi bd kc kd lu kf kg kh lv kj kk kl lw kn ko kp lx kr ks kt ly kv kw kx bi translated">形象化</h1><p id="ccc8" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">首先，从定义颜色和设置绘图字体开始。</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="0fcc" class="ln kb hi li b fi lo lp l lq lr"># Define colors for plotting<br/>BG = '#f9f7f5'<br/>RED = '#b60024'<br/>BLUE1 = '#0070a6'<br/>BLUE2 = '#00adc6'<br/>BLUE3 = '#7ed8e4'<br/>BROWN = '#39240d'</span><span id="edb1" class="ln kb hi li b fi lt lp l lq lr"># Set font for entire plot to Serif<br/>plt.rcParams['font.family'] = 'Serif'</span></pre><p id="0b46" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，创造情节。这里我们有三个支线剧情，第一个和第三个支线剧情分别是在顶部和底部添加空格，而第二个支线剧情是为了实际的剧情。<br/>(不确定这是不是最好的方法，有什么建议请告诉我！)</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="9bf3" class="ln kb hi li b fi lo lp l lq lr"># Create 3 subplots, with ratio 1.5:2:1<br/># The 1st and 3rd subplots are to add spaces<br/># The 2nd subplot will be used to plot graph<br/># Set contrained layout to ensure the entire image has a size of 10x10<br/>fig, (s1, ax, s2) = plt.subplots(3, 1, figsize=(10, 10), gridspec_kw={'height_ratios': [1.5, 2, 1]}, dpi=150, constrained_layout=True)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/721b363094cdc9bfebbe82d14225d8ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R_99dfWtwTvTuvUdRaxB5A.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">由H创建</figcaption></figure><p id="7081" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，用我们刚刚定义的<code class="du lf lg lh li b">BG</code>颜色设置背景颜色。并将第一和第三个支线剧情设置为不可见。</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="7e64" class="ln kb hi li b fi lo lp l lq lr"># Set bg color of plot<br/>fig.set_facecolor(BG)<br/>ax.set_facecolor(BG)</span><span id="4e77" class="ln kb hi li b fi lt lp l lq lr"># Set 1st and 3rd subplots to invisible<br/>s1.axis('off')<br/>s2.axis('off')</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/49586e02c391bb8c18d5a22f8ed333b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jJ-_nbt4wxk3vqOfjePaDQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">由H创建</figcaption></figure><p id="78db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并绘制图表！这里，我用<code class="du lf lg lh li b">hlines</code>绘制置信区间，指定不同的颜色和宽度；并用<code class="du lf lg lh li b">scatter</code>绘制平均数据点。</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="24d8" class="ln kb hi li b fi lo lp l lq lr"># Plot 80%, 95% and 99% confidence intervals<br/>line1 = ax.hlines(data=df, xmin='lcb80', xmax='ucb80', y='effectiveness', color=BLUE1, linewidth=6, zorder=4)<br/>line2 = ax.hlines(data=df, xmin='lcb95', xmax='ucb95', y='effectiveness', color=BLUE2, linewidth=4, zorder=3)<br/>line3 = ax.hlines(data=df, xmin='lcb99', xmax='ucb99', y='effectiveness', color=BLUE3, linewidth=2, zorder=2)</span><span id="d453" class="ln kb hi li b fi lt lp l lq lr"># Plot the mean<br/>ax.scatter(data=df, x='mean', y='effectiveness', color=RED, linewidth=5, zorder=5)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/cbf40fd916dac9f06122aaa72c000d8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jnn1-Bnpcw1ikoeu2owCuA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">由H创建</figcaption></figure><p id="eef7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，设置轴的标签和记号，并删除边界。</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="34bf" class="ln kb hi li b fi lo lp l lq lr"># Set label of x-axis<br/>ax.set_xlabel('Mean rating (out of 5)', labelpad=15, fontsize=12)</span><span id="eee0" class="ln kb hi li b fi lt lp l lq lr"># Set fontsize of tick labels, and remove yticks<br/>ax.tick_params(axis='x', labelsize=12)<br/>ax.tick_params(axis='y', labelsize=12, left=False)</span><span id="c0c9" class="ln kb hi li b fi lt lp l lq lr"># Remove borders<br/>ax.spines['left'].set_visible(False)<br/>ax.spines['top'].set_visible(False)<br/>ax.spines['right'].set_visible(False)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a05b00228b6b571590fbdb3334ef9258.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4S0LF3I8MGai75AsPnlXZQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">由H创建</figcaption></figure><p id="c0f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另外，添加水平网格线和图例。</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="1cf1" class="ln kb hi li b fi lo lp l lq lr"># Add horizontal grid lines<br/>ax.grid(axis='y')</span><span id="479a" class="ln kb hi li b fi lt lp l lq lr"># Add legend<br/>ax.legend(['80%', '95%', '99%',], <br/>          title='Confidence interval', <br/>          loc=8, ncol=3, fontsize=12, title_fontsize=12, <br/>          bbox_to_anchor=(0.5, 0.18), bbox_transform=fig.transFigure, <br/>          frameon=False)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f3fbc47a2b8d53614b46a234e65c6445.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MpCu7MaZq9D9AJDeNCtfpA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">由H创建</figcaption></figure><p id="35de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后加标题，引用数据！</p><pre class="je jf jg jh fd lj li lk ll aw lm bi"><span id="79d2" class="ln kb hi li b fi lo lp l lq lr"># Add title<br/>fig.suptitle('Effectivness of Inbound Exchange', y=.93, fontsize=24, fontweight='bold')</span><span id="89eb" class="ln kb hi li b fi lt lp l lq lr"># Add subtitle<br/>fig.text(s='The feedback survey results showed that the inbound exchange\nexperience was perceived positive', <br/>        x=0.5, y=0.83, <br/>        horizontalalignment='center',<br/>        fontsize=14, <br/>        linespacing=1.5, <br/>        transform=fig.transFigure)</span><span id="7b70" class="ln kb hi li b fi lt lp l lq lr"># Reference data source<br/>fig.text(s='Source: "Expectations and Experiences of Inbound Exchange Students: \nInsights for Improving the University’s Image", by Annie W.Y. Ng, &amp; Chung-Yee Lee, \nSEACE2020 Conference Proceedings, 2020', <br/>        x=0.2, y=0.03, <br/>        fontsize=12, <br/>        linespacing=2, <br/>        transform=fig.transFigure)</span><span id="2c96" class="ln kb hi li b fi lt lp l lq lr">fig.text(s='Designed by H |\n\n', <br/>        x=0.05, y=0.03, <br/>        fontsize=12, <br/>        linespacing=2, <br/>        transform=fig.transFigure)</span></pre><p id="4ce2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终输出:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/1840cfbed8d28b959c6821191c9631c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*piQuVu3OyjxL17U_YdKK4Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">最终输出:入站交换的有效性。由H创建</figcaption></figure><p id="76cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae ld" href="https://github.com/hckkiu/data-viz/tree/main/exchange" rel="noopener ugc nofollow" target="_blank">源代码</a></p></div></div>    
</body>
</html>