<html>
<head>
<title>Destructuring in ES6</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ES6中的析构</h1>
<blockquote>原文：<a href="https://medium.com/codex/destructuring-in-es6-b537cbb03ee1?source=collection_archive---------15-----------------------#2021-08-06">https://medium.com/codex/destructuring-in-es6-b537cbb03ee1?source=collection_archive---------15-----------------------#2021-08-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e6d2d6aef8ab9194c1d3a60ceb0a7a11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SE18Om99lD1dPniHRmAU1A.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">塔妮娅·梅尔尼克祖克在<a class="ae iu" href="https://unsplash.com/s/photos/split?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="bc18" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">destructure的意思是拆除某物的结构。在Javascript中，它可以是一个数组、一个对象或一个字符串，它们被单独分解，然后重新分配给变量。</p><h2 id="b8d6" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated"><strong class="ak">破坏数组</strong></h2><p id="538d" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">在ES6之前，如果您要将一个数组的值赋给单个变量，它会像这样完成:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="0566" class="jt ju hi ky b fi lc ld l le lf">var scores = [500, 400, 300];<br/><br/>var x = scores[0],<br/>    y = scores[1],<br/>    z = scores[2];<br/><br/>    console.log(x,y,z); // 500 400 300</span></pre><p id="9be2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是后来ES6出现了。让我们在下面的例子中看看这是如何改变的:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="adf0" class="jt ju hi ky b fi lc ld l le lf">let scores = [500, 400, 300];<br/><br/>let [x, y, z] = scores;<br/><br/>console.log(x,y,z); //500 400 300</span></pre><p id="054d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">很好理解。我们析构了scores数组的值，并创建了一些变量，这些变量将按照定义的顺序继承数组的元素。因此，假设x是分数数组的第一个元素，即500，y是第二个元素，即400，z是第三个元素。</p><blockquote class="lg lh li"><p id="f4b9" class="iv iw lj ix b iy iz ja jb jc jd je jf lk jh ji jj ll jl jm jn lm jp jq jr js hb bi translated">注意<strong class="ix hj">【x，y，z】</strong>是<strong class="ix hj">而不是</strong>一个<strong class="ix hj">新数组</strong>。</p></blockquote><p id="a5b1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们析构一个数组并创建比数组元素更多的变量的情况下，每个没有元素继承的变量都会返回undefined。下面的例子:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="b31c" class="jt ju hi ky b fi lc ld l le lf">let scores = [500, 400, 300];<br/><br/>let [x, y, z, w] = scores;<br/><br/>console.log(x,y,z,w); //500 400 300 undefined</span></pre><p id="9dd1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们添加了一个新变量“w ”,但是由于没有元素留给它从析构数组中继承，它返回为未定义。</p><blockquote class="lg lh li"><p id="7b47" class="iv iw lj ix b iy iz ja jb jc jd je jf lk jh ji jj ll jl jm jn lm jp jq jr js hb bi translated">可以将默认值赋给w，因为它已经没有可继承的元素了，请参见下面的示例:</p></blockquote><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="fe65" class="jt ju hi ky b fi lc ld l le lf">let scores = [500, 400, 300];<br/><br/>let [x, y, z, w = 200] = scores;<br/><br/>console.log(x,y,z,w); //500 400 300 200</span></pre><p id="bb73" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> <em class="lj">跳过原数组中的元素</em> </strong></p><p id="7c06" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在您想要跳过继承顺序并跳转到数组中不同元素的情况下，可以通过在原始数组中要跳过的元素的位置放置一个逗号，逗号之间留有空格来实现。看一看:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="7589" class="jt ju hi ky b fi lc ld l le lf">let scores = [500, 400, 300];<br/><br/>let [, x, y] = scores;<br/><br/>console.log(x, y); // 400 300</span></pre><p id="e746" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们跳过了数组(500)中的第一个元素，从第二个元素开始赋值。</p><p id="0d1c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> <em class="lj">使用休息参数</em> </strong></p><blockquote class="lg lh li"><p id="df53" class="iv iw lj ix b iy iz ja jb jc jd je jf lk jh ji jj ll jl jm jn lm jp jq jr js hb bi translated">假设你已经熟悉了<a class="ae iu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">休止参数</strong> </a> <strong class="ix hj"> </strong>和<a class="ae iu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hj">传播语法</strong> </a>以及如何使用它们。</p></blockquote><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="fd2b" class="jt ju hi ky b fi lc ld l le lf">let scores = [500, 400, 300];<br/><br/>let [x, ...y] = scores;<br/><br/>console.log(x); // 500<br/><br/>console.log(y); // [400, 300]</span></pre><p id="70e6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的示例中，使用rest参数语法“…”将x赋给数组中的第一个元素，将“其余”的元素赋给y，这将返回一个包含分配给它的元素的数组。</p><h2 id="3b39" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated"><strong class="ak">破坏物体</strong></h2><p id="6268" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">在上面的例子中，我们正在解构数组。现在让我们从一个例子开始，看看如何析构对象:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="b78c" class="jt ju hi ky b fi lc ld l le lf">let scores = {<br/>    pass: 70,<br/>    avg: 50,<br/>    fail: 30<br/>};<br/><br/>let { pass, avg, fail} = scores;<br/><br/>console.log(pass, avg, fail); // 70 50 30</span></pre><p id="edd9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您已经可以看到不同之处——花括号和我们在析构时使用对象名作为变量名的事实；更改名称会返回undefined，但这并不意味着您必须使用它们。让我们看看如何覆盖对象名:</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="1bbe" class="jt ju hi ky b fi lc ld l le lf">let scores = {<br/>    pass: 70,<br/>    avg: 50,<br/>    fail: 30<br/>};<br/><br/>let { pass: one, avg: two, fail: three} = scores;<br/><br/>console.log(one, two, three); // 70 50 30</span></pre><p id="7218" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们已经指定了新的变量名，它将覆盖默认的对象名。</p><h2 id="ab30" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">析构字符串</h2><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="dda1" class="jt ju hi ky b fi lc ld l le lf">let [user, interface] = 'UI';<br/><br/>console.log(user); // U<br/><br/>console.log(interface); // I</span></pre><p id="5eb8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里，字符串“UI”被单独分开并分配给所创建的变量。但是如果字符串中有更多类似“UI很重要”的字符会怎么样呢？输出会是什么？输出将保持不变，因为字符串的析构不是一个单词接一个单词地进行，而是一个字符接一个字符地进行，所以“U”字符首先被赋值，然后是“I ”,即使它们在字符串中被组合在一起。</p><p id="0081" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于本文来说就是这样。我希望在这一点上，你已经理解了析构是如何工作的，并且随着你作为一名开发人员的进步，你会很舒服地使用它们。感谢您的阅读。<a class="ae iu" rel="noopener" href="/subscribe/@ihechivinabba">你也可以订阅，把我的文章直接发到你的邮箱里。</a>快乐编码！</p></div></div>    
</body>
</html>