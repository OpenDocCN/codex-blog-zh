<html>
<head>
<title>Writing a Rock Paper Scissors game with Golang</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Golang写一个石头剪刀布游戏</h1>
<blockquote>原文：<a href="https://medium.com/codex/writing-a-rock-paper-scissors-game-with-golang-b300ba263c7b?source=collection_archive---------7-----------------------#2022-12-31">https://medium.com/codex/writing-a-rock-paper-scissors-game-with-golang-b300ba263c7b?source=collection_archive---------7-----------------------#2022-12-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6144865bc5920c73812c380d3dd3d4fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W0SHKBV6bR0IIovzNDSWpw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">戈朗</figcaption></figure><h1 id="364d" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">介绍</h1><p id="4b32" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">对某些人来说，用Golang编写一个石头、剪子、布的游戏听起来可能不那么好。</p><p id="58f4" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">然而，对于初学者来说，通过编写这个简单的脚本将有助于你学习、理解和熟悉Golang。</p><p id="12de" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">让我们开始吧。</p><p id="c10a" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">首先，为我们的新项目创建一个新目录。</p><pre class="kv kw kx ky fd kz la lb bn lc ld bi"><span id="73b5" class="le iv hi la b be lf lg l lh li">mkdir rasyue<br/>cd mkdir rasyue<br/><br/>go mod init example.com/rasyue<br/><br/>type nul &gt; main.go //(if you are using Windows)<br/>touch main.go //(other than windows)<br/><br/>//or rather just create the main.go any way you want.</span></pre><p id="56ce" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">至此，我们已经创建了编写Golang代码所需的目录和文件。</p><h1 id="3e8c" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">编写程序的第一部分</h1><p id="071d" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">让我们开始吧。</p><pre class="kv kw kx ky fd kz la lb bn lc ld bi"><span id="f038" class="le iv hi la b be lf lg l lh li">package main<br/><br/>import (<br/> "fmt"<br/> "bufio"<br/> "os"<br/> "strings"<br/>)<br/><br/><br/>func  main(){<br/> fmt.Println("Starting the game of rock paper scissors..")<br/><br/> reader := bufio.NewReader(os.Stdin)<br/> fmt.Print("Choose your pick (rock, paper, scissors): ")<br/> answer, _ := reader.ReadString('\n')<br/> text := strings.TrimSpace(answer)<br/><br/> fmt.Println("You chose: " + text)<br/><br/> <br/>}</span></pre><p id="ed3f" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">运行时，上面的Golang代码将允许您键入您的输入。</p><p id="e4d1" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">继续使用<code class="du lj lk ll la b">go run .</code>运行它，或者您可以使用<code class="du lj lk ll la b">go run main.go</code>运行它。</p><figure class="kv kw kx ky fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/1bff8111a9fec1c5a994edc4558619df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHuZ2aDJjcpVCZReedvGSg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">提示</figcaption></figure><p id="2aaa" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">你可能已经注意到，每当你键入你的输入时，程序就会停止。让我们试着让程序继续运行。</p><pre class="kv kw kx ky fd kz la lb bn lc ld bi"><span id="f99b" class="le iv hi la b be lf lg l lh li">package main<br/><br/>import (<br/> "fmt"<br/> "bufio"<br/> "os"<br/> "strings"<br/>)<br/><br/><br/>func  main(){<br/> fmt.Println("Starting the game of rock paper scissors..")<br/><br/> for true {<br/>  reader := bufio.NewReader(os.Stdin)<br/>  fmt.Print("Choose your pick (rock, paper, scissors): ")<br/>  answer, _ := reader.ReadString('\n')<br/>  text := strings.TrimSpace(answer)<br/><br/>  fmt.Println("You chose: " + text)<br/> <br/> }<br/> <br/>}<br/><br/></span></pre><p id="3d83" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">现在试试吧。你可以输入任何东西，程序会继续问同样的问题。</p><h1 id="ef60" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">输入检查编码</h1><p id="64d8" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">你可能注意到，你甚至可以按下<code class="du lj lk ll la b">Enter</code>，输入将会是空的，或者你甚至可以输入任何类型的文本、数字等。</p><p id="459c" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">我们需要确保输入不能为空，文本只能是<code class="du lj lk ll la b">rock</code>、<code class="du lj lk ll la b">paper</code>或<code class="du lj lk ll la b">scissors</code>。</p><pre class="kv kw kx ky fd kz la lb bn lc ld bi"><span id="764f" class="le iv hi la b be lf lg l lh li">package main<br/><br/>import (<br/> "fmt"<br/> "bufio"<br/> "os"<br/> "strings"<br/>)<br/><br/><br/>func  main(){<br/> fmt.Println("Starting the game of rock paper scissors..")<br/><br/> for true {<br/>  reader := bufio.NewReader(os.Stdin)<br/>  fmt.Print("Choose your pick (rock, paper, scissors): ")<br/>  answer, _ := reader.ReadString('\n')<br/>  text := strings.TrimSpace(answer)<br/><br/>  if text == "exit" {<br/><br/>   fmt.Println("Exiting the game...")<br/>   break<br/><br/>  }else if text == "" {<br/><br/>   fmt.Println("Empty input detected")<br/> <br/>  }else if text != "rock" &amp;&amp; text != "paper" &amp;&amp; text != "scissors" {<br/>   <br/>   fmt.Println("Please choose either rock, paper or scissors!")<br/><br/>  }<br/> }<br/> <br/>}<br/></span></pre><p id="036e" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">上述代码不允许输入为空，输入必须是<code class="du lj lk ll la b">rock</code>、<code class="du lj lk ll la b">paper</code>或<code class="du lj lk ll la b">scissors</code>。同样，如果您输入<code class="du lj lk ll la b">exit</code>，那么程序将中断循环并停止。</p><h1 id="b704" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">添加机器人</h1><p id="747b" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">现在，是时候为我们添加机器人来玩石头、布、剪刀的游戏了。</p><pre class="kv kw kx ky fd kz la lb bn lc ld bi"><span id="c186" class="le iv hi la b be lf lg l lh li">package main<br/><br/>import (<br/> "fmt"<br/> "bufio"<br/> "os"<br/> "strings"<br/> "math/rand"<br/><br/>)<br/><br/><br/>func  main(){<br/> fmt.Println("Starting the game of rock paper scissors..")<br/> var botAnswers = [3]string{"rock", "paper", "scissors"}<br/><br/> for true {<br/><br/><br/>  reader := bufio.NewReader(os.Stdin)<br/>  fmt.Print("Choose your pick (rock, paper, scissors): ")<br/>  answer, _ := reader.ReadString('\n')<br/>  text := strings.TrimSpace(answer)<br/><br/>  if text == "exit" {<br/><br/>   fmt.Println("Exiting the game...")<br/>   break<br/><br/>  }else if text == "" {<br/><br/>   fmt.Println("Empty input detected")<br/> <br/>  }else if text != "rock" &amp;&amp; text != "paper" &amp;&amp; text != "scissors" {<br/>   <br/>   fmt.Println("Please choose either rock, paper or scissors!")<br/><br/>  }else{<br/><br/>   randomIndex := rand.Intn(len(botAnswers))<br/>   botPick := botAnswers[randomIndex]<br/>   fmt.Println("You chose " + text)<br/>   fmt.Println("Bot chose " + botPick)<br/><br/>   if botPick == "paper" &amp;&amp; text == "rock"{<br/>    fmt.Println("You lose!")<br/>   }else if botPick == "paper" &amp;&amp; text == "scissors"{<br/>    fmt.Println("You win!")<br/>   }else if botPick == "rock" &amp;&amp; text == "scissors"{<br/>    fmt.Println("You lose!")<br/>   }else if botPick == "rock" &amp;&amp; text == "paper"{<br/>    fmt.Println("You win!")<br/>   }else if botPick == "scissors" &amp;&amp; text == "rock"{<br/>    fmt.Println("You win!")<br/>   }else if botPick == "scissors" &amp;&amp; text == "paper"{<br/>    fmt.Println("You lose!")<br/>   }else{<br/>    fmt.Println("Draw!")<br/><br/>   }<br/><br/><br/>  }<br/> }<br/> <br/>}<br/><br/></span></pre><p id="8b52" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">给你。现在尝试再次运行程序并输入您的选择。</p><figure class="kv kw kx ky fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/cd58b87b733b3a832c90c93cf690f845.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f-EjU_H8q-9yBHkqEfp7Bg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">提示</figcaption></figure><h1 id="5c1c" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">使程序有趣的最后一步(至少)</h1><p id="a5b8" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">让我们对剧本做最后的润色，至少让它更有趣。</p><pre class="kv kw kx ky fd kz la lb bn lc ld bi"><span id="31e6" class="le iv hi la b be lf lg l lh li">package main<br/><br/>import (<br/> "fmt"<br/> "bufio"<br/> "os"<br/> "strings"<br/> "math/rand"<br/> "time"<br/>)<br/><br/><br/>func  main(){<br/> fmt.Println("Starting the game of rock paper scissors..")<br/> fmt.Println("First to 5 wins the game!")<br/> var botAnswers = [3]string{"rock", "paper", "scissors"}<br/> var yourScore = 0 <br/> var botScore = 0<br/><br/> fmt.Printf("Bot score: %d \n", botScore)<br/> fmt.Printf("Your score: %d \n", yourScore)<br/><br/> for true {<br/><br/><br/>  reader := bufio.NewReader(os.Stdin)<br/>  fmt.Print("Choose your pick (rock, paper, scissors): ")<br/>  answer, _ := reader.ReadString('\n')<br/>  text := strings.TrimSpace(answer)<br/><br/>  if text == "exit" {<br/><br/>   fmt.Println("Exiting the game...")<br/>   break<br/><br/>  }else if text == "" {<br/><br/>   fmt.Println("Empty input detected")<br/> <br/>  }else if text != "rock" &amp;&amp; text != "paper" &amp;&amp; text != "scissors" {<br/>   <br/>   fmt.Println("Please choose either rock, paper or scissors!")<br/><br/>  }else{<br/><br/>   randomIndex := rand.Intn(len(botAnswers))<br/>   botPick := botAnswers[randomIndex]<br/>   fmt.Println("You chose " + text)<br/>   fmt.Println("Bot chose " + botPick)<br/><br/>   <br/>   if botPick == "paper" &amp;&amp; text == "rock"{<br/>    fmt.Println("You lose!")<br/>    botScore++<br/>   }else if botPick == "paper" &amp;&amp; text == "scissors"{<br/>    fmt.Println("You win!")<br/>    yourScore++<br/>   }else if botPick == "rock" &amp;&amp; text == "scissors"{<br/>    fmt.Println("You lose!")<br/>    botScore++<br/><br/>   }else if botPick == "rock" &amp;&amp; text == "paper"{<br/>    fmt.Println("You win!")<br/>    yourScore++<br/>   }else if botPick == "scissors" &amp;&amp; text == "rock"{<br/>    fmt.Println("You win!")<br/>    yourScore++<br/>   }else if botPick == "scissors" &amp;&amp; text == "paper"{<br/>    fmt.Println("You lose!")<br/>    botScore++<br/><br/>   }else{<br/>    fmt.Println("Draw!")<br/><br/>   }<br/><br/>   fmt.Printf("Bot score: %d \n", botScore)<br/>   fmt.Printf("Your score: %d \n", yourScore)<br/>   if yourScore &gt; 4{<br/>    fmt.Println("You won the game")<br/>    time.AfterFunc(1*time.Second, func() {<br/>     os.Exit(0)<br/><br/>    })<br/>   }else if botScore &gt; 4{<br/>    fmt.Println("You lose the game")<br/>    time.AfterFunc(1*time.Second, func() {<br/>     os.Exit(0)<br/><br/>    })<br/><br/>   }<br/><br/><br/>  }<br/> }<br/> <br/>}<br/><br/></span></pre><p id="3de8" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">就这样，我们结束了。运行脚本，争取胜利！</p><figure class="kv kw kx ky fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/ac91584a54b1c9c6ce3f363190e69da8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y8SE0poA2Lz8diSJclajUA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">提示</figcaption></figure><h1 id="d10a" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">结束了</h1><p id="d192" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">总而言之，这仍然只是一个CLI脚本，绝对没有视觉吸引力。这就是为什么在下一篇教程中，我们将看到如何通过将Golang GUI集成到脚本中来做得更好。</p><p id="6e08" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">敬请期待！</p></div></div>    
</body>
</html>