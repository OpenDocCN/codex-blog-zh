<html>
<head>
<title>Sliding Window Problems in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的滑动窗口问题</h1>
<blockquote>原文：<a href="https://medium.com/codex/sliding-window-problems-27d599c6cc13?source=collection_archive---------2-----------------------#2021-10-10">https://medium.com/codex/sliding-window-problems-27d599c6cc13?source=collection_archive---------2-----------------------#2021-10-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/418564a91d672af491237c30de85e334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0hDYIFYFKKV1e0CmtBtlqA.jpeg"/></div></div></figure><p id="b5f4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我最近从Flatiron School软件工程训练营毕业，并通过一种更结构化的数据结构和算法方法扩展了我的技能。这似乎是拥有传统计算机科学学位的学生比bootcamp毕业生更具竞争力的最大知识领域，所以我决定就我正在学习的结构、算法和技术开设一个博客系列。上周，我和其他熨斗毕业生一起开始探索滑动窗口问题。</p><p id="63ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在其最基本的形式中，滑动窗口技术包括在数据集合中移动一定大小的“窗口”,如数组或字符串，并在窗口的每个“停止点”收集信息。窗口的大小可以是固定的或可变的，其中窗口基于一组规则“伸展”或“收缩”。滑动窗口可以在各种算法中使用，以解决许多类型的问题。在这里，我讨论了一个涉及固定窗口技术的基本问题，以及另一个涉及可变窗口技术的问题。</p><h1 id="b50f" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">固定窗户</h1><p id="7ade" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">固定窗口问题通常会有一个问题中规定的大小，例如，“找出下列数组中三个连续数字的最大和。”窗口大小为三，操作将是求和与比较。首先，我将声明一个变量用于存储最高总和，另一个变量用于存储当前总和。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="903f" class="la jp hi kw b fi lb lc l ld le">// in myFile.js</span><span id="a1ca" class="la jp hi kw b fi lf lc l ld le">const maxSumOfThree = arrayInput = {<br/>  let highestSum;<br/>  let currentSum;<br/>}</span></pre><p id="46e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">两个和都需要是“let”变量而不是“const”变量，因为它们的基本值是要改变的。一个简单的强力解决方案是在数组中移动窗口，每次都完整地重新生成currentSum变量。要明确的是，即使在这个问题中有一个“窗口”,这也不被认为是滑动窗口技术的使用。</p><p id="58f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lg">蛮力解决</em></p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="6b6c" class="la jp hi kw b fi lb lc l ld le">// in myFile.js</span><span id="1a66" class="la jp hi kw b fi lf lc l ld le">const maxSumOfThree = arrayInput =&gt; {<br/>  let highestSum = -Infinity<br/>  let currentSum</span><span id="b61d" class="la jp hi kw b fi lf lc l ld le">  for(let i = 0; i &lt; arrayInput.length - 3; i++){<br/>    currentSum = 0;<br/>    <br/>    for(let j = i; j &lt; i + 3; j++){<br/>      currentSum += arrayInput[j]<br/>    }</span><span id="b203" class="la jp hi kw b fi lf lc l ld le">    highestSum = Math.max(highestSum, currentSum)<br/>  }<br/>  return highestSum<br/>};</span></pre><p id="aa26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个解决方案可以工作，但是仔细观察就会发现这里有很多重复的地方。考虑以下输入数组示例:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="f854" class="la jp hi kw b fi lb lc l ld le">[1,2,65,7,2,3,45,7,8,5,34,9]</span></pre><p id="3cc6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过上面概述的解决方案，当i = 0时，我们的窗口是[1，2，65]。在下一次迭代中，当i=1时，我们的窗口是[2，65，7]。其中两个值仍然相同，那么为什么每次都要完全重写这个窗口及其总和呢？这相当于在循环的每次迭代中构建一个窗口并打破它。相反，每次只删除“旧的”第一个值并添加“新的”最后一个值怎么样？也就是说，如何“滑动”窗户？</p><p id="eef8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lg">稍微好一点的解决方案——滑动窗口技术</em></p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="adef" class="la jp hi kw b fi lb lc l ld le">// in myFile.js</span><span id="21ef" class="la jp hi kw b fi lf lc l ld le">const maxSumOfThree = arrayInput =&gt; {<br/>  const reducer = (previous, current) =&gt; previous + current<br/>  let currentSum = arrayInput.slice(0,4).reduce(reducer)<br/>  let highestSum = currentSum</span><span id="5df1" class="la jp hi kw b fi lf lc l ld le">  for(let i = 1; i &lt;= arrayInput.length - 3; i++){<br/>    currentSum -= arrayInput[i - 1]<br/>    currentSum += arrayInput[i + 4]<br/>    highestSum = Math.max(highestSum, currentSum)<br/>  }<br/>  return highestSum<br/>};</span></pre><p id="485f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了实现这种重复性更低的解决方案，我们做了一些更改。首先，currentSum已经初始化为数组中前三个数的和(通过slice和reduce)。接下来，highestSum被初始化为currentSum的第一个值。最后，for循环已被修改为从索引1开始—这样就已经有一个“左手”号要删除—并且还要删除/添加结束号，而不是每次都完全重写窗口。最后的步骤仍然是相同的:比较currentSum和highestSum，并输出highestSum。</p><p id="a67e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当然还有改进的空间，但是这个解决方案更好，因为它消除了嵌套的for循环。这是一种基本的固定大小滑动窗口技术，用于找到给定大小的子阵列的最高和。</p><h1 id="4104" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">可变窗口</h1><p id="7d32" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在可变窗口问题中，问题的焦点不是在给定大小的数据输入子片段中寻找什么。相反，它通常专注于寻找满足给定条件的窗口大小。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="81c6" class="la jp hi kw b fi lb lc l ld le">terminal $ const myArray = [7,4,2,1,8,9,5,2,5]</span></pre><p id="160d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑myArray，如上面的代码片段中所定义的，我们可能会遇到这样的问题:“数组中两个重复值之间的最小索引差是多少？”人类可以很容易地看到这个数组，看到2和5是唯一重复的值，并计算出最接近的数字5的两个实例之间的索引差是(8–6)= 2。但是如何通过编程来执行这个操作呢？</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="80cb" class="la jp hi kw b fi lb lc l ld le">// in myFile.js</span><span id="d518" class="la jp hi kw b fi lf lc l ld le">const smallestRepeatWindow = arrayInput =&gt; {<br/>  let smallestWindow = Number.MAX_SAFE_INTEGER<br/>  let window = []<br/>  let left = 0;<br/>}</span></pre><p id="717a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，考虑问题的形状，为最小窗口大小、当前窗口内容以及当前窗口的“左”和“右”索引初始化一些跟踪器变量可能是个好主意。接下来，我想找到一种方法来识别当前窗口中的重复。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="3c1a" class="la jp hi kw b fi lb lc l ld le">// in myFile.js</span><span id="2ef0" class="la jp hi kw b fi lf lc l ld le">const smallestRepeatWindow = arrayInput =&gt; {<br/>  let smallestWindow = Number.MAX_SAFE_INTEGER<br/>  let window = []<br/>  let left = 0;</span><span id="617e" class="la jp hi kw b fi lf lc l ld le">  for(let right=0; right&lt;arrayInput.length; right  ++){<br/>    window.push(arrayInput[rightBound])</span><span id="ab11" class="la jp hi kw b fi lf lc l ld le">    while([...new Set(window)].length &lt; window.length){<br/>      if(arrayInput[left] === arrayInput[right]){<br/>        smallestWindow = Math.min(smallestWindow, (right - left))<br/>      }<br/>      left++<br/>      window.shift()<br/>    }<br/>  }</span><span id="6079" class="la jp hi kw b fi lf lc l ld le">return smallestWindow<br/>};</span></pre><p id="89c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，for循环遍历数组，迭代地扩展窗口的右边界。for循环中的while循环通过检查从当前窗口创建的集合(集合值必须是唯一的)的长度是否小于窗口本身来查找重复值。如果为真，条件检查左右边界索引是否具有相同的值。如果是，则检查并设置smallestWindow(如果需要)。如果不是，则增加左边界，并从窗口中移除其先前的值。这种for-while组合允许窗口根据需要增长和收缩，直到找到包含重复的最小窗口。</p><p id="6a57" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">可变窗口比固定大小的窗口技术更难编写。关于滑动窗口技术的一个很好的额外资源，请查看简单工程师的这个视频。</p></div><div class="ab cl li lj gp lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hb hc hd he hf"><p id="f531" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">滑动窗口技术在各种各样的编程问题中都有应用，并且作为一个技术面试问题非常常见。对于滑动窗口技术的额外练习，试着在Leetcode上解决这些问题。</p></div></div>    
</body>
</html>