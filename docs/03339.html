<html>
<head>
<title>Starting with Git? Here is your go-to guide.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从Git开始？这是你的指南。</h1>
<blockquote>原文：<a href="https://medium.com/codex/starting-with-git-here-is-your-go-to-guide-8aaaf0767150?source=collection_archive---------14-----------------------#2021-08-28">https://medium.com/codex/starting-with-git-here-is-your-go-to-guide-8aaaf0767150?source=collection_archive---------14-----------------------#2021-08-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0f60ddae9e674400475020805c47b110.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bcZpoKKvKD7UPC6M2IAaYg.jpeg"/></div></div></figure><p id="4e11" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">先说基本定义。Git是一个免费的开源分布式版本控制系统，旨在快速高效地处理从小到大的项目。</p><p id="4bce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们有不同的方法来使用Git，现在我们来探讨一下。</p><p id="2881" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Git可以直接从命令行使用，或者使用图形界面，比如VS代码。您可以使用这些工具中的任何一个来执行大多数Git命令，并且可以混合和匹配这些工具。例如，您可以使用命令行克隆一个存储库，查看该存储库的变更历史，使用VS代码进行新的提交，并使用GitLab创建一个合并请求。Git是驱动所有这些工具的底层引擎，因此它们彼此保持同步。让我们熟悉一下它们。</p><p id="1988" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> Visual Studio Code </strong>擅长让你对文件进行修改，然后在工作时快速提交。它有一个很棒的“同步”功能，只需点击一下，就可以从远程回购中提取、合并，然后推送您的更改。它还有一个很棒的编辑器来解决合并冲突。</p><p id="058b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">gitLab 是一个基于网络的Git服务器，用于托管和协作Git库。通过GitLab用户界面处理repo对于进行快速更改、创建合并请求、审查和评论其他代码或者使用GitLab CI监控持续集成作业的进度非常有用。</p><p id="eda0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有些人更喜欢在命令行上使用<strong class="is hj"> Git </strong>，如果您需要运行不太常用的Git命令，这对每个人都很有用。但是要小心！在运行Git命令之前，请确保您知道自己在做什么，因为有些命令可能会产生不良后果。</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><p id="7df8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们来了解一下开始工作所需的最基本的知识。</p><p id="2344" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Git是一个分布式版本控制系统，这意味着尽管托管Git存储库的共享副本(例如在GitLab上)很重要，但每个开发人员都将整个存储库克隆到他们的本地机器上，并在与共享存储库同步之前在本地跟踪更改。</p><p id="a9e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦您使用<code class="du jv jw jx jy b">git clone &lt;repository&gt;</code>克隆了您的项目，您就可以按照项目的<a class="ae jz" href="https://docs.gitlab.com/ee/topics/git/#branching-strategies" rel="noopener ugc nofollow" target="_blank">分支策略</a>创建分支。</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="367d" class="ki kj hi jy b fi kk kl l km kn">$ git checkout -b &lt;branch name&gt;</span></pre><p id="7957" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦您创建了一个新的分支，您就可以开始进行更改了。要查看您所做的更改，请运行</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="691a" class="ki kj hi jy b fi kk kl l km kn">$ git status</span></pre><p id="86d2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在提交更改之前，您需要将它们移动到临时区域。要转移要提交的文件，请运行</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="4e7f" class="ki kj hi jy b fi kk kl l km kn">$ git add &lt;file_name&gt;</span></pre><p id="b160" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要提交阶段性更改，请运行</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="f45b" class="ki kj hi jy b fi kk kl l km kn">$ git commit -m &lt;commit message&gt;</span></pre><p id="af1a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，要将更改推送到远程存储库，运行</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="7206" class="ki kj hi jy b fi kk kl l km kn">$ git push</span></pre><p id="616f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您想要检索远程存储库中的最新变更，运行</p><pre class="ka kb kc kd fd ke jy kf kg aw kh bi"><span id="e81c" class="ki kj hi jy b fi kk kl l km kn">$ git pull</span></pre><p id="96b4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将把远程更改合并到您的本地副本中。当你拉的时候，你的库应该没有未提交的变更。</p><p id="5df1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您和其他人对同一文件中的相同行进行了更改，您将会遇到合并冲突，需要手动解决。VS代码内置了对合并冲突解决的支持，我们将在接下来讨论。</p><p id="1464" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想马上玩，这里有一个学习Git 的<a class="ae jz" href="https://learngitbranching.js.org/" rel="noopener ugc nofollow" target="_blank">互动工具。</a></p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><h1 id="7064" class="ko kj hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">在VS代码中使用Git</h1><p id="4f30" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">集成Git支持是Visual Studio代码的最佳特性之一。Git允许您跟踪您的工作，在版本之间来回移动，并且同时在不同的分支上工作。Visual Studio代码默认支持Git，这意味着您不必安装任何包或扩展就可以使用它。侧栏包含一个单独的Git视图，您可以通过单击视图栏中的Git图标快速打开它。</p><h2 id="d4a5" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated">初始化您的存储库</h2><p id="d003" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">如果您的工作空间还没有被Git跟踪，首先您需要初始化一个新的存储库。为此，在Git视图中单击Initialize Repository按钮。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es md"><img src="../Images/08dd16b840972cbf03fbd7787598b3f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*Ut5S-qWlVQNpoCCWCQTpXw.png"/></div></figure><p id="200e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">VS代码将在你的工作空间内创建一个. git文件夹(你不能从VS代码中看到它，因为它是一个隐藏的目录，但是你可以在你的项目的根文件夹中的文件管理器中找到它)，并且它也将你的未被跟踪的文件添加到边栏中。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es me"><img src="../Images/72de91657606856c8ede1a7b09b345e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*GHsGVv-ZJxINbu6pOL4fNw.png"/></div></figure><h2 id="fe74" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated">阶段变化</h2><p id="52c5" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">设置好Git存储库之后，就该创建初始提交了。在提交之前，您需要将想要用Git跟踪的文件添加到暂存区，或者换句话说，您需要暂存更改。要暂存文件，请在“更改”部分将鼠标悬停在该文件上时，单击出现的<code class="du jv jw jx jy b">+</code>按钮。</p><p id="a8c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">单击要暂存的文件后，Visual Studio代码将该文件从Changes文件夹移动到Staged Changes文件夹，这意味着它们现在位于暂存区域中。如果您想要一次暂存所有文件，请单击当您将鼠标悬停在更改副标题上时出现的<code class="du jv jw jx jy b">+</code>按钮。</p><h2 id="7f2d" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated">提交更改</h2><p id="3888" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">阶段化的变更还没有被记录，您还需要提交它们，以便以后您可以查看或者返回到您的存储库的当前状态。为了提交分阶段的更改，您需要添加一条提交消息，描述自上次提交以来所做的更改。</p><p id="c8b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为在这个例子中，这将是初始提交，所以让我们使用不太有创意的“初始提交”消息。在侧边栏顶部的输入栏中键入您的提交消息，然后单击小勾号图标。现在您已经进行了第一次提交，并且记录了存储库的初始状态。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/e988484f29324e1670108c2ef99dd55e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*9Onan1ajm2rY1zJ2JYiRWw.png"/></div></figure><p id="0609" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您的Git工作目录是干净的，到目前为止您所做的所有更改都被跟踪，您的Git视图显示有0个更改(它总是将当前状态与您的上次提交进行比较)。如果您在工作区中进行了新的更改，新的更改将再次出现在侧边栏中，一旦您进行了想要记录的重大更改，您需要再次提交它们。</p><p id="ce47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在下面的截图中，你可以看到代码编辑器提交后的样子。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/7b4d4c0ae450c0bdd396271f12985ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*cKsABXovfcRZZlIZHLnwiQ.png"/></div></figure><h2 id="068a" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated">创建分支</h2><p id="0b9d" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">Git允许您轻松地创建分支并在分支之间切换。这对于使用合并请求的代码审查很有用。</p><p id="ac57" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在Visual Studio代码中，您可以通过点击左下方当前分支的名称并选择<code class="du jv jw jx jy b">+ Create New Branch</code>来创建新的分支。或者你可以点击<code class="du jv jw jx jy b">Ctrl+Shift+P</code>打开命令面板，然后在输入栏中输入<code class="du jv jw jx jy b">Git: Create Branch</code>命令。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/119512272f737d659ea88d2ab9631ef2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GA5bh1D4k59SaAx00JRjGg.png"/></div></div></figure><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/b2bd06ed403b3c0620e801aeabc2274c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EFKh4wOlhoITsSOnHtHIFg.png"/></div></div></figure><h2 id="94c7" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated">结帐分支</h2><p id="c10e" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">要在分支之间切换，请单击左下方当前分支的名称，并从显示的列表中选择新分支。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/b4bee2d4438859c326f334072b616bde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pNbHbjWO6SrAFv4Lzsjnsg.png"/></div></div></figure><h2 id="426b" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated">使用命令面板中的Git命令</h2><p id="2a97" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">您也可以从命令面板访问Git命令。您不需要做任何其他事情，只需在命令面板中键入命令<code class="du jv jw jx jy b">Git</code>，您就会得到一个下拉列表，其中包含您可以快速选择的可用命令。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/ced6d09a5eb2a33ad625f28ef51be90d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rciQbX_hJOs1fKQhqNaiHQ.png"/></div></div></figure><p id="5d40" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些是Visual Studio代码中跟踪我们工作的基本Git操作。VS Studio代码也有先进的Git特性，比如<a class="ae jz" href="https://code.visualstudio.com/docs/editor/versioncontrol#_remotes" rel="noopener ugc nofollow" target="_blank">管理远程存储库</a>、<a class="ae jz" href="https://code.visualstudio.com/docs/editor/versioncontrol#_merge-conflicts" rel="noopener ugc nofollow" target="_blank">合并冲突</a>，你甚至可以将VS代码配置为你的<a class="ae jz" href="https://code.visualstudio.com/docs/editor/versioncontrol#_git-patchdiff-mode" rel="noopener ugc nofollow" target="_blank">外部Git编辑器</a>。</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><h1 id="ec37" class="ko kj hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated"><strong class="ak">现在来说说GitLab。</strong></h1><p id="0382" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">到目前为止，我们知道它提供了一个有用的web界面和额外的特性，比如我们用来管理部署过程的合并请求。</p><p id="f28b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用SSH密钥而不是HTTPS是Git连接GitLab的常见做法，它还提供了增强的安全性。但是，SSH使用的端口(22)不同于普通的互联网流量，如HTTPS(端口443)，因此SSH流量可能会在某些公司网络上被阻止。在这些情况下，HTTPS是一个安全的替代方案，而且它的设置和使用也更简单。</p><blockquote class="ml mm mn"><p id="5b0e" class="iq ir mo is b it iu iv iw ix iy iz ja mp jc jd je mq jg jh ji mr jk jl jm jn hb bi translated">永远不要使用不安全的(HTTP)连接。</p></blockquote><p id="135a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们讨论GitLab成员和项目的权限和安全性，您将看到不同成员的不同可见性和权限级别，您可以为存储库启用这些级别。</p><p id="9b52" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，为了防止人们在没有审查的情况下修改分支的历史或推送代码，GitLab允许您创建受保护的分支。<a class="ae jz" href="https://docs.gitlab.com/ee/development/permissions.html#gitlab-permissions-guide" rel="noopener ugc nofollow" target="_blank">通读文档</a>了解更多信息。</p><h2 id="ef02" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated">合并请求</h2><p id="b4a6" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">这些请求是将一个分支拉(或合并)到另一个分支中。例如，CI流程可以对功能分支执行自动验证，可以为已验证的功能分支创建合并请求，然后允许其他人在将该分支合并到主分支之前对其进行审查和批准。</p><p id="0833" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在将您的更改推送到存储库之后，您可以从命令行而不是代码创建一个合并请求。或者您也可以从GitLab中完成。</p><p id="5fa6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您必须转到您想要合并您的更改的项目，然后单击Merge requests选项卡来创建一个新的合并请求。</p><p id="5f85" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">选择要合并到的源分支和目标分支。然后比较你的分支继续。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/7546713cabe785e06830f078123983c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cQKr0jq_Bc0wWt4YCYnJbA.png"/></div></div></figure><p id="fe30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">向您的合并请求添加标题和说明。(可选)选择一个用户来复查您的合并请求。您还可以指定里程碑和标签。</p><p id="d42a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">准备就绪后，单击提交合并请求按钮。你的请求会被提交。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mt"><img src="../Images/420bce19ae29f19c08c5c32d647f75a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7yWh729f5I-jJXKKNm0eEw.png"/></div></div></figure></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><h1 id="c040" class="ko kj hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">连续累计</h1><p id="e0fd" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">我最喜欢的部分来了——CI/CD。</p><p id="5ab2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">简单地说，CI/CD是软件开发的最佳实践。</p><p id="14a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当使用CI时，开发团队产生的所有代码都合并到一个中央存储库中，在那里自动构建验证它。这种实践有助于开发团队在向客户发布变更之前检测、识别并修复问题和缺陷。</p><p id="02c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">CI就像一份保险单。你会冒险在没有汽车保险的情况下在城市里开车吗？不会吧！</p><p id="8895" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">开发人员应该关注于尽早建立一个简单的持续集成过程。</p><p id="a365" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">GitLab CI是集成在GitLab中的CI/CD工具。因此，我们无需担心为这一重要流程集成任何第三方工具。</p><p id="a130" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">基本上CI工具有3个部分:组织所有自动化作业的实际<strong class="is hj"> CI引擎</strong>、定义要运行的特定作业的<strong class="is hj">配置</strong>，以及执行这些作业的一个或多个<strong class="is hj">运行器</strong>。</p><blockquote class="ml mm mn"><p id="e766" class="iq ir mo is b it iu iv iw ix iy iz ja mp jc jd je mq jg jh ji mr jk jl jm jn hb bi translated">选择GitLab的另一个原因是它非常好地整合了所有这些部分。GitLab本身就是一个版本控制工具。</p></blockquote><p id="4273" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> GitLab CI是组织所有自动化的引擎</strong>，它与GitLab的其余部分紧密集成。</p><p id="dfda" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">GitLab CI 的<strong class="is hj">配置全部包含在一个名为<strong class="is hj">的简单文本文件中。gitlab-ci.yml </strong>与您的项目代码一起存在于存储库中，它足够简单，易于阅读，但是足够强大，可以描述几乎任何CI/CD配置。要为您的项目设置ci，您不需要登录和配置任何东西，只需将一个. gitlab-ci.yml文件放入您的项目repo中，整个CI系统就活了！</strong></p><p id="ab43" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">GitLab runner通常是一个Docker容器——一个超级轻量级的Linux shell，它允许我们运行我们想要的几乎任何类型的软件和代码。</p><h2 id="332e" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated">管道</h2><p id="3431" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">GitLab CI将所有这些自动化作业组织到管道中。所以它是一组分阶段或分批执行的作业。一个阶段中的所有作业都是并行执行的(如果有足够多的并发运行者)，如果它们都成功了，那么管道就进入下一个阶段。如果其中一个作业失败，则不会执行下一个阶段(除非您已经声明该作业可以“allow_failure”)。您可以在项目的“管道”选项卡中访问“管道”页面。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/b3a897c2f12913c518e05b982fc6d516.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dsh97peax-aV6leN2g9lWQ.png"/></div></div></figure><p id="3fee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">管道是在。gitlab-ci.yml文件。在该文件中，您可以指定希望特定管道在什么情况下运行。例如，您可能希望某些测试仅在提交到主分支时运行，并且您可能希望提交到不同分支的测试部署到不同的环境中。</p><h2 id="ac38" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated">环境和部署</h2><p id="8dae" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">GitLab CI不仅仅能够测试或构建您的项目。它还可以用于部署和跟踪部署。在您的<code class="du jv jw jx jy b">.gitlab-ci.yml</code>文件中，您可以定义部署到哪个<strong class="is hj">环境</strong>。</p><h1 id="d3a6" class="ko kj hi bd kp kq mv ks kt ku mw kw kx ky mx la lb lc my le lf lg mz li lj lk bi translated">现在让我们详细了解一下<strong class="ak"> GitLab CI YAML </strong>文件。</h1><p id="de29" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">下面是您的<code class="du jv jw jx jy b">.gitlab-ci.yml</code>文件的样子。</p><figure class="ka kb kc kd fd ij er es paragraph-image"><div class="er es na"><img src="../Images/6d8891946079faa37b4b79c7306f216e.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*8hguNG15l0OT84uXYUbaUA.png"/></div></figure><p id="c068" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这定义了一组作业，并对它们应该何时运行进行了限制。让我们一步步分析YAML的结构和一些基本术语:</p><h2 id="62c1" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated"><strong class="ak">阶段</strong></h2><p id="e3fe" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">这些基本上是可以被多个不同的工作使用的步骤。指定阶段允许我们创建灵活的多阶段管道。</p><p id="5ff1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">阶段中元素的顺序定义了作业执行的顺序。同一阶段的作业并行运行，下一阶段的作业在前一阶段的作业成功完成后运行。</p><h2 id="1cf9" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated"><strong class="ak">变量</strong></h2><p id="ba6f" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">GitLab CI允许您在中设置自己的变量。gitlab-ci.yml .这些变量在作业环境执行时是可用的。这些变量存储在Git存储库中，用于存储不敏感的项目配置。这些变量可以在以后所有执行的命令和脚本中使用。</p><blockquote class="ml mm mn"><p id="fdfb" class="iq ir mo is b it iu iv iw ix iy iz ja mp jc jd je mq jg jh ji mr jk jl jm jn hb bi translated">凭证和其他秘密应该存储为秘密变量。</p></blockquote><h2 id="7211" class="ki kj hi bd kp lq lr ls kt lt lu lv kx jb lw lx lb jf ly lz lf jj ma mb lj mc bi translated">乔布斯</h2><p id="e89a" class="pw-post-body-paragraph iq ir hi is b it ll iv iw ix lm iz ja jb ln jd je jf lo jh ji jj lp jl jm jn hb bi translated">GitLab CI允许您指定无限数量的作业。</p><p id="f157" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jv jw jx jy b">build-code-job</code>是这个YAML文件中的作业名称</p><p id="b381" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jv jw jx jy b">script</code>定义运行程序要执行的shell脚本</p><p id="f301" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jv jw jx jy b">environment</code>将工作标记为部署到特定环境</p><p id="74b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jv jw jx jy b">when</code>定义何时运行作业，可以是on_success、on_failure、always或manual</p><p id="643a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jv jw jx jy b">only</code>定义将触发作业的git引用列表</p><p id="1d0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你还可以探索其他的工作关键词，但这些是你可以开始的基本关键词。</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><p id="6061" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有了Git工作流的所有基础知识，您就可以深入了解它了。</p></div></div>    
</body>
</html>