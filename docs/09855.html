<html>
<head>
<title>Working on Hubspot using Python — Part 2.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python处理Hubspot第2部分。</h1>
<blockquote>原文：<a href="https://medium.com/codex/working-on-hubspot-using-python-part-2-cedec143921c?source=collection_archive---------3-----------------------#2022-11-14">https://medium.com/codex/working-on-hubspot-using-python-part-2-cedec143921c?source=collection_archive---------3-----------------------#2022-11-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e1d694dd7cc0ff75b6d80716f7683106.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rEkAQICczRnqjZq112madw.jpeg"/></div></div></figure><p id="5935" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在前一篇文章中，我们看到了如何提取contact对象中的所有数据。我们找到了从Hubspot API提取数据的更好方法。在本文中，我们将演示如何在联系人对象中插入数据。以及如何更新或修改现有数据。</p><p id="8b53" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们如何上传存储在熊猫数据框架中的多种数据？</p><p id="f217" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们将了解属性名称。</p><p id="f1ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">属性名是字段名称，在Contacts对象中是必需的。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/3d4a7cd3dde4e6b167790794865e77a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HGBmYNOG2LmSBOABeotf-g.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">属性图像</figcaption></figure><p id="b764" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们可以看到上面的截图，我们可以观察到绿色框中的字段名称、电子邮件、电话号码和联系人所有者都是属性名称。</p><p id="7809" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，您还可以创建一个新的属性名，即custom。所以我将以一个叫做曼彻斯特联队的足球队为例。在这里我将插入球员的名字和他们的国家名称。</p><p id="8b25" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">国家名称将是自定义的属性名称，我将演示如何创建一个新的属性名称。</p><p id="23c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，单击设置符号。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/c001f31251d4095221a4fb84a2c4eb03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ukq11Vj9wEgoldys5gDyrg.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">设置图像</figcaption></figure><p id="c469" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">点击管理属性。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/79e9b437196719846049c0411d832687.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dMbwNSFIhzKRNXzNLiKi1g.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">联系人设置页面</figcaption></figure><p id="1a03" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">点击创建属性</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/aa3fd0d26da947505d7354aac2469614.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5K40-h56EeEHJD2Raib8_A.jpeg"/></div></div></figure><p id="cff4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">之后，屏幕右侧会出现一个弹出屏幕。如下图所示:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/97e1a11668d01914ad4c5939dd26dc58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*Au8AKp92gRljN88pa-BGUA.jpeg"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">财产的创造</figcaption></figure><p id="a7c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们创建了一个属性名“玩家名”，这是自定义字段/属性。填写数据后，请点击<strong class="is hj">下一步</strong>。</p><p id="0a9e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将拥有另一处房产，名字将是'<strong class="is hj">球衣号码'</strong></p><p id="0daf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们已经创建了属性名。现在我们必须通过代码提取属性名，该名称应该在插入或更新数据时应用于Hubspot API。</p><pre class="jp jq jr js fd kb kc kd ke aw kf bi"><span id="1e06" class="kg kh hi kc b fi ki kj l kk kl">import hubspot<br/>from hubspot.crm.properties import ApiException<br/>client = hubspot.Client.create(access_token="Your_api_token")</span></pre><p id="ff90" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以选择你想要的对象，所以我选择“联系”对象。</p><pre class="jp jq jr js fd kb kc kd ke aw kf bi"><span id="011a" class="kg kh hi kc b fi ki kj l kk kl">#api_response = client.crm.properties.core_api.get_all(object_type = 'your_object',archived=False)</span><span id="e02a" class="kg kh hi kc b fi km kj l kk kl">api_response = client.crm.properties.core_api.get_all(object_type = 'contacts',archived=False)</span></pre><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="kn ko l"/></div></figure><p id="7bab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">属性名称列表保存在“field_of_contact.txt”文件中。在文本文件中，我们将获得属性列表及其详细信息。</p><p id="bb1c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们必须收集属性列表中的“标签”和“名称”。我们必须为插入和追加工作。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kp"><img src="../Images/2fccc0bafc6d67405af2f122c43b1962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*ny5qI1-YTcIL2ihfMfYMug.jpeg"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">文本文件包含属性名称列表</figcaption></figure><p id="7fb7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们跳到在Hubspot中插入数据。</p><p id="fb27" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我要插入一张名为“大卫·德基”的著名门将的唱片。我从维基百科获取数据。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="kn ko l"/></div></figure><p id="d6b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行上述代码后，我们将观察到如下所示的输出:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kq"><img src="../Images/b1de1939098b7120df92103522e8dfbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w4AAQre7kvAMu4jRwY6jDw.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">在Hubspot中插入数据后python代码的输出</figcaption></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/6382b7a7fc8de4a5fdb23e414668b486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cD8UxG4dLaSdyxFG7jBQqw.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">Hubspot平台的输出</figcaption></figure><p id="aed1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们有很多数据，可以通过CSV或EXCEL文件上传。</p><p id="d6b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用Pandas DataFrame创建一些数据。</p><p id="a4da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我从维基百科收集了数据。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/503de4a8805905d76e62bbdfc79e8243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kFe86myUCcKiKXn2tZTf6w.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">要上传的数据帧</figcaption></figure><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="kn ko l"/></div></figure><p id="3d5c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行上述代码后，我们将在list_id中获得新创建数据的联系人id:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kt"><img src="../Images/ff852ae8d6c9107bd2e6b4fe5999fba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:334/format:webp/1*Gd4blhJIuMVi_0M23RgeBA.png"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">新创建数据的联系人id的输出</figcaption></figure><p id="758e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们可以在Hubspot Contact字段中看到输出。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/a1ccb349e1c62e8c7d52d11fcc36c019.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HMM6S4G87dVcTSim-VKMog.jpeg"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">轮毂点触点的输出</figcaption></figure></div></div>    
</body>
</html>