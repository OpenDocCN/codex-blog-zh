# 六大性能技巧。Net 开发人员

> 原文：<https://medium.com/codex/top-6-performance-tips-for-net-developers-b094f2f560bd?source=collection_archive---------3----------------------->

![](img/dbdf739cd58ee999c14038e9b479ae91.png)

## 目录

1.  介绍
2.  优化性能的 6 大技巧。网络应用

避免引发异常

缩小你的文件

避免阻止通话

缓存您的页面

优化自定义代码

最小化大对象分配

3.奖励:性能优化技巧

4.客户端改进

5.包扎

# 介绍

你可以找到很多证据表明，由于缓慢的加载时间和笨拙的交互，客户开车到其他地方，离开你的网站。即使我们谈论内部应用程序，用户没有其他选择，只能使用应用程序，他们的满意度与速度高度相关。

性能是任何应用成功的关键因素，ASP.NET 是开发高性能应用的最佳平台之一，可确保您的产品符合标准。有多种方法可以接近。NET 性能调优，并执行及时的检查，以确保您的应用程序运行良好。最好使用[。Net 开发工具](https://www.tatvasoft.com/outsourcing/2021/07/dot-net-development-tools.html)如 Visual Studio、NCrunch、Postman、NDepend 等。还可以帮助开发人员开发高性能的尖端应用程序。

ASP.NET 受欢迎的主要原因之一是它的性能。并且为开发者提供了应用开发的稳定基础。因此，我们在此与您分享 6 大技巧，帮助您优化的性能。Net 应用程序。所以事不宜迟，让我们开始吧！

# 优化性能的 6 大技巧。网络应用

## 1.避免引发异常

异常是处理您的。Net 核心应用程序。然而，它会影响性能，因此需要适当的管理，否则可能会损害应用程序。它们可能是您在 web 应用程序中见过的最严重的资源消耗者之一。例如，捕捉一个特定的异常比捕捉最普通的异常要好，因为隐藏一个问题从来都不是一个解决方案，从长远来看也不会起作用。

## 2.缩小你的文件

使用压缩工具可以帮助您减少通过电线发送的数据量。但是要确保所有用于发送 HTML、CSS 和 JavaScript 的基于压缩的算法都是无损压缩算法。因此，结果是 compress(x) => decompress(x)，它总是等于 x。

```
function doSomething(){
var size_of_something_to_do = 55;
for (var counter_of_stuff = 0;
counter_of_stuff < size_of_something_to_do;
counter_of_stuff++) {
size_of_something_to_do — ;
}
}
```

类似于:

```
function doSomething(){var a=55;for(var b=0;b<a;b++){a — ;}}
```

[代号](https://stackify.com/asp-net-performance-tuning/)

这是因为变量的作用域是有限的，并且不需要空格。这个过程被称为缩小，可以应用于 CSS 和 HTML。

## 3.避免阻止通话

设计您的。Net 应用程序，它使用异步 API 同时执行多个进程。它可以处理数千个并发请求，而无需等待阻塞调用。因此，它不需要等待任务完成，而是可以开始在另一个线程上工作。的问题是。NET web apps 正在通过调用 Task 来阻止异步执行。等等。另外，避免调用 Task。跑是因为。Net 已经有一些线程处于运行状态，这导致了额外的和不必要的线程池调度。

在您的。Net 核心应用还可以帮助你提升性能，流畅运行 app，不会出现任何错误。异步 API。通过这样做，您的操作可以在不影响其他进程的情况下执行。使用探查器来查找添加到线程池中的线程，以确保应用程序运行良好，并有助于执行繁琐的任务。

## 4.缓存您的页面

缓存页并在特定情况下使它们失效有助于提高。Net 核心应用程序。缓存在您输入的指定时间和持续时间内可用，并保护服务器免受不需要的请求的影响，这样就不会发生重叠。因此，为了提高性能，请确保不要给缓存的项分配短的过期时间，因为它会更频繁地过期，并为垃圾收集器工作。如果页面既有动态部分又有静态部分，则应通过拆分页面并指定静态控件较少的缓存来使用部分缓存。

您页面上包含的数据可能会像热点问题页面一样缓慢变化。但是这些变化还没有强大到需要重新查询数据库。我们可以将页面放入缓存，并使用该数据为后续请求提供服务，而不是呈现页面。

如果你正在使用 ASP.NET MVC 缓存，那么你必须熟悉动作响应，它是如此简单，类似于添加一个属性。

```
[HandleError] public class HomeController : Controller {
[OutputCache(Duration=10, VaryByParam=”none”)]
public ActionResult Index() {
return View();
}
}
```

[代号](https://stackify.com/asp-net-performance-tuning/)

## 5.优化自定义代码

代码优化和改进业务逻辑可以积极地影响应用程序的性能。但是怎么做呢？你可以这样做:

*   确保优化执行和管理每个请求的自定义处理程序代码、日志记录和身份验证。
*   避免执行长时间运行的自定义执行，因为它会阻塞发送到服务器的请求，并增加应用程序的数据获取时间。相反，您可以在服务器或客户端优化您的应用程序代码。
*   异步工作，这样就不会影响其他任务。
*   以实时客户机-服务器通信为例，您可以轻松地异步工作。

## 6.最小化大对象分配

众所周知。Net Core 垃圾收集器专注于管理开发过程中不需要的所有分配和释放，并自动释放不必要的内存。所以我们不需要担心不需要的数据和代码。Net core 负责处理它，并清理占用 CPU 时间的未引用对象。垃圾收集的成本很高，生成大量堆可以优化应用程序的性能。但是怎么做呢？

*   考虑缓存大对象，因为它可以防止昂贵的分配。
*   开始使用 ArrayPool <t>来存储大型数组。</t>
*   移除热代码路径上不需要的大对象。

# 奖励:性能优化技巧

*   执行代码评审以维护对代码的控制
*   首先加载 CSS，最后加载 JavaScript
*   减少 HTTP 请求
*   避免客户端重定向
*   使用缓存来提高性能
*   使用 APM 工具识别性能不佳的应用程序
*   使用前缀来评估工作的分配
*   使用异步数据库操作
*   启用压缩
*   使用 Retrace 检测试运行环境中的生产问题

# 客户端改进:

*   通过请求开始使用 ReadFormAsync。形式
*   避免存储 IHttpContextAccessor。字段中的 HttpContext
*   避免从多个线程访问 HttpContext，因为这样不安全，会导致未定义的行为。
*   避免在响应正文开始后修改状态代码。
*   不要捕获注入控制器的服务。

众所周知，每一个推出的新版本都有一系列新的特性、功能和更好的性能。例如，。NET Core 2.1 提出了一个 JIT 编译器，它从编译的正则表达式和 Span <t>标签中获得支持。如果我们谈论。Net Core 2.2，它支持 HTTP/2，而 3.0 提供了快速的内存读写。最新的。Net 版本 5 正计划引入一些优化了性能的新特性和一个简化的过程。因此，与以前的版本相比，开发人员在新版本中开发高性能的应用程序变得更加容易。</t>

# 包扎

最后，我们可以说大规模应用程序的质量是有限的，这决定了它们的开发。如果你没有准备好适当的预生产过程，我们将不可避免地向用户介绍性能差的代码。但是使用 Prefix pre-production tool 和 Retrace，我们可以在关闭关键系统之前深入了解变更对性能的影响。

所有这 6 个技巧一定会帮助你提高你的工作表现。Net 核心应用程序。然而，当您有一个大规模的应用程序时，您可能会发现很难检查所有的东西。因此，更好、更有效的方法是使用自动工具，帮助您及时发现错误，减少可能危险的有害影响。

我们希望这篇文章和我们讨论过的技巧能够帮助您提高的性能。Net 核心应用程序。尝试实现更多功能，以获得每个用户都期望的最佳和高度优化的性能。如果您在实施任何提示时遇到任何挑战，您可以联系提供最佳服务的最佳软件开发公司。Net 开发服务来克服您的所有项目挑战。

如果你能在脸书或推特上分享这篇文章，让更多的人看到，那对我们来说是再好不过了。欢迎在下面的评论区联系我们，提出你的疑问。

谢谢大家！