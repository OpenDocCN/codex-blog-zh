<html>
<head>
<title>Postman as a full testing tool</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为完整测试工具的Postman</h1>
<blockquote>原文：<a href="https://medium.com/codex/postman-as-a-full-testing-tool-9ce47f219286?source=collection_archive---------4-----------------------#2021-08-06">https://medium.com/codex/postman-as-a-full-testing-tool-9ce47f219286?source=collection_archive---------4-----------------------#2021-08-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1d33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们中的许多人使用<a class="ae jd" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank"> Postman </a>作为帮助我们“测试请求”的简单工具或程序。我想这是我脑海中第一个突兀的描述。有人给我们一个URL，告诉我们方法、参数和任何其他细节，因此我们验证结果是否是我们所期望的。这种类型的场景非常常见，例如在开发服务API时。但是，如果它仅仅是为了做到这一点，邮差将只不过是一个花哨的卷曲命令。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/ee6c42778befaec0c8f611ff8b6c1e79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rWUPMEhppfjtalzShTgjUw.jpeg"/></div></div></figure><p id="fce8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当然，Postman是一个更完整的工具，它有几十个功能来创建请求、管理和共享收藏、同步帐户等。在这些功能中，本文的主题是:<strong class="ih hj">使用Postman作为在我们的服务应用程序中创建和执行集成测试的解决方案</strong>。有了这个伪描述性的标题，我将试着向你展示允许你尝试这个的基本步骤。</p><p id="1436" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Postman测试是用Javascript编写的，它允许您确保您的API正确工作，并且每个服务正确处理参数并返回预期的输出，完美地模拟了您的应用程序的消费者客户端的体验。值得一提的是，Postman中的集成(或端到端)测试是对应用程序单元测试的补充，因此我鼓励您在开发服务API时同时使用这两部分。所以事不宜迟，让我们把这个付诸实践。</p><p id="54f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用http://api.icndb.com的公共api <a class="ae jd" href="http://api.icndb.com" rel="noopener ugc nofollow" target="_blank">来创建我们的测试。在这里，你可以得到可用服务的详细信息。第一件事是在Postman中创建新的集合，并添加一个包含主url的变量。在文章的最后，你可以下载邮差合集来亲自测试一下:</a></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es jq"><img src="../Images/583fad7fa91a0d72c5adb336fdf779b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-vAcDOU23VHVhjzniwhBIg.png"/></div></div></figure><p id="5614" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是时候向集合添加一个新的请求来获得<em class="jr">/笑话/随机</em>资源了。结果将类似于下图。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es js"><img src="../Images/040a6657897af594ad686ccdb6fc71b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0boBnMSXdQE47M3R8xm6sA.png"/></div></div></figure><p id="c363" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的选项卡中，您可以找到“Tests ”,这是使用Javascript创建测试的空间，在这里您可以定义对结果的断言，从而确认您的API工作正常。Postman测试可以使用<a class="ae jd" href="https://www.chaijs.com/api/bdd/" rel="noopener ugc nofollow" target="_blank">柴断言库BDD </a>语法。<a class="ae jd" href="https://learning.postman.com/docs/writing-scripts/test-scripts/" rel="noopener ugc nofollow" target="_blank">在这里</a>你会找到官方的例子</p><p id="79e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">按照我们的用例，我们将创建验证以下方面的测试:</p><pre class="jf jg jh ji fd jt ju jv jw aw jx bi"><span id="9619" class="jy jz hi ju b fi ka kb l kc kd">- Status code is 200<br/>- Body.type = 'success'<br/>- Body.value is an object containing<br/>   - id is a number<br/>   - joke is an string</span></pre><p id="7e04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下图显示了两个测试用例，第一个验证状态代码，第二个断言响应体的属性。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ke"><img src="../Images/6530bdf7d48f322aa8670e2563a3f031.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4klCea0AxKax1No20MsiUw.png"/></div></div></figure><p id="1bf6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们使用“Send”再次测试请求，我们将看到测试已经自动执行，结果显示在Test Results选项卡中，确认我们的API在该端点上正常工作。同样，如果其中一个断言不匹配(我们将把expect from id修改为一个字符串)，我们将在结果中看到错误。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kf"><img src="../Images/233a638deb6f2d5a392e2e9efc6f7d4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RITDiXj3n8tyXpxbV-Htsg.png"/></div></div></figure><p id="1bcd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些简单的例子是Postman中测试的主体，通过遵循这种方法，我们将能够对我们的API进行更加健壮的覆盖。但是，如果我们的api需要我们不知道的参数，例如，接收一个id以获得一个简单对象的细节，该怎么办呢？为此，我们将在测试中使用变量来“链接”我们的请求。在结束之前，让我们看一下这个例子，在这个例子中，我们希望在获得一个笑话的列表之后，通过id获得一个特定笑话的细节。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kg"><img src="../Images/9c8885f2bfba4db8f5c995392675c0a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BtXZWg7XXwK_JseIDJt5Iw.png"/></div></div></figure><p id="9935" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如您所见，我们添加了一个新行，将<em class="jr"> jokeId </em>存储在一个集合变量中(您也可以将它作为一个全局变量持久化)。然后我们创建一个新的请求，通过它的id实现相应的测试来获取笑话。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kh"><img src="../Images/913029336b83b01f51f40b021d470484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hLCxKjiB8ntL3cHNkG9HUg.png"/></div></div></figure><p id="4335" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://gist.github.com/wolivera/a418a1be322116f271643a78a0171b99" rel="noopener ugc nofollow" target="_blank">在这里</a>您可以下载测试集来自己运行这些用例。</p><p id="a5b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读！</p><p id="8297" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以<a class="ae jd" href="https://twitter.com/liams_o" rel="noopener ugc nofollow" target="_blank">在Twitter </a>上关注我的这篇文章和更多文章:)</p></div></div>    
</body>
</html>