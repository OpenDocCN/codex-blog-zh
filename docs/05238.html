<html>
<head>
<title>How to build an Android chat app with Sendbird UIKit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Sendbird UIKit构建Android聊天应用</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-build-an-android-chat-app-with-sendbird-uikit-fcadfaa457d9?source=collection_archive---------7-----------------------#2022-02-10">https://medium.com/codex/how-to-build-an-android-chat-app-with-sendbird-uikit-fcadfaa457d9?source=collection_archive---------7-----------------------#2022-02-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/7616b11eb61054f911fa7e5f7a4e8a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KIQwkohEYGspj-_L.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">仙鸟2022</figcaption></figure><div class=""/><div class=""><h2 id="4c45" class="pw-subtitle-paragraph iu hw hx bd b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl dx translated">使用预构建的UI组件构建功能丰富的应用内聊天</h2></div><p id="a61e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">解决方案工程师| <a class="ae ki" href="https://www.sendbird.com" rel="noopener ugc nofollow" target="_blank"> Sendbird </a></p><p id="2e4b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><em class="kj">您可能会发现查看Android Chat UIKit </em> <a class="ae ki" href="https://github.com/sendbird/sendbird-uikit-android" rel="noopener ugc nofollow" target="_blank"> <em class="kj">示例代码</em> </a> <em class="kj">很有用。如需更多指导，请参考我们的</em> <a class="ae ki" href="https://sendbird.com/docs/uikit/v1/android/quickstart/send-first-message" rel="noopener ugc nofollow" target="_blank"> <em class="kj">文档</em> </a> <em class="kj">。要查看您的现代、功能齐全的聊天工具，请查看我们的</em> <a class="ae ki" href="https://sendbird.com/demos/in-app-chat" rel="noopener ugc nofollow" target="_blank"> <em class="kj">演示</em> </a> <em class="kj">。最后，查看我们的</em> <a class="ae ki" href="https://sendbird.com/features/chat-messaging/uikit" rel="noopener ugc nofollow" target="_blank"> <em class="kj"> Chat UIKit页面</em> </a> <em class="kj">了解详情。</em></p><p id="9c0d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><em class="kj">别忘了访问我们的</em> <a class="ae ki" href="https://sendbird.com/developer" rel="noopener ugc nofollow" target="_blank"> <em class="kj">开发者门户</em> </a> <em class="kj">获取更多有用的教程和开发者资源！</em></p><h1 id="40d1" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">介绍</h1><p id="e5b1" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">Sendbird UIKit是一套丰富的预建UI组件，您可以使用它在10分钟内在您的应用程序中创建现代messenger体验。您也可以将<a class="ae ki" href="https://sendbird.com/docs/chat%22" rel="noopener ugc nofollow" target="_blank"> Sendbird Chat SDK </a>与您自己的自定义UI一起使用。</p><p id="3a71" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">本教程将向你展示如何用Sendbird发送你的第一条消息。阅读完本文后，您将使用客户端和服务器端代码构建一个通信通道来发送和接收消息。尽管对Kotlin和Sendbird UIKit的基本熟悉会有所帮助，但本指南适用于所有熟练程度的开发人员。</p><p id="35ab" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">要发送您的第一封邮件，您需要:</p><p id="cc36" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">1.创建:<br/> a. <a class="ae ki" href="https://dashboard.sendbird.com/auth/signup" rel="noopener ugc nofollow" target="_blank"> Sendbird账号</a>T44】b . send bird环境中的用户<br/> 2 .导入Sendbird UIKit依赖关系<br/> 3。将Sendbird UIKit SDK集成到您的应用程序中</p><p id="89da" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">本指南详细介绍了这些步骤。我们开始吧！</p><h1 id="4a6c" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">第一步。创建一个Sendbird帐户</h1><p id="bf26" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">1.1注册一个免费的<a class="ae ki" href="https://dashboard.sendbird.com/auth/signup" rel="noopener ugc nofollow" target="_blank"> Sendbird帐户</a></p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lh"><img src="../Images/e3903a3c9a51b37076d333eb586c89d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wAh2m2BuFhXl0Lzk.png"/></div></div></figure><p id="694e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">1.2使用您的电子邮件地址创建一个帐户，或单击“继续使用Google”</p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lm"><img src="../Images/b4cb4bc7333e33a9f5cbb2ab56986a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CDMSvAKcsAeh7YVn.png"/></div></div></figure><p id="1323" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">1.3通过输入“组织名称”和“电话号码”来设置您的组织</p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ln"><img src="../Images/02d20af586316607a799901f2b7c55d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VJDTYHbwgvFAtr8r.png"/></div></div></figure><p id="70eb" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">1.4选择“产品类型”并输入“应用程序名称”和“地区”后，创建您的Sendbird应用程序</p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lo"><img src="../Images/57976c9dce3b02c4e46e0e015e0a4874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ktvj6iChUx-elWNR.png"/></div></div></figure><p id="bea3" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">1.5您将被引导至Sendbird仪表板的主页，开始在您的产品中实施Sendbird Chat SDK和API</p><p id="bb4d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">1.6进入后，从“应用程序”部分复制您唯一的“应用程序ID”，并将其粘贴到您的剪贴板中。这将在步骤4.1中初始化UIKit SDK时使用。</p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lm"><img src="../Images/a59a80d24546869f8d57a597fbcd8814.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*M5-Zk8pgI5iH9QUw.png"/></div></div></figure><h1 id="213a" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">第二步。在Sendbird仪表板中创建用户</h1><p id="a704" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">2.1导航至仪表板左侧导航中的用户部分</p><p id="08e4" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">2.2单击右上角的“创建用户+”图标</p><p id="935d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">2.3通过填写以下字段来创建新用户:<br/>–‘ID’<br/>–‘昵称’<br/>–‘个人资料URL’—可选<br/>–‘颁发访问令牌’—可选</p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lm"><img src="../Images/943cdccd0f926804980aa0f866894016.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*io9eyx0g6IGRVNja.png"/></div></div></figure><p id="f002" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">首先创建至少两个用户，这样您的应用程序中就有了可以互相聊天的用户。</p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lm"><img src="../Images/f7650ac1e26fb6f5b4fc7595ddb7b06f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2nQTCntNr4Ri9oUO.png"/></div></div></figure><h1 id="78db" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">第三步。添加<a class="ae ki" href="https://sendbird.com/blog/introducing-sendbird-uikit-get-chat-running-in-minutes" rel="noopener ugc nofollow" target="_blank"> Sendbird UIKit </a> SDK</h1><p id="92b5" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">为了构建我们的项目，我们将使用Android Studio作为我们的IDE。您可以创建一个新项目或添加到一个现有项目中，这与下面将要介绍的内容没有什么不同。</p><p id="45be" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> 3.1创建项目</strong></p><p id="5147" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">3.1.1.在欢迎界面中，点击“启动一个新的Android Studio项目”</p><p id="c5ba" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">3.1.2.在“选择项目模板”窗口中，选择“空活动”，然后单击“下一步”</p><p id="8d87" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">3.1.3.在“配置您的项目”窗口的“名称”字段中输入您的项目名称</p><p id="ec34" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">3.1.4.从语言下拉菜单中选择您的语言Java或Kotlin</p><p id="9a1b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">3.1.5.启用使用androidx。*工件</p><p id="d2c8" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">3.1.6.选择最低API等级为16或更高</p><p id="e201" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy"> 3.2使用扳手安装UIKit】</strong></p><p id="6ab7" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">3 . 2 . 1 Android版UIKit通过Gradle安装。将以下内容添加到项目级<code class="du lp lq lr ls b">build.gradle</code>文件中:</p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lt"><img src="../Images/bfba60ce4cf224cc4dcf473b86440a13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*vyRrsaW3GkUtnXdw.png"/></div></div></figure><p id="4ce2" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">3.2.2然后，打开你的app级<code class="du lp lq lr ls b">build.gradle</code>文件。对于Java和Kotlin，添加如下代码块和依赖项，并同步以应用更改。</p><figure class="li lj lk ll fd hk"><div class="bz dy l di"><div class="lu lv l"/></div></figure><figure class="li lj lk ll fd hk"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h1 id="4de9" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">第四步。初始化UIKit SDK</h1><p id="5a8b" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">4.1创建一个名为<code class="du lp lq lr ls b">BaseApplication</code>的类，并初始化一个<code class="du lp lq lr ls b">SendBirdUIKit</code>实例，绕过<code class="du lp lq lr ls b">SendBirdUIKitAdapter</code>实例作为<code class="du lp lq lr ls b">SendBirdUIkit.init()</code>方法中一个参数的自变量。这里您可能需要使用您之前复制的ApplicationID。</p><p id="4434" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">4 . 1 . 1<code class="du lp lq lr ls b">SendBirdUIkit.init()</code>必须在客户端app的应用实例的<code class="du lp lq lr ls b">onCreate()</code>方法中调用一次。</p><figure class="li lj lk ll fd hk"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="571f" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">4.1.2将创建的<code class="du lp lq lr ls b">BaseApplication</code>添加到<code class="du lp lq lr ls b">AndroidManifest.xml</code>中</p><figure class="li lj lk ll fd hk"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="3f9b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">4.2通道活性</p><p id="9256" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><code class="du lp lq lr ls b">ChannelListActivity</code>是在应用程序中启动Sendbird UIKit的起点。只需一行代码，整个UIKit就可以在您的应用程序中实现。</p><figure class="li lj lk ll fd hk"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="c84e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><em class="kj">注意</em>:你可以从一个片段或者一个活动中启动UIKit，你不需要扩展<code class="du lp lq lr ls b">ChannelListActivity</code>。</p><h1 id="0be8" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">第五步。测试您的集成</h1><p id="cffd" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">5.1在仿真器或插入式设备上运行应用程序。</p><p id="ec7b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">5.2继续创建一个通道，如下所示。</p><p id="5faf" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">5.2.1.添加用户</p><p id="697c" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">5.2.2.单击创建按钮</p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/f28e8fa36d9a8af8a16e02f81a5cc928.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3v5YsPDbZ52up8U1.png"/></div></div></figure><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/142fef1ee96731e1069b8b549381b190.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ENbSyX-HgpKKcQ2x.png"/></div></div></figure><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/14c1bfb139a55807ccf247f7105439e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wKLT4HSKz0T3t947.png"/></div></div></figure><p id="2ee9" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">5.3发送您的第一条消息</p><p id="ea65" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">试着输入一条信息，然后点击发送。您应该能够在应用程序中新建的聊天中成功发送您的第一条消息。</p><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ln"><img src="../Images/bb54f7611202b764b377992f31561027.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QNLaFkxT9PMfjj6y.png"/></div></div></figure><figure class="li lj lk ll fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/0fd59fe49546d6264eb8a8f8f785120d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uuzpZntVH7j8Mu89.png"/></div></div></figure><h1 id="220b" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">结论</h1><p id="c45c" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">恭喜你！您已经准备好使用Sendbird从您的Android应用程序发送和接收信息。您正在构建一个优秀且吸引人的应用程序！</p><p id="86f4" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">开心聊楼！🙂</p></div></div>    
</body>
</html>