<html>
<head>
<title>Aspect object programming with Spring boot (Part One)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Spring boot进行方面对象编程(第一部分)</h1>
<blockquote>原文：<a href="https://medium.com/codex/aspect-object-programming-with-spring-boot-part-one-4544a58d6a4c?source=collection_archive---------4-----------------------#2022-05-15">https://medium.com/codex/aspect-object-programming-with-spring-boot-part-one-4544a58d6a4c?source=collection_archive---------4-----------------------#2022-05-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/59452787307593ac7c3b1d5ee514b316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ikkYHQpNwTce16Su"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">由<a class="ae hv" href="https://unsplash.com/es/@max_duz?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马克斯·杜济</a>在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><div class=""/><figure class="ev ex iw ix iy hk er es paragraph-image"><div class="er es iv"><img src="../Images/95b7fcf0f7e8bee974dc1ce90631858e.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*dR_4fbM2XEutzf04DuiweQ.jpeg"/></div></figure><h2 id="fdd0" class="iz ja hy bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated"><strong class="ak">简介:</strong></h2><p id="362e" class="pw-post-body-paragraph jx jy hy jz b ka kb kc kd ke kf kg kh jk ki kj kk jo kl km kn js ko kp kq kr hb bi translated">世界上的编程每天都在变化，项目在最近几天变得更大。因此，我们需要不断改进编程方法。</p><p id="b8f9" class="pw-post-body-paragraph jx jy hy jz b ka ks kc kd ke kt kg kh jk ku kj kk jo kv km kn js kw kp kq kr hb bi translated">今天我来解释AOP(面向方面编程)。AOP在任何项目中的日志和异常的常见用法，我们可以在任何框架中使用它，因为它是一种类似于(OOP)面向对象编程的编程方法。</p><blockquote class="kx ky kz"><p id="42f6" class="jx jy la jz b ka ks kc kd ke kt kg kh lb ku kj kk lc kv km kn ld kw kp kq kr hb bi translated"><strong class="jz hz">在项目中使用AOP时，我们可以将业务逻辑从日志和异常中分离出来。这是它的常见用法。</strong></p></blockquote></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><h2 id="c124" class="iz ja hy bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">spring中的方面核心概念和方面概念:</h2><p id="644f" class="pw-post-body-paragraph jx jy hy jz b ka kb kc kd ke kf kg kh jk ki kj kk jo kl km kn js ko kp kq kr hb bi translated">AOP是一种构建通用的、可重用的例程的技术，这些例程可以在应用程序范围内应用。在开发过程中，这有助于核心应用程序逻辑和常见的、可重复的任务(输入验证、日志记录、错误处理等)的分离。</p><p id="0e03" class="pw-post-body-paragraph jx jy hy jz b ka ks kc kd ke kt kg kh jk ku kj kk jo kv km kn js kw kp kq kr hb bi translated"><strong class="jz hz">春天的体概念:</strong></p><p id="dc71" class="pw-post-body-paragraph jx jy hy jz b ka ks kc kd ke kt kg kh jk ku kj kk jo kv km kn js kw kp kq kr hb bi translated">Spring AOP从类中取出了横切任务的直接依赖，这是我们通过普通的面向对象编程模型无法实现的。例如，我们可以有一个单独的日志记录类，但是功能类必须调用这些方法来实现应用程序的日志记录。</p><p id="88fd" class="pw-post-body-paragraph jx jy hy jz b ka ks kc kd ke kt kg kh jk ku kj kk jo kv km kn js kw kp kq kr hb bi translated"><strong class="jz hz">方面组件:</strong></p><p id="4409" class="pw-post-body-paragraph jx jy hy jz b ka ks kc kd ke kt kg kh jk ku kj kk jo kv km kn js kw kp kq kr hb bi translated">要在spring-boot中应用AOP，可以从Maven或Gradle中使用AspectJ依赖项，或者如果使用spring，必须在spring.xml中配置aspect</p><blockquote class="kx ky kz"><p id="dfb9" class="jx jy la jz b ka ks kc kd ke kt kg kh lb ku kj kk lc kv km kn ld kw kp kq kr hb bi translated">在这篇文章中，我使用了AspectJ依赖。</p></blockquote><ul class=""><li id="b7cf" class="ll lm hy jz b ka ks ke kt jk ln jo lo js lp kr lq lr ls lt bi translated"><strong class="jz hz">方面:</strong>方面是实现跨多个类的企业应用关注点的类，你可以通过<code class="du lu lv lw lx b">@Aspect</code>方面类上面的注释来定义它。</li><li id="2c97" class="ll lm hy jz b ka ly ke lz jk ma jo mb js mc kr lq lr ls lt bi translated"><strong class="jz hz">切入点:</strong>是一个在事件发生时捕捉事件的表达式，比如方法执行。</li><li id="b1e7" class="ll lm hy jz b ka ly ke lz jk ma jo mb js mc kr lq lr ls lt bi translated"><strong class="jz hz">建议:</strong> <br/>方面的建议非常重要，因为每个流程方面都需要建议。Advice将在切入点发生时采取行动<br/> <strong class="jz hz"> Advice示例:在方法X执行之前，我需要记录字符串X或者记录来自方法X的一些参数</strong></li></ul><blockquote class="kx ky kz"><p id="b275" class="jx jy la jz b ka ks kc kd ke kt kg kh lb ku kj kk lc kv km kn ld kw kp kq kr hb bi translated">我们不止有建议类型，我们会在编写代码时看到它，并解释它。</p></blockquote><ul class=""><li id="e283" class="ll lm hy jz b ka ks ke kt jk ln jo lo js lp kr lq lr ls lt bi translated"><strong class="jz hz">连接点:</strong>连接点是应用程序中的一个特定点，如方法执行、异常处理、改变对象变量值等。在Spring AOP中，连接点总是方法的执行。</li><li id="c345" class="ll lm hy jz b ka ly ke lz jk ma jo mb js mc kr lq lr ls lt bi translated"><strong class="jz hz"> Object Target </strong>:它是来自原始方法的一个对象，用来知道这个方法现在执行的是什么，或者如果我们需要改变什么，我们可以通过这个对象来完成，实际上，我们可以从advice方法的<strong class="jz hz">连接点</strong>中获取对象Target。<br/>对象目标将在运行时从AOP代理创建。</li><li id="b0df" class="ll lm hy jz b ka ly ke lz jk ma jo mb js mc kr lq lr ls lt bi translated">AOP代理 : Spring AOP实现使用JDK动态代理来创建带有目标类和通知调用的代理类，这些被称为AOP代理类。我们也可以使用<strong class="jz hz"> CGLIB </strong>代理，将它作为依赖项添加到Spring AOP项目中。</li><li id="98a0" class="ll lm hy jz b ka ly ke lz jk ma jo mb js mc kr lq lr ls lt bi translated"><strong class="jz hz">编织</strong>:将方面与其他对象链接起来，创建被通知的代理对象的过程。这可以在编译时、加载时或运行时完成。Spring AOP在运行时执行编织。</li></ul></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><h2 id="9b7e" class="iz ja hy bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated"><strong class="ak">方面建议类型:</strong></h2><p id="4374" class="pw-post-body-paragraph jx jy hy jz b ka kb kc kd ke kf kg kh jk ki kj kk jo kl km kn js ko kp kq kr hb bi translated">事实上，我们有更多类型的建议，你可以在你的项目中使用它们中的任何一种，每种建议都有自己的工作。我们使用建议在运行时的特定时间对项目中的方法采取行动。</p><ul class=""><li id="a398" class="ll lm hy jz b ka ks ke kt jk ln jo lo js lp kr lq lr ls lt bi translated"><strong class="jz hz">Before:</strong>Before通知将在进入内部连接点方法之前执行。我们可以用它来记录应用程序运行时的任何语句。<br/>要在spring boot应用程序中应用<strong class="jz hz"> before </strong>建议，我们需要使用上面的<code class="du lu lv lw lx b">@Before</code>注释before方法。</li><li id="99e6" class="ll lm hy jz b ka ly ke lz jk ma jo mb js mc kr lq lr ls lt bi translated"><strong class="jz hz">After:</strong>After建议将在连接点方法完成后执行。<br/>要在spring boot应用程序中的建议后应用<strong class="jz hz">，我们需要在方法后使用上面的<code class="du lu lv lw lx b">@After</code>注释。</strong></li><li id="fefb" class="ll lm hy jz b ka ly ke lz jk ma jo mb js mc kr lq lr ls lt bi translated"><strong class="jz hz">返回后:</strong>有时我们需要记录除返回值后而不是最终完成后的任何东西，在这种情况下，我们需要使用<strong class="jz hz">返回后建议</strong>。<br/>要在spring boot应用程序中返回建议后应用<strong class="jz hz">，我们需要在返回</strong>方法后使用<code class="du lu lv lw lx b">@AfterReturning</code>上面的注释<strong class="jz hz">。</strong></li><li id="e8b7" class="ll lm hy jz b ka ly ke lz jk ma jo mb js mc kr lq lr ls lt bi translated"><strong class="jz hz">抛出后:</strong>项目内部总是需要一个日志异常。在抛出注释后使用<strong class="jz hz">时，AspectJ支持这个特性。<br/>要在spring boot应用程序中应用<strong class="jz hz">后抛出</strong>建议我们需要使用<code class="du lu lv lw lx b">@AfterThrowing</code>上面注释的后抛出方法。</strong></li><li id="8400" class="ll lm hy jz b ka ly ke lz jk ma jo mb js mc kr lq lr ls lt bi translated"><strong class="jz hz"> Around: </strong>通过Around Advice我们可以从<strong class="jz hz"> Around advice方法</strong>中执行<strong class="jz hz">连接点</strong>，或者我们可以不从aspect类中执行它，正常运行。<br/>从Around方法中，我们可以在执行<strong class="jz hz"> Joinpoint </strong>之前或之后执行它内部的一些建议。但是在建议前后使用<strong class="jz hz">的时候一定要小心。因为绕行建议可以为您的<strong class="jz hz">连接点</strong>改变运行方式。<br/>要在spring boot应用程序中应用Around建议，我们需要使用上述Around方法的注释。</strong></li></ul></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="88fc" class="pw-post-body-paragraph jx jy hy jz b ka ks kc kd ke kt kg kh jk ku kj kk jo kv km kn js kw kp kq kr hb bi translated"><strong class="jz hz">结论:</strong></p><p id="3ff5" class="pw-post-body-paragraph jx jy hy jz b ka ks kc kd ke kt kg kh jk ku kj kk jo kv km kn js kw kp kq kr hb bi translated">现在我们知道了AOP(面向方面编程)的概念，并且知道何时需要使用它。实际上，这还不够，因为我们直到现在才应用关于方面的编码。但是第二篇文章将是关于spring boot的方面编码。</p><p id="a04b" class="pw-post-body-paragraph jx jy hy jz b ka ks kc kd ke kt kg kh jk ku kj kk jo kv km kn js kw kp kq kr hb bi translated">出版后，你可以在这里找到链接。</p><blockquote class="kx ky kz"><p id="976c" class="jx jy la jz b ka ks kc kd ke kt kg kh lb ku kj kk lc kv km kn ld kw kp kq kr hb bi translated"><strong class="jz hz">别忘了在文章上拍手，每篇文章可以拍手50次。还有你在这里找到我的</strong><a class="ae hv" href="https://www.linkedin.com/in/abd-alrhman-alkraien-83a93a1b1/" rel="noopener ugc nofollow" target="_blank"><strong class="jz hz">LinkedIn</strong></a></p></blockquote></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="66eb" class="pw-post-body-paragraph jx jy hy jz b ka ks kc kd ke kt kg kh jk ku kj kk jo kv km kn js kw kp kq kr hb bi translated"><strong class="jz hz">参考文献:</strong></p><div class="hh hi ez fb hj md"><a href="https://docs.spring.io/spring-framework/docs/4.3.12.RELEASE/spring-framework-reference/html/aop.html" rel="noopener  ugc nofollow" target="_blank"><div class="me ab dw"><div class="mf ab mg cl cj mh"><h2 class="bd hz fi z dy mi ea eb mj ed ef hx bi translated">11.用Spring进行面向方面编程</h2><div class="mk l"><h3 class="bd b fi z dy mi ea eb mj ed ef dx translated">面向方面编程(AOP)通过提供另一种思维方式来补充面向对象编程(OOP)</h3></div><div class="ml l"><p class="bd b fp z dy mi ea eb mj ed ef dx translated">docs.spring.io</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr hp md"/></div></div></a></div><div class="hh hi ez fb hj md"><a href="https://www.journaldev.com/2583/spring-aop-example-tutorial-aspect-advice-pointcut-joinpoint-annotations" rel="noopener  ugc nofollow" target="_blank"><div class="me ab dw"><div class="mf ab mg cl cj mh"><h2 class="bd hz fi z dy mi ea eb mj ed ef hx bi translated">Spring AOP示例教程——方面、建议、切入点、连接点、注释、XML配置…</h2><div class="mk l"><h3 class="bd b fi z dy mi ea eb mj ed ef dx translated">Spring框架是基于两个核心概念开发的——依赖注入和面向方面编程(Spring…</h3></div><div class="ml l"><p class="bd b fp z dy mi ea eb mj ed ef dx translated">www.journaldev.com</p></div></div><div class="mm l"><div class="ms l mo mp mq mm mr hp md"/></div></div></a></div></div></div>    
</body>
</html>