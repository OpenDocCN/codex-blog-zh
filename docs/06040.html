<html>
<head>
<title>Hands on Data Augmentation in NLP using NLPAUG Python Library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NLPAUG Python库实现NLP中的数据扩充</h1>
<blockquote>原文：<a href="https://medium.com/codex/hands-on-data-augmentation-in-nlp-using-nlpaug-python-library-ad323c22908?source=collection_archive---------5-----------------------#2022-04-07">https://medium.com/codex/hands-on-data-augmentation-in-nlp-using-nlpaug-python-library-ad323c22908?source=collection_archive---------5-----------------------#2022-04-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if"><p id="2232" class="ig ih hi bd ii ij ik il im in io ip dx translated"><strong class="ak"> <em class="iq">一个意思相同的句子可以有多种写法。</em>T3】</strong></p></blockquote><figure class="is it iu iv iw ix er es paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="er es ir"><img src="../Images/72ab52088c0d4286d67055caca2da9bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jyDxXT-IK4JEeuq5"/></div></div><figcaption class="je jf et er es jg jh bd b be z dx translated">照片由<a class="ae ji" href="https://unsplash.com/@brett_jordan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布雷特·乔丹</a>在<a class="ae ji" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="6f33" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">在本文中，我将深入探讨如何实际使用令人惊叹的nlpaug库。我假设读者已经很好地理解了什么是数据扩充技术，以及为什么实际使用它。如果不是，那么这是我对数据扩充的理解，</p><blockquote class="if"><p id="a35a" class="ig ih hi bd ii ij kg kh ki kj kk ip dx translated">数据扩充是一种正则化技术，通过从现有样本生成新样本来增强数据。这增加了数据的多样性，有助于模型更好地概括和减少过度拟合。</p></blockquote><p id="9f87" class="pw-post-body-paragraph jj jk hi jl b jm kl jo jp jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf ip hb bi translated">为了更好的理解，我在之前的文章中总结了一篇研究论文。一定要读一读，这里的链接是<a class="ae ji" rel="noopener" href="/swlh/data-augmentation-in-natural-language-processing-756e942b42f3"/>。</p><h1 id="4c73" class="kq kr hi bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">自然语言处理中的数据扩充</h1><p id="fe96" class="pw-post-body-paragraph jj jk hi jl b jm lo jo jp jq lp js jt ju lq jw jx jy lr ka kb kc ls ke kf ip hb bi translated">自然语言处理中的数据扩充是指修改现有句子以获得与现有句子相似的新句子。数据扩充技术的准确性是根据新生成的句子与生成它的句子的相似程度来衡量的。意义上的巨大偏差会产生严重的后果。例如，在情感分析任务的情况下，过度修改句子可能最终反转生成句子的情感。</p><p id="41f9" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">NLP中数据扩充的需求</strong></p><ol class=""><li id="67c2" class="lt lu hi jl b jm jn jq jr ju lv jy lw kc lx ip ly lz ma mb bi translated">拥有不平衡的数据集将无助于模型的泛化。模型的学习将更多地受到多数阶级的影响，因此模型将在大多数情况下预测多数阶级。这种型号不能用于生产。因此，为了解决这个问题，我们可以使用数据扩充来为少数类生成新的样本。这种技术被称为<strong class="jl hj">过采样</strong>。</li><li id="5a65" class="lt lu hi jl b jm mc jq md ju me jy mf kc mg ip ly lz ma mb bi translated">小数据集无法在Bert、Roberta等重模型上训练。由于这些模型有数百万个参数，它们需要大量数据来进行归纳，并从数据中获得一些有意义的见解。我们可以使用数据扩充技术生成新的样本，并扩展我们的数据集。</li><li id="b600" class="lt lu hi jl b jm mc jq md ju me jy mf kc mg ip ly lz ma mb bi translated">可以用来增加数据的多样性。很多时候，模型有过度适应训练集的趋势。增加数据的多样性将有助于模型更好地泛化。</li></ol><p id="74a4" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">探索自然语言处理的数据扩充技术</strong></p><p id="e1f8" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">在开始研究这些技术之前，有几个控制增强过程的参数，这些参数在所有技术中都是通用的，理解起来非常重要。</p><ul class=""><li id="9d91" class="lt lu hi jl b jm jn jq jr ju lv jy lw kc lx ip mh lz ma mb bi translated"><strong class="jl hj">lang</strong>(<em class="mi">str</em>)——你的文字语言。默认值为“eng”。</li><li id="3d97" class="lt lu hi jl b jm mc jq md ju me jy mf kc mg ip mh lz ma mb bi translated"><strong class="jl hj"> aug_p </strong> ( <em class="mi"> float </em> ) —将被增加的单词的百分比。</li><li id="bf2c" class="lt lu hi jl b jm mc jq md ju me jy mf kc mg ip mh lz ma mb bi translated"><strong class="jl hj"> aug_min </strong> ( <em class="mi"> int </em> ) —要扩充的最小字数。</li><li id="dd25" class="lt lu hi jl b jm mc jq md ju me jy mf kc mg ip mh lz ma mb bi translated"><strong class="jl hj">aug _ max</strong>(<em class="mi">int</em>)—将增加最大字数。如果没有通过，通过aup_p计算增加数。如果aug_p的计算结果小于aug_max，将使用aug_p的计算结果。否则，使用aug_max。</li><li id="dfab" class="lt lu hi jl b jm mc jq md ju me jy mf kc mg ip mh lz ma mb bi translated"><strong class="jl hj">停用词</strong> ( <em class="mi">列表</em> ) —将从扩充操作中跳过的词的列表。</li></ul><p id="e01f" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">现在我们知道了控制增强技术的参数，让我们深入到实现部分。从现有的句子出发，有很多方法可以创造句子。让我们来看看最流行和最直观的方法及其实现。我将使用python的NLPAUG库。</p><p id="4cc1" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">安装NLPAUG执行下面给出的命令并导入必要的库。</p><pre class="mj mk ml mm fd mn mo mp mq aw mr bi"><span id="f18a" class="ms kr hi mo b fi mt mu l mv mw">!pip install nlpaug</span><span id="a6f1" class="ms kr hi mo b fi mx mu l mv mw">import nlpaug.augmenter.word as naw</span></pre><ul class=""><li id="9566" class="lt lu hi jl b jm jn jq jr ju lv jy lw kc lx ip mh lz ma mb bi translated"><strong class="jl hj">同义词替换:</strong>从句子中随机选择<em class="mi"> n </em>个不是停用词的单词。用随机选择的同义词替换这些单词。</li></ul><pre class="mj mk ml mm fd mn mo mp mq aw mr bi"><span id="1b35" class="ms kr hi mo b fi mt mu l mv mw">syn_aug = naw.SynonymAug(aug_p=0.3)<br/>sentence = 'climate change puts the squeeze on wine production'<br/>mod_sentence = syn_aug.augment(sentence, n=1)<br/>print('Original text :', sentence)<br/>print('Augmented text :', mod_sentence)</span></pre><p id="0331" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">原文:<strong class="jl hj">气候</strong>变化<strong class="jl hj">给</strong>葡萄酒生产带来压力</p><p id="0ef8" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">增强文本:<strong class="jl hj">气候</strong>改变<strong class="jl hj">位置</strong>对葡萄酒产量的挤压</p><ul class=""><li id="21b9" class="lt lu hi jl b jm jn jq jr ju lv jy lw kc lx ip mh lz ma mb bi translated"><strong class="jl hj">随机互换:</strong>随机选择句子中相邻的两个单词，互换位置。</li></ul><pre class="mj mk ml mm fd mn mo mp mq aw mr bi"><span id="e7b9" class="ms kr hi mo b fi mt mu l mv mw">sentence = 'climate change puts the squeeze on wine production'<br/>aug = naw.random.RandomWordAug(action='swap', aug_p=0.3)<br/>mod_sentence = aug.augment(sentence, n=1)<br/>print('Original text :', sentence)<br/>print('Augmented text :', mod_sentence)</span></pre><p id="d7d2" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">原文:<strong class="jl hj">气候变化</strong>使<strong class="jl hj">受到挤压</strong>对<strong class="jl hj">葡萄酒生产</strong></p><p id="7c2f" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">补充文字:<strong class="jl hj">改变气候</strong>把<strong class="jl hj">挤在<strong class="jl hj">上生产酒</strong></strong></p><ul class=""><li id="16a8" class="lt lu hi jl b jm jn jq jr ju lv jy lw kc lx ip mh lz ma mb bi translated"><strong class="jl hj">随机删除:</strong>随机删除句子中的每个单词。</li></ul><pre class="mj mk ml mm fd mn mo mp mq aw mr bi"><span id="4760" class="ms kr hi mo b fi mt mu l mv mw">sentence = 'climate change puts the squeeze on wine production'<br/>aug = naw.random.RandomWordAug(action='delete', aug_p=0.3)<br/>mod_sentence = aug.augment(sentence, n=1)<br/>print('Original text :', sentence)<br/>print('Augmented text :', mod_sentence)</span></pre><p id="ac76" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">原文:气候<strong class="jl hj">变化</strong>给<strong class="jl hj">葡萄酒生产带来压力</strong></p><p id="9c17" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">补充文字:气候影响葡萄酒生产</p><ul class=""><li id="36f5" class="lt lu hi jl b jm jn jq jr ju lv jy lw kc lx ip mh lz ma mb bi translated"><strong class="jl hj">反义词替换:</strong>从句子中随机选择<em class="mi"> n个</em>不是停用词的单词。用随机选择的一个反义词替换这些单词。</li></ul><pre class="mj mk ml mm fd mn mo mp mq aw mr bi"><span id="69db" class="ms kr hi mo b fi mt mu l mv mw">sentence = 'climate change puts the squeeze on wine production'<br/>aug = naw.AntonymAug(aug_p=0.3)<br/>mod_sentence = aug.augment(sentence, n=1)<br/>print('Original text :', sentence)<br/>print('Augmented text :', mod_sentence)</span></pre><p id="ce2e" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">原文:气候变化<strong class="jl hj">给葡萄酒生产带来压力</strong></p><p id="19ab" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">补充文字:气候变化<strong class="jl hj">消除葡萄酒生产的压力</strong></p><p id="0886" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">我在本文中介绍了四种技术。扩充时唯一要记住的是，句子在扩充前后的极性保持不变。一定要浏览该库的官方文档，以熟悉更多的技术。分享了参考资料部分的链接。</p><p id="6ef0" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">感谢您阅读这篇文章。我希望你喜欢阅读！</p><p id="81fe" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated"><strong class="jl hj">参考文献:</strong></p><ul class=""><li id="b62b" class="lt lu hi jl b jm jn jq jr ju lv jy lw kc lx ip mh lz ma mb bi translated"><a class="ae ji" href="https://www.kaggle.com/code/andypenrose/text-augmentation-with-nlpaug/notebook" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/code/andypenrose/text-augmentation-with-nlpaug/notebook</a></li><li id="ac6d" class="lt lu hi jl b jm mc jq md ju me jy mf kc mg ip mh lz ma mb bi translated"><a class="ae ji" href="https://nlpaug.readthedocs.io/en/latest/augmenter/word/antonym.html" rel="noopener ugc nofollow" target="_blank">https://nlpaug . readthedocs . io/en/latest/augmenter/word/antonym . html</a></li><li id="44f9" class="lt lu hi jl b jm mc jq md ju me jy mf kc mg ip mh lz ma mb bi translated"><a class="ae ji" rel="noopener" href="/swlh/data-augmentation-in-natural-language-processing-756e942b42f3">https://medium . com/swlh/data-augmentation-in-natural language-processing-756 e 942 b42 f 3</a></li></ul><p id="75cf" class="pw-post-body-paragraph jj jk hi jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf ip hb bi translated">如果你还没有看过我最近写的关于如何实现word2vec的博客，那么看看下面的链接吧！！</p><div class="my mz ez fb na nb"><a rel="noopener follow" target="_blank" href="/swlh/word2vec-in-practice-for-natural-language-processing-a179b3286a21"><div class="nc ab dw"><div class="nd ab ne cl cj nf"><h2 class="bd hj fi z dy ng ea eb nh ed ef hh bi translated">自然语言处理实践中的Word2Vec</h2><div class="ni l"><h3 class="bd b fi z dy ng ea eb nh ed ef dx translated">在深入Word2Vec之前，我们必须知道什么是真正的单词嵌入，以及为什么需要它。所以让我们…</h3></div><div class="nj l"><p class="bd b fp z dy ng ea eb nh ed ef dx translated">medium.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np jc nb"/></div></div></a></div></div></div>    
</body>
</html>