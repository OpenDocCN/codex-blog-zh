<html>
<head>
<title>Creating a Linux instance in AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在AWS中创建Linux实例</h1>
<blockquote>原文：<a href="https://medium.com/codex/creating-a-linux-instance-in-aws-82c94e77e166?source=collection_archive---------3-----------------------#2021-03-10">https://medium.com/codex/creating-a-linux-instance-in-aws-82c94e77e166?source=collection_archive---------3-----------------------#2021-03-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="96bb" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">法典</a></h2><div class=""/><div class=""><h2 id="c07d" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">借助AWS，在几分钟内开始免费利用云计算的强大功能</h2></div><p id="c1b1" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">如果你从事科技行业，你很可能会遇到Linux，并且可能会在某个时候需要使用它。现在就开始吧，按照这个简单的指南在云中启动Linux实例。</p><p id="6d07" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">从托管web应用程序、数据库、应用程序测试或集成构建，云计算可以提供一种极其经济高效的方式来实现您的目标。</p><p id="51d5" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">Linux有大量被称为“发行版”的变种。Red Hat (RHEL) SUSE和CentOS是常见的基于RPM的发行版，Ubuntu可能是最常见的基于Debian的发行版之一。发行版之间有很多核心的相似之处。刚开始的时候，你可能很难看到很多，但它们确实存在，而且<a class="ae kc" href="https://en.wikipedia.org/wiki/List_of_Linux_distributions" rel="noopener ugc nofollow" target="_blank">研究一下什么最适合你</a>也是值得的。</p><p id="2f90" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">本指南将解释:</p><ul class=""><li id="0746" class="kd ke hi ji b jj jk jm jn jp kf jt kg jx kh kb ki kj kk kl bi translated">创建一个预算来防止任何不必要的花费</li><li id="aa4a" class="kd ke hi ji b jj km jm kn jp ko jt kp jx kq kb ki kj kk kl bi translated">设置一个EC2 Linux实例，包括存储和安全性</li><li id="da81" class="kd ke hi ji b jj km jm kn jp ko jt kp jx kq kb ki kj kk kl bi translated">通过SSH连接到新实例</li></ul><figure class="ks kt ku kv fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kr"><img src="../Images/3a765204ff3aa10ceb8181461ab8503d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DPVzg8rXSRGvnsAGjGb7KQ.jpeg"/></div></div></figure><p id="ed4a" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">AWS提供了各种各样的机器映像(ami ),您可以从中选择启动实例。在这个例子中，我将使用Ubuntu 20.04，但实际上你可以使用任何你想要的Linux AMI。</p><p id="bd56" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">首先，您需要创建一个AWS帐户，这既快速又简单。创建完成后，您将到达AWS控制台，在那里您将看到一个现在可用的服务世界。<a class="ae kc" href="https://aws.amazon.com/free/?all-free-tier.sort-by=item.additionalFields.SortRank&amp;all-free-tier.sort-order=asc" rel="noopener ugc nofollow" target="_blank">在这一点上，有必要查看一下免费层页面，了解一下第一年你将免费获得什么，以及</a>将收取什么费用。</p><h2 id="d58d" class="ld le hi bd lf lg lh li lj lk ll lm ln jp lo lp lq jt lr ls lt jx lu lv lw ho bi translated">预算</h2><p id="384f" class="pw-post-body-paragraph jg jh hi ji b jj lx is jl jm ly iv jo jp lz jr js jt ma jv jw jx mb jz ka kb hb bi translated">一个很好的安全网是在开始时设定预算，以防止你不小心欠下AWS的账单。要快速设置，请在页面顶部的搜索栏中键入billing以找到计费服务。从那里点击预算。</p><p id="f288" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">单击创建预算，并选择第一步的成本预算。接下来，给它起一个名字，将周期设置为每月，并将其作为一个经常性预算。下面，将其作为固定预算，并设定一个金额。我建议将第一个预算设置为0.01美元，这样当你产生费用时，你会得到警告。然后，你可以继续设定更多的预算，比如0.10美元，或者1美元，如果你想花钱的话。忽略其他一切，进入下一步。</p><p id="6d97" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">根据实际成本设置阈值，并将阈值设置为100%。添加您的电子邮件地址，以便您可以得到通知，确认和创建预算。一旦超出预算，您就会收到电子邮件。</p><h2 id="15df" class="ld le hi bd lf lg lh li lj lk ll lm ln jp lo lp lq jt lr ls lt jx lu lv lw ho bi translated">创建实例</h2><p id="f9e7" class="pw-post-body-paragraph jg jh hi ji b jj lx is jl jm ly iv jo jp lz jr js jt ma jv jw jx mb jz ka kb hb bi translated">从顶部的服务搜索栏导航到EC2。这代表弹性计算云。弹性部分本质上意味着计算服务是可伸缩的，可以很容易地扩展以满足计算需求。</p><p id="663c" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">EC2控制台将为您提供涵盖存储计算和安全性的几乎无与伦比的功能和服务。我们将着重于启动一个实例，这将涉及与安全和存储特性的少量交互，但是启动向导使这一切变得非常容易处理。</p><p id="44d5" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">找到橙色的“启动实例”下拉按钮，并选择“启动实例”。在这里，您将看到一个ami列表。寻找实例徽标下有“符合自由层条件”的产品。选择要使用的Linux实例。</p><p id="40d3" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">接下来，实例类型允许您选择实例的计算能力。使用免费层“t2.micro”实例，您可以获得惊人的数量。选中后，单击“下一步:配置实例”。</p><p id="368b" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">Configure Instance步骤中的所有缺省值都应该没问题，但是值得通读它们，以了解您可以控制什么。一个重要的设置是“IAM角色”。指定的角色使您的实例能够与其他服务进行交互。AWS遵循最小特权的通用安全概念，这意味着您的实例不能与任何东西进行交互，除非得到特别的许可。</p><p id="9b7c" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">另一个有趣的字段是底部的“用户数据”。这可以是实例启动时运行的脚本。如果您经常启动实例，并要求它们具有相同的设置，如安装包或运行服务，这将非常方便。</p><p id="a6ee" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">接下来，添加存储。这里需要注意的一点是，当一个实例被销毁时，存储在其上的所有数据也会消失。弹性块存储(EBS)允许您拥有持久的数据，您可以在实例之间移动这些数据。每个块一次只能连接到一个实例。如果您想了解如何在Linux中管理存储，比如使用分区和逻辑卷，那么在这里添加一些代码块，让您在启动时有所收获。</p><p id="9b55" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">接下来，添加标签。这对于识别资源很有用。当您的云基础架构开始增长时，拥有一个良好的标记策略是很有价值的，并且还可以帮助管理使用成本。</p><p id="9e6c" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">接下来，配置安全组。把一个安全组想象成一个名为Your-EC2的高级夜总会的保镖名单。如果你在名单上，你被允许进入实例，其他人都可以去Wetherspoons。这也是最低特权安全原则的应用。现在，我们只需要允许从您的个人计算机进行SSH连接。将来，您可能希望允许web或数据库流量访问其他端口。</p><p id="5940" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">要设置这一点，缺省值应该可以让您开始，类型为SSH，协议为TCP，端口为22。您需要将源设置为您的IP。幸运的是，这很容易。点击来源栏中的下拉，选择“我的IP”。然后给这个规则一个描述。</p><p id="908d" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">审核并启动！仔细检查您的所有设置，然后单击启动。会出现一个弹出窗口，让您选择一个密钥对。密钥对支持密钥持有者和实例之间的安全通信。从第一个下拉列表中选择“创建新的密钥对”，并为其命名。按键与您正在启动的区域相关，并且只能在该区域访问。</p><p id="db47" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">下载密钥后，您就可以启动实例了。</p><p id="d569" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">回到EC2控制台，您可以从左边的资源部分或导航栏中选择实例。您应该会看到一个包含新实例的表格，并且状态会很快变为running。一旦运行，你可以连接到它。复制实例的公共IP并打开您的终端。</p><p id="c02b" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">您可能需要将文件所有者对文件的权限更改为只读，这可以通过命令<code class="du mc md me mf b">chmod 400 your-key.pem</code>来完成。</p><p id="96a9" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">在您的终端中，您可以运行以下命令来连接到您的实例:</p><pre class="ks kt ku kv fd mg mf mh mi aw mj bi"><span id="f8b2" class="ld le hi mf b fi mk ml l mm mn">ssh -i AWS-KEY.pem ubuntu@3.10.72.41</span></pre><p id="9ef2" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">命令分解成以下几个部分:</p><pre class="ks kt ku kv fd mg mf mh mi aw mj bi"><span id="c854" class="ld le hi mf b fi mk ml l mm mn">ssh -i &lt;yourkey&gt; &lt;username&gt;@&lt;public-ip&gt;</span></pre><p id="ce49" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">用您的密钥文件替换<code class="du mc md me mf b">AWS-KEY.pem</code>。请记住，您需要位于保存密钥的文件夹中，或者提供密钥位置的绝对路径。比如说<code class="du mc md me mf b">/Users/Me/Downloads/aws-key.pem</code>。</p><p id="ee8c" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">如果你使用的是Ubuntu AMI，你可以把Ubuntu留在那里，只需要改变你的实例的IP地址。如果您使用不同的AMI，您需要将ubuntu更改为在您的实例上创建的用户名。AWS可以在这方面提供一些帮助。选择实例后，单击右上角的Actions，然后连接。在SSH客户端下，您将得到一个如何连接的演练。</p><p id="2563" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">就这样，你被录取了。你现在有了一台全新的电脑。托管网站、编译项目或了解Linux的来龙去脉。</p><p id="02bd" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">为了了解Linux的基础知识，<a class="ae kc" href="https://max-a-raju.medium.com/getting-to-grips-with-linux-27c1ce12f313" rel="noopener">阅读这篇文章，学习如何导航和管理目录和文件。</a></p><p id="dc32" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">如果你想更深入地了解AWS，<a class="ae kc" href="https://max-a-raju.medium.com/an-introduction-to-cloudformation-awss-infrastructure-as-code-234331cf4817" rel="noopener">阅读这篇关于使用CloudFormation创建基础设施的文章</a>。</p><p id="d6db" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">希望这份指南能让你有所行动。欢迎评论或提问！</p></div></div>    
</body>
</html>