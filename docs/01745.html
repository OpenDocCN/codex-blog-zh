<html>
<head>
<title>An Introduction to Memento Design Pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">纪念品设计模式介绍</h1>
<blockquote>原文：<a href="https://medium.com/codex/an-introduction-to-memento-design-pattern-861ad511bf5a?source=collection_archive---------4-----------------------#2021-05-26">https://medium.com/codex/an-introduction-to-memento-design-pattern-861ad511bf5a?source=collection_archive---------4-----------------------#2021-05-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0cc9ff12c1a3787509217e4f6a23b906.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-igfmgF9qDCYxIdB5zu7bA.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">纪念品设计模式介绍</figcaption></figure><p id="e01b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">memento设计模式允许撤销或恢复对象的先前版本。这被归类在行为模式下。根据四人组(g of)写的书，纪念品模式有三个支柱，称为发起者、纪念品和看守者。</p><ol class=""><li id="fcee" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated">发起者:这创建了memento对象，并且这是状态需要被保存的原始对象。</li><li id="a054" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">Memento:它负责存储发起者的内部状态。</li><li id="cc28" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">看守人:这是记录纪念品的。</li></ol><p id="3d95" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们用一个真实的场景来理解这一点。</p><p id="bd44" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="kg">假设，某公司根据员工的资历和绩效指数向其提供奖励。有3个资历级别，分别命名为1、2和3。1是最高级别，3是最低资历级别。性能指数也遵循同样的顺序。该奖励提供给资历级别和绩效指数都小于或等于2的员工。在这里，人力资源可以给员工增加奖励，如果相应的员工表现较差，他们可以恢复增加的奖励。</em></p><p id="fa65" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">为了实现这个场景，</p><p id="6bc7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">首先，我创建了一个名为<em class="kg"> EmployeeReward </em>的类来保存关于雇员报酬记录的信息。除此之外，我还创建了另一个名为<em class="kg">常量</em>的类来保存将在实现过程中使用的常量值。请参考以下代码。</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="4761" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">接下来，我创建了另一个名为<em class="kg"> RewardHandler </em>的类，并添加了一个名为<em class="kg">add reward(EmployeeReward EmployeeReward)</em>的方法，将员工的奖励添加到一个数组列表中。当员工的<em class="kg"> </em>年资级别和绩效指标小于或等于2时，增加奖励。这里我实现了一个名为<em class="kg"> getRewards() </em>的方法来返回一个克隆的<em class="kg">employeeRewards</em>ArrayList对象。在<em class="kg"> RewardHandler </em>内部，我已经声明了一个名为<em class="kg">rewardhandlermento的静态类。再次在<em class="kg"> RewardHandler </em>中，我创建了一个名为<em class="kg"> saveReward() </em>的方法，通过传递克隆的ArrayList的参数(使用<em class="kg"> getRewards() </em>方法)来返回<em class="kg">rewardhandlermento</em>的一个实例。在这里，我实现了一个名为<em class="kg">revert redward(rewardhandlermento rewardhandlermento)</em>的方法来设置<em class="kg">rewardhandlermento</em>实例的ArrayList对<em class="kg"> RewardHandler </em>类的ArrayList的引用。除此之外，我还覆盖了<em class="kg"> toString() </em>方法来显示<em class="kg"> RewardHandler </em>类中的详细信息。参考下面的代码。</em></p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="62a1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这里，<em class="kg"> EmployeeReward </em>类被认为是发起者，<em class="kg">rewardhandlermento</em>类被认为是纪念品。</p><p id="c033" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">接下来，我实现了一个名为<em class="kg"> RewardHistory </em>的类来跟踪<em class="kg">rewardhandlermento的实例。</em>在这里，我创建了一个堆栈来跟踪从<em class="kg">rewardhandlermento</em>类创建的实例，这是由<em class="kg">save reward(reward handler reward handler)</em>方法完成的。在那之后，我实现了另一个名为<em class="kg">revertrevard(reward handler reward handler)</em>的方法来返回堆栈的顶部元素，并将返回的<em class="kg">rewardhandlermento</em>实例的奖励分配给在<em class="kg"> RewardHandler </em>类中声明的ArrayList。参考下面的代码。</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="6f21" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这被认为是看管人。</p><p id="e898" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">最后，我在<em class="kg"> MainApplication </em>类中实现了main方法。参考下面的代码。</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="4311" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这里，首先，我给在<em class="kg"> RewardHandler </em>类中声明的ArrayList添加了3个奖励，并将它们的纪念品保存到堆栈中。之后，我通过调用<em class="kg"> RewardHistory </em>类的<em class="kg">revertReward(reward handler reward handler)</em>方法，恢复了最后的动作。下面定义了接收到的输出。</p><pre class="kh ki kj kk fd kn ko kp kq aw kr bi"><span id="2218" class="ks kt hi ko b fi ku kv l kw kx">Sorry, Employee with name: Hasini and ID: 003 cannot get rewards<br/>Employee ID: 001<br/>Employee Name: Hasini<br/>Employee's Performance Index: 2<br/>Employee's Level: 2<br/>Employee's Reward Type: Dinner<br/>Place: Marina Bay</span><span id="e48e" class="ks kt hi ko b fi ky kv l kw kx">Employee ID: 002<br/>Employee Name: Sandunika<br/>Employee's Performance Index: 1<br/>Employee's Level: 2<br/>Employee's Reward Type: Tour<br/>Place: India</span><span id="8b68" class="ks kt hi ko b fi ky kv l kw kx">_____________________________</span><span id="bc66" class="ks kt hi ko b fi ky kv l kw kx">Employee ID: 001<br/>Employee Name: Hasini<br/>Employee's Performance Index: 2<br/>Employee's Level: 2<br/>Employee's Reward Type: Dinner<br/>Place: Marina Bay</span><span id="32ec" class="ks kt hi ko b fi ky kv l kw kx">Employee ID: 002<br/>Employee Name: Sandunika<br/>Employee's Performance Index: 1<br/>Employee's Level: 2<br/>Employee's Reward Type: Tour<br/>Place: India</span><span id="3c91" class="ks kt hi ko b fi ky kv l kw kx">_____________________________</span></pre><p id="e030" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">据此，当调用<em class="kg"> RewardHistory </em>类的<em class="kg">revertReward(reward handler reward handler)</em>方法时，由<em class="kg"> RewardHandler </em>中的<em class="kg">rewardhandlermento</em>类的返回实例(在<em class="kg"> RewardHistory </em>内栈顶元素)被<em class="kg">revertReward(rewardhandlermento rewardhandlermento)</em>方法捕获。之后<em class="kg">奖励处理员</em>的奖励参考分配给<em class="kg">奖励处理员</em>内的<em class="kg">员工奖励</em>。因此，这由<em class="kg"> RewardHandler类中的<em class="kg"> toString() </em>方法使用，</em>即使在main方法中调用了<em class="kg">revertrevard(reward handler reward handler)</em>方法之后，也会产生相同的输出。</p><p id="345b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">为了避免这种情况，我们想要撤销的实体不应该保存到堆栈中。因此，没有新的<em class="kg">rewardhandlermento</em>实例进入堆栈，也没有恢复。参考下面的代码。</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="kl km l"/></div></figure><p id="d841" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">下面定义了接收到的输出。</p><pre class="kh ki kj kk fd kn ko kp kq aw kr bi"><span id="27e9" class="ks kt hi ko b fi ku kv l kw kx">Sorry, Employee with name: Hasini and ID: 003 cannot get rewards<br/>Employee ID: 001<br/>Employee Name: Hasini<br/>Employee's Performance Index: 2<br/>Employee's Level: 2<br/>Employee's Reward Type: Dinner<br/>Place: Marina Bay</span><span id="783a" class="ks kt hi ko b fi ky kv l kw kx">Employee ID: 002<br/>Employee Name: Sandunika<br/>Employee's Performance Index: 1<br/>Employee's Level: 2<br/>Employee's Reward Type: Tour<br/>Place: India</span><span id="34e0" class="ks kt hi ko b fi ky kv l kw kx">Employee ID: 004<br/>Employee Name: Hasini<br/>Employee's Performance Index: 1<br/>Employee's Level: 1<br/>Employee's Reward Type: Tour<br/>Place: UK</span><span id="15ad" class="ks kt hi ko b fi ky kv l kw kx">_____________________________</span><span id="a630" class="ks kt hi ko b fi ky kv l kw kx">Employee ID: 001<br/>Employee Name: Hasini<br/>Employee's Performance Index: 2<br/>Employee's Level: 2<br/>Employee's Reward Type: Dinner<br/>Place: Marina Bay</span><span id="1e47" class="ks kt hi ko b fi ky kv l kw kx">Employee ID: 002<br/>Employee Name: Sandunika<br/>Employee's Performance Index: 1<br/>Employee's Level: 2<br/>Employee's Reward Type: Tour<br/>Place: India</span><span id="2e3d" class="ks kt hi ko b fi ky kv l kw kx">_____________________________</span></pre><p id="db18" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是文章的结尾。我希望你已经对纪念品的式样有所了解。让我们在另一篇文章中相遇。在那之前，注意安全！！😍😍</p><div class="kz la ez fb lb lc"><a href="https://github.com/HasiniSandunika/Design-Patterns-Java.git" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab dw"><div class="le ab lf cl cj lg"><h2 class="bd hj fi z dy lh ea eb li ed ef hh bi translated">GitHub-HasiniSandunika/Design-Patterns-Java:用Java实现设计模式。</h2><div class="lj l"><h3 class="bd b fi z dy lh ea eb li ed ef dx translated">用Java实现设计模式。为HasiniSandunika/Design-Patterns-Java开发做出贡献，创建…</h3></div><div class="lk l"><p class="bd b fp z dy lh ea eb li ed ef dx translated">github.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq io lc"/></div></div></a></div><p id="c14e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">参考文献</strong></p><ul class=""><li id="c241" class="js jt hi iw b ix iy jb jc jf ju jj jv jn jw jr lr jy jz ka bi translated"><a class="ae ls" href="https://www.youtube.com/watch?v=Pwm-jrG2ZVA&amp;list=PLD-mYtebG3X86i3uyAXwZKfVtUy2gMDdo&amp;index=6" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=Pwm-jrG2ZVA&amp;list = PLD-myte BG 3 x 86 i3 uyaxwzkfvtuy 2g MDO&amp;index = 6</a></li><li id="4a0a" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr lr jy jz ka bi translated">https://www.baeldung.com/java-memento-design-pattern<a class="ae ls" href="https://www.baeldung.com/java-memento-design-pattern" rel="noopener ugc nofollow" target="_blank"/></li><li id="0e5c" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr lr jy jz ka bi translated"><a class="ae ls" href="https://www.tutorialspoint.com/design_pattern/memento_pattern.htm" rel="noopener ugc nofollow" target="_blank">https://www . tutorialspoint . com/design _ pattern/memento _ pattern . htm</a></li><li id="55bf" class="js jt hi iw b ix kb jb kc jf kd jj ke jn kf jr lr jy jz ka bi translated"><a class="ae ls" href="https://www.javatpoint.com/memento-pattern" rel="noopener ugc nofollow" target="_blank">https://www.javatpoint.com/memento-pattern</a></li></ul></div></div>    
</body>
</html>