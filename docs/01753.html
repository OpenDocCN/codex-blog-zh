<html>
<head>
<title>React from newbie perspective — useReducer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从新手的角度作出反应——用户</h1>
<blockquote>原文：<a href="https://medium.com/codex/react-from-newbie-perspective-usereducer-fdde9e53b132?source=collection_archive---------4-----------------------#2021-05-27">https://medium.com/codex/react-from-newbie-perspective-usereducer-fdde9e53b132?source=collection_archive---------4-----------------------#2021-05-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="b766" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">当使用状态不够时。</h2></div><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/36152ac8985a8533b64fb819c50ec33f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*018K0oBglurlEHi4"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">由<a class="ae jv" href="https://unsplash.com/@alesnesetril?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ales Nesetril </a>在<a class="ae jv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="e9a5" class="pw-post-body-paragraph jw jx hi jy b jz ka ij kb kc kd im ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">附加钩子useReducer不是基本钩子之一，它是useState钩子的一种替代。但是稍微复杂一点。通过与Context (Context和useContext将在下一篇文章中介绍)合作，useReducer可以跨整个应用程序管理组件的状态，在某些特定情况下，它甚至是比Redux更好的选择。</p><p id="31bd" class="pw-post-body-paragraph jw jx hi jy b jz ka ij kb kc kd im ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">当浏览关于React的文章时，我经常发现自己有关于处理应用程序状态的观点和过程，其中作者声称React已经为处理状态做好了充分的准备，不需要第三方库。状态、缩减器和上下文挂钩的组合在React base中。</p><p id="b17f" class="pw-post-body-paragraph jw jx hi jy b jz ka ij kb kc kd im ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">useReducer和useState一样，存储和更新状态，但两者的工作方式几乎没有什么不同。从我这个新手的角度来看，useState是针对小的局部变量的，我们需要有受控的状态。另一方面，useReducer非常适合更复杂的状态，因为它默认情况下处理整个状态对象，例如通过API获取数据的状态，我们需要知道我们的应用程序是否正在加载，获取时是否失败或者已经准备好所有数据，useReducer是一个很好的助手。当然，我们可以对对象或数组使用三个状态变量或一个状态变量，但是使用reducer看起来更容易维护。</p><p id="c9bd" class="pw-post-body-paragraph jw jx hi jy b jz ka ij kb kc kd im ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">在接下来的两个代码要点中，我正在创建相同的情况。状态变量<em class="ks">计数</em>和两个增加和减少其值的函数(<em class="ks">递增</em>、<em class="ks">递减</em>)。如果只有一个状态值，那么使用Reducer就没什么帮助了，但作为一个例子，它足以说明如何用useState和use Reducer钩子实现相同的功能。</p><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="kt ku l"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">使用useState挂钩</figcaption></figure><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="kt ku l"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">使用useReducer挂钩</figcaption></figure><p id="d299" class="pw-post-body-paragraph jw jx hi jy b jz ka ij kb kc kd im ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">React Hook useReducer接受Reducer作为第一个参数，初始状态作为第二个参数。Reducer是一个与useReducer挂钩紧密相连的函数，它以数组的形式返回状态和调度。useReducer返回一个带有当前状态和调度函数的数组。</p></div><div class="ab cl kv kw gp kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hb hc hd he hf"><h1 id="2828" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">还原剂</h1><p id="6278" class="pw-post-body-paragraph jw jx hi jy b jz lu ij kb kc lv im ke kf lw kh ki kj lx kl km kn ly kp kq kr hb bi translated">Reducer是普通函数，以之前的状态和动作为自变量，返回新的状态。减速机广泛应用于Redux和React减速机挂钩。关于减速器，我非常喜欢的一点是使用开关语句，这是一种通过提供的动作来控制减速器输出的方式。</p><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="kt ku l"/></div></figure><h2 id="e52a" class="lz ld hi bd le ma mb mc li md me mf lm kf mg mh lo kj mi mj lq kn mk ml ls mm bi translated">状态</h2><p id="1eb4" class="pw-post-body-paragraph jw jx hi jy b jz lu ij kb kc lv im ke kf lw kh ki kj lx kl km kn ly kp kq kr hb bi translated">状态是具有当前值的对象。可以使用扩展语法完全或部分地更改。</p><h2 id="2762" class="lz ld hi bd le ma mb mc li md me mf lm kf mg mh lo kj mi mj lq kn mk ml ls mm bi translated">行动</h2><p id="b713" class="pw-post-body-paragraph jw jx hi jy b jz lu ij kb kc lv im ke kf lw kh ki kj lx kl km kn ly kp kq kr hb bi translated">Action是简单的JavaScript对象，表示将数据从应用程序发送到存储的有效信息负载。动作有<em class="ks">类型</em>，这是强制的<em class="ks">有效载荷</em>，这是可选的。</p><p id="0a98" class="pw-post-body-paragraph jw jx hi jy b jz ka ij kb kc kd im ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated"><strong class="jy hj">型</strong></p><p id="3ad7" class="pw-post-body-paragraph jw jx hi jy b jz ka ij kb kc kd im ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">类型通常是字符串的类型。我看到了非常有用的方法来防止基于拼写错误的错误，遗憾的是，我不确定是哪篇文章或者是谁写的。使用带有字符串值的变量，因为这样，我们的IDE将自动完成并检查所使用的变量是否存在。</p><p id="e02e" class="pw-post-body-paragraph jw jx hi jy b jz ka ij kb kc kd im ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated"><strong class="jy hj">有效载荷</strong></p><p id="4bb5" class="pw-post-body-paragraph jw jx hi jy b jz ka ij kb kc kd im ke kf kg kh ki kj kk kl km kn ko kp kq kr hb bi translated">Payload是可选参数，它包含带有值的对象，我们使用这些值来更新状态值。</p></div><div class="ab cl kv kw gp kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hb hc hd he hf"><h1 id="49f2" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">结论</h1><p id="7df2" class="pw-post-body-paragraph jw jx hi jy b jz lu ij kb kc lv im ke kf lw kh ki kj lx kl km kn ly kp kq kr hb bi translated">React钩子真的很有帮助，使用useState的useReducer能够在我们的应用程序中提供我们需要的应用程序状态功能，这取决于我们，我们使用哪种方式。基本上，我们的应用程序越复杂，我们就越有可能需要使用useReducer，但是在基本的状态变量和应用程序中，我们可以毫不犹豫地使用状态钩子。</p></div></div>    
</body>
</html>