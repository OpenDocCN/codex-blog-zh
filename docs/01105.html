<html>
<head>
<title>JavaScript Promises Explained From a Bootcamp Grad.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个新兵训练营的毕业生解释的JavaScript承诺。</h1>
<blockquote>原文：<a href="https://medium.com/codex/javascript-promises-explained-from-a-bootcamp-grad-c4acec9700a8?source=collection_archive---------7-----------------------#2021-04-04">https://medium.com/codex/javascript-promises-explained-from-a-bootcamp-grad-c4acec9700a8?source=collection_archive---------7-----------------------#2021-04-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/215dbeb36f678000e92bf28e7fa39dff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MawHNTA6aZG69I2Rcs8gmg.png"/></div></div></figure><h1 id="044f" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">简介</strong></h1><p id="7c0b" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">你好世界！我叫吴兴华，是熨斗学院软件工程项目的应届毕业生。在我上学的时候，我不得不依赖谷歌，但是很多时候这些文档非常长，难以阅读，所以我打算写一系列简单易读的编码概念指南，以回馈社区。</p><h1 id="b536" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">什么是承诺？</strong></h1><p id="e345" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">JS中的承诺就像现实生活中的承诺一样。让我们用这个例子，我答应你今天下午3点在公园见面，如果我出现了，那么我已经“履行”了我的承诺，或者如果我没有出现，那么我已经“拒绝”了我们的承诺。</p><h1 id="faab" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">承诺是如何实现的</strong></h1><p id="17bd" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">承诺是一个对象，它表示异步操作的最终完成或失败，并相应地返回值。</p><p id="bea8" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">承诺有三个阶段:</p><ul class=""><li id="fb11" class="kr ks hi jq b jr km jv kn jz kt kd ku kh kv kl kw kx ky kz bi translated">待定:初始状态，检查参数，看是<em class="la">满足</em>还是<em class="la">拒绝</em></li><li id="d094" class="kr ks hi jq b jr lb jv lc jz ld kd le kh lf kl kw kx ky kz bi translated">满足:表示参数满足，操作成功</li><li id="9c1b" class="kr ks hi jq b jr lb jv lc jz ld kd le kh lf kl kw kx ky kz bi translated">拒绝:表示参数不正确，操作将失败</li></ul><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/296fd1204915e63c9365979cf5b5cc1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7efXVtjkon4Gq8X1PpScbg.png"/></div></div></figure><p id="9a41" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">上图显示了承诺是如何运作的。基本上，如果参数满足，<em class="la">然后onFulfillment </em>将执行一些<em class="la">异步动作</em>，或者如果参数失败，<em class="la">然后onRejection </em>将执行一些<em class="la">错误处理。</em></p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="0ca0" class="lq ir hi lm b fi lr ls l lt lu">//CODE SNIPPET #1</span><span id="6f34" class="lq ir hi lm b fi lv ls l lt lu">let meetup = true || false</span><span id="1451" class="lq ir hi lm b fi lv ls l lt lu">let metWithSteven = new Promise((onFulfillment, onRejection) =&gt; {</span><span id="6683" class="lq ir hi lm b fi lv ls l lt lu">  if( meetup == true ){</span><span id="21a9" class="lq ir hi lm b fi lv ls l lt lu">    onFulfillment("Met up with Steven today!")</span><span id="e81f" class="lq ir hi lm b fi lv ls l lt lu">  } else {</span><span id="84ff" class="lq ir hi lm b fi lv ls l lt lu">    onRejection("Steven was a no show today, hope he's okay")</span><span id="44da" class="lq ir hi lm b fi lv ls l lt lu">  }})</span><span id="917e" class="lq ir hi lm b fi lv ls l lt lu">metWithSteven.then((result) =&gt; {<br/>  console.log(result)<br/>}).catch((error) =&gt; {<br/>  console.log(error)<br/>})</span></pre><p id="97dd" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">所以如果你看我上面的例子，你可以看到metWithSteven承诺依赖于meetup是真还是假，并根据参数处理结果，所以如果meetup是真的，它将<em class="la">。然后</em>返回onFulfillment值，它是字符串“今天与Steven会面！”或者如果meetup是假的或者其他什么地方出了问题，它就会<em class="la">。捕捉</em>错误<em class="la">和</em>返回OnRejection值。</p><h1 id="1fe8" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">链接</strong></h1><p id="1648" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">很多时候，您需要连续执行多个异步操作，这被称为链接。在这个演示中，我将继续使用我最初的例子，所以如果我们确实见面了，我们是在下午3点见面的吗？我们在公园见过吗？</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="fe19" class="lq ir hi lm b fi lr ls l lt lu">//CODE SNIPPET #2</span><span id="61ab" class="lq ir hi lm b fi lv ls l lt lu">let meetUpLocation = "park"<br/>let meetUpTime = "4PM"</span><span id="f12b" class="lq ir hi lm b fi lv ls l lt lu">metWithSteven</span><span id="4a28" class="lq ir hi lm b fi lv ls l lt lu">.then(results =&gt; {<br/>  if( meetUpLocation == "park" ) {<br/>    return results + " We met up at the park."<br/>  }<br/>})<br/>.then(results =&gt; {<br/>  if( meetUpTime == "3PM" ) {<br/>    return results + " At 3PM."<br/>  }<br/>})<br/>.then(console.log)<br/>.catch(error)</span></pre><p id="0688" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">因此，如果我们查看代码片段1和2，我们知道会面是<em class="la">真的</em>，会面地点确实是在<em class="la">公园</em>，但是会面时间是在<em class="la">下午4点</em>。</p><p id="61b2" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">因此，代码将运行它的第一个承诺检查，这是真的，所以结果将是"<em class="la">今天遇到了Steven！</em>”然后它将检查第二个承诺逻辑，即park和新的<em class="la">结果</em>将是“今天与Steven见面了！我们在公园相遇。”这将是最终的结果，因为我们没有在下午3点见面。</p></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><p id="c7c9" class="pw-post-body-paragraph jo jp hi jq b jr km jt ju jv kn jx jy jz ko kb kc kd kp kf kg kh kq kj kk kl hb bi translated">这只是JavaScript中承诺有多有用的一个小例子，我希望这本初学者指南对目前正在学习JS的人有所帮助。随着时间的推移，我会写更多关于JavaScript的博客，如果你有任何要求，请留下评论或联系我的LinkedIn。</p></div></div>    
</body>
</html>