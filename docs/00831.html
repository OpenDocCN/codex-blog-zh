<html>
<head>
<title>JavaScript — Return Object From Array</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript —从数组返回对象</h1>
<blockquote>原文：<a href="https://medium.com/codex/javascript-return-object-from-array-18e366d80f2e?source=collection_archive---------6-----------------------#2021-03-21">https://medium.com/codex/javascript-return-object-from-array-18e366d80f2e?source=collection_archive---------6-----------------------#2021-03-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="46af" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">法典</a></h2><div class=""/><figure class="ev ex ip iq ir is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es io"><img src="../Images/f6400c0b62a06dc04a55397165ef2132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2T2-TMJHLPYxwfjA8S4Urg.jpeg"/></div></div></figure><p id="cf57" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">让我们看看下面的练习，学习如何处理数组中的元素并返回一个新的对象。</p><blockquote class="jx jy jz"><p id="167f" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><strong class="jb hs"> <em class="hi"> Q .按照下面的说明创建</em> </strong> <code class="du ke kf kg kh b"><strong class="jb hs"><em class="hi">getData</em></strong></code> <strong class="jb hs"> <em class="hi">函数。</em> </strong></p><p id="dd1e" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><code class="du ke kf kg kh b"><em class="hi">**getData</em></code> <em class="hi">函数获取三个参数。** </em></p><p id="73d9" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><code class="du ke kf kg kh b"><em class="hi">salesArr</em></code> <em class="hi">:每天销售额<br/> ex) </em> <code class="du ke kf kg kh b"><em class="hi">[["20190401", 34], ["20190402", 23], ["20190403", 29]]</em></code></p><p id="5604" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><code class="du ke kf kg kh b"><em class="hi">reviewArr</em></code> <em class="hi">:每天评论量<br/> ex) </em> <code class="du ke kf kg kh b"><em class="hi">[["20190328", 3], ["20190401", 0], ["20190403", 1]]</em></code></p><p id="e064" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><code class="du ke kf kg kh b"><em class="hi">likeArr</em></code> <em class="hi">:每天点赞量<br/> ex) </em> <code class="du ke kf kg kh b"><em class="hi">[["20190328", 98], ["20190401", 102], ["20190403", 125]]</em></code></p><p id="58e8" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><em class="hi">以上数组仅为示例，这意味着元素的数量可以远远多于3个。</em></p><p id="553b" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><em class="hi">为什么要把数组改成对象？因为如果我们想要检查每天的销售、评论和喜欢的数量，我们需要迭代每个数组，这意味着数据结构不方便或不高效。</em></p><p id="02f3" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><em class="hi">返回的对象应该有以下三个属性。</em></p><p id="f1cd" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><code class="du ke kf kg kh b"><em class="hi">sumAmount</em></code> <em class="hi">:总销售额</em></p><p id="7a5a" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><code class="du ke kf kg kh b"><em class="hi">sumReview</em></code> <em class="hi">:总点评</em></p><p id="2eba" class="iz ja ka jb b jc jd je jf jg jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv jw hb bi translated"><code class="du ke kf kg kh b"><em class="hi">sumLike</em></code> <em class="hi">:总点赞</em></p></blockquote><p id="42e7" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">答:我的解决方案是:</strong></p><pre class="ki kj kk kl fd km kh kn ko aw kp bi"><span id="1e22" class="kq kr hi kh b fi ks kt l ku kv">function getData(salesArr,reviewArr,likeArr){<br/> <br/>let sumData = function (arr) {<br/>let total = 0;<br/>for (let i = 0; i&lt;arr.length; i++){<br/> total += arr[i][1];<br/>}<br/> return total;<br/>}</span><span id="9235" class="kq kr hi kh b fi kw kt l ku kv">let result = {<br/> sumAmount: sumData(salesArr),<br/> sumReview: sumData(reviewArr),<br/> sumLike: sumData(likeArr)<br/>};</span><span id="6ce5" class="kq kr hi kh b fi kw kt l ku kv">return result;</span><span id="be26" class="kq kr hi kh b fi kw kt l ku kv">};</span></pre><ol class=""><li id="3679" class="kx ky hi jb b jc jd jg jh jk kz jo la js lb jw lc ld le lf bi translated">首先，我想了想当函数被执行时，我们需要得到什么结果。由于该函数获得三个数组作为参数，我们可以使用这些数组中的元素数据，并需要返回一个新的对象，其属性为销售、评论和喜欢的总数。</li><li id="c5c9" class="kx ky hi jb b jc lg jg lh jk li jo lj js lk jw lc ld le lf bi translated">让我们看看数组的结构。每个数组将每个元素作为另一个数组，数组内的数组包含日期和数字元素。</li><li id="a356" class="kx ky hi jb b jc lg jg lh jk li jo lj js lk jw lc ld le lf bi translated">为了得到销售、评论和属性的总数，我们知道需要对数组 : <code class="du ke kf kg kh b">[["20190401", <strong class="jb hs">34</strong>], ["20190402", <strong class="jb hs">23</strong>], ["20190403", <strong class="jb hs">29</strong>]] // bolded numbers should be summed up.</code>的每个元素数组的第二个元素<strong class="jb hs">求和</strong></li><li id="5a89" class="kx ky hi jb b jc lg jg lh jk li jo lj js lk jw lc ld le lf bi translated">因为我们需要对数组的每个元素都这样做，所以看起来我们需要一个带有<code class="du ke kf kg kh b">for</code>循环的函数<code class="du ke kf kg kh b">sumData</code>:</li></ol><pre class="ki kj kk kl fd km kh kn ko aw kp bi"><span id="2d3f" class="kq kr hi kh b fi ks kt l ku kv">let sumData = function (arr) {<br/>let total = 0;<br/>for (let i = 0; i&lt;arr.length; i++){<br/> total += arr[i][1];<br/>}<br/> return total;<br/>}</span></pre><p id="b8a0" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">我们可以通过<code class="du ke kf kg kh b">arr[i][1]</code>(每个元素数组中的第二个元素)访问#3中提到的元素。变量<code class="du ke kf kg kh b">total</code>最初被声明为0，它将随着我们的迭代而递增。</p><p id="a606" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi">5.</p><pre class="ki kj kk kl fd km kh kn ko aw kp bi"><span id="c4f7" class="kq kr hi kh b fi ks kt l ku kv">let result = {<br/> sumAmount: sumData(salesArr),<br/> sumReview: sumData(reviewArr),<br/> sumLike: sumData(likeArr)<br/>};</span></pre><p id="0ed0" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">现在我们有了获得销售、评论和喜欢总数的函数，让我们将它们设置为一个新对象<code class="du ke kf kg kh b">result</code>的属性。</p><p id="cad8" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">属性名称(键)写在<code class="du ke kf kg kh b">:</code>的左边。属性值(value)在右边，我们可以通过为每个数组调用函数<code class="du ke kf kg kh b">sumData</code>来获得它(例如。<code class="du ke kf kg kh b">sumData(salesArr)</code>)。</p></div></div>    
</body>
</html>