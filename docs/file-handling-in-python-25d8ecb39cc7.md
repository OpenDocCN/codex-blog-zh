# Python 中的文件处理

> 原文：<https://medium.com/codex/file-handling-in-python-25d8ecb39cc7?source=collection_archive---------7----------------------->

![](img/a9e6df690b5a652a310dbf56204eec7b.png)

大家好！我是 Sisterslab 的女性科技学院项目参与者之一，得到了[Toplum GNU llu leri vakf](https://www.tog.org.tr/en/)的支持。该项目旨在通过为期 3 个月的软件培训增强 25 名年龄在 20-28 岁之间的妇女的能力，并寻求她们加入该部门的劳动力队伍。你可以通过这个链接找到更多关于这个项目的信息:【https://sisterslab.co/women-in-tech-academy/ 

在今天的中帖中，我将讲述 python 中的基本文件操作。阅读完本文后，您将能够打开一个文件并在该文件中进行基本操作，如读写。

![](img/75f437c9acfd166020531fd1d59a6b6d.png)

照片由 [Avel Chuklanov](https://unsplash.com/@chuklanov?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

在许多 python 应用程序中，我们需要处理人工或真实世界的数据。将所有数据存储在数据结构中可能不太合适，或者我们可能希望从文本文件中提取或导出数据。由于这个原因，文件操作在编程中有着至关重要的作用。Python 也允许用户执行这样的操作，而且做起来相当简单。所以事不宜迟，让我们开始编码吧！

## **基本文件操作**

您可以对文件做很多事情，但是在本文中，我将只讨论最重要的部分。这些部分是:

*   **打开文件**
*   **从该文件中读取数据**
*   **将数据写入文件**
*   **关闭文件**

> **打开并创建一个文件**

如果要读取或创建文件，必须首先使用 open 方法打开它。当您打开文件时，您必须指定文件路径以及您想要访问文件的访问模式。语法应该是这样的:

**打开("文件路径"，"访问模式")**

因为我们有许多不同的访问模式，所以我们需要指定在打开文件时我们希望用哪种访问模式来访问文件。在我们看到所有的访问模式之前，让我们先来看看最常用的两种模式。

*   " **w** " - >创建用于写入的文件。如果文件已经存在，它会覆盖该文件。
*   " **a** " - >以追加模式打开文件，并在文件末尾添加新行。

当我们使用 open 方法时，我们不应该忘记在完成我们想要做的操作后关闭文件，就像下面的代码片段一样。如果我们不这样做，我们可能会遇到内存问题。

因此，我们将**与 open** 一起使用会更安全，open 是文件打开的另一种形式，我们很快就会了解到。

> **写文件**

我在上面提到了我们打开文件时使用的最基本的模式。现在我们来看看其他模式。

*   **w** - >打开文件进行写入。如果有一个已存在的文件，它将打开它并继续覆盖它。如果文件不存在，它首先在相关目录中创建文件，然后开始写入。
*   **w+** - >创建一个可读写的文件。r+ difference 删除和写入相关文件的内容。
*   **a** - >在与 w 相同的逻辑下，它并不只是删除相关内容，它在文件的末尾增加了新的一行。
*   **a+** - >和 w+一样用于读写目的。如果文件存在，w+差异不会覆盖内容。它的作用是将新数据添加到文件的末尾。
*   **r** - >用于读取文件。
*   **r+** - >用于读写目的。如果相关目录中不存在该文件，它将抛出一个错误。要添加的新数据被附加到文件的末尾。

> **写入文件**

如果您想要将列表的内容(可以是任何其他数据结构)写入文本文件，您可以使用 for 循环，如下面的代码示例所示。

> **操作系统模块**

另外，python 中的 OS 模块提供了创建和删除文件夹的功能。通过使用操作系统模块，您可以更改和识别当前目录。您可以使用 OS 模块中的方法来执行这些操作。但是您首先需要导入 os 模块来与底层操作系统交互。例如，您可以使用 **listdir()** 方法了解您正在工作的目录中的文件，或者您可以使用 **isfile()** 方法检查这样一个文件的存在。

> **同开**

**同打开**是打开文件的另一种方式。但是由于我们不需要在这里关闭文件，您可以更容易地使用它。

让我们用一段代码来深入探讨一下。下面这段代码将当前的日-月-年值写入文本文件。

> **读取文件**

如果我们想读取一个已存在的文件，我们需要使用“r”模式，就像上面的访问模式一样。

如果我们试图在不使用 with open 的情况下读取一个不存在的文件，如下例所示，我们将得到一个 **FileNotFoundError** 。

因此，在这种情况下，我们可以通过添加 os 模块和编写 if-else 条件来防止出现错误。因此，当文件没有找到，它将打印文件没有找到。

> **文件读取方法**

读取文件有多种方法。这些是:

*   **read()** - >用于将文件中的所有文本读入一个字符串
*   **readline()** - >用于逐行读取
*   **readlines()** - >用于读取文本文件的所有行，并以字符串列表的形式返回。

> **readline()**

> **readlines()**

如果我们以读取模式打开一个文件并试图写入该文件，它将给出错误“**不支持操作:不可写**”。比如下面的例子:

因此，根据我们要使用的目的选择访问模式非常重要。但是如果你不想得到这样的错误，你也可以使用“r+”模式。

此外，如果您想以相反的顺序打印文件，您可以使用 **reversed()** 方法。此方法反转行，并将其作为列表返回。

> **搜索**

我们可以使用 **file.seek(光标位置)**语法来搜索文件。

*   **f.seek()** - >根据您给 seek 方法的值移动光标。

*   **f.seek(0，2)** - >我们用移动光标到文件的末尾

> **重命名文件**

通过添加 OS 模块，我们可以像下面的代码一样更改文件的名称。但是在这里，我们必须小心文件的存在。因为该方法在找不到文件时会引发错误。

我们可以通过使用 if-else 来避免这样的错误。

> **删除文件**

如果我们想删除一个文件，我们只需要导入 os 模块，并在模块中使用 remove 方法，如下例所示。

今天的文章是关于 python 中的基本文件操作，我希望你能学到一些东西并喜欢它。如果你喜欢我的帖子，别忘了鼓掌。你也可以从[这里](/@elifcelik)查看我的其他关于 Python 的文章。下次见！

[**还有，别忘了关注我和我的其他社交媒体账号。**](https://linktr.ee/Elifcelik)

你可以在这里找到我在文章中用到的所有资源！

***来源:***

[Python 文件 I/O](https://www.programiz.com/python-programming/file-operation)

[Python 文件打开](https://www.w3schools.com/python/python_file_handling.asp)