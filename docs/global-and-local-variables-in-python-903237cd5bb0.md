# Python 中的全局和局部变量

> 原文：<https://medium.com/codex/global-and-local-variables-in-python-903237cd5bb0?source=collection_archive---------18----------------------->

## 了解如何更好地控制变量的使用，避免一些最常见的错误。

![](img/bc13dbb18cbfcf379bb76a1f270d45cd.png)

照片由[克里斯蒂娜](https://unsplash.com/@wocintechchat?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)在 [Unsplash](https://unsplash.com/s/photos/stem-woman?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄

局部变量和全局变量之间的区别经常让新开发人员感到困惑。如果是这样的话，那么看看下面的例子，就能清楚地了解它们之间的主要区别。

## 变量的范围

这两类变量的主要区别之一是它们所谓的范围。变量的范围决定了它存在的位置。

你可能认为所有的变量都存在于代码中的任何地方，但事实并非如此。例如，考虑以下代码:

如果您运行这段代码，您将得到一个错误，指出 add_num 没有定义。尽管你可以在第二行看到它的定义。原因是 add_num 是一个**局部**变量。

## 局部变量

局部变量只存在于它们自己的部分中。变量部分是指代码中可以访问该变量的区域。对于局部变量，它通常是一个函数。这里 add_num 的部分是 number_addition 函数。

这意味着我们只能用同样在 add_num 函数内部的代码来访问它。因此，我们可以在 number_addition 函数之外将其他变量命名为 add_num。

这是使用局部变量的最大优点之一。它保证你可以随意命名函数内部的变量，并且它们不会覆盖函数外部的任何变量。

使用局部变量也非常节省内存，因为一旦它们被使用完，就会被删除。

与局部变量相对应的是全局变量

## 全局变量

全局变量到处存在**。这意味着无论您在代码中的哪个位置工作，都可以访问该变量。**

**对于一个全局变量，你需要在所有函数之外声明它。一个例外是全局关键字的使用。**

**让我们用代码覆盖几个例子。**

**这里我们有与上面相同的代码，但有一些变化:**

*   **现在我们已经在打印中正确地命名了这个变量，这意味着我们在运行这个变量时没有出错**
*   **更重要的是，我们已经去掉了 number_addition 函数的所有参数**

**起初，您可能认为这段代码不起作用，因为 num_1 和 num_2 没有在函数内部定义。但是，您可能错了，因为运行这段代码会打印出 50。**

**原因是 num_1 和 num_2 都是建立在任何函数之外的全局变量。这意味着您可以在任何地方访问它们，甚至在某个函数内部。**

**因此，number_addition 函数可以使用 num_1 和 num_2 对它们求和。**

## **全局关键字**

**有时你可能想在整个代码中使用一个变量，但它首先是在函数内部建立的。**

**大多数情况下，你可以找到一种方法，首先创建变量，然后让函数修改它，但如果不是这样，你可以使用全局关键字。**

**让我们以我们的第一个代码为例:**

**这段代码和第一段代码的主要区别是第 2 行。在这里，我们将 add_num 变量声明为全局变量。这意味着当我们试图在第 7 行打印它时，我们不会得到任何错误。**

## **优点和缺点**

**现在你知道了局部变量和全局变量的含义，那么什么时候应该使用它们呢？**

****局部变量的优势:****

*   **保证全局变量保持不变**
*   **更容易跟踪哪里发生了变化**
*   **使用完毕后立即删除**
*   **允许重复使用名称**

****全局变量的优势:****

*   **可以从任何地方访问**
*   **允许常量值的轻松存储**
*   **允许多个功能使用相同的数据**

## **摘要**

**总结一下 Python 中局部变量和全局变量的主要区别:**

*   **局部变量是在函数内部声明的**
*   **全局变量是在函数外部声明的**
*   **局部变量在用完之后会被删除**
*   **全局变量会一直存在，直到整个程序运行完毕。**

**如果你有任何问题，一定要评论他们，我会尽力回答。**