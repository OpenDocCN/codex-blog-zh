<html>
<head>
<title>Regular Expressions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正则表达式</h1>
<blockquote>原文：<a href="https://medium.com/codex/regular-expressions-bb6063d12aaf?source=collection_archive---------10-----------------------#2021-07-21">https://medium.com/codex/regular-expressions-bb6063d12aaf?source=collection_archive---------10-----------------------#2021-07-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/66471d7ecf97e360232e63900ce7deac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x4cvN7eIKV7UiPXdYldhVg.jpeg"/></div></div></figure><div class=""/><p id="abff" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">许多编程语言都使用正则表达式(通常称为Regex)来匹配字符串中的字符模式。一开始学习它们的语法可能有点令人生畏，但是一旦你学会了一些基础知识，它们会非常有用。使用正则表达式，您可以搜索字符串以确定模式是否存在，验证密码、电子邮件、电话号码等。，或者执行搜索并替换。我希望在本文结束时，您会对使用Regex的基础知识感到更加熟悉。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div class="er es jo"><img src="../Images/91e17db8fca5a1fc1931673c0392cfb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*_49eIggqiKoqC0kejiu6hA.png"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">全漫画来自<a class="ae jx" href="https://xkcd.com/208/" rel="noopener ugc nofollow" target="_blank"> xkcd </a></figcaption></figure><blockquote class="jy jz ka"><p id="156b" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">免责声明:</p><p id="f60c" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">在本文中，我将对正则表达式使用JavaScript语法。尽管不同编程语言的正则表达式的语法是相似的，但还是有一些不同。请务必在Regex上查看您的编程语言文档。</p></blockquote><h1 id="5d60" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">如何创建正则表达式</h1><p id="0d0a" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">在JavaScript中，有两种方法定义正则表达式。正则表达式文字:</p><p id="0dd1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du li lj lk ll b">const regEx = /abc123/</code></p><p id="3223" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是定义正则表达式最简单的方法。只需将您希望匹配的模式用正斜杠<code class="du li lj lk ll b">/regex/</code>括起来。定义正则表达式的另一种方法是使用RegExp对象的构造函数:</p><p id="30fd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du li lj lk ll b">const regEx = new RegExp(‘abc123’)</code></p><p id="a0ce" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以上两个例子都返回相同的正则表达式。第一个例子编写起来更简单，并且在大多数情况下都能工作，但是第二个例子有一个额外的好处，就是能够接受一个变量。当您知道正则表达式的值将会改变时，可以使用构造函数。</p><h1 id="1a44" class="kf kg ht bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">正则表达式基础</h1><p id="be03" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">JavaScript中有很多方法可以使用正则表达式。为了展示正则表达式的一些基础知识，我将使用RegExp方法<code class="du li lj lk ll b">test()</code>。在正则表达式上调用此方法，并将一个字符串作为参数传入。<code class="du li lj lk ll b">test()</code>将返回一个布尔值。如果找到匹配项，它将返回true，如果没有找到匹配项，它将返回false。</p><p id="ad8b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最基本的正则表达式是那些匹配字符串的表达式。例如，如果我们有字符串<code class="du li lj lk ll b">“Hello World”</code>，我们可以使用正则表达式<code class="du li lj lk ll b">/Hello/</code>搜索单词“Hello”。我们可以使用<code class="du li lj lk ll b">test()</code>方法对此进行测试:</p><figure class="jp jq jr js fd hk"><div class="bz dy l di"><div class="lm ln l"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">基本正则表达式的使用</figcaption></figure><h2 id="edc2" class="lo kg ht bd kh lp lq lr kl ls lt lu kp jb lv lw kt jf lx ly kx jj lz ma lb mb bi translated">忽略案例标志</h2><p id="9307" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">正则表达式区分大小写，所以<code class="du li lj lk ll b">/hello/</code>不会在我们的字符串<code class="du li lj lk ll b">“Hello World”</code>中找到匹配。有一种方法可以用可选标志忽略区分大小写。任何可选标志都被添加到正则表达式末尾的正斜杠之后。您可以有多个可选标志。以下示例将展示这一点:</p><figure class="jp jq jr js fd hk"><div class="bz dy l di"><div class="lm ln l"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">实际操作中的忽略案例标志</figcaption></figure><h2 id="e499" class="lo kg ht bd kh lp lq lr kl ls lt lu kp jb lv lw kt jf lx ly kx jj lz ma lb mb bi translated">特殊字符</h2><p id="597f" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">正则表达式中可以使用许多特殊字符。点号(也称为通配符)(<code class="du li lj lk ll b">.</code>)将匹配任何字符。如果您要在<code class="du li lj lk ll b">/./</code>上运行测试方法，任何非空字符串都将返回true。这本身似乎不是很有用，但是当与其他字符结合使用时，这个特殊字符变得非常有用:</p><figure class="jp jq jr js fd hk"><div class="bz dy l di"><div class="lm ln l"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">通配符的作用</figcaption></figure><p id="c545" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">点特殊字符很有帮助，但有时可能有点太有帮助了。我们可能不想匹配任何字符。我们可能只想匹配选定的几个字符。我们可以通过将选择的字符放在方括号中来做到这一点。</p><figure class="jp jq jr js fd hk"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="f6f4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您有许多想要放在方括号中的字符，那么在方括号中输入每个字符似乎需要大量的输入。幸运的是，只要它们按顺序排列，您就可以使用连字符来显示一系列字符。例如，<code class="du li lj lk ll b">/[a-z]/</code>将匹配所有小写字母，<code class="du li lj lk ll b">/[A-L]/</code>将匹配从A到L的所有大写字母，</p><p id="d20f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du li lj lk ll b">/[0–9]/</code>将匹配所有数字。</p><p id="de43" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有一些特殊字符可以匹配常见的字符范围。匹配所有字母数字字符是很常见的，并且对于regex有一个特殊的字符。<code class="du li lj lk ll b">\w</code>匹配所有大小写字母、数字0-9以及(奇怪的是)下划线(_)。<code class="du li lj lk ll b">/\w/</code>将与<code class="du li lj lk ll b">/[a-zA-Z0–9_]/</code>匹配相同。另一个常见的字符范围是所有数字。<code class="du li lj lk ll b">\d</code>是匹配所有数字0-9的特殊字符。<code class="du li lj lk ll b">/\d/</code>将与<code class="du li lj lk ll b">/[0–9]/</code>匹配相同。空白是字符串中的另一个常见字符。一个新单词不能没有空格。<code class="du li lj lk ll b">\s</code>是匹配空白的特殊字符。</p><p id="9764" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可能已经注意到有很多特殊字符，但是如果你想匹配这些字符中的一个呢？例如，如果您想匹配一个句点、一个问号或一个正斜杠，该怎么办？这些在正则表达式中都有特殊的含义。为了能够使用这些字符并让Regex以不同于其特殊含义的方式读取它们，您必须对字符进行转义。这与在JavaScript字符串中转义引号是同一个概念。要对一个特殊字符进行转义，可以在它前面加一个反斜杠(<code class="du li lj lk ll b">\</code>)。<code class="du li lj lk ll b">/\./</code>将匹配句点，而不是像点特殊字符那样匹配任何字符。</p><h2 id="c2ad" class="lo kg ht bd kh lp lq lr kl ls lt lu kp jb lv lw kt jf lx ly kx jj lz ma lb mb bi translated">避免重复你自己</h2><p id="0a65" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">到目前为止，所有的正则表达式示例都是一对一地匹配字符。<code class="du li lj lk ll b">/hello/</code>将按照那个确切的顺序匹配那些确切的字符。<code class="du li lj lk ll b">/[a-i]/</code>、<code class="du li lj lk ll b">/\w/</code>、<code class="du li lj lk ll b">/\d/</code>或<code class="du li lj lk ll b">/\s/</code>都只匹配一个字符。如果正则表达式表示的字符之一出现在字符串中，您将得到一个匹配。如果你想匹配一行中的多个字符，你会怎么做？您可以在Regex中重复这个字符，例如:<code class="du li lj lk ll b">/www/</code>匹配一行中的3个w，或者<code class="du li lj lk ll b">/\w\w\w/</code>匹配一行中的3个字母数字字符。这是可行的，但是为了匹配更长的字符串，你的正则表达式会变得很长并且重复。</p><p id="fde5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有一些字符可以作为速记添加到正则表达式中，以匹配重复的字符或模式。加号(<code class="du li lj lk ll b">+</code>)将匹配一个或多个相同类型的字符。</p><figure class="jp jq jr js fd hk"><div class="bz dy l di"><div class="lm ln l"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">行动中的加号特殊字符</figcaption></figure><p id="9e0a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">星号(<code class="du li lj lk ll b">*</code>)将匹配零个或多个相同类型的字符。</p><figure class="jp jq jr js fd hk"><div class="bz dy l di"><div class="lm ln l"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">行动中的明星特殊角色</figcaption></figure><p id="6bb8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">问号(<code class="du li lj lk ll b">?</code>)将匹配零个或一个前述类型的字符。</p><figure class="jp jq jr js fd hk"><div class="bz dy l di"><div class="lm ln l"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">请注意,“cat54”是匹配的，因为正则表达式寻找字符c、a、t和0-1数字。“cat5”是匹配的。4不会改变其功能。</figcaption></figure><h2 id="1b62" class="lo kg ht bd kh lp lq lr kl ls lt lu kp jb lv lw kt jf lx ly kx jj lz ma lb mb bi translated">阿尔法和欧米茄</h2><p id="be92" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">有时，您会希望匹配的模式位于字符串的开头或结尾。例如，您可能想要编写一个验证来检查每个名称是否以大写字母开头，或者您可能想要检查某个内容。幸运的是，正则表达式在字符串的开头和结尾有特殊的字符用于匹配模式。</p><p id="0804" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要构建匹配字符串开头的正则表达式，可以使用胡萝卜(<code class="du li lj lk ll b">^</code>)。将胡萝卜加到模式的开头，如果模式在字符串的开头，正则表达式将只匹配一个字符串。</p><figure class="jp jq jr js fd hk"><div class="bz dy l di"><div class="lm ln l"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">使用胡萝卜(^)匹配字符串开头的模式</figcaption></figure><p id="8bb7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">构建正则表达式来匹配字符串末尾的模式也同样简单。在这种情况下，使用美元符号(<code class="du li lj lk ll b">$</code>)并将其添加到正则表达式的末尾。</p><figure class="jp jq jr js fd hk"><div class="bz dy l di"><div class="lm ln l"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">使用美元符号($)匹配字符串末尾的模式</figcaption></figure><blockquote class="jy jz ka"><p id="bce7" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">关于胡萝卜的重要提示(<code class="du li lj lk ll b">^</code>)</p><p id="3318" class="iq ir kb is b it iu iv iw ix iy iz ja kc jc jd je kd jg jh ji ke jk jl jm jn hb bi translated">如果在正则表达式中将胡萝卜(<code class="du li lj lk ll b">^</code>)放在方括号(<code class="du li lj lk ll b">[]</code>)中，它就有不同的含义。虽然将胡萝卜加到正则表达式的开头会匹配字符串开头的模式，但是在方括号内添加胡萝卜会将其含义改为NOT。这意味着<code class="du li lj lk ll b">/[^abc]/</code>将匹配除‘a’、‘b’或‘c’之外的任何字符。</p></blockquote><h2 id="a07a" class="lo kg ht bd kh lp lq lr kl ls lt lu kp jb lv lw kt jf lx ly kx jj lz ma lb mb bi translated">全球旗帜</h2><p id="2767" class="pw-post-body-paragraph iq ir ht is b it ld iv iw ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn hb bi translated">JavaScript中另一个使用正则表达式的有用方法是<code class="du li lj lk ll b">match()</code>。<code class="du li lj lk ll b">match()</code>在字符串上被调用，并接受一个正则表达式作为参数。它返回在字符串中找到的匹配项的数组，如果没有找到匹配项，则返回null。</p><p id="4d2f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是引入全球旗帜的好时机(<code class="du li lj lk ll b">g</code>)。您可以将此标志添加到正则表达式的末尾，以便多次匹配。如果不使用全局标志，<code class="du li lj lk ll b">match()</code>将返回第一个匹配，但是使用全局标志，它将返回找到的所有匹配。</p><figure class="jp jq jr js fd hk"><div class="bz dy l di"><div class="lm ln l"/></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">行动中的全球旗帜</figcaption></figure><p id="30c7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这应该足够开始使用正则表达式了。还有许多特殊的字符我没有介绍。还有许多其他有用的JavaScript方法可以处理正则表达式。有一些很好的资源可以帮助您进一步了解正则表达式。Rubular.com允许你根据一些样本文本检查你的正则表达式，这样你就可以确保你的正则表达式按预期执行。alf.nu/RegexGolf是一个伟大的游戏来测试你的正则表达式创建技能。MDN还有几页详细介绍了JavaScript中的正则表达式。</p><p id="f879" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦你理解了正则表达式的工作原理，它就会变得非常有用。有了这些基础，您应该能够开始在自己的代码中使用它们了。编码快乐！</p></div></div>    
</body>
</html>