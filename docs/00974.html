<html>
<head>
<title>The Little Tool To Run K8S In Docker Easily</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨Dockerä¸­è½»æ¾è¿è¡ŒK8Sçš„å°å·¥å…·</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/easy-kubernetes-integration-in-your-ci-a546556d7da5?source=collection_archive---------7-----------------------#2021-03-28">https://medium.com/codex/easy-kubernetes-integration-in-your-ci-a546556d7da5?source=collection_archive---------7-----------------------#2021-03-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="619d" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">æ³•å…¸</a></h2><div class=""/><div class=""><h2 id="aa26" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">æƒ³è¦åŠ¨æ€éƒ¨ç½²Kubernetesé›†ç¾¤å—ï¼Ÿæ˜¯çš„ï¼Œå¯ä»¥ç›´æ¥åœ¨Dockerä¸‹è¿è¡ŒKubernetesï¼</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/009b6803cba663d978514b29d26718ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T18SdZGYqq7qgqMO"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">ç…§ç‰‡ç”±è¥¿è’™Â·ç»´äºšå°¼ / <a class="ae jw" href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>æ‹æ‘„</figcaption></figure><p id="b310" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">è¦åœ¨æœ¬åœ°éƒ¨ç½²Kubernetesï¼Œç›®å‰çš„è§£å†³æ–¹æ¡ˆæ˜¯å®‰è£…<a class="ae jw" href="https://www.docker.com/products/docker-desktop" rel="noopener ugc nofollow" target="_blank"> Docker Desktop </a>æˆ–<a class="ae jw" href="https://minikube.sigs.k8s.io/" rel="noopener ugc nofollow" target="_blank"> minikube </a>ã€‚æˆ‘ä»¬å°†åœ¨è¿™é‡Œçœ‹åˆ°å¦‚ä½•ä½¿ç”¨ä¸€ä¸ªå«åš<a class="ae jw" href="https://kind.sigs.k8s.io/docs/user/quick-start/" rel="noopener ugc nofollow" target="_blank"> kind </a>çš„ä¼Ÿå¤§å·¥å…·åœ¨Dockerä¸­éƒ¨ç½²Kubernetesã€‚æˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•å°†å…¶å®‰è£…åœ¨æ‚¨çš„ç¬”è®°æœ¬ç”µè„‘ä¸Šï¼Œå¹¶ä½¿ç”¨Travis CIåœ¨CIç«¯è¿›è¡Œä¸€ç‚¹æ¨åŠ¨ã€‚</p><p id="1780" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">å¯¹äºCIï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„åœºæ™¯:æ‚¨æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„YAMLæ¸…å•ï¼Œæ‚¨æƒ³åœ¨ä¸åŒç‰ˆæœ¬çš„Kubernetesä¸Šæµ‹è¯•å®ƒã€‚ä¸ºæœ‰é‡å¤§å˜åŒ–çš„æ¯ä¸ªç‰ˆæœ¬åˆ›å»ºä¸€ä¸ªçœŸæ­£çš„é›†ç¾¤ä¼šå¾ˆå¤æ‚ã€‚</p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="d746" class="la lb hi bd lc ld le lf lg lh li lj lk ix ll iy lm ja ln jb lo jd lp je lq lr bi translated">ä¸ºä»€ä¹ˆä¸æ˜¯Minikubeï¼Ÿ</h1><p id="5084" class="pw-post-body-paragraph jx jy hi jz b ka ls is kc kd lt iv kf kg lu ki kj kk lv km kn ko lw kq kr ks hb bi translated">Minikubeæ˜¯åœ¨æœ¬åœ°éƒ¨ç½²Kubernetesé›†ç¾¤è¿›è¡Œæµ‹è¯•çš„æœ€åˆæ–¹å¼ã€‚å¯ä»¥ä½¿ç”¨è™šæ‹Ÿæœºé…ç½®ä¸€ä¸ªä¸»èŠ‚ç‚¹å’Œå¤šä¸ªèŠ‚ç‚¹ã€‚æ¯ä¸ªè™šæ‹ŸæœºåµŒå…¥ä¸€ä¸ªè¿è¡Œæ—¶å®¹å™¨:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lx"><img src="../Images/8b6d72ebc8bce8b052a0202544e77286.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZdRuoc71DnMBJYe54hJFhw.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">Minikubeæ¶æ„å›¾</figcaption></figure><p id="3d48" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">è™šæ‹Ÿæœºéœ€è¦æ›´é•¿æ—¶é—´æ‰èƒ½å¯åŠ¨ã€‚è¿™åœ¨ä¸€ä¸ªCIç¯å¢ƒä¸­å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºåœ¨è¿™ä¸ªç¯å¢ƒä¸­æœ‰å‡ ä¸ªä½œä¸šå¿…é¡»åœ¨ä¸€ä¸ªé“¾ä¸­è¿è¡Œã€‚ä½œä¸šçš„æ‰§è¡Œæ—¶é—´è¶ŠçŸ­è¶Šå¥½ï¼æœ€åï¼Œå¦‚æœæˆ‘ä»¬ç”¨å®¹å™¨åŒ–å±‚æ›¿æ¢è™šæ‹ŸåŒ–å±‚ä¼šæ€ä¹ˆæ ·ï¼Ÿ</p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="d416" class="la lb hi bd lc ld le lf lg lh li lj lk ix ll iy lm ja ln jb lo jd lp je lq lr bi translated">ç å¤´ä¸Šçš„Kubernetes</h1><blockquote class="ly lz ma"><p id="2f4b" class="jx jy mb jz b ka kb is kc kd ke iv kf mc kh ki kj md kl km kn me kp kq kr ks hb bi translated">â€œkindæ˜¯ä¸€ä¸ªä½¿ç”¨Dockerå®¹å™¨èŠ‚ç‚¹è¿è¡Œæœ¬åœ°Kubernetesé›†ç¾¤çš„å·¥å…·ã€‚kindä¸»è¦æ˜¯ä¸ºæµ‹è¯•Kubernetesæœ¬èº«è€Œè®¾è®¡çš„ï¼Œä½†ä¹Ÿå¯èƒ½ç”¨äºæœ¬åœ°å¼€å‘æˆ–CIã€‚æ¥è‡ª<a class="ae jw" href="https://kind.sigs.k8s.io/" rel="noopener ugc nofollow" target="_blank">https://kind.sigs.k8s.io/</a></p></blockquote><p id="f774" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">Kindæ˜¯ä¸€ä¸ªä¸dockerå®ˆæŠ¤è¿›ç¨‹äº¤äº’çš„CLIã€‚å®ƒåˆ›å»ºä¸€ä¸ªâ€œèŠ‚ç‚¹â€å®¹å™¨ï¼Œä¸ºKubernetesåˆ›å»ºå¿…è¦çš„ç»„ä»¶ï¼Œå¦‚etcdã€kubeletã€addons:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mf"><img src="../Images/e8c8ef676909915cab5d6a948fa28edb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3tWHZpBcrNlxEp_rYK2rkg.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">https://kind.sigs.k8s.io/docs/design/initial/<a class="ae jw" href="https://kind.sigs.k8s.io/docs/design/initial/" rel="noopener ugc nofollow" target="_blank">çš„å®ç‰©è®¾è®¡å›¾</a></figcaption></figure><p id="0173" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•åœ¨æœ¬åœ°å®‰è£…<code class="du mg mh mi mj b">kind</code>ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªé›†ç¾¤ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†é…æ–¹å¯¼å‡ºåˆ°Travis CIé…ç½®ä¸­ã€‚</p><h2 id="b56c" class="mk lb hi bd lc ml mm mn lg mo mp mq lk kg mr ms lm kk mt mu lo ko mv mw lq ho bi translated">å®‰è£…</h2><p id="f181" class="pw-post-body-paragraph jx jy hi jz b ka ls is kc kd lt iv kf kg lu ki kj kk lv km kn ko lw kq kr ks hb bi translated">é¦–å…ˆå®‰è£…golang:</p><pre class="jh ji jj jk fd mx mj my mz aw na bi"><span id="6bf9" class="mk lb hi mj b fi nb nc l nd ne">$ brew install golang<br/>$ go version                                                                                                                                                                                                                     <br/>go version go1.16 darwin/amd64</span></pre><p id="8549" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">ç„¶åkindè¶…çº§å®¹æ˜“å®‰è£…:</p><pre class="jh ji jj jk fd mx mj my mz aw na bi"><span id="0f11" class="mk lb hi mj b fi nb nc l nd ne">$ GO111MODULE="on" go get sigs.k8s.io/kind@v0.10.0                                                                                                                                                                             </span></pre><h2 id="fba8" class="mk lb hi bd lc ml mm mn lg mo mp mq lk kg mr ms lm kk mt mu lo ko mv mw lq ho bi translated">åˆ›å»ºå…·æœ‰ç§ç±»çš„é›†ç¾¤</h2><pre class="jh ji jj jk fd mx mj my mz aw na bi"><span id="ee0d" class="mk lb hi mj b fi nb nc l nd ne">$ kind create cluster<br/>Creating cluster "kind" ...<br/> âœ“ Ensuring node image (kindest/node:v1.20.2) ğŸ–¼<br/> âœ“ Preparing nodes ğŸ“¦<br/> âœ“ Writing configuration ğŸ“œ<br/> âœ“ Starting control-plane ğŸ•¹ï¸<br/> âœ“ Installing CNI ğŸ”Œ<br/> âœ“ Installing StorageClass ğŸ’¾<br/>Set kubectl context to "kind-kind"<br/>You can now use your cluster with:</span><span id="81b5" class="mk lb hi mj b fi nf nc l nd ne">kubectl cluster-info --context kind-kind</span><span id="d02f" class="mk lb hi mj b fi nf nc l nd ne">Thanks for using kind! ğŸ˜Š</span><span id="412b" class="mk lb hi mj b fi nf nc l nd ne">$ kubectl cluster-info --context kind-kind                                                                                                                                                                                     <br/>Kubernetes control plane is running at <a class="ae jw" href="https://127.0.0.1:50968" rel="noopener ugc nofollow" target="_blank">https://127.0.0.1:50968</a><br/>KubeDNS is running at <a class="ae jw" href="https://127.0.0.1:50968/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy" rel="noopener ugc nofollow" target="_blank">https://127.0.0.1:50968/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy</a></span><span id="ae8c" class="mk lb hi mj b fi nf nc l nd ne">To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.</span><span id="92eb" class="mk lb hi mj b fi nf nc l nd ne">$ kubectl run busybox --context kind-kind --image=busybox<br/>pod/busybox created<br/>$ kubectl get pods<br/>NAME      READY   STATUS      RESTARTS   AGE<br/>busybox   0/1     Completed   0          7s</span></pre></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="74a7" class="la lb hi bd lc ld le lf lg lh li lj lk ix ll iy lm ja ln jb lo jd lp je lq lr bi translated">å´”ç»´æ–¯è¯ä¸­çš„äº²åˆ‡</h1><p id="b828" class="pw-post-body-paragraph jx jy hi jz b ka ls is kc kd lt iv kf kg lu ki kj kk lv km kn ko lw kq kr ks hb bi translated">é…ç½®ä½¿ç”¨golangè¯­è¨€ï¼Œå¹¶é‡å¤ä½¿ç”¨ä¹‹å‰åœ¨æœ¬åœ°æ‰§è¡Œçš„æ‰‹åŠ¨æ­¥éª¤:</p><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="ng nh l"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">å…·æœ‰ç§ç±»çš„Travis CIé…ç½®æ–‡ä»¶</figcaption></figure><p id="5c44" class="pw-post-body-paragraph jx jy hi jz b ka kb is kc kd ke iv kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">ä¸€åˆ‡éƒ½è¿è½¬è‰¯å¥½:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ni"><img src="../Images/55ffb5892f54f5496c7eaf375a2a3d26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vbx1XyqC4ySbUnl9g3_hew.png"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">å…ˆå‰é…ç½®æ–‡ä»¶çš„Travis CIè¾“å‡º</figcaption></figure></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="cea0" class="la lb hi bd lc ld le lf lg lh li lj lk ix ll iy lm ja ln jb lo jd lp je lq lr bi translated">ç»“è®º</h1><p id="b0fb" class="pw-post-body-paragraph jx jy hi jz b ka ls is kc kd lt iv kf kg lu ki kj kk lv km kn ko lw kq kr ks hb bi translated">Kindçš„å¯åŠ¨é€Ÿåº¦æ¯”Minikubeå¿«å¾—å¤šã€‚å®‰è£…å’Œåˆ›å»ºKubernetesé›†ç¾¤éå¸¸ç®€å•ã€‚é‰´äºæ‰€æœ‰è¿™äº›ï¼Œå®ƒéå¸¸é€‚åˆCIå®è·µã€‚å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªæœ€å°çš„è§£å†³æ–¹æ¡ˆï¼Œä½ ä¹Ÿå¯ä»¥ç”¨å®ƒæ¥ä»£æ›¿Docker for Desktopçš„Kubernetesç‰¹æ€§ã€‚</p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h1 id="fd7a" class="la lb hi bd lc ld le lf lg lh li lj lk ix ll iy lm ja ln jb lo jd lp je lq lr bi translated">èµ„æº</h1><div class="nj nk ez fb nl nm"><a href="https://kind.sigs.k8s.io/" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab dw"><div class="no ab np cl cj nq"><h2 class="bd hs fi z dy nr ea eb ns ed ef hr bi translated">ç§ç±»</h2><div class="nt l"><h3 class="bd b fi z dy nr ea eb ns ed ef dx translated">kindæ˜¯ä¸€ä¸ªä½¿ç”¨Dockerå®¹å™¨â€œèŠ‚ç‚¹â€è¿è¡Œæœ¬åœ°Kubernetesé›†ç¾¤çš„å·¥å…·ã€‚kindä¸»è¦æ˜¯ä¸ºâ€¦</h3></div><div class="nu l"><p class="bd b fp z dy nr ea eb ns ed ef dx translated">kind.sigs.k8s.io</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa jq nm"/></div></div></a></div></div></div>    
</body>
</html>