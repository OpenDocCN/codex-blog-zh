<html>
<head>
<title>Linked List Implementation in C++</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">C++中链表的实现</h1>
<blockquote>原文：<a href="https://medium.com/codex/linked-list-implementation-in-c-287a50ced9b6?source=collection_archive---------7-----------------------#2021-08-14">https://medium.com/codex/linked-list-implementation-in-c-287a50ced9b6?source=collection_archive---------7-----------------------#2021-08-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/be0b7dcacf0837f1ad890f502a44de90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HZHMSee6ZONjT1rH"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">照片由<a class="ae hv" href="https://unsplash.com/@jjying?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> JJ英</a>在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><div class=""/><figure class="ev ex iw ix iy hk er es paragraph-image"><div class="er es iv"><img src="../Images/4ba0a78fadb082f7ae2112e3325ca0ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*tnzxVLZyHnZnBsXPOJZCPg.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">https://www.geeksforgeeks.org/data-structures/linked-list/图片由<a class="ae hv" href="https://www.geeksforgeeks.org/data-structures/linked-list/" rel="noopener ugc nofollow" target="_blank">提供</a></figcaption></figure><p id="7adc" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">链表是一种数据结构，它通过指向下一个元素的指针来连接元素。每个节点实际上都由这两样东西组成，数据本身和指针。</p><figure class="jx jy jz ka fd hk"><div class="bz dy l di"><div class="kb kc l"/></div></figure><p id="ed25" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">现在我们已经定义了内部节点结构，我们需要创建一个模板LinkedList类。与我们将声明保存在头文件中并将定义保存在cpp文件中的常见做法不同，在模板中，编译器需要实例化不同版本的代码。它实际上是为我们使用的每种类型生成一个新的类。因此，定义应该保存在头文件中，或者为我们需要的每种类型显式实例化。对于这个实现，我们将做第一个。</p><figure class="jx jy jz ka fd hk"><div class="bz dy l di"><div class="kb kc l"/></div></figure><p id="d288" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">当构建LinkedList时，我们保存一个指向第一个节点的head指针来标识第一个元素。因为push_back函数在列表容器的末尾添加了一个新元素，所以我们需要遍历所有的元素，直到到达最后一个元素并放入新的条目。</p><p id="9e90" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">现在让我们创建迭代器。迭代器只不过是链表类中的一个内部结构，它包含一个指向节点的指针和一些操作符重载。将一个元素与另一个元素进行比较或返回operator*上的数据。对于更多的初级开发人员来说，当一切都放在一起时，它可能会更有意义。</p><figure class="jx jy jz ka fd hk"><div class="bz dy l di"><div class="kb kc l"/></div></figure><p id="5c07" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">这将使我们能够浏览容器中的内容。下面使用begin() the end() the not equals(！=)运算符、前缀递增(+i)和取消引用*i来获得元素的实际值。如果不使用迭代器，这是不可能的。</p><figure class="jx jy jz ka fd hk"><div class="bz dy l di"><div class="kb kc l"/></div></figure><p id="aff7" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">接下来，我们将添加擦除功能，并对其进行一些测试。尽管std::list是由一个双向链表组成的，而我们的是一个单向链表，我们还是会尽量让它接近std::list。因此，正如标题中所定义的，erase函数有两个重载。</p><pre class="jx jy jz ka fd kd ke kf kg aw kh bi"><span id="6088" class="ki kj hy ke b fi kk kl l km kn">iterator erase (const_iterator position);<br/>iterator erase (const_iterator first, const_iterator last);</span></pre><p id="eab5" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">一个函数接受一个迭代器并删除该元素，同时返回被函数调用删除的最后一个元素之后的元素，另一个函数删除两个迭代器指定的范围。</p><p id="c286" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">先说第一个。有三种情况。在第一种情况下，也就是说，我们删除只有一个节点的链表中的第一个元素，我们应该确保将头节点标记为nullptr，并删除分配给该节点的内存。在第二种情况下，我们删除linkedlist中有更多节点的第一个元素，我们应该确保将头连接到第二个节点。最后但同样重要的是，在最后一种情况下，我们删除了中间的某个元素，甚至是最后一个元素。在这种情况下，我们应该确保我们保留了一个先前的迭代器，这样我们就可以将这个节点的下一个连接到即将被删除的节点的下一个。</p><figure class="jx jy jz ka fd hk"><div class="bz dy l di"><div class="kb kc l"/></div></figure><p id="bdb6" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">接下来，我们应该添加一些测试。这一次我使用了Google C++测试框架。要安装，请在您的Linux机器上键入以下内容。</p><figure class="jx jy jz ka fd hk"><div class="bz dy l di"><div class="kb kc l"/></div></figure><p id="93fe" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">添加您需要做的测试。对于push_back函数，我们只是添加几个节点，并确保一切如预期的那样。对于擦除测试，我们将测试这三种情况中的每一种，并确保所有内容都按照预期被擦除。我们应该增加对不同类型的测试，并尝试用nullptr迭代器进行擦除。</p><figure class="jx jy jz ka fd hk"><div class="bz dy l di"><div class="kb kc l"/></div></figure><p id="78a0" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">最后，相应地更新主函数并创建一个CMakeLists.txt文件</p><figure class="jx jy jz ka fd hk"><div class="bz dy l di"><div class="kb kc l"/></div></figure><figure class="jx jy jz ka fd hk"><div class="bz dy l di"><div class="kb kc l"/></div></figure><p id="bb75" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">执行下面的命令运行所有的g++测试。</p><figure class="jx jy jz ka fd hk"><div class="bz dy l di"><div class="kb kc l"/></div></figure><p id="b3a2" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">虽然本文没有完全解释所有的内容，但是已经给出了基本指南，您应该能够理解项目的其余部分。请随时提问或在评论区给出反馈。</p><p id="e24f" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">完整的项目在GitHub<a class="ae hv" href="https://github.com/nikkaramessinis/LinkedList" rel="noopener ugc nofollow" target="_blank">https://github.com/nikkaramessinis/LinkedList</a>上</p><p id="ac77" class="pw-post-body-paragraph iz ja hy jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">如果你喜欢的内容，请考虑以下。对于任何更正或补充，您可以<a class="ae hv" href="https://github.com/nikkaramessinis/LinkedList/issues/new" rel="noopener ugc nofollow" target="_blank">创建一个新问题</a>或通过发送一个<a class="ae hv" href="https://github.com/nikkaramessinis/LinkedList/pulls" rel="noopener ugc nofollow" target="_blank">拉动请求</a>与您的改进一起为项目做出贡献。</p></div></div>    
</body>
</html>