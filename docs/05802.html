<html>
<head>
<title>Asynchronous Communication — Async Event or Async Command… What's the difference?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">异步通信——异步事件或异步命令……有什么区别？</h1>
<blockquote>原文：<a href="https://medium.com/codex/asynchronous-communication-asynchronous-event-or-asynchronous-command-whats-the-difference-296c4a982e51?source=collection_archive---------17-----------------------#2022-03-29">https://medium.com/codex/asynchronous-communication-asynchronous-event-or-asynchronous-command-whats-the-difference-296c4a982e51?source=collection_archive---------17-----------------------#2022-03-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7c46360e2856e714cd6f166a98f8591a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OE6uW_TPVUoZoWIn"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">古伊列梅·斯特卡内拉在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="2ce4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于两者都是消息&amp;两者都可以异步交付，这看起来可能是一个灰色区域，但是在下面的文章中，我试图给出两者之间的明确区别。</p><h2 id="dfaf" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">命令</h2><p id="f0ef" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated"><strong class="ix hj">命令</strong>表示发布者希望发生的请求/意图。</p><p id="6227" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">可以把它看作是一种一对一的通信，其中发布者认识接收者，例如，<em class="kt">“嗨，Abhinav！</em>请用餐。</p><p id="f685" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这意味着调用系统知道被调用系统的行为。行为耦合程度更高。</p><p id="92dc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了解释后面的观点，我举一个例子，假设一家保险公司有一个专门负责与客户沟通的部门，这个部门提供通知服务。该通知服务必须由任何其他想要向客户发送SMS的部门使用。</p><figure class="kv kw kx ky fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/34426f9f99393a4472cdfa2807933ce9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tsuwcrKdZjiaQzexS2gHgw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">通知服务接收、发送来自两个独立部门的SMS命令。</figcaption></figure><p id="c0a7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">示例中的考虑事项—</p><ol class=""><li id="940a" class="kz la hi ix b iy iz jc jd jg lb jk lc jo ld js le lf lg lh bi translated">由于命令正在调用一个尚未发生的行为，它可能会被接收者拒绝(假设不支持国家代码)。</li><li id="6f5d" class="kz la hi ix b iy li jc lj jg lk jk ll jo lm js le lf lg lh bi translated">该命令可能由多个发布者调用，但只有一个接收者(通知服务)。发送一个命令。</li><li id="c583" class="kz la hi ix b iy li jc lj jg lk jk ll jo lm js le lf lg lh bi translated">接收方(通知服务)拥有命令的模式。收件人控制执行操作所需的信息。</li><li id="0597" class="kz la hi ix b iy li jc lj jg lk jk ll jo lm js le lf lg lh bi translated">域耦合程度更高，因为命令的发出者知道接收者，以及完成任务所需的模式。</li></ol><h2 id="64fa" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">事件</h2><p id="187c" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">另一方面，事件是时间点事实。对过去已经发生的事情的通知。</p><p id="ecc6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">把它当成一个公告，<em class="kt">“大家好！晚餐准备好了。”</em></p><p id="3f6a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们再举一个例子，假设系统中创建了一个新客户。市场部需求和核保部对任何新创建的客户都感兴趣。</p><figure class="kv kw kx ky fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/fb106d6e4fa4baf13326eb4193f121ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nQdY5Z0p-ZhS9If4-YRdqg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">为相关方创建新客户后，客户服务会发出一个事件。</figcaption></figure><p id="8113" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">示例中的考虑事项—</p><ol class=""><li id="8373" class="kz la hi ix b iy iz jc jd jg lb jk lc jo ld js le lf lg lh bi translated">事件源没有关于谁在收听信息的信息，它是一个广播。发布了一个事件。</li><li id="acb6" class="kz la hi ix b iy li jc lj jg lk jk ll jo lm js le lf lg lh bi translated">事件可以有零个或多个收件人。</li><li id="2570" class="kz la hi ix b iy li jc lj jg lk jk ll jo lm js le lf lg lh bi translated">事件的模式归事件源所有。</li><li id="d425" class="kz la hi ix b iy li jc lj jg lk jk ll jo lm js le lf lg lh bi translated">耦合度较低，因为事件源不将命令/请求发送给下游服务，而是让下游服务自己决定当事件发生时需要做什么。话虽如此，事件的模式充当公共契约。在fat事件中，下游服务将开始在可用信息上增长。在瘦事件的情况下，服务将查询事件源以获得更多增加耦合性的信息(我已经在我的另一篇<a class="ae iu" rel="noopener" href="/@kapoorabhinav/asynchronous-communicaiton-how-much-information-do-we-pack-in-events-to-reduce-coupling-ef5749e01da8">文章</a>中讨论过这一点)。</li></ol><h2 id="aad0" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">结论</h2><p id="bd1d" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">如果我们期望我们的事件总是被特定的接收者处理，那么我认为我们谈论的是作为事件实现的命令。</p></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><p id="0eba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你觉得这篇文章很有用，或者你想让我介绍其他方面，请在反馈中告诉我。</p></div></div>    
</body>
</html>