<html>
<head>
<title>Why you should try out Golang</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么你应该尝试Golang</h1>
<blockquote>原文：<a href="https://medium.com/codex/why-you-should-try-out-golang-7d8628797bb7?source=collection_archive---------15-----------------------#2022-04-09">https://medium.com/codex/why-you-should-try-out-golang-7d8628797bb7?source=collection_archive---------15-----------------------#2022-04-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="dcf2" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">与旧语言相比，Golang提供了一些令人耳目一新的方面，让我们探索一下。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/3095a25e155eedf20a650a9d4f66c21d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J89L-8J80-kTBM5p"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">罗斯·芬登在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="e3f8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">编程语言Golang，或Go，最初是由谷歌人在2009年开发的，此后定期更新，以确保它不缺乏最重要的功能。但是，在探索它还需要从其他语言中复制什么之前，让我们先关注新的。</p><h2 id="d6dc" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">并发成为一种乐趣(几乎)</h2><p id="d2b3" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">Go中的并发性(意味着让多个线程同时运行不同的操作)变得非常容易，这要感谢该语言的一个伟大特性，称为goroutines。只需在函数调用前添加按键<strong class="jq hj"> <em class="lk"> go </em> </strong>即可使其并发，并且您的代码继续执行，而无需等待函数结束。</p><pre class="iy iz ja jb fd ll lm ln lo aw lp bi"><span id="2f8d" class="kk kl hi lm b fi lq lr l ls lt">go func() {<br/>    fmt.Print(1)<br/>}()<br/>fmt.Print(2)</span></pre><p id="4480" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">根据两个线程的速度，上面的代码可能会打印“1 2”或“2 1”(它很可能会打印“2 1”，因为goroutine需要很短的时间来启动)。</p><p id="1e46" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">有了它，我们就可以开始构建更强大、更复杂的分布式并发系统，让多个节点在它们之间共享信息。要管理未知的并发世界，也要利用通道。作为锁的替代，它们允许goroutines进行同步。</p><pre class="iy iz ja jb fd ll lm ln lo aw lp bi"><span id="3167" class="kk kl hi lm b fi lq lr l ls lt">channel := make(chan int)<br/>go func() {<br/>    i:=&lt;-channel<br/>    fmt.Print("After ", i)<br/>}()<br/>fmt.Print("Before ")<br/>channel &lt;- 42</span></pre><p id="bf22" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这一次，我们肯定地知道输出将是“42之后之前”，因为goroutine中的通道阻塞，直到它接收到一个值，该值仅由主线程在写入“之前”之后发送。</p><h2 id="2fb1" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">错误管理</h2><p id="fe55" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">虽然不是每个人都欣赏它，但我个人认为它做得很好，而且不令人讨厌。事情是这样的:Go处理像变量这样的错误。正如我们在Java中所能发现的，Go希望用户在需要时使用并返回错误，并检查它们的空性(Go中的<strong class="jq hj"> <em class="lk"> nil </em> </strong>)。</p><pre class="iy iz ja jb fd ll lm ln lo aw lp bi"><span id="c98f" class="kk kl hi lm b fi lq lr l ls lt">result, err := operationWithPossibleError()<br/>if err != nil {<br/>    fmt.Println("We have an error here")<br/>    return error<br/>}</span></pre><p id="d1ca" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里，当使用操作函数时，如果发生了错误，它可能会返回一个错误。我们将它作为一个值接收，然后用这个臭名昭著的“if err！=零”。因在每个围棋程序中重复使用而臭名昭著。然而，它允许容易地跟踪错误，简单地感觉像一个尝试/捕捉组合。</p><h2 id="4918" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">表演呢？</h2><p id="ae7e" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">去被编译成一个可执行文件，它会比例如Python执行更快。与Java相比，如果没有JVM的帮助，Go将无法在很多平台上工作，但它会更快，因为它最初不需要加载一个。</p><p id="469f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">对于10000000次迭代的同一个For循环(1)，向“www.google.com”发出GET请求(2)，或者实现1000个线程递增一个计数器值并等待该值为1000 (3)，我们可以在下面观察每种语言所需的时间，以毫秒为单位。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lu"><img src="../Images/55fbfd1f70992cb17536544f3e011764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mxYvOHPDFs6FqmluFLNObQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">多任务下Go、Java、Python的速度比较。</figcaption></figure><blockquote class="lv lw lx"><p id="3471" class="jo jp lk jq b jr js ij jt ju jv im jw ly jy jz ka lz kc kd ke ma kg kh ki kj hb bi translated">请注意，Python的for循环是出了名的慢，Jython或Cython会超过这个时间。此外，如果可能的话，应该使用Numpy的方法来加快数组上的循环操作。</p></blockquote><p id="9f6b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这些例子并不全面，但仍然展示了这种语言的一些优点。</p><h2 id="fdcf" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">还有更多！</h2><ul class=""><li id="0169" class="mb mc hi jq b jr lf ju lg jx md kb me kf mf kj mg mh mi mj bi translated">Go通过不允许声明未使用的变量，迫使用户编写更好的代码。根据Go团队的说法，“<a class="ae jn" href="https://go.dev/doc/faq#unused_variables_and_imports" rel="noopener ugc nofollow" target="_blank">一个未使用的变量的存在可能表明一个bug </a>”。</li><li id="47eb" class="mb mc hi jq b jr mk ju ml jx mm kb mn kf mo kj mg mh mi mj bi translated">Go是强类型和动态类型的，这意味着它允许使用<strong class="jq hj"> <em class="lk"> := </em> </strong>语句创建变量而无需指定其类型。</li><li id="0d9f" class="mb mc hi jq b jr mk ju ml jx mm kb mn kf mo kj mg mh mi mj bi translated">Go提供了<strong class="jq hj"> <em class="lk"> defer </em> </strong>语句来复制Java的<strong class="jq hj"> <em class="lk">最后</em> </strong>的想法。这有助于确保在使用代码的函数结束时清理代码。</li><li id="a47a" class="mb mc hi jq b jr mk ju ml jx mm kb mn kf mo kj mg mh mi mj bi translated">说到清理，Go也有一个垃圾收集器，它不能让你控制内存中发生了什么，但是让语言更容易使用。</li><li id="e6a7" class="mb mc hi jq b jr mk ju ml jx mm kb mn kf mo kj mg mh mi mj bi translated">Go 1.18将包含泛型，在类型和函数声明中添加可选的类型参数</li><li id="88c9" class="mb mc hi jq b jr mk ju ml jx mm kb mn kf mo kj mg mh mi mj bi translated">Go包含了一个很棒的测试框架，包含了所有需要的东西，1.18版本还将包含fuzzing的实现。</li></ul><blockquote class="lv lw lx"><p id="1558" class="jo jp lk jq b jr js ij jt ju jv im jw ly jy jz ka lz kc kd ke ma kg kh ki kj hb bi translated">模糊化是一种自动修改输入以搜索程序中的错误的测试。它用于发现程序中可能的漏洞，因此在测试的同时进行模糊处理可以防止这些漏洞。</p></blockquote><ul class=""><li id="a428" class="mb mc hi jq b jr js ju jv jx mp kb mq kf mr kj mg mh mi mj bi translated">Go允许开发人员非常简单地将他们编写的库发布到GitHub上，使它们公开和可用。任何人都可以在他们的程序中导入一个公共库，这使得发布变得容易。</li><li id="be9c" class="mb mc hi jq b jr mk ju ml jx mm kb mn kf mo kj mg mh mi mj bi translated">开发人员可以使用一些命令来管理项目，例如<strong class="jq hj"> <em class="lk"> go get </em> </strong>下载要导入的库，<strong class="jq hj"> <em class="lk"> go build </em> </strong>将项目构建为可执行文件，<strong class="jq hj"> <em class="lk"> go fmt </em> </strong>(可能在每次保存时运行)以传统方式格式化代码以增强其可读性，等等。</li></ul></div><div class="ab cl ms mt gp mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="hb hc hd he hf"><h2 id="0263" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">关于缺点</h2><p id="26ec" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">正如我们所看到的，一些缺失的特性正在一个又一个版本中被添加，所以语言变得越来越成熟。</p><p id="4e6a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">但是，我们可以举例说明声明变量的两种不同方式，<strong class="jq hj"> <em class="lk"> := </em> </strong>和<strong class="jq hj"> <em class="lk"> var </em> </strong>。它们略有不同，因为<strong class="jq hj"> <em class="lk"> var </em> </strong>只允许声明一个变量而不初始化它，而<strong class="jq hj"> <em class="lk"> := </em> </strong>可以混合使用新的和已经声明的变量。</p><p id="eac2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">接口实现在我看来感觉怪怪的，因为不需要显式编写。如果一个类型定义了一个接口中定义的所有类型，那么它实现了后者。</p><p id="81b3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Go将使您熟悉竞争条件，这是当不同goroutines达到相同数据时发生的一种错误。</p><pre class="iy iz ja jb fd ll lm ln lo aw lp bi"><span id="417b" class="kk kl hi lm b fi lq lr l ls lt">array := make([]int, 0)<br/>go func() {<br/>    array = append(array, 1)<br/>}()<br/>go func() {<br/>    array = append(array, 2)<br/>}()</span></pre><p id="b02d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">例如，在上面带有标志<strong class="jq hj"> <em class="lk"> -race </em> </strong>的代码段上运行测试将会检测到可能的竞争情况，因为对映射或数组的访问不应该同时进行，并且您很快会感觉到需要创建自己的具有线程安全函数的数据结构类型。</p><p id="5a32" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">正如我们前面看到的，错误处理非常特别，它的重复性会受到用户的喜爱或厌恶。</p><p id="08cf" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">当编写go代码时，你必须注意大小写，因为它表明这个函数是否可以被其他包(或其他Go文件)使用。比如重用Java的术语时，函数<strong class="jq hj"> <em class="lk"> print() </em> </strong>是私有的而<strong class="jq hj"> <em class="lk"> Print() </em> </strong>是公共的。您可以观察到，从导入的包中调用的每个函数都是大写的。</p><p id="852f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Go允许使用指针，这在开始时既有用又令人困惑。</p><p id="5c39" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">最后，每个对象都有一个零值的事实导致可能的结构实例化时没有定义任何字段，而结构本身不是零。</p><h2 id="cb1c" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">围棋流行吗？</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mz"><img src="../Images/8be9bbc44bd0aa11ccf124439f774eb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l8TLXnN3TDY_CP0QjbaJdQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">围棋TIOBE指数</figcaption></figure><p id="b047" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">根据TIOBE排名，Golang在2022年3月被列为最受欢迎语言的第13位。我们可以看到Go有过更好的日子，该语言背后的社区明显小于Python、C或Java，分别排名前1、2和3，评分超过10%。然而，它已经足够出名，已经有大量的图书馆可以使用，关于常见问题的问题也可以在互联网上得到解答。</p></div><div class="ab cl ms mt gp mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="hb hc hd he hf"><h2 id="7aa2" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">最后的话</h2><p id="5872" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">最后，每种语言都有其优点和缺点，Golang也是如此。它没有Python为机器学习提供的库，也没有Java的社区和智慧，但在开发微服务和分布式系统时，Go肯定会有很大用处。</p><blockquote class="na"><p id="b5a3" class="nb nc hi bd nd ne nf ng nh ni nj kj dx translated">感谢阅读！</p><p id="788a" class="nb nc hi bd nd ne nf ng nh ni nj kj dx translated">我希望你喜欢发现Golang的一些特点，如果你有任何问题和/或建议，请在评论中告诉我。</p></blockquote></div></div>    
</body>
</html>