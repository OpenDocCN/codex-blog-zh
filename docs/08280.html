<html>
<head>
<title>AWS Certified Solutions Architect Professional — Security — CloudTrail</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS认证解决方案架构师专家—安全— CloudTrail</h1>
<blockquote>原文：<a href="https://medium.com/codex/aws-certified-solutions-architect-professional-security-cloudtrail-850006168acb?source=collection_archive---------8-----------------------#2022-07-28">https://medium.com/codex/aws-certified-solutions-architect-professional-security-cloudtrail-850006168acb?source=collection_archive---------8-----------------------#2022-07-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7b8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于AWS CloudTrail的简短说明。这篇文章是由夏羽·马瑞克教授的《终极AWS认证解决方案架构师》课程的一个简要说明。这个帖子的唯一目的是一个总结，如果你想要详细的学习，请购买夏羽·马雷克的课程。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f8ba39aa0c8924c36e9914ef8a25d9dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OTTtrU-sxHwjp-R1YZBlVA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图片来自AWS</figcaption></figure><h1 id="5592" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">AWS云迹</h1><p id="e6ba" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">跟踪AWS帐户中的用户活动和API使用情况。AWS CloudTrail默认启用。</p><p id="9dad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AWS CloudTrail通过以下方式监控和记录您的AWS帐户中的事件或API调用的历史记录:</p><ul class=""><li id="7a44" class="kw kx hi ih b ii ij im in iq ky iu kz iy la jc lb lc ld le bi translated">安慰</li><li id="09a2" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">软件开发工具包(Software Development Kit)</li><li id="2ca0" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">硬币指示器 （coin-levelindicator的缩写）命令行界面（Command Line Interface for batch scripting）</li><li id="904f" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">AWS服务</li></ul><p id="b1b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以将CloudTrail中的日志放到CloudWatch日志或S3中。轨迹可以应用于所有区域(默认)或单个区域。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lk"><img src="../Images/f5d3ab66f1b15b96b646c837c173ff62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D6aF3La34jiRegkH-ZI8mQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图片作者:夏羽·马雷克</figcaption></figure><p id="433b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">CloudTrail非常有用，比如在AWS中删除了一个资源，先调查CloudTrail。</p><h1 id="4cc5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">CloudTrail事件</h1><p id="0ecd" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">CloudTrail有三种事件。</p><p id="4f6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">管理事件</strong></p><p id="33b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">管理事件提供了对AWS帐户中的资源执行的管理操作的可见性。例如:</p><ul class=""><li id="aedd" class="kw kx hi ih b ii ij im in iq ky iu kz iy la jc lb lc ld le bi translated">配置安全性(例如，IAM <code class="du ll lm ln lo b">AttachRolePolicy</code> API操作)。</li><li id="5ed8" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">注册设备(例如，Amazon EC2 <code class="du ll lm ln lo b">CreateDefaultVpc</code> API操作)。</li><li id="ba4b" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">配置路由数据的规则(例如，Amazon EC2 <code class="du ll lm ln lo b">CreateSubnet</code> API操作)。</li><li id="65c3" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">设置日志记录(例如，AWS CloudTrail <code class="du ll lm ln lo b">CreateTrail</code> API操作)。</li></ul><p id="527b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下，跟踪被配置为记录管理事件。</p><p id="d517" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以将读取事件(不修改资源)与写入事件(可能修改资源)分开。</p><p id="f061" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数据事件</strong></p><p id="38fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下，跟踪不记录数据事件(因为大量的操作)。数据事件需要支付额外费用。</p><p id="e85e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据事件提供了对在资源上或资源内执行的资源操作的可见性。</p><p id="2340" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据事件资源类型:</p><ul class=""><li id="f977" class="kw kx hi ih b ii ij im in iq ky iu kz iy la jc lb lc ld le bi translated">亚马逊S3对桶和桶中对象的对象级API活动(例如，<code class="du ll lm ln lo b">GetObject</code>、<code class="du ll lm ln lo b">DeleteObject</code>和<code class="du ll lm ln lo b">PutObject</code> API操作)。</li><li id="696b" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">AWS Lambda函数执行活动(<code class="du ll lm ln lo b">Invoke</code> API)。</li><li id="5540" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">Amazon DynamoDB对象级API在表上的活动(例如，<code class="du ll lm ln lo b">PutItem</code>、<code class="du ll lm ln lo b">DeleteItem</code>和<code class="du ll lm ln lo b">UpdateItem</code> API操作)。</li></ul><p id="4f6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">洞察事件</strong></p><p id="8c6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">CloudTrail Insights通过持续监控和分析CloudTrail管理事件，帮助您检测AWS帐户中的异常活动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lp"><img src="../Images/6d406601f94e985e027adc8d45692b46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qYB8aIlT0z0YvdDIszcWcA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图片作者:夏羽·马雷克</figcaption></figure><p id="9b2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">异常活动可能是以下情况之一:</p><ul class=""><li id="aa17" class="kw kx hi ih b ii ij im in iq ky iu kz iy la jc lb lc ld le bi translated">资源供应不准确。</li><li id="4d94" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">达到服务极限。</li><li id="25b2" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lb lc ld le bi translated">AWS IAM动作的突发。</li></ul><p id="02cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您启用了CloudTrail Insights，并且CloudTrail检测到异常活动，则Insights事件将被发送到您的踪迹的目标S3存储桶、CloudTrail控制台或EventBridge事件。</p><h1 id="e1eb" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">CloudTrail事件保留</h1><p id="4685" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">事件在CloudTrail中存储90天。</p><p id="ddd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要使事件更持久，请将它们记录到S3或云观察。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lq"><img src="../Images/4cde621903d0684ba6953c3b21d6211b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-QI-0DHEWdi6yswrrpICw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图片作者:夏羽·马雷克</figcaption></figure><h1 id="7372" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结束</h1><p id="c0e8" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">结束一个关于AWS CloudTrail的快速说明。</p><p id="fa83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有关于安全的帖子:</p><ol class=""><li id="0b59" class="kw kx hi ih b ii ij im in iq ky iu kz iy la jc lr lc ld le bi translated"><a class="ae ls" rel="noopener" href="/codex/aws-certified-solutions-architect-professional-security-cloudtrail-850006168acb">安全——云迹</a>。</li><li id="0aec" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lr lc ld le bi translated"><a class="ae ls" rel="noopener" href="/codex/aws-certified-solutions-architect-professional-security-cloudtrail-solution-architect-9014311a3af5">安全— CloudTrail解决方案架构师</a>。</li><li id="ead6" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lr lc ld le bi translated"><a class="ae ls" rel="noopener" href="/@hmquan08011996/aws-certified-solutions-architect-professional-security-key-management-service-2da9f983a58a">安全—密钥管理服务</a>。</li><li id="1bc8" class="kw kx hi ih b ii lf im lg iq lh iu li iy lj jc lr lc ld le bi translated"><a class="ae ls" rel="noopener" href="/@hmquan08011996/aws-certified-solutions-architect-professional-security-ssm-parameter-store-11875fd32c6d">安全性— AWS系统管理器参数存储</a>。</li></ol></div></div>    
</body>
</html>