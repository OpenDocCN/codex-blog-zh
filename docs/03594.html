<html>
<head>
<title>How to set up and run Python Data Science Development Environment with Jupyter on Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Docker上用Jupyter设置和运行Python数据科学开发环境</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-set-up-and-run-python-data-science-development-environment-with-jupyter-on-docker-17e04e11d6c?source=collection_archive---------5-----------------------#2021-09-10">https://medium.com/codex/how-to-set-up-and-run-python-data-science-development-environment-with-jupyter-on-docker-17e04e11d6c?source=collection_archive---------5-----------------------#2021-09-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="7463" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">介绍</h1><p id="6f87" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hj">最后更新时间:2021年9月</strong></p><p id="6ea4" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">关于<a class="ae kg" href="https://developers.refinitiv.com/" rel="noopener ugc nofollow" target="_blank">路孚特开发者社区</a>的原文可从<a class="ae kg" href="https://developers.refinitiv.com/en/article-catalog/article/how-to-set-up-and-run-r-data-science-development-environment-wit" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><p id="44e8" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">数据科学家和金融编码人员需要与各种数据科学/金融开发工具进行交互，例如<a class="ae kg" href="https://www.anaconda.com/" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>(或<a class="ae kg" href="https://docs.conda.io/en/latest/miniconda.html" rel="noopener ugc nofollow" target="_blank"> Miniconda </a> ) Python分发平台、<a class="ae kg" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python编程语言</a>、<a class="ae kg" href="https://www.r-project.org/" rel="noopener ugc nofollow" target="_blank"> R编程语言</a>、<a class="ae kg" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib库</a>、<a class="ae kg" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Pandas库</a>、<a class="ae kg" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter </a>应用程序等等。</p><p id="6e4b" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">作为数据开发人员，最难的部分之一是设置这些工具。您需要按照正确的顺序安装大量软件和库，以设置您的数据科学开发环境。示例步骤如下:</p><ol class=""><li id="1aee" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka km kn ko kp bi translated">安装Python或Anaconda/Miniconda</li><li id="155c" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">创建新的虚拟环境(不建议将程序安装到您的基础环境中)</li><li id="856b" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">安装Jupyter</li><li id="6095" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">安装Matplotlib、Pandas、Plotly、Bokeh等数据科学库。</li><li id="f530" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">如果您正在使用R，安装R和它的库</li><li id="d6b8" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">如果你正在使用Julia，安装Julia和它的库</li><li id="b645" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">…诸如此类。</li></ol><p id="45b8" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">如果您需要与您的同行共享您的代码/项目，在您的collogues环境中复制上述步骤的任务也是非常复杂的。</p><p id="c80a" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">好消息是，有了码头工人集装箱化平台，你可以减少搭建工作台的工作量。你可能认为Docker只是为开发人员或核心开发人员准备的，但是<a class="ae kg" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> Jupyter Docker Stacks </a>简化了如何用几个命令创建一个带有数据科学/财务库的现成Jupyter应用程序。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kv"><img src="../Images/29197316ed5649d228876524814b5ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*25l6qRJXc309t1HsM1dSvw.png"/></div></div></figure><p id="8e5c" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">本文是该系列的第一部分，演示了如何使用Docker设置Jupyter笔记本环境，以便在不安装上述步骤的情况下使用和显示来自路孚特数据平台的财务数据。这篇文章介绍了使用Python编程语言的Jupyter。如果你用的是R，请看<a class="ae kg" href="https://wasin-waeosri.medium.com/how-to-set-up-and-run-r-data-science-development-environment-with-jupyter-on-docker-93ba6884ef82" rel="noopener">第二篇</a>。</p><h1 id="c61d" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">Jupyter Docker堆栈简介</h1><p id="fdd8" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><a class="ae kg" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> Jupyter Docker Stacks </a>是一组准备运行的Docker映像，包含Jupyter应用程序和交互式计算工具，并预装了内置的科学、数学和数据分析库。使用Jupyter Docker堆栈，设置环境部分被简化为以下步骤:</p><ol class=""><li id="29d5" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka km kn ko kp bi translated"><a class="ae kg" href="https://docs.docker.com/get-docker/" rel="noopener ugc nofollow" target="_blank">安装Docker </a>，注册<a class="ae kg" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank"> DockerHub </a>网站(免费)。</li><li id="81b0" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">运行命令，根据映像类型提取包含Jupyter和预安装软件包的映像。</li><li id="7e98" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">处理您的笔记本文件</li><li id="b839" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">如果您需要未随映像预安装的其他库，您可以使用docker文件创建您的映像来安装这些库。</li></ol><p id="392d" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">Docker还通过让您的同事轻松复制相同的环境来帮助团队共享开发环境。您可以与您的同事共享笔记本、docker文件、依赖列表文件，然后他们只需运行一两个命令就可以运行相同的环境。</p><p id="f317" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">Jupyter Docker堆栈根据开发人员的需求为他们提供各种图像，例如:</p><ul class=""><li id="8d3d" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka lh kn ko kp bi translated"><a class="ae kg" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-scipy-notebook" rel="noopener ugc nofollow" target="_blank">Jupyter/scipy-Notebook</a>:Jupyter Notebook/JupyterLab与<a class="ae kg" href="https://github.com/conda/conda" rel="noopener ugc nofollow" target="_blank"> conda </a> / <a class="ae kg" href="https://github.com/mamba-org/mamba" rel="noopener ugc nofollow" target="_blank"> mamba </a>、<a class="ae kg" href="https://ipywidgets.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> ipywidgets </a>以及来自科学Python生态系统的热门包(<a class="ae kg" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Pandas </a>、<a class="ae kg" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>、<a class="ae kg" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Seaborn </a>、<a class="ae kg" href="https://docs.python-requests.org/en/master/" rel="noopener ugc nofollow" target="_blank"> Requests </a>等。)</li><li id="cf31" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-r-notebook" rel="noopener ugc nofollow" target="_blank">Jupyter/R-Notebook</a>:Jupyter Notebook/JupyterLab wit R解释器，IRKernel和<a class="ae kg" href="https://cran.r-project.org/web/packages/devtools/index.html" rel="noopener ugc nofollow" target="_blank"> devtools </a>。</li><li id="5627" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-datascience-notebook" rel="noopener ugc nofollow" target="_blank">jupyter/data science-notebook</a>:jupyter/scipy-notebook<em class="li">中的所有内容</em>和<em class="li"> jupyter/r-notebook </em>图片均有Julia支持。</li><li id="c39d" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-tensorflow-notebook" rel="noopener ugc nofollow" target="_blank">jupyter/tensor flow-notebook</a>:<em class="li">jupyter/scipy-notebook</em>中的一切都带有<a class="ae kg" href="https://www.tensorflow.org/" rel="noopener ugc nofollow" target="_blank"> TensorFlow </a>的图像。</li></ul><p id="52a7" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">请在<a class="ae kg" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#selecting-an-image" rel="noopener ugc nofollow" target="_blank">选择图像</a>页面上查看所有图像类型的更多详细信息。</p><h1 id="d9c2" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">运行Jupyter Docker Scipy-笔记本映像</h1><p id="89f3" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">您可以运行以下命令来提取jupyter/scipy-notebook映像(标签<a class="ae kg" href="https://hub.docker.com/r/jupyter/scipy-notebook/tags?page=1&amp;ordering=last_updated&amp;name=70178b8e48d7" rel="noopener ugc nofollow" target="_blank"> <em class="li"> 70178b8e48d7 </em> </a>)并在您的机器上启动一个运行Jupyter Notebook服务器的容器。</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="48b8" class="lo ig hi lk b fi lp lq l lr ls">docker run -p 8888:8888 --name notebook -v &lt;your working directory&gt;:/home/jovyan/work -e JUPYTER_ENABLE_LAB=yes --env-file .env -it jupyter/scipy-notebook:70178b8e48d7</span></pre><p id="a331" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">上述命令设置以下容器的选项:</p><ul class=""><li id="cb01" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka lh kn ko kp bi translated"><code class="du lt lu lv lk b">-p 8888:8888</code>:暴露主机端口8888上的服务器</li><li id="3366" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><code class="du lt lu lv lk b">-v &lt;your working directory&gt;:/home/jovyan/work</code>:将主机上的工作目录挂载为容器中的/home/jovyan/work文件夹，保存主机和容器之间的文件。</li><li id="27a8" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><code class="du lt lu lv lk b">-e JUPYTER_ENABLE_LAB=yes</code>:运行JupyterLab，而不是默认的经典Jupyter笔记本。</li><li id="b4cc" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><code class="du lt lu lv lk b">--name notebook</code>:定义一个容器名为<em class="li">笔记本</em></li><li id="3a6f" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><code class="du lt lu lv lk b">-it</code>:运行容器时，启用伪TTY交互模式</li><li id="8e4c" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><code class="du lt lu lv lk b">--env-file .env</code>:将<code class="du lt lu lv lk b">.env</code>文件传递给容器。</li></ul><p id="8c25" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><em class="li">注</em>:</p><ul class=""><li id="5bbc" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka lh kn ko kp bi translated">当您移除容器时，Docker会销毁容器及其数据，因此您总是需要<code class="du lt lu lv lk b">-v</code>选项。</li><li id="8d5a" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated">容器的默认笔记本用户名总是<strong class="jf hj"> jovyan </strong>(但是你可以把它改成别的)。</li></ul><p id="8b22" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">笔记本服务器URL信息的运行结果如下。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lw"><img src="../Images/a06ae2d1982c6ab91fdde4224631e9ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xVbMpmuBQpEeCLc2ql1V6Q.png"/></div></div></figure><p id="58f5" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">您可以通过在浏览器中打开笔记本服务器URL来访问JupyterLab应用程序。从<em class="li"> /home/jovyan/ </em>地点开始。请注意，只有<em class="li">工作</em>文件夹中的笔记本和文件才能保存到主机(<code class="du lt lu lv lk b">&lt;your working directory&gt;</code>文件夹)。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lx"><img src="../Images/e135621a78364491f5e1802c41e28542.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sG2HQsGN2QPasEN3j1kA6Q.png"/></div></div></figure><p id="7160" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">jupyter/scipy-notebook映像为您内置了有用的Python库，如<a class="ae kg" href="https://docs.python-requests.org/en/master/" rel="noopener ugc nofollow" target="_blank"> requests </a>，Matplotlib，Pandas，<a class="ae kg" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank"> NumPy </a>等。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es ly"><img src="../Images/5f8becac9436f56ea5306bfa783aec89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*acOxSvg7HpCE7dbXQ1wROA.png"/></div></div></figure><p id="5d03" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">下次启动容器时，<code class="du lt lu lv lk b">&lt;your working directory&gt;</code>文件夹中的文件将在JupyterLab应用程序中可用，因此您可以像在普通的JupyterLab/Anaconda环境中一样使用您的文件。</p><p id="67b6" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">要停止集装箱，只需按下<em class="li"> Ctrl+c </em>键退出集装箱。</p><p id="0f48" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">或者，你可以运行<code class="du lt lu lv lk b">docker stop &lt;container name&gt;</code>停止集装箱，然后<code class="du lt lu lv lk b">docker rm &lt;container name&gt;</code>命令移走集装箱。</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="704a" class="lo ig hi lk b fi lp lq l lr ls">docker stop notebook<br/>...<br/>docker rm notebook</span></pre><h1 id="8b0b" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">从RDP API请求ESG数据</h1><p id="0c7c" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">jupyter/scipy-notebook映像适用于使用路孚特数据平台API(RDP API)内容构建笔记本或仪表板。您可以使用HTTP库从RDP API请求数据，执行数据分析，然后使用内置的Python库绘制图表。</p><h2 id="6d67" class="lo ig hi bd ih lz ma mb il mc md me ip jo mf mg it js mh mi ix jw mj mk jb ml bi translated">什么是路孚特数据平台(RDP)API？</h2><p id="c3d5" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-apis" rel="noopener ugc nofollow" target="_blank">路孚特数据平台(RDP)API</a>通过易于使用的基于网络的API为开发者提供各种路孚特数据和内容。</p><p id="5a83" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">RDP API使开发人员能够无缝、全面地访问所有路孚特内容，如历史定价、环境、社会和治理(ESG)、新闻、研究等，并与他们的内容混合，通过单一界面丰富、集成和分发数据，随时随地提供给他们需要的地方。RDP API交付机制如下:</p><ul class=""><li id="63d2" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka lh kn ko kp bi translated">请求—响应:RESTful web服务(HTTP GET、POST、PUT或DELETE)</li><li id="19ed" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated">警报:传递是一种接收订阅的异步更新(警报)的机制。</li><li id="79b8" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated">批量:交付大量有效负载，如整个场馆的日终定价数据。</li><li id="e9b2" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated">流式传输:实时传递消息。</li></ul><p id="2e7f" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">这个示例项目只关注请求-响应:RESTful web服务交付方法。</p><p id="6e4a" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">有关路孚特数据平台的更多详细信息，请参见以下API资源:</p><ul class=""><li id="997b" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-apis/quick-start" rel="noopener ugc nofollow" target="_blank">快速启动</a>页面。</li><li id="c0a1" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-apis/tutorials" rel="noopener ugc nofollow" target="_blank">教程</a>页面。</li><li id="5636" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-apis/tutorials#introduction-to-the-request-response-api" rel="noopener ugc nofollow" target="_blank">RDP API:请求-响应API简介</a>页面。</li><li id="e771" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-apis/tutorials#authorization-all-about-tokens" rel="noopener ugc nofollow" target="_blank">RDP API:授权——关于令牌的一切</a>页面。</li></ul><p id="a75b" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">这个场景的示例笔记本是位于<a class="ae kg" href="https://github.com/Refinitiv-API-Samples/Article.RDP.RDPLibrary.Python.R.JupyterDocker/tree/main/python/notebook" rel="noopener ugc nofollow" target="_blank">GitHub repository/python/notebook</a>文件夹中的<em class="li"> rdp_apis_notebook.ipynb </em>示例笔记本文件。要运行这个<em class="li">RDP _ APIs _ notebook . ipynb</em>示例笔记本，您只需创建一个<em class="li">。env </em>文件，然后运行jupyter/scipy-notebook映像，在<em class="li"> /python/ </em>文件夹中使用以下命令启动jupyter服务器。</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="320d" class="lo ig hi lk b fi lp lq l lr ls">docker run -p 8888:8888 --name notebook -v &lt;project /python/notebook/ directory&gt;:/home/jovyan/work -e JUPYTER_ENABLE_LAB=yes --env-file .env -it jupyter/scipy-notebook:70178b8e48d7</span></pre><p id="ee09" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">上面的命令启动了一个名为<em class="li"> notebook </em>的容器，并将<em class="li"> /python/notebook/ </em>文件夹挂载到容器的<em class="li"> /home/jovyan/work </em>目录下。在网络浏览器中打开笔记本服务器URL后，<em class="li">RDP _ APIs _ notebook . ipynb</em>示例笔记本将出现在Jupyter的<em class="li"> work </em>目录中。rdp_apis_notebook.ipynb示例笔记本使用映像中的内置库向rdp身份验证服务进行身份验证，并向RDP环境、社会和治理(ESG)服务请求ESG数据以绘制图表。您可以浏览笔记本的每个步骤。您对该文件所做的所有操作都将被保存，以便以后运行。</p><p id="f1c7" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">请在<a class="ae kg" href="#scipy_notebook_run" rel="noopener ugc nofollow">如何运行Jupyter Docker Scipy-Notebook</a>部分查看关于如何运行此示例笔记本的完整详细信息。</p><p id="7e4b" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><em class="li"> rdp_apis_notebook.ipynb </em>笔记本工作流程与我的<a class="ae kg" href="https://wasin-waeosri.medium.com/how-to-separate-your-credentials-secrets-and-configurations-from-your-source-code-with-70a9c8850edb" rel="noopener">如何使用环境变量从源代码中分离您的凭证、秘密和配置</a>文章中的示例笔记本相同。它向RDP API Auth服务发送HTTP请求消息，以获取RDP API访问令牌。一旦收到访问令牌，它就会向RDP API ESG服务请求ESG(环境、社会和治理)数据。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mm"><img src="../Images/ef637f4da8e2ff408770c77fe81d21f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R8xQykxeS5JXWJOV_zz0Sg.png"/></div></div></figure><p id="5aee" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">笔记本用预装的<a class="ae kg" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.html" rel="noopener ugc nofollow" target="_blank"> matplotlib.pyplot </a>库绘制ESG数据图表。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mn"><img src="../Images/c0a4302c90841385217800f308131d65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3D_wx7RVgCT9adSRT5FAww.png"/></div></div></figure><h1 id="b332" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">如何更改容器用户</h1><p id="f0c0" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">Jupyter Docker堆栈映像是一个为您运行Jupyter服务器的Linux容器。Jupyter服务器的默认笔记本用户(<em class="li"> nb_user </em>)始终是<strong class="jf hj"> jovyan </strong>，主目录始终是<strong class="jf hj"> home/jovyan </strong>。但是，您可以通过以下容器的选项，根据您的偏好将笔记本用户更改为其他人。</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="50bd" class="lo ig hi lk b fi lp lq l lr ls">docker run -e CHOWN_HOME=yes --user root -e NB_USER=&lt;User&gt; &lt;project /python/notebook/ directory&gt;:/&lt;User&gt;/jovyan/work</span></pre><p id="32d2" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">带有<em class="li">的示例是新的</em>用户。</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="c1af" class="lo ig hi lk b fi lp lq l lr ls">docker run -p 8888:8888 --name notebook -e CHOWN_HOME=yes --user root -e NB_USER=wasinw -v C:\drive_d\Project\Code\notebook_docker\python\notebook:/home/wasinw/work -e JUPYTER_ENABLE_LAB=yes --env-file .env -it jupyter/scipy-notebook:70178b8e48d7</span></pre><p id="4a36" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">现在笔记本用户是<em class="li"> wasinw </em>工作目录是<em class="li"> /home/wasinw/work </em>文件夹。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es mo"><img src="../Images/a094b107a9800125e50d2f6f38a6284d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*ua4ifPwMdh3EJqDxY2QAOg.png"/></div></figure><p id="72ff" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">请注意，这个示例项目使用<em class="li"> jovyan </em>作为默认的笔记本用户。</p><h1 id="1da4" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">如何使用其他Python库</h1><p id="ab95" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果你使用的是没有jupyter/scipy-notebook Docker镜像的库，比如<a class="ae kg" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Plotly Python库</a>，你可以用pip和conda/mamba工具通过笔记本外壳直接安装它们。</p><p id="589c" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">pip示例:</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="c9cb" class="lo ig hi lk b fi lp lq l lr ls">import sys</span><span id="9c86" class="lo ig hi lk b fi mp lq l lr ls">!$sys.executable -m pip install plotly</span></pre><p id="f188" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">conda示例:</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="4181" class="lo ig hi lk b fi lp lq l lr ls">import sys</span><span id="f21b" class="lo ig hi lk b fi mp lq l lr ls">!conda install --yes --prefix {sys.prefix} plotly</span></pre><p id="4a92" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">然而，这个解决方案将软件包安装到当前运行的Jupyter内核中，每次停止Docker容器时，这个内核总是被销毁。更好的解决方案是从包含所需库的Jupyter Docker栈创建一个新的Docker映像，然后从该映像生成的所有容器都可以使用这些库，而无需任何手动安装。</p><p id="72f0" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">Jupyter Docker栈允许开发者创建他们的Docker文件，其中包含通过mamba、pip和conda包管理工具安装Python依赖项的指令。请在子Docker映像页面中查看关于<a class="ae kg" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/recipes.html#using-mamba-install-or-pip-install-in-a-child-docker-image" rel="noopener ugc nofollow" target="_blank">使用mamba安装或pip安装的更多详细信息。</a></p><h1 id="29c6" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">通过路孚特数据平台库和Plotly获取路孚特数据的示例</h1><p id="8db1" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">让我们用Python的<a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-libraries" rel="noopener ugc nofollow" target="_blank">路孚特数据平台库</a>(Python的RDP库)和Plotly库来演示一下。</p><h1 id="dd8d" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">路孚特数据平台(RDP)图书馆介绍</h1><p id="5d14" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">路孚特提供了范围广泛的内容和数据，需要多种技术、交付机制、数据格式和多种API来访问每个内容。<a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-libraries" rel="noopener ugc nofollow" target="_blank"> RDP图书馆</a>是一套易于使用的界面，提供对<a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-apis" rel="noopener ugc nofollow" target="_blank">路孚特数据平台(RDP) </a>内提供的流和非流数据服务的统一访问。这些库简化了如何通过单个库以各种交付模式访问数据，如请求-响应、流、批量文件和队列。</p><p id="4b13" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">有关RDP图书馆的更多详细信息，请参考以下文章和教程:</p><ul class=""><li id="a769" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/article/discover-our-upcoming-refinitiv-data-platform-library-part-1" rel="noopener ugc nofollow" target="_blank">开发者文章:探索我们的路孚特数据平台库第1部分</a>。</li><li id="6787" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/article-catalog/article/discover-our-refinitiv-data-platform-library-part-2" rel="noopener ugc nofollow" target="_blank">开发者文章:探索我们的路孚特数据平台库第2部分</a>。</li><li id="992d" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-libraries/documentation" rel="noopener ugc nofollow" target="_blank">路孚特数据平台库文档:介绍页</a>。</li></ul><h2 id="0ec0" class="lo ig hi bd ih lz ma mb il mc md me ip jo mf mg it js mh mi ix jw mj mk jb ml bi translated">放弃</h2><p id="9419" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">由于该示例项目已经在Python库的alpha版本<strong class="jf hj"> 1.0.0.a10 </strong>上进行了测试，因此方法签名、数据格式等可能会发生变化。</p><p id="cbbe" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">首先在<em class="li"> /python/ </em>文件夹下创建一个<code class="du lt lu lv lk b">requirements.txt</code>文件，内容如下:</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="a8c4" class="lo ig hi lk b fi lp lq l lr ls">plotly==5.2.2<br/>refinitiv-dataplatform==1.0.0a10</span></pre><p id="3d68" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">接下来，在<em class="li"> /python/ </em>文件夹中创建一个<code class="du lt lu lv lk b">Dockerfile</code>文件，内容如下:</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="f16b" class="lo ig hi lk b fi lp lq l lr ls"># Start from a core stack version</span><span id="9f06" class="lo ig hi lk b fi mp lq l lr ls">FROM jupyter/scipy-notebook:70178b8e48d7<br/>LABEL maintainer="Your name and email address"</span><span id="d4ad" class="lo ig hi lk b fi mp lq l lr ls"># Install from requirements.txt file<br/>COPY --chown=${NB_UID}:${NB_GID} requirements.txt /tmp/<br/>RUN pip install --quiet --no-cache-dir --requirement /tmp/requirements.txt &amp;&amp; \<br/>    fix-permissions "${CONDA_DIR}" &amp;&amp; \<br/>    fix-permissions "/home/${NB_USER}"</span><span id="c8b2" class="lo ig hi lk b fi mp lq l lr ls">ENV JUPYTER_ENABLE_LAB=yes</span></pre><p id="b7f5" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">请注意，Dockerfile设置了<code class="du lt lu lv lk b">ENV JUPYTER_ENABLE_LAB=yes</code>环境变量，因此所有从该图像生成的容器都将默认运行JupyterLab应用程序。</p><p id="9c6e" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">然后用下面的命令构建一个Docker镜像名<em class="li"> jupyter_rdp_plotly </em>:</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="9476" class="lo ig hi lk b fi lp lq l lr ls">docker build . -t jupyter_rdp_plotly</span></pre><p id="502a" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">一旦Docker映像构建成功，您可以使用下面的命令启动一个运行Jupyter Notebook服务器的容器，该服务器包含您机器上的<em class="li"> requirements.txt </em>文件和<em class="li"> jupyter/scipy-notebook </em>中定义的所有Python库。</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="9ab6" class="lo ig hi lk b fi lp lq l lr ls">docker run -p 8888:8888 --name notebook -v &lt;project /python/notebook/ directory&gt;:/home/jovyan/work --env-file .env -it jupyter_rdp_plotly</span></pre><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mq"><img src="../Images/138169b0637f47a4581fb7bf106321cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sSDPbiH3Zhs3xxH-Bd_RGQ.png"/></div></div></figure><p id="a3b3" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">请注意，所有凭证都已通过Docker run <code class="du lt lu lv lk b">-env-file .env</code>选项传递给Jupyter服务器的环境变量，因此笔记本可以通过<code class="du lt lu lv lk b">os.getenv()</code>方法访问这些配置。开发人员不需要在笔记本源代码中保留凭证信息。</p><p id="d396" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">然后，您可以开始创建笔记本应用程序，使用RDP库API从路孚特获取内容，然后使用Plotly库绘制数据。请在<a class="ae kg" href="https://github.com/Refinitiv-API-Samples/Article.RDP.RDPLibrary.Python.R.JupyterDocker/tree/main/python/notebook" rel="noopener ugc nofollow" target="_blank">GitHub repository/python/notebook</a>文件夹中的<em class="li">RDP _ library _ plotly _ notebook . ipynb</em>示例笔记本文件中查看更多详细信息。请参见<a class="ae kg" href="#scipy_notebook_build" rel="noopener ugc nofollow">如何使用Python和Plotly的RDP库构建和运行Jupyter Docker Scipy-Notebook customize的映像</a>部分中关于如何运行此示例笔记本的完整详细信息。</p><p id="ffbd" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">rdp _ library _ plot ly _ notebook . ipynb工作流从初始化RDP会话开始。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mr"><img src="../Images/0c4d39fd27c0fa191058794cd6ced798.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VK-Ggz6oT_wjatvkANAROQ.png"/></div></div></figure><p id="f82b" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">然后笔记本使用RDP库功能层从RDP平台请求历史数据，并用<a class="ae kg" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank">plot express</a>对象将该历史数据绘制成多线图。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es ms"><img src="../Images/9597c494b1c4ed1eebb8b7d0726337c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VB8p8A3J1x8iNu7eAP3GoQ.png"/></div></div></figure><p id="9873" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><strong class="jf hj">注意</strong>:你<em class="li">要添加</em> <code class="du lt lu lv lk b">.env</code>(和<code class="du lt lu lv lk b">.env.example</code>)，Jupyter检查点，缓存，配置等。文件添加到<code class="du lt lu lv lk b">.dockerignore</code>文件中，以避免将它们添加到公共Docker Hub存储库中。</p><h1 id="6b1f" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">如果我使用Eikon数据API会怎样</h1><p id="a957" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果你正在使用Eikon数据API (又名DAPI)，Jupyter Docker堆栈不适合你。路孚特工作空间/Eikon应用程序集成了一个数据API代理，作为Eikon数据API Python库和Eikon数据平台之间的接口。因此，路孚特工作空间/Eikon应用程序必须在运行Eikon数据API的同一台计算机上运行，而路孚特工作空间/Eikon应用程序不支持Docker。</p><p id="930d" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">但是，您可以从应用程序访问<a class="ae kg" href="https://www.refinitiv.com/en/products/codebook" rel="noopener ugc nofollow" target="_blank"> <em class="li">代码本</em> </a>，这是一个云托管的Jupyter笔记本开发环境，用于Python脚本编写。该代码本在路孚特工作空间和Eikon中作为应用程序提供(<strong class="jf hj">无需安装！！</strong>)，提供对已经预装在云上的路孚特API和其他流行Python库的访问。预安装库的列表可在码本的<em class="li">库&amp;</em><a class="ae kg" href="http://Extensions.md" rel="noopener ugc nofollow" target="_blank"><em class="li">extensions . MD</em></a>文件中找到。</p><p id="5573" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">请参阅本文<a class="ae kg" href="https://developers.refinitiv.com/en/article-catalog/article/use-eikon-data-api-or-rdp-library-python-codebook-web-browser" rel="noopener ugc nofollow" target="_blank">中关于CodeBook应用程序的更多详细信息，在Web浏览器上的CodeBook中使用Eikon数据API或Python中的RDP库</a>。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mt"><img src="../Images/8e0d9cdc3c7bae0b8ded95ffb3918ade.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nfjNsnYFOzyIDb35d2eOyw.png"/></div></div></figure><h1 id="70ac" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">演示先决条件</h1><p id="c969" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">此示例需要下列依赖项软件和库。</p><ol class=""><li id="3a07" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka km kn ko kp bi translated">RDP访问凭据。</li><li id="9584" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated"><a class="ae kg" href="https://docs.docker.com/get-docker/" rel="noopener ugc nofollow" target="_blank"> Docker桌面/引擎</a>版本20.10.x</li><li id="618e" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated"><a class="ae kg" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank"> DockerHub </a>账号(免费订阅)。</li><li id="1918" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka km kn ko kp bi translated">互联网连接。</li></ol><p id="925a" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">请联系您的路孚特代表，以帮助您访问RDP帐户和服务。您可以在<a class="ae kg" href="https://developers.refinitiv.com/en/article-catalog/article/getting-start-with-refinitiv-data-platform" rel="noopener ugc nofollow" target="_blank">路孚特数据平台入门文章</a>的<em class="li">用户ID </em>部分找到有关设置RDP访问凭据的更多详细信息:</p><h1 id="d67f" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">如何运行示例</h1><p id="7541" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">第一步是将示例项目文件夹解压缩或下载到您选择的目录中，然后根据您的偏好设置Python或R Docker环境。</p><p id="6add" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><strong class="jf hj">警告</strong>:你<em class="li">不应该</em>将<code class="du lt lu lv lk b">.env</code>文件共享给你的同事或者将它提交/推送到版本控制。您应该将该文件添加到<code class="du lt lu lv lk b">.gitignore</code>文件中，以避免意外地将其添加到版本控制或公共存储库中。</p><h1 id="fca7" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">如何运行Jupyter Docker Scipy-Notebook</h1><p id="e43d" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">首先，在命令提示符下打开项目文件夹，转到<em class="li"> python </em>子文件夹。然后在该文件夹中创建一个名为<code class="du lt lu lv lk b">.env</code>的文件，内容如下:</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="043b" class="lo ig hi lk b fi lp lq l lr ls"># RDP Core Credentials<br/>RDP_USER=&lt;Your RDP User&gt;<br/>RDP_PASSWORD=&lt;Your RDP Password&gt;<br/>RDP_APP_KEY=&lt;Your RDP App Key&gt;</span><span id="bfc2" class="lo ig hi lk b fi mp lq l lr ls"># RDP Core Endpoints<br/>RDP_BASE_URL=https://api.refinitiv.com<br/>RDP_AUTH_URL=/auth/oauth2/v1/token<br/>RDP_ESG_URL=/data/environmental-social-governance/v2/views/scores-full</span></pre><p id="1304" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">在命令提示符下运行下面的<a class="ae kg" href="https://docs.docker.com/engine/reference/run/" rel="noopener ugc nofollow" target="_blank"> Docker run </a>命令来提取Jupyter Docker Scipy-Notebook映像并运行其容器。</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="d866" class="lo ig hi lk b fi lp lq l lr ls">docker run -p 8888:8888 --name notebook -v &lt;project /python/notebook/ directory&gt;:/home/jovyan/work -e JUPYTER_ENABLE_LAB=yes --env-file .env -it jupyter/scipy-notebook:70178b8e48d7</span></pre><p id="eea9" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">Jupyter Docker Scipy-Notebook将运行Jupyter服务器并在控制台中打印服务器URL，单击该URL在web浏览器中打开JupyterLab应用程序。</p><p id="ccfc" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">最后，打开工作文件夹，打开<em class="li"> rdp_apis_notebook.ipynb </em>示例笔记本文件，然后遍历每个笔记本单元格。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mu"><img src="../Images/f8d53fbe80376400772af0fa4833a5c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P-uJOg0eLF2DvfoR-Kvcew.png"/></div></div></figure><h1 id="c8f0" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">如何使用Python和Plotly的RDP库构建和运行Jupyter Docker Scipy-Notebook定制映像</h1><p id="a048" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">首先，在命令提示符下打开项目文件夹，转到<em class="li"> python </em>子文件夹。然后在该文件夹中创建一个文件名为<code class="du lt lu lv lk b">.env</code>的文件，内容如下。如果您已经在上面的Scipy-Notebook运行一节中跳过了这一步，那么您可以跳过这一步。</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="c73c" class="lo ig hi lk b fi lp lq l lr ls"># RDP Core Credentials</span><span id="9220" class="lo ig hi lk b fi mp lq l lr ls">RDP_USER=&lt;Your RDP User&gt;<br/>RDP_PASSWORD=&lt;Your RDP Password&gt;<br/>RDP_APP_KEY=&lt;Your RDP App Key&gt;</span></pre><p id="15a9" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">运行下面的<a class="ae kg" href="https://docs.docker.com/engine/reference/commandline/build/" rel="noopener ugc nofollow" target="_blank"> Docker build </a>命令来构建Docker镜像名称<em class="li"> jupyter_rdp_plotly </em>:</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="4d45" class="lo ig hi lk b fi lp lq l lr ls">docker build . -t jupyter_rdp_plotly</span></pre><p id="c534" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">一旦Docker构建映像成功，运行以下命令来启动容器</p><pre class="kw kx ky kz fd lj lk ll lm aw ln bi"><span id="cc84" class="lo ig hi lk b fi lp lq l lr ls">docker run -p 8888:8888 --name notebook -v &lt;project /python/notebook/ directory&gt;:/home/jovyan/work --env-file .env -it jupyter_rdp_plotly</span></pre><p id="64aa" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">jupyter_rdp_plotly容器将运行jupyter服务器并在控制台中打印服务器URL，单击该URL在web浏览器中打开JupyterLab应用程序。</p><p id="1602" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">打开工作文件夹，打开<em class="li">RDP _ library _ plot ly _ notebook . ipynb</em>示例笔记本文件，然后遍历每个笔记本单元格。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es mv"><img src="../Images/342a59ca2b5e15068ff3aef3049c6930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qhig8jGC6aariFVqovHbKQ.png"/></div></div></figure><h1 id="1aca" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">结论</h1><p id="8e65" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">Docker是一个开放的容器化平台，用于开发、测试、部署和运行任何软件应用程序。Jupyter Docker堆栈为数据科学家、财务编码人员及其团队提供了一个随时可用的一致开发环境。开发人员不需要设置他们的环境/工作台(Anaconda、虚拟环境、Jupyter安装等。)手动操作，这对于他们来说是最复杂的任务。开发人员只需运行一个命令就可以从Jupyter Docker栈启动Jupyter笔记本服务器，并继续他们的工作。</p><p id="3c44" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">Jupyter Docker栈已经包含了一些针对各种需求(Python、R、机器学习等等)的数据科学/金融开发的库。如果开发人员需要额外的库，Jupyter Docker Stacks允许开发人员创建他们的Docker文件，并提供安装这些依赖项的指令。从定制映像生成的所有容器都可以使用这些库，而无需任何手动安装。</p><h1 id="9973" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">参考</h1><p id="8415" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">您可以从以下资源中找到有关路孚特数据平台库、Plotly、Jupyter Docker堆栈以及该笔记本相关技术的更多详细信息:</p><ul class=""><li id="2cd6" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-libraries" rel="noopener ugc nofollow" target="_blank">路孚特数据平台(RDP)图书馆</a>在<a class="ae kg" href="https://developers.refinitiv.com/" rel="noopener ugc nofollow" target="_blank">路孚特开发者社区</a>网站上。</li><li id="e6ec" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-libraries/quick-start" rel="noopener ugc nofollow" target="_blank"> RDP图书馆快速入门指南页面</a>。</li><li id="3036" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/api-catalog/refinitiv-data-platform/refinitiv-data-platform-libraries/tutorials" rel="noopener ugc nofollow" target="_blank"> RDP图书馆教程页面</a>。</li><li id="5340" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/article-catalog/article/discover-our-refinitiv-data-platform-library-part-1" rel="noopener ugc nofollow" target="_blank">探索我们的路孚特数据平台库(第一部分)</a>。</li><li id="0557" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://developers.refinitiv.com/en/article-catalog/article/discover-our-refinitiv-data-platform-library-part-2" rel="noopener ugc nofollow" target="_blank">探索我们的路孚特数据平台库(第二部分)</a>。</li><li id="1312" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank">剧情官方页面</a>。</li><li id="a150" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Plotly Python页面</a>。</li><li id="4822" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank">剧情直通车页面</a></li><li id="ff8b" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://plotly.com/python/graph-objects/" rel="noopener ugc nofollow" target="_blank"> Plotly图形对象页面</a></li><li id="58ff" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://jupyter-docker-stacks.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> Jupyter Docker Stacks页面</a></li><li id="1ef7" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated">DockerHub 网站上的Jupyter Docker栈。</li><li id="9db6" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://wasin-waeosri.medium.com/how-to-set-up-and-run-r-data-science-development-environment-with-jupyter-on-docker-93ba6884ef82" rel="noopener">如何在Docker上用Jupyter建立并运行R数据科学开发环境</a></li></ul><p id="90ff" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">有关路孚特数据平台或路孚特数据平台库的任何问题，请使用<a class="ae kg" href="https://community.developers.refinitiv.com/" rel="noopener ugc nofollow" target="_blank">开发者社区Q &amp; A页面</a>上的以下论坛。</p><ul class=""><li id="d9a7" class="kh ki hi jf b jg kb jk kc jo kj js kk jw kl ka lh kn ko kp bi translated">RDP原料药论坛。</li><li id="97cf" class="kh ki hi jf b jg kq jk kr jo ks js kt jw ku ka lh kn ko kp bi translated"><a class="ae kg" href="https://community.developers.refinitiv.com/spaces/321/refinitiv-data-platform-libraries.html" rel="noopener ugc nofollow" target="_blank">路孚特数据平台图书馆论坛</a>。</li></ul><h1 id="c2b5" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">开源代码库</h1><p id="71de" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><a class="ae kg" href="https://github.com/Refinitiv-API-Samples/Article.RDP.RDPLibrary.Python.R.JupyterDocker" rel="noopener ugc nofollow" target="_blank">https://github.com/Refinitiv-API-Samples/Article。RDP.RDPLibrary.Python.R.JupyterDocker(T1)</a></p></div></div>    
</body>
</html>