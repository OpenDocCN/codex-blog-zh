<html>
<head>
<title>How to Send SMS Messages With Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Java发送短信</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-send-sms-messages-with-java-6b588b22fbdf?source=collection_archive---------23-----------------------#2021-07-09">https://medium.com/codex/how-to-send-sms-messages-with-java-6b588b22fbdf?source=collection_archive---------23-----------------------#2021-07-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/775a9cd59e3c1bebeba29f30ae99b5e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iE2_JyXa48FdhDLxJQhF7w.png"/></div></div></figure><p id="882c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">我们使用JDK 16、Gradle 7.1和Vonage Server SDK for Java v . 6 . 4 . 0</em>构建了这个例子</p><p id="e23e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jp" href="https://developer.vonage.com/messaging/sms/overview" rel="noopener ugc nofollow" target="_blank"> Vonage SMS API </a>是一项允许你在世界任何地方发送和接收短信的服务。Vonage提供了REST APIs，但是使用我们为您编写的Java SDK要容易得多。</p><p id="c284" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本教程中，我们将介绍如何用Java发送短信！查看GitHub 上的<a class="ae jp" href="https://github.com/nexmo-community/send-sms-java/blob/main/src/main/java/getstarted/SendSMS.java" rel="noopener ugc nofollow" target="_blank">源代码。</a></p><h1 id="5be0" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">先决条件</h1><p id="7b0c" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">希望您已经对Java编程有了基本的了解——我们不打算进行任何高度复杂的编程，但它将帮助您入门和运行。除了对Java有基本的了解之外，您还需要在开发机器上安装以下软件:</p><ul class=""><li id="08d6" class="kt ku hi is b it iu ix iy jb kv jf kw jj kx jn ky kz la lb bi translated"><a class="ae jp" href="https://www.oracle.com/java/technologies/javase-downloads.html" rel="noopener ugc nofollow" target="_blank"> Java开发套件(JDK) </a></li><li id="6521" class="kt ku hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated"><a class="ae jp" href="https://gradle.org/" rel="noopener ugc nofollow" target="_blank"> Gradle </a>用于构建您的项目</li></ul><h1 id="5c3d" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">Vonage API帐户</h1><p id="45d7" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">要完成本教程，您将需要一个<a class="ae jp" href="http://developer.nexmo.com/ed?c=blog_text&amp;ct=2017-05-03-send-sms-messages-with-java-dr" rel="noopener ugc nofollow" target="_blank"> Vonage API帐户</a>。如果你还没有，你可以今天就<a class="ae jp" href="http://developer.nexmo.com/ed?c=blog_text&amp;ct=2017-05-03-send-sms-messages-with-java-dr" rel="noopener ugc nofollow" target="_blank">注册</a>开始用免费的信用点数来建造。一旦你有了一个帐户，你可以在<a class="ae jp" href="http://developer.nexmo.com/ed?c=blog_text&amp;ct=2017-05-03-send-sms-messages-with-java-dr" rel="noopener ugc nofollow" target="_blank"> Vonage API仪表板</a>的顶部找到你的API密匙和API秘密。</p><p id="08a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本教程还使用了一个虚拟电话号码。要购买号码，请前往<em class="jo">号码</em> &gt; <em class="jo">购买号码</em>并搜索符合您需求的号码。</p><figure class="lh li lj lk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/941d1ebad7252085aa9c1e88f9dc18f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9RUNrmWVrhuK9uZKQ1igZA.png"/></div></div></figure><h1 id="d5bc" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">使用Vonage Java SDK</h1><p id="d0d2" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">首先，您需要设置您的Gradle项目并下载Vonage Java SDK。</p><p id="81f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建一个目录来包含您的项目。在这个目录中，运行<code class="du ll lm ln lo b">gradle init</code>。如果您以前没有使用过Gradle，不要担心——我们不会做任何太复杂的事情！选择<em class="jo"> 1: basic </em>作为要生成的项目类型，选择<em class="jo"> 1: Groovy </em>作为构建脚本DSL，并将您的项目命名为——或者按Enter键作为默认选项。</p><p id="8ae8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，打开<code class="du ll lm ln lo b">build.gradle</code>文件，将内容更改如下:</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="fbc0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个命令将下载Vonage Java SDK并存储起来以备后用。如果你有源代码，它也会编译，但是你还没有写。让我们解决这个问题！</p><p id="98cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为我们在Gradle构建文件中设置了<code class="du ll lm ln lo b">mainClass</code>，所以您需要在包<code class="du ll lm ln lo b">getstarted</code>中创建一个名为<code class="du ll lm ln lo b">SendSMS</code>的类。在生产代码中，您可能希望包类似于<code class="du ll lm ln lo b">com.mycoolcompany.smstool</code>，但是这不是生产代码，所以<code class="du ll lm ln lo b">getstarted</code>也可以。</p><p id="46ef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Gradle使用与Maven相同的目录结构，因此您需要在您的项目目录中创建以下目录结构:<code class="du ll lm ln lo b">src/main/java/getstarted</code>。</p><p id="de62" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在macOS和Linux上，您可以通过运行以下命令来创建该路径:</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="68aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有这些只是导入Vonage SDK的必要部分，并创建一个方法来包含我们的代码。现在值得运行<code class="du ll lm ln lo b">gradle run</code>，它应该运行你的main方法。它还不会做任何事情，但这是我们开始激动人心的部分。</p><h1 id="1746" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">用Java发送短信</h1><p id="f776" class="pw-post-body-paragraph iq ir hi is b it ko iv iw ix kp iz ja jb kq jd je jf kr jh ji jj ks jl jm jn hb bi translated">在您的<code class="du ll lm ln lo b">main</code>方法中加入以下内容:</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="f84d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同样，您需要用包含您购买的虚拟号码和您自己的手机号码的字符串来替换<code class="du ll lm ln lo b">VONAGE_BRAND_NAME</code>和<code class="du ll lm ln lo b">TO_NUMBER</code>。确保以<a class="ae jp" href="https://developer.vonage.com/voice/voice-api/guides/numbers" rel="noopener ugc nofollow" target="_blank"> E.164格式</a>提供<code class="du ll lm ln lo b">TO_NUMBER</code>，例如447401234567。<br/>完成后，保存并再次运行<code class="du ll lm ln lo b">gradle run</code>。您应该会在屏幕上看到类似这样的内容:</p><p id="a714" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du ll lm ln lo b">Message sent successfully.[com.vonage.client.sms.SmsSubmissionResponseMessage@f0f0675[to=447401234567,id=13000001CA6CCC59,status=OK,remainingBalance=27.16903818,messagePrice=0.03330000,network=23420,errorText=&lt;null&gt;,clientRef=&lt;null&gt;]]</code></p><p id="d0c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">…您应该会收到一条短信！如果不起作用，请检查上面一行中的<code class="du ll lm ln lo b">ERR:</code>之后是否打印了某些内容，也许再等几秒钟消息就会出现。</p><blockquote class="lr ls lt"><p id="8602" class="iq ir jo is b it iu iv iw ix iy iz ja lu jc jd je lv jg jh ji lw jk jl jm jn hb bi translated">注意:在某些国家(美国)，<code class="du ll lm ln lo b">VONAGE_BRAND_NAME</code>必须是您的Vonage虚拟号码之一。在其他国家(英国)，您可以自由选择一个字母数字字符串值——例如，您的品牌名称AcmeInc。在<a class="ae jp" href="https://developer.vonage.com/messaging/sms/guides/country-specific-features" rel="noopener ugc nofollow" target="_blank">开发门户</a>上阅读特定国家的短信功能。</p></blockquote><p id="9074" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您刚刚学习了如何使用Vonage发送短信！</p><h1 id="9405" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">参考</h1><ul class=""><li id="7c02" class="kt ku hi is b it ko ix kp jb lx jf ly jj lz jn ky kz la lb bi translated"><a class="ae jp" href="https://developer.vonage.com/api/sms?theme=dark" rel="noopener ugc nofollow" target="_blank"> Vonage SMS API引用</a></li><li id="8bc8" class="kt ku hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated"><a class="ae jp" href="https://github.com/Vonage/vonage-java-sdk" rel="noopener ugc nofollow" target="_blank"> Vonage Java SDK </a></li><li id="9a7e" class="kt ku hi is b it lc ix ld jb le jf lf jj lg jn ky kz la lb bi translated"><a class="ae jp" href="https://developer.vonage.com/messaging/sms/guides/country-specific-features" rel="noopener ugc nofollow" target="_blank">特定国家短信功能</a></li></ul></div><div class="ab cl ma mb gp mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hb hc hd he hf"><p id="12f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">最初发布于</em><a class="ae jp" href="https://learn.vonage.com/blog/2017/05/03/send-sms-messages-with-java-dr/?utm_source=twitter&amp;utm_medium=organic&amp;utm_campaign=social_media" rel="noopener ugc nofollow" target="_blank"><em class="jo">https://learn . vonage . com/blog/2017/05/03/send-SMS-messages-with-Java-dr</em></a></p></div></div>    
</body>
</html>