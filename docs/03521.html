<html>
<head>
<title>JIT Compiler in .NET</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">中的JIT编译器。网</h1>
<blockquote>原文：<a href="https://medium.com/codex/jit-compiler-in-net-ea4e6acc173a?source=collection_archive---------7-----------------------#2021-09-07">https://medium.com/codex/jit-compiler-in-net-ea4e6acc173a?source=collection_archive---------7-----------------------#2021-09-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/cd52b50d0f36828b4203b7bea46665fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vbmc9OdJ_ajqTDUrMUsFGg.png"/></div></div></figure><p id="493b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">大多数程序员使用人类可以理解的高级编程语言来创建他们的软件/应用程序。利用这一点，开发人员构建应用程序必须执行的基本逻辑，或者使用它需要实现的结果。</p><p id="fb0c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于它们是人类可以理解的格式，除了对如何编程的基本理解之外，开发人员不需要经过任何特殊的训练来编写逻辑。</p><p id="e8bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通常，程序员创建源代码，并将其发送给机器执行。现在，既然代码是用高级编程语言写的，你就得让机器理解它。为此，它必须被翻译成不同的语言。</p><p id="8443" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就是编译器发挥作用的地方。</p><p id="b422" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇文章中，我们将研究。NET框架称为JIT。</p><p id="fec7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">目录</strong></p><ol class=""><li id="4349" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">什么是JIT？</li><li id="ad72" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">JIT的类型</li><li id="acbd" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">JIT编译器的好处</li><li id="a0d7" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">结论</li></ol><h1 id="f7af" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">什么是JIT？</h1><p id="963b" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">首先，让我们了解什么是编译器。</p><p id="a536" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">编译器是将源代码翻译成机器可理解语言的工具。英寸CLR提供了一个编译器，可以将源代码转换成微软中间语言(MSIL)。</p><p id="6206" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，MSIL码不能被机器执行。它还需要在运行时被翻译成机器可理解的本机代码。这是由。Net将它转换成特定于CPU的代码。</p><p id="856c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将源代码翻译成MSIL，然后将MSIL翻译成本机代码的两步过程称为隐式编译。</p><p id="7318" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">JIT的一个关键方面是它的可移植性。为了使应用程序在不同的平台上工作，必须将源代码编译到多个目标平台上。JIT使两步过程变得更容易。第一步(将源代码转换成MSIL)是与平台无关的。第二步变得更容易，因为每个目标平台的机器中都有一个JIT，它将MSIL翻译成本机代码。</p><p id="9a47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">JIT编译器负责管理任何属于。NET框架。</p><p id="ea55" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">JIT编译器的输入是创建的。exe或。dll(基本上处于MSIL状态)。一旦用户执行exe文件，JIT编译器就开始执行它的功能..</p><p id="c251" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">JIT编译器有三种类型。让我们在下一节中详细了解一下。</p><h1 id="31be" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">JIT的类型</h1><h2 id="c2b8" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">正常JIT</h2><p id="ba76" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">有了这个编译器，在运行时调用所需的方法时就会被编译。同时，它们被存储在被称为“jitted”的内存缓存中。从缓存中为后续调用引用相同的方法。</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/05db93e59bdc4df7369ad59b81c85d43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MIptOi0r3K-45VTT"/></div></div></figure><h2 id="4530" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">经济JIT</h2><p id="0d3d" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">该编译器编译运行时调用的所需方法。与普通的JIT不同，编译后的代码不存储在内存缓存中。相反，它是在需要时编译的。Econo JITs的启动延迟更短，因为它们花在编译上的时间更少。这对于启动时间较长的应用程序非常有用。但是，这从。Net 2.0版本。</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/a801bd5b6bc3c2dd85a9ddc4c08dd97b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/0*MuyAvLym-E_vJK5v"/></div></figure><h2 id="9512" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">预JIT</h2><p id="8dda" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">在这个编译器中，整个源代码，而不是使用的方法，被直接转换为本地代码。这是使用本机图像生成器(Ngen.exe)完成的。这样，可以从缓存中使用本机代码，而不是调用JIT编译器。</p><figure class="lt lu lv lw fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/1f3634c779885f8ec11642ba322eab14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/0*FVFbn75S7Qf14DGU"/></div></figure><h1 id="9614" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">JIT编译器的好处</h1><p id="8695" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">编译器根据编译行为发生的时间而不同。像JIT一样，还有另一种流行的编译技术，叫做提前编译(AOT)。就JIT而言，只有在运行时，代码才会被编译。在AOT的例子中，代码甚至在运行之前就被编译了——它是作为部署过程本身的一部分来完成的。</p><p id="241e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">换句话说，显式编译甚至在程序执行之前就使用AOT编译器将源代码直接翻译成本机代码。AOT的设计方式使得任何CPU都可以理解翻译后的代码来执行。此外，它们在大规模应用程序中也很方便，这些应用程序的编译会消耗大量的时间和内存。</p><p id="3f05" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就速度而言，如果有足够的内存和计算能力，JIT编译器比AOT编译器更胜一筹。因为JIT在执行代码的同一台机器上编译代码，所以它拥有代码优化所需的信息。此外，JIT还提供了关于执行代码的机器的信息。因此可以优化代码，只编译所需的方法，而忽略其他未涉及的代码。</p><p id="4c19" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当JIT在执行代码的机器上编译代码时，它可以将代码编译和微调到一个粒度级别，以便与执行代码的特定系统相匹配。</p><p id="59a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以下是使用JIT编译器的一些其他优势</p><ol class=""><li id="bb6e" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">它消耗的内存较少，因为它只编译运行时需要的方法。</li><li id="da11" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">在运行代码时，根据分析帮助执行代码优化。</li></ol><p id="04b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">同时，使用JIT编译器也有一些缺点。他们是-</p><ol class=""><li id="f436" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">应用程序的初始启动时间很长</li><li id="0856" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">运行时大量使用内存缓存</li></ol><h1 id="0f43" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">最后的话</h1><p id="d8a4" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">JIT编译器通过独立于平台的解决方案解决了交付本机代码的问题。此外，它还能够收集执行数据并根据需要优化代码。下一步尝试使用JIT编译器。NET应用程序，并体验它在这篇文章中强调的一长串好处。</p></div><div class="ab cl lz ma gp mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="hb hc hd he hf"><p id="35ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="mg">原载于</em><a class="ae mh" href="https://www.partech.nl/nl/publicaties/2021/08/jit-compiler-in-dot-net" rel="noopener ugc nofollow" target="_blank"><em class="mg">https://www . partech . nl</em></a><em class="mg">。</em></p></div></div>    
</body>
</html>