<html>
<head>
<title>Ruby Classes, Objects &amp; Methods</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ruby类、对象和方法</h1>
<blockquote>原文：<a href="https://medium.com/codex/ruby-classes-objects-methods-4568b9f443d7?source=collection_archive---------6-----------------------#2021-06-18">https://medium.com/codex/ruby-classes-objects-methods-4568b9f443d7?source=collection_archive---------6-----------------------#2021-06-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f5e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Ruby中，类、对象和方法是极其重要的概念，即使你可能已经(也可能没有)在使用它们，为了真正理解你的代码是如何工作的<em class="jd">在幕后</em>掌握Ruby语言的这些基础组件是至关重要的。在这篇文章中，我将介绍这些是什么，以及如何创建和使用它们。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="jj jk l"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">让我们开始吧</figcaption></figure><h1 id="f8f5" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">Ruby类</h1><p id="57b9" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">Ruby是一种面向对象的语言，这意味着它依赖于类和对象的概念来将程序构建成简单且可重用的代码片段，这些代码片段充当创建对象的单个<em class="jd">实例</em>的蓝图。Ruby类是蓝图。在创建自定义类时，您正在创建一个新的数据类型。</p><p id="6a43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为一名程序员，你构建这些类来代表现实世界的实体(例如代表<em class="jd">所有</em>书籍的Book类)，该类被用作创建该类的<em class="jd">实例</em>的规则集(或蓝图)(例如单行本)。该类定义了该类的实例将具有哪些属性(例如一本书将有标题、作者、描述和评级属性)，但它不决定这些属性的<em class="jd">值</em>将是什么，类决定一个对象的实例能够做什么(例如。可以添加或删除一本书)。</p><p id="546a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要创建新的类，可以使用以下语法:</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="77ce" class="kx jq hi kt b fi ky kz l la lb"><strong class="kt hj">class</strong> Book<br/><strong class="kt hj">end</strong></span></pre><p id="f38a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了定义所有书籍应该具有的属性，您需要在类中提供它们。我们不打算在这篇文章中讨论迁移和数据库，所以为了定义所有书籍的属性，我们将使用<strong class="ih hj"> attr_accessor </strong>。<strong class="ih hj"> Attr_accessor </strong>创建了两个方法(而不是在类中手工编写它们)—<strong class="ih hj">getter方法</strong>和<strong class="ih hj"> setter方法</strong>。<strong class="ih hj"> getter方法</strong>用于<em class="jd">检索</em>一个属性的值，而<strong class="ih hj"> setter方法</strong>用于<em class="jd">给</em>一个属性赋值。同样，这两个都是在使用<strong class="ih hj"> attr_accessor </strong>时在幕后创建的:</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="3a22" class="kx jq hi kt b fi ky kz l la lb"><strong class="kt hj">class</strong> Book<br/>   attr_accessor :title, :author, :description, :rating<br/><strong class="kt hj">end</strong></span></pre><p id="6a14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，对于Book类的当前迭代，Book的所有实例都需要有标题、作者、描述和评级。</p><h1 id="80e0" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">Ruby对象</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lc"><img src="../Images/7ba3ccb7824bfc90cee79c5f859fb902.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fapCahYtcMXlEAHoSZQhNg.jpeg"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">Books类的对象！</figcaption></figure><p id="7f28" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上所述，类(例如。Book类)被用作创建该类的<em class="jd">实例</em>的蓝图。对象是一个类的单个实例(例如。单行本)。在Ruby语言中，一切都是对象(除了条件、块和消息)——所以类也是对象。</p><p id="06e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以书籍为例——用面向对象的术语来说，每本书是被称为Book的对象类的一个实例。在我们的例子中，一本书由标题<em class="jd">、作者、描述</em>和<em class="jd">评级</em>组成——这些是Book类的属性，当Book类的实例被创建时，与这些属性相对应的值(数据)将被赋值。</p><p id="a73d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要创建一个新的Book对象，您可以在该类上使用Ruby的<em class="jd"> new </em> <strong class="ih hj">方法</strong>，并为该类的已定义属性提供值:</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="7820" class="kx jq hi kt b fi ky kz l la lb"><strong class="kt hj">first_book = Book.new()<br/>first_book.title = "Really Great Book"<br/>first_book.author = "Denali Balser" <br/>first_book.description "best book ever"<br/>first_book.rating = 100</strong></span></pre><p id="a16a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面我们创建了Book类的一个新实例，也就是一个对象，并将其分配给一个变量(<strong class="ih hj"> first_book </strong>)，然后使用Ruby的点符号将值分配给该实例的属性。为了访问该对象的属性，使用以下语法:</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="26c7" class="kx jq hi kt b fi ky kz l la lb"><strong class="kt hj">puts first_book.title #=&gt; Really Great Book</strong></span></pre><h1 id="814b" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">Ruby方法</h1><p id="cab1" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">一本书除了创建自己的实例之外，还可能有其他功能。这就是方法发挥作用的地方。Ruby方法将一个或多个可重复的语句捆绑成一个单元。方法是在一个对象上定义的，也就是在一个类中定义的——一个类可以由特征(属性)和功能(方法)的组合组成。</p><p id="f689" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">按照Ruby惯例，方法名应该以小写字母开头，如果以大写字母开头，可能会被解释为常量，调用可能会被错误地解析。此外，Ruby方法必须在被调用之前定义，否则将引发未定义方法调用的异常。</p><p id="609e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，Book类可能有一个名为<strong class="ih hj"> change_author </strong>的方法，该方法更改Book实例的<strong class="ih hj"> author </strong>属性。这个方法将在Book类中定义，因为它特定于这个类。</p><p id="fee8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建方法的语法:</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="3850" class="kx jq hi kt b fi ky kz l la lb"><strong class="kt hj">def change_author <br/>    #method body (code for changing the author)<br/>end</strong></span></pre><p id="19ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">方法也可以接受参数；在我们的示例方法中，您可能希望提供新作者的姓名，以便替换现有的作者。为此，您需要编写带有参数的方法:</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="8227" class="kx jq hi kt b fi ky kz l la lb"><strong class="kt hj">class Book <br/>   attr_accessor :title, :author, :description, :rating</strong></span><span id="a7d7" class="kx jq hi kt b fi lj kz l la lb"><strong class="kt hj">   </strong>#define change_author method to accept arguments:<br/>   <strong class="kt hj">def change_author(obj, new_author) <br/>     obj.author = new_author<br/>   end</strong></span><span id="ace0" class="kx jq hi kt b fi lj kz l la lb"><strong class="kt hj">end</strong></span><span id="4ff3" class="kx jq hi kt b fi lj kz l la lb">#create new Book object and assign to first_book variable:<br/><strong class="kt hj">first_book = Book.new()<br/>first_book.title = "Really Great Book"<br/>first_book.author = "Denali Balser" <br/>first_book.description "best book ever"<br/>first_book.rating = 100</strong></span><span id="1587" class="kx jq hi kt b fi lj kz l la lb">#call change_author method on first_book object with obj and new_author arguments:<br/><strong class="kt hj">first_book.change_author(first_book, "J. R. R. Tolkien")</strong></span><span id="9460" class="kx jq hi kt b fi lj kz l la lb">#display the author of first_book object in console:<br/><strong class="kt hj">puts first_book.author #=&gt; J. R. R. Tolkien</strong></span></pre><p id="9017" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当您调用<strong class="ih hj"> change_author </strong>方法时，您将提供您想要更改的对象(<strong class="ih hj"> obj </strong>)和<strong class="ih hj"> new_author </strong>参数，它们将在方法体中用于更新图书实例的<strong class="ih hj"> author </strong>属性。</p><h1 id="9247" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">现在都在一起</h1><p id="c887" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">概括地说，类定义了该类的一个实例——或单个对象——将会是什么样子(就像一个蓝图),一个实例就是一个对象，而方法(在类中定义)描述了该类/对象的一个实例将能够做什么。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lk jk l"/></div></figure></div></div>    
</body>
</html>