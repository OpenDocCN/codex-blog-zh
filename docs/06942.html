<html>
<head>
<title>iOS Interview- All About Enums[Are they underused ?]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS访谈-所有关于Enums的内容[它们是否未被充分利用？]</h1>
<blockquote>原文：<a href="https://medium.com/codex/ios-interview-all-about-enums-are-they-underused-61c6b04ca29f?source=collection_archive---------1-----------------------#2022-05-21">https://medium.com/codex/ios-interview-all-about-enums-are-they-underused-61c6b04ca29f?source=collection_archive---------1-----------------------#2022-05-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/58a9025d3caed65121b639bd1bc5bba4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8BTyf1JGdvH7WCrva6aJbg.png"/></div></div></figure><p id="1271" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">枚举</strong>，简称枚举，是Swift编程语言中的一个核心类型，枚举允许你通过<em class="jo">枚举</em>它的值来定义一个类型，比如一个HTTP方法是否是一个<strong class="is hj"/><a class="ae jp" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">GET</strong></a><strong class="is hj">，</strong><a class="ae jp" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/Put" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jo">PUT</em></strong><strong class="is hj">，</strong></a><a class="ae jp" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jo">POST</em></strong></a> 或 <a class="ae jp" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="jo">删除</em></strong></a><strong class="is hj"><em class="jo"/></strong><em class="jo"/>动作，或表示一个<a class="ae jp" href="https://en.wikipedia.org/wiki/IP_address" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> IP地址</strong> </a>是否在<a class="ae jp" href="https://en.wikipedia.org/wiki/IPv4" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jo">IP v4</em></strong></a><strong class="is hj"><em class="jo"/>或</strong><a class="ae jp" href="https://en.wikipedia.org/wiki/IPv6" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jo">IPv6</em></strong></a></p><p id="6754" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里有一个enum基本用例的例子，我们也可以在swift文档中找到，但是我们可以使用enum实现更多，我在下面已经描述过了。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es et"><img src="../Images/a27ef3f5b1dc1250b0ac501e15e8e3ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b9hrapyFgdVHHypzGpN6Vw.png"/></div></div></figure><p id="3c5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Enum在多种语言中使用，但是Swift编程语言借用了函数式编程的许多概念。正如标题所说，enum没有被充分利用，所以读完这篇博客后，你可能会发现你对数据建模得更好了，编写Enum的频率更高了一点，并且在你的项目中以更安全和更干净的代码结束，并且相信在此之前Enum没有被充分利用。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="b250" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">枚举</strong>是“或”型的，意思是交通灯可以是绿色<em class="jo">或</em>黄色<em class="jo">或</em>红色，而不是同时出现。如果灯不能正常工作，这是可能的。</p><p id="6505" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了更好地理解Enum，让我们以Whatsapp群组的聊天室为例。在组中有一些消息支持:</p><ul class=""><li id="7470" class="kb kc hi is b it iu ix iy jb kd jf ke jj kf jn kg kh ki kj bi translated">加入消息，如“Veer已加入聊天室”</li><li id="9954" class="kb kc hi is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj bi translated">有人可以写的短信，比如“大家好！”</li><li id="9c1c" class="kb kc hi is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj bi translated">发送有趣的消息，其中包括一些动画和其他人可以看到和听到的恼人的声音</li><li id="fadd" class="kb kc hi is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj bi translated">留言，如“尼娜离开了聊天”</li><li id="c25d" class="kb kc hi is b it kk ix kl jb km jf kn jj ko jn kg kh ki kj bi translated">草稿消息，例如“Mike正在写消息”</li></ul><p id="d2bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，让我们创建一个数据模型来表示消息。您的第一个想法可能是使用一个结构来建模您的消息。您将从这样做开始，并展示随之而来的问题。然后，您将通过使用枚举来解决这些问题。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kp"><img src="../Images/d428533ef1d03784a34aba6abf0887e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*ndDdsl31ayZgoqSGP-KoKA.png"/></div><figcaption class="kq kr et er es ks kt bd b be z dx translated">消息结构</figcaption></figure><p id="abcf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦有人加入我们的聊天室</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/16023981b05ab3020b2c526f47c3bb9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NC9mDuk8h8zvXB6VOZWzdw.png"/></div></div><figcaption class="kq kr et er es ks kt bd b be z dx translated">加入消息</figcaption></figure><p id="c9fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者当有人向群组发送消息时</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/fd486ddfce802c33334c68816c88d3f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q85FSwACh0Ga1ewKG4YFJg.png"/></div></div><figcaption class="kq kr et er es ks kt bd b be z dx translated">发送消息</figcaption></figure><p id="a7b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你能看出这种方法出了什么问题吗，所以在这种方法中，当用户加入聊天室时，我们将所有其他属性设置为空或假，因为它们没有用处，或者当我们发送任何消息时，我们不必担心用户是否加入，因为为了发送消息，用户需要被添加到组中，但我们必须为已加入或已离开或发送方法提供假值，如果提供任何值，会导致错误。</p><p id="068d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">举例来说，您可以让消息处于无效状态。它表示文本消息，但也表示加入和离开消息。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/0d608a7e1648be48d07c0322a34b7931.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rfX_gMs7HSZXzMcPOjFwAA.png"/></div></div></figure><p id="3e3d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个小例子中，无效数据非常罕见，因为数据块非常小，但它可能会发生，就像当您根据属性解析消息时，它会发生冲突，但您不会有任何编译时问题，这只会在运行时出现，当您的消息有冲突状态时。想象一下，当用户加入、离开或发送消息时，根据消息类型显示UI。那么我们如何在编译时解决这个问题呢？是的，我们可以用<strong class="is hj">枚举来解决这个问题。</strong></p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="611a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">何时使用枚举:</strong>无论何时，当你对具有互斥属性的数据建模时，你都可以使用枚举。就像上面的例子一样，消息不能同时是加入和离开消息。一条消息不能同时发送气球和草稿。但是消息可以是加入消息<em class="jo">或者</em>离开消息。消息也可以是草稿，<em class="jo">或</em>它可以代表气球的发送。<strong class="is hj">当您在模型中检测到“或”语句时，枚举可能是更适合您的数据模型的选择。</strong>使用枚举将属性分组到案例中，使得数据更容易掌握。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="0354" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们改进这个模型，把它变成一个枚举。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kx"><img src="../Images/9452d343ffeabebf8c62c51339043ac3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m8u_IIcbwUBuzP-EtukG-w.png"/></div></div></figure><p id="c4df" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过将元组添加到病例中，这些病例现在具有所谓的<em class="jo">关联值</em>。此外，您可以清楚地看到哪些属性属于一起，哪些属性不属于一起。每当您想要将消息创建为枚举时，您可以选择具有相关属性的适当大小写，而不必担心混合和匹配错误的值。</p><p id="a966" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">每当您想要将消息创建为枚举时，您可以选择具有相关属性的适当大小写，而不必担心混合和匹配错误的值。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/4c455b3a742fd500197034eb2e50352e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oozyGrm2UznuPhvIoF0PEQ.png"/></div></div></figure><p id="fc7a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当您想要处理消息时，您可以对它们使用切换大小写，并解开它们的内部值。假设您想要记录发送的消息。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kz"><img src="../Images/f6ad3b4888dd6aef8af69ac05bba8d04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xeYAdBTiW5Al15G1xAyE2Q.png"/></div></div></figure><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es la"><img src="../Images/a140979ced6a0ccae65e4f951363543e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yV8xNCPQUWjpvUpJqzna_A.png"/></div></div></figure><p id="ed72" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以像上面一样记录消息，而不必强制转换消息或验证类型。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="adb7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">仅仅为了从单个消息中读取一个值，就必须打开整个应用程序中的所有大小写，这可能是一个障碍。通过使用if case组合来匹配使用if let的单一类型的消息，您可以节省一些输入。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="25b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在的问题是我们什么时候可以使用枚举，什么时候可以使用结构？</p><p id="6e5e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用枚举获得编译器的好处是一个显著的好处。但是如果您发现自己经常在单个案例中进行模式匹配，那么struct可能是一种更好的方法。此外，请记住，枚举的关联值是没有附加逻辑的容器。你不会得到免费的属性初始化器；对于枚举，您必须手动添加它们。下次编写结构时，请尝试对属性进行分组。您的数据模型可能是一个很好的枚举候选对象！</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="4730" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将在下一篇博客中解释使用enum可以实现更多的功能，比如使用enum实现多态性或者使用enum代替子类化。</p><p id="6440" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="jo">如果您喜欢这个，点击💚尽你所能在下面为这篇文章鼓掌，这样其他人会在媒体上看到。如有任何疑问或建议，欢迎随时评论或打我</em></strong><a class="ae jp" href="https://twitter.com/b_banzara" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jo">Twitter</em></strong></a><strong class="is hj"><em class="jo">，或</em></strong><a class="ae jp" href="https://www.linkedin.com/in/rranjanchchn/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jo">Linkedin</em></strong></a><strong class="is hj"><em class="jo">。</em>T25】</strong></p></div></div>    
</body>
</html>