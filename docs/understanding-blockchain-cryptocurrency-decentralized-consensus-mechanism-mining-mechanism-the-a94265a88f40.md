# 理解区块链、加密货币分散共识机制和挖掘机制的简单方法。

> 原文：<https://medium.com/codex/understanding-blockchain-cryptocurrency-decentralized-consensus-mechanism-mining-mechanism-the-a94265a88f40?source=collection_archive---------15----------------------->

![](img/981a94e7a717167691be714963d0c636.png)

**目录**

1.介绍

2.工作证明

3.哈希算法

4.比特币的工作证明

5.比特币工作证明的步骤

6.一旦新的区块被创建并添加到比特币区块链，之后会发生什么？

7.关于权力的环境、社会和治理(ESG)辩论

8.以太坊 2 的股份证明

9.利害关系证明是如何工作的

10.什么是 PoS 中的财富机制

11.以太坊股份证明步骤

12.以太坊 PoS 相对于比特币 PoW 的优势

13.PoS 的缺点是什么

14.使用股权证明的著名加密货币

15.其他采矿共识机制

16.结论

17.参考

**1。** **简介**

在我谈论包括比特币在内的不同加密货币的工作证明机制的细节之前，我们先来谈谈区块链及其与工作证明共识机制(PoW)的关系

简单地说，区块链由链接在一起的块组成，其中每个块包含在数字分类账中形成的已完成交易的列表。除此之外，这些块被复制并分布在整个网络中，这使得这些事务不仅是分布式的，而且是不可变的(散列的)和安全的。这些交易被大规模地记录在网络中，供所有参与者查看和验证。

那么，交易是如何进入区块链的，这与工作证明有什么关系呢？

在交易被认证之后，新的交易将被添加到块中，然后，块被发送到网络中的每个活动节点，以使交易被验证，该验证过程实际上是验证者(在这种情况下，我们称他们为矿工)解决关于交易验证的复杂数学难题，并且这些节点将以加密货币或加密货币的一部分的形式接收该工作证明的奖励， 然后将该块添加到前一个块中，最后通过我前面提到的复制过程将该块更新到整个区块链网络。

**2。** **工作证明**

到目前为止，工作证明(PoW)的定义更加清晰，工作证明是区块链网络中最初的分散共识机制，它要求节点(网络成员)投入一些工作来解决数学难题，使它们相互竞争来解决它们，以便完成网络上的交易，并通过解决新硬币或硬币的一部分来获得奖励。具体来说，这些奖励只是其他硬币持有者支付的交易费，或者对一些人来说，这些奖励被称为 hodl(Hold on for dear life ),指的是与投资加密货币相关的风险。

**3。** **哈希算法**

PoW 的区块链有一个与区块相关的挖掘算法或加密哈希函数，它将区块作为输入来创建输出。因此，挖掘器将继续散列块，直到挖掘器达到期望的输出，这个过程可以进行数百万次和数十亿次，这反过来需要高级硬件来加速该过程，还需要足够的电力和时间。这就是为什么开采加密硬币在气候变化方面会成为一个有争议的话题。

**4。** **比特币工作证明**

比特币使用 SHA256 的挖掘哈希算法，除此之外，比特币还应用了双 SHA256 进程来增加该进程的安全性。因此，许多其他加密货币采用了比特币 SHA256 哈希函数，如字节币、名称币、对等币等。

正如我前面提到的，一个矿工需要使用 PoW 共识机制与另一个矿工竞争并解决区块链中的数学难题，以验证新块，并在网络(其他节点或矿工)解决并同意后将其添加到区块链。但是解决这个难题一点也不容易。数学问题无非是猜测与一串数据连接的随机数，猜测过程需要数百万次和数十亿次的尝试和错误，直到获得正确的猜测并与块的目标进行比较，请记住，所有这些过程都是散列的。

让我用步骤的形式来解释一下，这样更容易理解。

**5。** **比特币工作证明的步骤**

1-我们将从池中收集已执行的事务，并构建一个完整的块大小。

2-对块应用 SHA256 的散列函数两次(在我们的情况下，这是包括先前块散列、时间戳、难度位和随机数的块头)

3-观察步骤 2 的结果，并将其与从哈希中生成的零的预期数量进行比较，如果哈希开始时没有零，尝试将 nonce 增加 1，记住该哈希与目标进行比较，我们将继续尝试从无数次尝试中找到零，直到我们到达前导零。

4-一旦我们找到一个获胜的区块(也称为结果少于目标的区块)，矿工将把它发送到网络，以确认其他参与者的计算。一旦所有这些节点就矿工共享的获胜区块达成一致，该区块将被添加到区块链，矿工将获得一个新的比特币或比特币的一部分(又名 Satoshi 单位)作为奖励

**6。** **一旦新的区块被创建并加入比特币区块链，之后会发生什么？**

随着时间的推移，更多的块被添加到链中，因此更多具有更好计算能力的节点加入竞争(或者有时节点离开网络)，因此，数学问题可以更快地解决，而块的创建反过来被更快地添加。此外，块创建时间被设置为 10 分钟，因此通常每两周或者准确地说是 2016 个块被创建，并且区块链的整体难度被重新调整，导致难度增加和目标值降低。每当难度增加时，都需要大量的计算能力来计算随机数。

7 .**。** **关于 PoW 的环境、社会和治理(ESG)辩论**

比特币中的工作证明支持技术有许多好处，可以使去中心化生态系统受益，并将我们引入一个更好的覆盖范围和可扩展性的新时代，采用 PoW 区块链技术的优势是很好的安全性，网络中的节点越多，安全性越好，比与银行或任何金融机构打交道的费用更低，以及网络的可扩展性。另一方面，PoW 的缺点可以总结如下:挖掘困难，因为它随着时间变得越来越难，而且挖掘是昂贵的，因为它需要大量的电力和与之相关的计算能力。

比特币在能源使用和电力方面的缺点引发了许多关于使用这种技术的可持续性的辩论，最伟大的世界偶像之一埃隆·马斯克是比特币加密货币的大力支持者之一，他传奇的推文对比特币在市场上的价格运动产生了不可动摇的影响，然而最近他显示出比特币略有下跌，因为更多的参与者进入区块链意味着更多的能源将由矿工生产，这将导致污染和不可持续的未来。

尽管如此，他已经解决了这个问题，并提供了一系列解决方案，其中一个是他与北美比特币矿工交谈，在开采比特币时采用更可持续的解决方案，例如通过使用计划中的可再生解决方案进行开采，而不是基于燃料的电力，我在下面分享了他的推文，**图-1** 。

![](img/0b818dc0735f1acb803333eb9dfe84ad.png)

**图-1** 埃隆·马斯克过去的推文

在 Elon 的推文中，市场在他的负面和正面声明之间摇摆，然而，在我看来，他的逻辑纯粹是建立在通过采用更好的方法保护环境来保护地球的基础上。

**8。** **以太坊 2 的股权证明**

在我看来，另一种共识机制要比工作证明好得多。

我们不能谈论比特币区块链技术而不引出其最大的竞争对手“以太坊”。此外，它碰巧是另一项区块链技术，具有不同的共识机制，被称为“股权证明或简称”。为了准确和明确以太坊使用的共识机制，最初以太坊采用了来自比特币的工作证明的使用，但是由于工作证明的许多问题，一种新的块验证方式出现了，这就是利益证明(PoS)。

以太坊大型社区决定从 PoW 模式转移到 PoS 模式，这个概念仍然是新的，我们已经看到它作为以太坊 2.0 被以太坊网络采用。

**9。** **股权证明如何起作用**

与工作共识证明相反，矿工是那些因解决数学难题(也就是通过数百万次尝试猜测正确的哈希)而获得奖励的人，在赌注证明中，维护 PoS 交易有效性的节点被称为验证者，他们的任务与 PoW 中的矿工相似，但是，机制不同，因为验证者被选择以确定性的方式完成工作，这种方式基于**财富机制**。

10。**PoS**中的财富机制是什么

根据我们上面的陈述，PoS 中的财富机制就是你所说的赌注，在流通中拥有最多赌注硬币的验证者，他/她被选为区块创造者或被称为伪造者的总体概率的机会就越大。

例如，如果我们最终有四个验证者 v1、v2、v3 和 v4，并且他们中的每一个都在以太坊(ETH)中下注他们的加密货币头寸，并且分别投入 50 ETH、43 ETH、32 ETH 和 15 ETH 的赌注，那么他们被选中的机会被确定如下，50%、43%、32%和 15%的机会被选中成为下一个块创建者，但是这似乎不公平，这就是为什么区块链有一组命令来随机选择这些验证者。

**11。** **以太坊股权证明步骤**

与工作证明相比，在以太坊中成功创建块的步骤非常简单，如下所示:

1-在区块链网络上，区块链跟踪网络上所有活动的验证器(节点)，这些验证器根据定义被称为块创建者或伪造者。

2-一旦开始创建新块，区块链网络随机选择一个验证器。

3-该验证者验证新的交易，并与其他验证者交流他的发现，并向他们提议新的块以供批准。

4-然后所有当前活跃的验证者对新块进行投票，其中投票权基于你作为验证者投入的赌注的大小

5-对未识别的或恶意的交易下注的验证者将冒他们的赌注输给网络的风险

6-一旦新块被所有人批准，它将被添加到链中，验证者收取他的交易费作为块创建的奖励。

**12。** **相对于比特币的威力，以太坊 PoS 的优势**

-采用利益相关证明机制的一个最显著的优点是，与工作证明相比，创建和保护区块链消耗的电力更少。

-加密硬币的发行受到控制，因为与基于 PoW 的硬币相比，生产这些硬币需要更少的电力，导致发行更少的硬币，此外，由于硬币的发行更少，这确实会阻碍验证者参与网络。从理论上讲，这种负的硬币净发行量会导致部分交易在网络中被烧掉，最终供应量会随着时间的推移而下降。

-这种共识机制有一系列不同的技术来防止组织和团体通过先前的硬币块垄断网络，这种行为被称为自私挖掘。

-你不需要一台具有精英硬件的超级计算机来进入这个共识机制，以解决困难问题和创建块。因此，这种机制的进入门槛很低。

- PoS 允许链分片或分片链的过程，分片是一个赌注的升级过程，您可以提高以太坊的可扩展性和容量，以同时创建多个块，在基于比特币的机制上，创建一个块的块时间是 10 分钟，正如我们之前讨论的那样，但在以太坊上大约只有 13 秒。

**13。****PoS 的缺点有哪些**

-显然，以太坊的这一缺点是众所周知的，与其他加密货币相比，这是天文数字般的高费用，这些费用被称为“汽油费”，阻止或使一些 ERC-20 依赖的项目无法在以太坊的任何支付系统上运行。燃气费是验证者在网络上执行交易所需的金额，它不是常数，因为燃气费随网络需求而波动。

-硬币一旦被押下，无论出于何种原因，都几乎不可能赎回，当然，直到锁定的押下硬币到达其利息终止日期。

Stake 算法系统的证明对于市场来说仍然是新的，并且有很大的增长空间来实现其可伸缩性和全部潜力。

-与工作证明相比，从利益证明中获得的实际回报较少。

-大鲸鱼(网络中持有大量硬币的人)可能对硬币和共识过程产生显著影响。

**14。** **使用股权证明的著名加密货币**

虽然以太坊被认为是大多数加密交易所中许多基于 ERC-20 的令牌的基础，但是其他加密货币采用了利益证明作为其挖掘的共识机制。下面提到了一些加密货币:

-卡尔达诺(阿达)

-泰佐斯(XTZ)

-利斯克(LSK)

-宇宙(原子)

- EOS (EOS)

15。 **其他挖掘共识机制**

在结束本文之前，我不能不提到其他共识机制，这些机制可以极大地促进加密货币世界的发展，从 ICOs 到通过网络进行的金融交易。下面提到了其中一些机制:

-**【委托利益证明(DPoS)】:该机制是原始 PoS 的扩展，不同之处在于所有令牌持有者选择一组代理来完成该任务。该机制仍然是分散的，因为区块链中的所有节点都被授权选择确认交易的验证者组。**

**- **共识即服务(CaaS) :** 在这种机制下，交易在一个名为区块链·道拉的平台上私下处理，本质上，这种机制的运作就像一个数字账本:网络上的所有交易对节点的所有运营商来说都是同等可见和可验证的。网络数据存储在瑞士一个高度安全的数据库中。**

****16。结论****

**区块链技术及其实现更无缝金融交易的共识机制将在未来几年塑造金融业。金融领域的密码学革命和银行业的衰落迫在眉睫，共识机制算法(如工作证明和股权)是这场革命的中心。**

**工作证明(PoW)需要大量的能量来有效地工作，但是它为矿工提供了大量的能量来维护和保护区块链免受黑客攻击。最知名的使用 PoW 的加密货币是比特币。另一种共识机制是赌注证明(PoS)，这种机制围绕投票和随机性的力量，这使它比 PoW 更公平，PoS 根据矿工或验证者持有的令牌或硬币数量提供采矿权力。**

**我希望你喜欢阅读这篇文章，请跟随我，这样你就不会错过 Fintech，人工智能，区块链和其他相关的数据科学项目。**

**再次感谢，不要忘记关注我的账号，如果你对这篇文章有任何问题，请给我留言。**

****17。** **参考文献****

**下面是我用来研究这些信息的参考资料列表。**

**-埃隆·马斯克和比特币矿工表示，他们希望解决 crypto 的可持续发展问题。可从:[https://www . the verge . com/2021/5/24/22451900/elon-musk-比特币-矿工-理事会-可持续发展](https://www.theverge.com/2021/5/24/22451900/elon-musk-bitcoin-miners-council-sustainability)。**

**-比特币工作证明——你必须阅读的唯一一篇文章，作者 Henrique Centieiro，[在线]。可从:[https://level up . git connected . com/bit coin-proof-of-the-only-work-the-article-you-ever-will-have-to-read-4a 1 fcd 76 a 294](https://levelup.gitconnected.com/bitcoin-proof-of-work-the-only-article-you-will-ever-have-to-read-4a1fcd76a294)**

**-什么是股权证明，为什么以太坊要采用它？伊恩·贝泽克[在线]。可从:[https://money . us news . com/investing/cryptocurrency/articles/what-is-proof-of-stage-and-why-is-ether eum-adopting-it](https://money.usnews.com/investing/cryptocurrency/articles/what-is-proof-of-stake-and-why-is-ethereum-adopting-it)获得**

**- Block time，Investopedia，[在线]。可从以下网址获得:[https://www . investopedia . com/terms/b/block-time-cryptocurrency . ASP](https://www.investopedia.com/terms/b/block-time-cryptocurrency.asp)**

**-区块链技术中的共识机制，作者 Aurelia Nick 和 Lukas Hoeing，[在线]。来自:[https://www.lexology.com/library/detail.aspx?g = e 30 e 7d 54-3c7f-4ca 0-8a 22-478227 a9 b5 EC](https://www.lexology.com/library/detail.aspx?g=e30e7d54-3c7f-4ca0-8a22-478227a9b5ec)**

**-什么是利害关系的证明？它与工作证明有何不同，杰夫·本森和马特·赫西[在线]。可从以下网址获得:[https://decrypt . co/resources/proof-of-work vs-proof-of-stage](https://decrypt.co/resources/proof-of-work-vs-proof-of-stake)**

**-巴希尔，伊姆兰。掌握区块链:分布式账本技术，去中心化和智能合同解释。伯明翰-孟买包装，2018 年 3 月，第 50-60 页。**

**——Bikramaditya sing Hal 等《开始区块链》。加州伯克利出版社，2018 年，第 280–285 页。**