<html>
<head>
<title>Funny Leetcode Hard Problem â€” Basic Calculator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æœ‰è¶£çš„Leetcodeéš¾é¢˜â€”åŸºæœ¬è®¡ç®—å™¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/funny-leetcode-hard-problem-basic-calculator-79e86c8fa26b?source=collection_archive---------3-----------------------#2022-09-18">https://medium.com/codex/funny-leetcode-hard-problem-basic-calculator-79e86c8fa26b?source=collection_archive---------3-----------------------#2022-09-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="e6ff" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">è§£å†³leetcodeéš¾é¢˜çš„å…¨éƒ¨æ•…äº‹å’Œæˆ‘çš„é”™è¯¯</h2></div><p id="e5ac" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ä»Šå¤©æ˜¯æ˜ŸæœŸå¤©ï¼ï¼ï¼æˆ‘æƒ³åœ¨leetcodeä¸Šè§£å†³ä¸€äº›è®¡ç®—å™¨é—®é¢˜ï¼Œå› ä¸ºæœ€è¿‘æˆ‘æ­£åœ¨è§£å†³åŒ…å«æŒ‰ä½andï¼ŒæŒ‰ä½orå’ŒæŒ‰ä½notçš„è¡¨è¾¾å¼ï¼Œæˆ‘å°†åœ¨ä»¥åçš„å…¶ä»–å¸–å­ä¸­å‘Šè¯‰ä½ è¿™ä¸ªæ•…äº‹ã€‚</p><p id="f44d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">é¦–å…ˆï¼Œåªè°ˆåŸºæœ¬çš„è®¡ç®—å™¨é—®é¢˜ï¼Œæ‰€ä»¥é˜…è¯»é—®é¢˜é™ˆè¿°ã€‚</p><h1 id="d47d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">é—®é¢˜</h1><p id="d18a" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">224.<strong class="iz hj">åŸºç¡€è®¡ç®—å™¨</strong> ( <strong class="iz hj">ç¡¬</strong> ) 4069å–œæ¬¢325ä¸å–œæ¬¢</p><div class="kq kr ez fb ks kt"><a href="https://leetcode.com/problems/basic-calculator/" rel="noopener  ugc nofollow" target="_blank"><div class="ku ab dw"><div class="kv ab kw cl cj kx"><h2 class="bd hj fi z dy ky ea eb kz ed ef hh bi translated">åŸºæœ¬è®¡ç®—å™¨- LeetCode</h2><div class="la l"><h3 class="bd b fi z dy ky ea eb kz ed ef dx translated">ç»™å®šä¸€ä¸ªè¡¨ç¤ºæœ‰æ•ˆè¡¨è¾¾å¼çš„å­—ç¬¦ä¸²sï¼Œå®ç°ä¸€ä¸ªåŸºæœ¬çš„è®¡ç®—å™¨æ¥è®¡ç®—å®ƒï¼Œå¹¶è¿”å›â€¦</h3></div><div class="lb l"><p class="bd b fp z dy ky ea eb kz ed ef dx translated">leetcode.com</p></div></div><div class="lc l"><div class="ld l le lf lg lc lh li kt"/></div></div></a></div><p id="efc8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç»™å®šä¸€ä¸ªè¡¨ç¤ºæœ‰æ•ˆè¡¨è¾¾å¼çš„å­—ç¬¦ä¸²<code class="du lj lk ll lm b">s</code>ï¼Œå®ç°ä¸€ä¸ªåŸºæœ¬çš„è®¡ç®—å™¨æ¥è®¡ç®—å®ƒï¼Œå¹¶è¿”å›<em class="ln">è®¡ç®—ç»“æœ</em>ã€‚</p><p id="e2e4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">æ³¨æ„:</strong>ä½ <strong class="iz hj">ä¸</strong>è¢«å…è®¸ä½¿ç”¨ä»»ä½•å°†å­—ç¬¦ä¸²ä½œä¸ºæ•°å­¦è¡¨è¾¾å¼æ±‚å€¼çš„å†…ç½®å‡½æ•°ï¼Œæ¯”å¦‚<code class="du lj lk ll lm b">eval()</code>ã€‚</p><p id="6cf2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">ä¾‹1: </strong></p><pre class="lo lp lq lr fd ls lm lt lu aw lv bi"><span id="e77b" class="lw ju hi lm b fi lx ly l lz ma"><strong class="lm hj">Input:</strong> s = "1 + 1"<br/><strong class="lm hj">Output:</strong> 2</span></pre><p id="685e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">ä¾‹2: </strong></p><pre class="lo lp lq lr fd ls lm lt lu aw lv bi"><span id="69e3" class="lw ju hi lm b fi lx ly l lz ma"><strong class="lm hj">Input:</strong> s = " 2-1 + 2 "<br/><strong class="lm hj">Output:</strong> 3</span></pre><p id="d1ba" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">ä¾‹3: </strong></p><pre class="lo lp lq lr fd ls lm lt lu aw lv bi"><span id="4313" class="lw ju hi lm b fi lx ly l lz ma"><strong class="lm hj">Input:</strong> s = "(1+(4+5+2)-3)+(6+8)"<br/><strong class="lm hj">Output:</strong> 23</span></pre><p id="a600" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">çº¦æŸ:</strong></p><ul class=""><li id="7ce5" class="mb mc hi iz b ja jb jd je jg md jk me jo mf js mg mh mi mj bi translated"><code class="du lj lk ll lm b">1 &lt;= s.length &lt;= 3 * 105</code></li><li id="4fd8" class="mb mc hi iz b ja mk jd ml jg mm jk mn jo mo js mg mh mi mj bi translated"><code class="du lj lk ll lm b">s</code>ç”±æ•°å­—ã€<code class="du lj lk ll lm b">'+'</code>ã€<code class="du lj lk ll lm b">'-'</code>ã€<code class="du lj lk ll lm b">'('</code>ã€<code class="du lj lk ll lm b">')'</code>å’Œ<code class="du lj lk ll lm b">' '</code>ç»„æˆã€‚</li><li id="f0a2" class="mb mc hi iz b ja mk jd ml jg mm jk mn jo mo js mg mh mi mj bi translated"><code class="du lj lk ll lm b">s</code>ä»£è¡¨ä¸€ä¸ªæœ‰æ•ˆçš„è¡¨è¾¾å¼ã€‚</li><li id="14e4" class="mb mc hi iz b ja mk jd ml jg mm jk mn jo mo js mg mh mi mj bi translated"><code class="du lj lk ll lm b">'+'</code>æ˜¯ä¸æ˜¯<strong class="iz hj">ä¸æ˜¯</strong>ç”¨ä½œä¸€å…ƒè¿ç®—(å³<code class="du lj lk ll lm b">"+1"</code>å’Œ<code class="du lj lk ll lm b">"+(2 + 3)"</code>æ— æ•ˆ)ã€‚</li><li id="1070" class="mb mc hi iz b ja mk jd ml jg mm jk mn jo mo js mg mh mi mj bi translated"><code class="du lj lk ll lm b">'-'</code>å¯ä»¥ä½œä¸ºä¸€å…ƒè¿ç®—(å³<code class="du lj lk ll lm b">"-1"</code>å’Œ<code class="du lj lk ll lm b">"-(2 + 3)"</code>æœ‰æ•ˆ)ã€‚</li><li id="663b" class="mb mc hi iz b ja mk jd ml jg mm jk mn jo mo js mg mh mi mj bi translated">è¾“å…¥ä¸­ä¸ä¼šæœ‰ä¸¤ä¸ªè¿ç»­çš„è¿ç®—ç¬¦ã€‚</li><li id="5d97" class="mb mc hi iz b ja mk jd ml jg mm jk mn jo mo js mg mh mi mj bi translated">æ¯ä¸ªæ•°å­—å’Œè¿è¡Œçš„è®¡ç®—å°†é€‚åˆä¸€ä¸ªæœ‰ç¬¦å·çš„32ä½æ•´æ•°ã€‚</li></ul><h1 id="5df9" class="jt ju hi bd jv jw jx jy jz ka kb kc kd io ke ip kf ir kg is kh iu ki iv kj kk bi translated">è§£å†³åŠæ³•</h1><p id="9ef6" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">è®©æˆ‘ä»¬å¼€å§‹å§ï¼Œå¦‚æœä½ æ²¡æœ‰è¯»è¿‡ï¼Œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ç›¸ä¿¡ä½ åœ¨é«˜ä¸­æ—¶å·²ç»åšè¿‡è¿™äº›ç®€å•çš„æ•°å­¦ã€‚</p><p id="6d4e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æˆ‘åœ¨è¿™ä¸ªé—®é¢˜ä¸Šå°è¯•äº†å‡ ä¹3æ¬¡ï¼Œå…¶ä¸­2æ¬¡æ˜¯é”™è¯¯çš„ï¼Œåæ¥å®ƒè¢«æ¥å—äº†ã€‚(å†…éƒ¨é”™è¯¯æ˜¯ç”±ç½‘ç»œé—®é¢˜å¼•èµ·çš„ï¼Œæ‰€ä»¥ä¸è¦è€ƒè™‘å®ƒ)</p><figure class="lo lp lq lr fd mq er es paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="er es mp"><img src="../Images/756cc08dac25be7e47f374b159bff134.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ORzdtMzIepd8KdHsvKfkw.png"/></div></div></figure><h2 id="ebbe" class="lw ju hi bd jv mw mx my jz mz na nb kd jg nc nd kf jk ne nf kh jo ng nh kj ni bi translated">è§£å†³æ–¹æ¡ˆ#1 [ 09/18/2022 13:36 <a class="ae nj" href="https://leetcode.com/submissions/detail/802724993/" rel="noopener ugc nofollow" target="_blank">é”™è¯¯ç­”æ¡ˆ</a></h2><p id="7d33" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">æˆ‘ç¡®ä¿¡ç©ºæ ¼éœ€è¦è¢«ä¸¢å¼ƒï¼Œå¹¶ä¸”æ•°å­—å¯ä»¥å¤§äº1ï¼Œæ‰€ä»¥æˆ‘å°†è·Ÿè¸ªä¸€ä¸ªä¸´æ—¶å˜é‡ä¸­çš„æ•°å­—ï¼Œå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹å°†è·Ÿè¸ªæ“ä½œç¬¦'+'æˆ–'-'ã€‚</p><p id="76bc" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è¿™å°±æ˜¯æˆ‘çš„è§£å†³æ–¹æ¡ˆç®€å•ï¼Œå¹²å‡€ï¼Œç”œèœœï¼Œç›´åˆ°æˆ‘æäº¤å®ƒã€‚</p><pre class="lo lp lq lr fd ls lm lt lu aw lv bi"><span id="5032" class="lw ju hi lm b fi lx ly l lz ma">class Solution {<br/>    public int calculate(String s) {<br/>        // ignore space and brackets<br/>        // care about only digits and '+' and '-'<br/>        int temp = 0;<br/>        int result = 0;<br/>        int plusSign = 1;<br/>        for(char x: s.toCharArray()) {<br/>            if(x == '+' || x == '-') {<br/>                result += (plusSign)*temp;<br/>                plusSign = (x=='+') ? 1 : -1;<br/>                temp = 0;<br/>            } else if(x &gt;= '0' &amp;&amp; x &lt;= '9') {<br/>                temp = 10*temp + (x-'0');<br/>            }<br/>        }<br/>        result += (plusSign*temp);<br/>        return result;<br/>    }<br/>}</span></pre><h2 id="8027" class="lw ju hi bd jv mw mx my jz mz na nb kd jg nc nd kf jk ne nf kh jo ng nh kj ni bi translated">è§£å†³æ–¹æ¡ˆ#2 [ 09/18/2022 13:43 <a class="ae nj" href="https://leetcode.com/submissions/detail/802728571/" rel="noopener ugc nofollow" target="_blank">é”™è¯¯ç­”æ¡ˆ</a></h2><p id="f566" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">å½“æˆ‘æ‰§è¡Œè§£å†³æ–¹æ¡ˆ#1æ—¶ï¼Œæˆ‘å¾—åˆ°äº†ä»¥ä¸‹æƒ…å†µçš„é”™è¯¯ç­”æ¡ˆ</p><figure class="lo lp lq lr fd mq er es paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="er es nk"><img src="../Images/a312b2d1b6e466a6320d40b8c1e612f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m6mEL8d0DWFXWJ-Bw7OipQ.png"/></div></div></figure><p id="b810" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">äºæ˜¯æˆ‘æ·±å¸ä¸€å£æ°”ï¼Œå¿ƒæƒ³ä½œä¸ºä¸€åæ•°å­¦ç³»çš„å­¦ç”Ÿï¼Œæˆ‘æ€ä¹ˆèƒ½å¿˜è®°è¿™ä¸ªæ¡ˆä¾‹å‘¢ï¼Ÿ</p><p id="f4bc" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç„¶åæˆ‘ä¿®æ”¹äº†æˆ‘çš„ä»£ç ï¼Œé€šè¿‡æ£€æŸ¥æ‹¬å·å‰çš„ç¬¦å·ï¼Œå¦‚æœæ‹¬å·å‰çš„ç¬¦å·æ˜¯è´Ÿå·ï¼Œæˆ‘ä¼šæŠŠæ‰€æœ‰çš„å†…éƒ¨ç¬¦å·åè¿‡æ¥ï¼Œå¦‚æœæ˜¯è´Ÿå·ï¼Œæˆ‘ä¼šæŠŠå®ƒå½“ä½œæ­£å·ï¼Œå¦‚æœæ˜¯æ­£å·ï¼Œæˆ‘ä¼šæŠŠå®ƒå½“ä½œè´Ÿå·ã€‚</p><p id="7d71" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç„¶åæˆ‘å†™äº†è¿™ä¸ªç®€å•ã€å¹²å‡€ã€è´¹åŠ›çš„ä»£ç ï¼Œç›´åˆ°æˆ‘æäº¤äº†å®ƒã€‚</p><pre class="lo lp lq lr fd ls lm lt lu aw lv bi"><span id="59ae" class="lw ju hi lm b fi lx ly l lz ma">class Solution {<br/>    public int calculate(String s) {<br/>        int temp = 0;<br/>        int result = 0;<br/>        int plusSign = 1;<br/>        boolean invertMode = false;<br/>        for(char x: s.toCharArray()) {<br/>            if(x == '+' || x == '-') {<br/>                result += (plusSign)*temp;<br/>                plusSign = (x=='+') ? 1 : -1;<br/>                if(invertMode) plusSign *= -1;<br/>                temp = 0;<br/>            } else if(x &gt;= '0' &amp;&amp; x &lt;= '9') {<br/>                temp = 10*temp + (x-'0');<br/>            } else if(x == '(') {<br/>                if(plusSign == -1) invertMode = true;<br/>                else invertMode = false;<br/>            } else if(x == ')') {<br/>                invertMode = false;<br/>            }<br/>        }<br/>        result += (plusSign*temp);<br/>        return result;<br/>    }<br/>}</span></pre><h2 id="e38a" class="lw ju hi bd jv mw mx my jz mz na nb kd jg nc nd kf jk ne nf kh jo ng nh kj ni bi translated">è§£å†³æ–¹æ¡ˆ# 3[2022å¹´9æœˆ18æ—¥13æ—¶47åˆ†<a class="ae nj" href="https://leetcode.com/submissions/detail/802730675/" rel="noopener ugc nofollow" target="_blank">å·²æ¥å—</a></h2><p id="fdcf" class="pw-post-body-paragraph ix iy hi iz b ja kl ij jc jd km im jf jg kn ji jj jk ko jm jn jo kp jq jr js hb bi translated">çŒœçŒœæˆ‘å¾—åˆ°äº†ä»€ä¹ˆï¼Ÿ</p><figure class="lo lp lq lr fd mq er es paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="er es nk"><img src="../Images/1b81f536aee9df24e1536b7e6b888afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a9R99vxnRBzf7tw1oFuIBA.png"/></div></div></figure><p id="2031" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åœ¨ä¸¤æ¬¡å¿«é€Ÿå°è¯•åï¼Œæˆ‘å¯¹è‡ªå·±çš„ç¼–ç æŠ€èƒ½äº§ç”Ÿäº†ä¸€äº›æ€€ç–‘ï¼Œä½†éšåæˆ‘æ„è¯†åˆ°åº”è¯¥å—åˆ°æŒ‡è´£çš„æ˜¯æˆ‘çš„æ•°å­¦æŠ€èƒ½ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰è€ƒè™‘åµŒå¥—æ‹¬å·ã€‚</p><pre class="lo lp lq lr fd ls lm lt lu aw lv bi"><span id="ab3b" class="lw ju hi lm b fi lx ly l lz ma">ğŸ’¡ <strong class="lm hj">Whenever you have to deal with nested brackets then Stack is what you are looking for.</strong></span></pre><p id="973c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æ‰€ä»¥æˆ‘å–äº†ä¸€ä¸ªå †æ ˆï¼Œå¹¶æŠŠæŒ‡ç¤ºç¬¦å·æ˜¯å¦åè½¬çš„å¸ƒå°”å€¼å‹å…¥ï¼Œå½“é‡åˆ°å³æ‹¬å·æ—¶å¼¹å‡ºã€‚</p><p id="1868" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç„¶åæˆ‘ä¿®æ”¹ä»£ç ï¼Œç„¶åæ‰§è¡Œè¿™ä¸ªå¤æ‚çš„sh*tä»£ç ã€‚</p><pre class="lo lp lq lr fd ls lm lt lu aw lv bi"><span id="d6f3" class="lw ju hi lm b fi lx ly l lz ma">class Solution {<br/>    public int calculate(String s) {<br/>        int temp = 0;<br/>        int result = 0;<br/>        int plusSign = 1;<br/>        Stack&lt;Boolean&gt; stack = new Stack&lt;&gt;();<br/>        for(char x: s.toCharArray()) {<br/>            if(x == '+' || x == '-') {<br/>                result += (plusSign)*temp;<br/>                plusSign = (x=='+') ? 1 : -1;<br/>                if(!stack.isEmpty() &amp;&amp; stack.peek()) plusSign *= -1;<br/>                temp = 0;<br/>            } else if(x &gt;= '0' &amp;&amp; x &lt;= '9') {<br/>                temp = 10*temp + (x-'0');<br/>            } else if(x == '(') {<br/>                if(plusSign == -1) {<br/>                    stack.push(true);<br/>                } else {<br/>                    stack.push(false);<br/>                }<br/>            } else if(x == ')') {<br/>                stack.pop();<br/>            }<br/>        }<br/>        result += (plusSign*temp);<br/>        return result;<br/>    }<br/>}</span></pre><p id="44ab" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">çŒœçŒœæˆ‘å¾—åˆ°äº†ä»€ä¹ˆï¼Ÿ</p><p id="8ef2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">å‘€ï¼ä½ çŒœå¯¹äº†ï¼Œèªæ˜çš„å­©å­ã€‚(æˆ‘çŸ¥é“ä½ çœ‹è¿‡æ ‡é¢˜)</p><figure class="lo lp lq lr fd mq er es paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="er es nk"><img src="../Images/fd80e11de4184247131d63fa8119ed8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5zvaZcWAwaJxDCynN2qWxg.png"/></div></div></figure><p id="6520" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æˆ‘æ·±å¸ä¸€å£æ°”ï¼Œæ‰“å¼€åª’ä½“å‘Šè¯‰ä½ ä»¬æ•´ä¸ªæ•…äº‹ï¼Œæˆ‘çš„æ„æ€æ˜¯æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆå®ƒè¢«æ ‡è®°ä¸ºéš¾é¢˜ï¼Œå¯èƒ½æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨åŒ†å¿™ä¸­é”™è¿‡äº†æ„šè ¢çš„é”™è¯¯æˆ–è¾¹ç¼˜æƒ…å†µã€‚</p><p id="1ed1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è°åœ¨ä¹(æˆ‘ä¸æ˜¯åœ¨é¢è¯•)ï¼Ÿæˆ‘è§£å†³äº†é—®é¢˜ï¼ï¼ï¼</p><p id="51d0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ä¸‹é¢æ˜¯æˆ‘çš„ä»£ç ï¼Œç»è¿‡ä¸€äº›å·§å¦™çš„ä»£ç ä¼˜åŒ–ï¼Œä½¿ä»£ç å˜å¾—å¹²å‡€ã€‚</p><ol class=""><li id="1a5d" class="mb mc hi iz b ja jb jd je jg md jk me jo mf js nl mh mi mj bi translated">é¦–å…ˆï¼Œæˆ‘åˆ é™¤äº†å¯¹ç©ºå †æ ˆçš„æ£€æŸ¥ï¼Œæ‰€ä»¥æˆ‘æ¨1å€¼ã€‚</li><li id="df42" class="mb mc hi iz b ja mk jd ml jg mm jk mn jo mo js nl mh mi mj bi translated">æˆ‘æ¨çš„æ˜¯æ•´æ•°å€¼è€Œä¸æ˜¯å¸ƒå°”å€¼ã€‚</li></ol><pre class="lo lp lq lr fd ls lm lt lu aw lv bi"><span id="d56a" class="lw ju hi lm b fi lx ly l lz ma">class Solution {<br/>    public int calculate(String s) {<br/>        <br/>        int temp = 0;<br/>        int result = 0;<br/>        int plusSign = 1;<br/>        <br/>        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();<br/>        stack.push(1);<br/>        <br/>        for(char x: s.toCharArray()) {<br/>            if(x == '+' || x == '-') {<br/>                result += (plusSign)*temp;<br/>                plusSign = stack.peek() * (x=='+' ? 1 : -1);<br/>                temp = 0;<br/>            } else if(x &gt;= '0' &amp;&amp; x &lt;= '9') {<br/>                temp = 10*temp + (x-'0');<br/>            } else if(x == '(') {<br/>                stack.push(plusSign);<br/>            } else if(x == ')') {<br/>                stack.pop();<br/>            }<br/>        }<br/>        <br/>        result += (plusSign*temp);<br/>        return result;<br/>    }<br/>}</span></pre><p id="18d2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æ‰€ä»¥å¦‚æœä½ ä¸€ç›´è¯»åˆ°æœ€åï¼Œè¯·æŠ•èµæˆç¥¨ï¼Œè¿™æ ·æˆ‘å°±èƒ½çŸ¥é“ä½ ä»¬ä¸­æœ‰å¤šå°‘äººå’Œæˆ‘ä¸€èµ·è¯»åˆ°æœ€åã€‚</p><h2 id="67c0" class="lw ju hi bd jv mw mx my jz mz na nb kd jg nc nd kf jk ne nf kh jo ng nh kj ni bi translated">è°¢è°¢å„ä½ã€‚ï¼ï¼</h2><h2 id="de8c" class="lw ju hi bd jv mw mx my jz mz na nb kd jg nc nd kf jk ne nf kh jo ng nh kj ni bi translated">ç¥ä½ å‘¨æ—¥æ„‰å¿«ï¼ï¼ï¼</h2></div></div>    
</body>
</html>