<html>
<head>
<title>Helm â€” Variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">èˆµ-å˜é‡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/helm-variables-df1dca52ed46?source=collection_archive---------2-----------------------#2022-10-14">https://medium.com/codex/helm-variables-df1dca52ed46?source=collection_archive---------2-----------------------#2022-10-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="7f65" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">èˆµæ¨¡æ¿å˜é‡æ¦‚è¿°</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/60338065d46688a6f3b2446425c9d820.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x1QAyBxR-Dl-AZ-G"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">Vishnu Mohanan åœ¨<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šæ‹æ‘„çš„ç…§ç‰‡</figcaption></figure><p id="0b53" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">åœ¨<strong class="jq hj">èˆµ</strong>æ¨¡æ¿ä¸­ï¼Œå˜é‡çš„ä½¿ç”¨é¢‘ç‡è¾ƒä½ã€‚ä½†æ˜¯æˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•ä½¿ç”¨å®ƒä»¬æ¥ç®€åŒ–ä»£ç ï¼Œå¹¶æ›´å¥½åœ°åˆ©ç”¨<code class="du kk kl km kn b">with</code>å’Œ<code class="du kk kl km kn b">range</code>ã€‚</p><p id="ae27" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">è¦æ·±å…¥äº†è§£<code class="du kk kl km kn b">with</code>å’Œ<code class="du kk kl km kn b">range</code>è¯·é˜…è¯»æœ¬æ–‡:<a class="ae jn" rel="noopener" href="/@shamimice03/helm-flow-control-a085a67f22e"> <strong class="jq hj">èˆµâ€”æµé‡æ§åˆ¶</strong> </a></p><h2 id="68df" class="ko kp hi bd kq kr ks kt ku kv kw kx ky jx kz la lb kb lc ld le kf lf lg lh li bi translated"><strong class="ak">å˜é‡åˆå§‹åŒ–:</strong></h2><pre class="iy iz ja jb fd lj kn lk ll aw lm bi"><span id="ee95" class="ko kp hi kn b fi ln lo l lp lq"><strong class="kn hj">{{- $namespace := .Release.Namespace -}}</strong></span></pre><h2 id="13b3" class="ko kp hi bd kq kr ks kt ku kv kw kx ky jx kz la lb kb lc ld le kf lf lg lh li bi translated">â€œwithâ€ä¸­å˜é‡çš„ç”¨æ³•:</h2><p id="4d93" class="pw-post-body-paragraph jo jp hi jq b jr lr ij jt ju ls im jw jx lt jz ka kb lu kd ke kf lv kh ki kj hb bi translated">åœ¨<a class="ae jn" rel="noopener" href="/@shamimice03/helm-flow-control-a085a67f22e">Helmâ€”Flow Control</a><strong class="jq hj"/>æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°ä¸‹é¢çš„ä»£ç ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯:</p><pre class="iy iz ja jb fd lj kn lk ll aw lm bi"><span id="e28a" class="ko kp hi kn b fi ln lo l lp lq">{{- with .Values.configMap.data.conf }}<br/>  operating-system: {{ .os }}<br/>  database-name: {{ .database }}<br/><strong class="kn hj">  k8s-namespace: {{ .Release.Namespace }}<br/></strong>{{- end }}</span></pre><p id="101f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><code class="du kk kl km kn b">Release.Namespace</code>ä¸åœ¨<code class="du kk kl km kn b">with</code>åŒºå—é™å®šçš„èŒƒå›´å†…ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªæ–¹æ³•æ˜¯åœ¨Releaseå¯¹è±¡å‰é¢ä½¿ç”¨<strong class="jq hj"> $ </strong>ç¬¦å·ã€‚å› ä¸ºæ ¹ä½œç”¨åŸŸä¹Ÿç”±<strong class="jq hj"> $ </strong>ç¬¦å·è¡¨ç¤ºã€‚å¦‚æœæˆ‘ä»¬å°†ä»£ç æ”¹ä¸º<code class="du kk kl km kn b">$.Release.Namespace</code>ï¼Œé‚£ä¹ˆé—®é¢˜å°†ä¼šå¾—åˆ°è§£å†³ã€‚</p><p id="0227" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">æˆ–è€…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<strong class="jq hj">å˜é‡è§£å†³ä¸Šè¿°é—®é¢˜ã€‚</strong></p><pre class="iy iz ja jb fd lj kn lk ll aw lm bi"><span id="2ed6" class="ko kp hi kn b fi ln lo l lp lq"><strong class="kn hj">{{- $namespace := .Release.Namespace -}}</strong><br/>{{- <strong class="kn hj">with</strong> .Values.configMap.data.conf }}<br/>  operating-system: {{ .os }}<br/>  database-name: {{ .database }}<br/><strong class="kn hj">  namespace: {{ $namespace }}<br/></strong>{{- end }}</span></pre><p id="2bba" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">åœ¨ä¸Šé¢çš„æ¼”ç¤ºä¸­ï¼Œåœ¨å®šä¹‰<code class="du kk kl km kn b">with</code>å—ä¹‹å‰ï¼Œæˆ‘ä»¬æŒ‡å®šäº†<code class="du kk kl km kn b">$namespace := .Release.Namespace</code>ã€‚ç„¶åï¼Œåœ¨<code class="du kk kl km kn b">with</code>å—ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code class="du kk kl km kn b">$namespace</code>å˜é‡ï¼Œå› ä¸ºå®ƒä»ç„¶æŒ‡å‘å‘å¸ƒåç§°ç©ºé—´ã€‚</p><h2 id="4318" class="ko kp hi bd kq kr ks kt ku kv kw kx ky jx kz la lb kb lc ld le kf lf lg lh li bi translated">â€œèŒƒå›´â€å†…å˜é‡çš„ä½¿ç”¨:</h2><p id="0f64" class="pw-post-body-paragraph jo jp hi jq b jr lr ij jt ju ls im jw jx lt jz ka kb lu kd ke kf lv kh ki kj hb bi translated">å˜é‡åœ¨<code class="du kk kl km kn b">range</code>å¾ªç¯ä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚å®ƒä»¬å¯ä»¥åœ¨ç±»ä¼¼åˆ—è¡¨çš„å¯¹è±¡ä¸Šä½¿ç”¨ï¼Œä»¥æ•è·<strong class="jq hj">ç´¢å¼•</strong>å’Œ<strong class="jq hj">å€¼</strong>:</p><p id="92ac" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">å‡è®¾æˆ‘ä»¬æœ‰åŒ…å«ä»¥ä¸‹æ¡ç›®çš„<strong class="jq hj"> values.yaml </strong>æ–‡ä»¶:</p><pre class="iy iz ja jb fd lj kn lk ll aw lm bi"><span id="7dc5" class="ko kp hi kn b fi ln lo l lp lq"><strong class="kn hj"># values.yaml</strong></span><span id="ab2c" class="ko kp hi kn b fi lw lo l lp lq">configMap:<br/>  data:<br/>    platfrom:<br/>     - java<br/>     - python<br/>     - golang</span></pre><p id="80e9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">æˆ‘ä»¬æƒ³è¦ç”Ÿæˆä¸€ä¸ª<strong class="jq hj">é…ç½®æ˜ å°„</strong>æ¸…å•æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="iy iz ja jb fd lj kn lk ll aw lm bi"><span id="d4fd" class="ko kp hi kn b fi ln lo l lp lq">apiVersion: v1<br/>kind: ConfigMap<br/>metadata:<br/>  name: release-name-configmap<br/><strong class="kn hj">data: <br/>  0 : "java" <br/>  1 : "python" <br/>  2 : "golang"</strong></span></pre><p id="d9c9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">ä¸ºäº†ç”Ÿæˆå¦‚ä¸Šæ‰€ç¤ºçš„æ¸…å•æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€èµ·ä½¿ç”¨<code class="du kk kl km kn b">range</code>å’Œ<strong class="jq hj">å˜é‡</strong>æ¥ç¼–å†™ä¸€ä¸ª<strong class="jq hj"> configmap.yaml </strong>æ¨¡æ¿æ–‡ä»¶:</p><pre class="iy iz ja jb fd lj kn lk ll aw lm bi"><span id="6d87" class="ko kp hi kn b fi ln lo l lp lq"><strong class="kn hj"># configmap.yaml</strong></span><span id="1bc6" class="ko kp hi kn b fi lw lo l lp lq">apiVersion: v1<br/>kind: ConfigMap<br/>metadata:<br/>  name: {{ .Release.Name }}-configmap<br/>data:  <br/>  {{- <strong class="kn hj">range </strong>$index, $value := .Values.configMap.data.platfrom }} <br/><strong class="kn hj">  {{ $index }} : {{ $value | quote }} </strong><br/>  {{- end }}</span></pre><p id="15b1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">å¯¹äºæ—¢æœ‰ä¸€ä¸ª<strong class="jq hj">é”®</strong>åˆæœ‰ä¸€ä¸ª<strong class="jq hj">å€¼</strong>çš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="du kk kl km kn b">range</code>æ¥è·å¾—ä¸¤è€…ã€‚</p><p id="2f86" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">å‡è®¾ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºKubernetes <strong class="jq hj"> Secrets </strong>å¯¹è±¡ç¼–å†™ä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶ã€‚ç›®å‰ï¼Œæˆ‘ä»¬åœ¨<strong class="jq hj"> values.yaml </strong>æ–‡ä»¶ä¸­æœ‰ä»¥ä¸‹æ¡ç›®:</p><pre class="iy iz ja jb fd lj kn lk ll aw lm bi"><span id="255c" class="ko kp hi kn b fi ln lo l lp lq"><strong class="kn hj"># values.yaml</strong></span><span id="d9e2" class="ko kp hi kn b fi lw lo l lp lq">secrets:<br/>  db:<br/>    MYSQL_USER: admin<br/>    MYSQL_PASSWORD: Admin@123</span></pre><p id="f587" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">åœ¨Kubernetes <strong class="jq hj"> Secrets </strong>ä¸­ï¼Œ<code class="du kk kl km kn b">data</code>å­—æ®µä¸­æ‰€æœ‰é”®çš„å€¼å¿…é¡»æ˜¯<strong class="jq hj"> base64ç¼–ç çš„</strong>å­—ç¬¦ä¸²ã€‚è¦æ·±å…¥äº†è§£Kubernetesçš„ç§˜å¯†ï¼Œè¯·é˜…è¯»æœ¬æ–‡:<a class="ae jn" href="https://faun.pub/secrets-kubernetes-298ea8dd9911" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj">ç§˜å¯†</strong> </a></p><p id="a47a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">æˆ‘ä»¬å¸Œæœ›ç”Ÿæˆä¸€ä¸ªKubernetesç§˜å¯†æ¸…å•æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="iy iz ja jb fd lj kn lk ll aw lm bi"><span id="e433" class="ko kp hi kn b fi ln lo l lp lq">apiVersion: v1<br/>kind: Secret<br/>metadata:<br/>  creationTimestamp: "2022-10-12T04:11:18Z"<br/>  name: mysql-secret<br/>  namespace: default<br/>  resourceVersion: "11349"<br/>  uid: 85dec499-2744-4062-9deb-1e9f1dd71fb6<br/>type: Opaque<br/><strong class="kn hj">data:<br/>  MYSQL_PASSWORD : QWRtaW5AMTIz<br/>  MYSQL_USER : YWRtaW4=</strong></span></pre><p id="9222" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">è¦ç”Ÿæˆå¦‚ä¸Šæ‰€ç¤ºçš„æ¸…å•æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åˆ›å»ºä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶:</p><pre class="iy iz ja jb fd lj kn lk ll aw lm bi"><span id="4870" class="ko kp hi kn b fi ln lo l lp lq"><strong class="kn hj"># secretes.yaml</strong></span><span id="e68e" class="ko kp hi kn b fi lw lo l lp lq">apiVersion: v1<br/>kind: Secret<br/>metadata:<br/>  creationTimestamp: "2022-10-12T04:11:18Z"<br/>  name: mysql-secret<br/>  namespace: default<br/>  resourceVersion: "11349"<br/>  uid: 85dec499-2744-4062-9deb-1e9f1dd71fb6<br/>type: Opaque<br/>data:<br/><strong class="kn hj">  {{- range $key, $value := .Values.secrets.db }}<br/>  {{ $key }} : {{ $value | b64enc }}<br/>  {{- end }}</strong></span></pre><p id="fe7d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">æ³¨æ„ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸¤ä¸ªå˜é‡<code class="du kk kl km kn b">$key</code>å’Œ<code class="du kk kl km kn b">$value</code>æ¥ä»é©»ç•™åœ¨<strong class="jq hj"> values.yaml </strong>æ–‡ä»¶ä¸­çš„<code class="du kk kl km kn b">.Values.secretes.db</code>å¯¹è±¡è·å–é”®å’Œå€¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨äº†<code class="du kk kl km kn b">b64enc</code>å‡½æ•°å°†æ˜æ–‡è½¬æ¢ä¸º<strong class="jq hj"> base64ç¼–ç çš„</strong>æ ¼å¼ã€‚</p></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><blockquote class="me mf mg"><p id="fc10" class="jo jp mh jq b jr js ij jt ju jv im jw mi jy jz ka mj kc kd ke mk kg kh ki kj hb bi translated">æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ ç†è§£å¦‚ä½•åœ¨helmæ¨¡æ¿æ–‡ä»¶ä¸­ä½¿ç”¨å˜é‡ã€‚</p><p id="c432" class="jo jp mh jq b jr js ij jt ju jv im jw mi jy jz ka mj kc kd ke mk kg kh ki kj hb bi translated"><em class="hi">å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¾ˆæœ‰å¸®åŠ©ï¼Œè¯·</em> <strong class="jq hj"> <em class="hi">åˆ«å¿˜äº†</em> </strong> <em class="hi">å»ç‚¹å‡»</em> <strong class="jq hj"> <em class="hi">æ‹æ‹</em></strong><em class="hi"/><strong class="jq hj"><em class="hi">è·Ÿç€</em> </strong> <em class="hi">æŒ‰é’®å¸®æˆ‘å†™æ›´å¤šè¿™æ ·çš„æ–‡ç« ã€‚<br/>è°¢è°¢ğŸ–¤ </em></p></blockquote></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><h2 id="925c" class="ko kp hi bd kq kr ks kt ku kv kw kx ky jx kz la lb kb lc ld le kf lf lg lh li bi translated">å‚è€ƒ</h2><div class="ml mm ez fb mn mo"><a href="https://helm.sh/docs/chart_template_guide/variables/" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab dw"><div class="mq ab mr cl cj ms"><h2 class="bd hj fi z dy mt ea eb mu ed ef hh bi translated">å˜é‡</h2><div class="mv l"><h3 class="bd b fi z dy mt ea eb mu ed ef dx translated">æœ‰äº†å‡½æ•°ã€ç®¡é“ã€å¯¹è±¡å’Œæ§åˆ¶ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥è½¬å‘ä¸€ä¸ªæ›´åŸºæœ¬çš„æ¦‚å¿µâ€¦</h3></div><div class="mw l"><p class="bd b fp z dy mt ea eb mu ed ef dx translated">helm.sh</p></div></div><div class="mx l"><div class="my l mz na nb mx nc jh mo"/></div></div></a></div></div></div>    
</body>
</html>