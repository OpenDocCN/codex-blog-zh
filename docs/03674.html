<html>
<head>
<title>What Exactly Are HTTP Cookies?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">HTTP Cookies到底是什么？</h1>
<blockquote>原文：<a href="https://medium.com/codex/what-exactly-are-http-cookies-3d58b5386ebb?source=collection_archive---------3-----------------------#2021-09-15">https://medium.com/codex/what-exactly-are-http-cookies-3d58b5386ebb?source=collection_archive---------3-----------------------#2021-09-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/91278c8cc6710d08ef25ce4262eb1e5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YJI8QG3-485Xfs5NTDmyhQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者通过<a class="ae iu" href="https://www.canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a>拍摄的照片</figcaption></figure><p id="4a28" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当我们访问一些网站时，我们都有过面对提示要求我们接受cookies的糟糕经历。<em class="jt">为什么</em>他们要征得我们的同意？<em class="jt">饼干到底是什么</em>？为什么说是一件大事呢？好了，这些问题你看完这篇文章就会找到答案了。</p><p id="d2d0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">HTTP Cookie基本上是一小段数据，服务器发送给我们的浏览器，浏览器保存它们。然后，每当您向同一台服务器发出后续请求时，这些cookie信息都会由我们的浏览器传递给服务器，以使请求更加个性化，因为<em class="jt"> HTTP </em>是无状态的<em class="jt"/>。Cookies为无聊无状态的HTTP协议提供了一种状态。</p><p id="876f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">cookies有几个用途:</p><h2 id="4673" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">1.会话管理。</h2><p id="2a3f" class="pw-post-body-paragraph iv iw hi ix b iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">我的意思是。如今，在许多在线零售网站上，你可以在不登录或创建账户的情况下向购物车添加商品。如果您离开网站并再次回来，您仍然可以看到您的购物车信息。这些细节显然不是来自数据库(您甚至没有登录)。那里面到底发生了什么？在会话的帮助下，这些信息被暂时保存在服务器中。Cookies使这一过程成为可能。</p><h2 id="b5ce" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">2.个性化。</h2><p id="7e0f" class="pw-post-body-paragraph iv iw hi ix b iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">有时我们访问网站，我们选择黑色主题作为我们的偏好。然后你合上标签，忘记这一切。几周后，你可能会再次访问同一个网站，发现你选择的偏好仍然有效，网站处于黑暗模式。这是一个小例子，说明了cookies的功能。假设我们做了一个选择。然后服务器做的是，它发出包含我们偏好的cookies。然后我们的浏览器会存储它，当你决定再次访问同一个网站时，它会在请求中附上你的偏好。</p><h2 id="951c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">3.追踪。</h2><p id="3396" class="pw-post-body-paragraph iv iw hi ix b iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">这是所有立法机构参与的地方，因为存在关于用户数据的隐私问题。由于cookies包含与用户兴趣、位置等相关的数据，它们可以用于跟踪或分析。这是不合法的，所以这就是为什么现代网站在对cookies做任何事情之前都要征得我们的同意。这就是我们访问网站时得到的提示。</p><h2 id="f164" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">用Express创建Cookies。</h2><p id="696d" class="pw-post-body-paragraph iv iw hi ix b iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">考虑下面的代码片段:</p><figure class="kv kw kx ky fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/77597c10932c161e8b2dca83ec023b4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*caqZiD6ntOiqGojB6XKZCA.jpeg"/></div></div></figure><p id="bc33" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在您访问之后，<a class="ae iu" href="http://localhost:3000/setname" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/setname</a>一次，就会从服务器发送一个将“<em class="jt"> name </em>”设置为“<em class="jt"> kitty </em>”的cookie，并存储在您的浏览器中。你可以在Chrome开发者工具的应用标签下查看cookie。</p><figure class="kv kw kx ky fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kz"><img src="../Images/e54f80f3f9c6f24c182fef68abc19c9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WsDA1s-R-FwySJma2vDpuw.jpeg"/></div></div></figure><p id="afc3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在对'/setname '的初始请求之后，对<a class="ae iu" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>的每个其他请求都将拥有预定义的cookie<em class="jt"/>，并且将随着每个请求被一次又一次地发送。这可能会<em class="jt">降低性能。</em></p><h2 id="9fa6" class="ju jv hi bd jw jx jy jz ka kb kc kd ke jg kf kg kh jk ki kj kk jo kl km kn ko bi translated">在Express中使用Cookies。</h2><p id="5aa3" class="pw-post-body-paragraph iv iw hi ix b iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo kt jq jr js hb bi translated">遗憾的是，您不能直接从express中的<em class="jt"> req </em>对象访问cookies。你必须安装<em class="jt"> </em> <a class="ae iu" href="https://www.npmjs.com/package/cookie-parser" rel="noopener ugc nofollow" target="_blank"> <em class="jt"> cookie解析器</em> </a>，以便访问存储在cookie中的任何数据。</p><p id="7409" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">考虑下面这个使用<em class="jt"> cookie解析器</em>解析cookie信息的例子。</p><figure class="kv kw kx ky fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es la"><img src="../Images/a083411602868401b64946ebb57ac33e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P0mAN80UJZD9xRrtgdUHOg.jpeg"/></div></div></figure><p id="f91d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对<a class="ae iu" href="http://localhost:3000/greet" rel="noopener ugc nofollow" target="_blank">http://localhost:3000/greet</a>的请求将发送一个带有存储在cookie中的名称的问候响应。在安装了<em class="jt"> cookie-parser </em>之后，名称被提取出来，并用于处理响应。</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><p id="bfdb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是一个快速进入HTTP cookies。下次见！编码快乐！</p></div></div>    
</body>
</html>