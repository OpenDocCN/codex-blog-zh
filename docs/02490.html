<html>
<head>
<title>Performing sentiment analysis on Amazon comments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">对亚马逊评论进行情感分析</h1>
<blockquote>原文：<a href="https://medium.com/codex/performing-sentiment-analysis-on-amazon-comments-a0cf00f59af?source=collection_archive---------23-----------------------#2021-07-22">https://medium.com/codex/performing-sentiment-analysis-on-amazon-comments-a0cf00f59af?source=collection_archive---------23-----------------------#2021-07-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="be9c" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用快速文本库预测亚马逊评论的评分</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/d119a2707318b3cb16d8468f1c70cb54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*H5bVCnNq9RcAYcbu"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">克里斯蒂安·威迪格在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="efe5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">目前，我正在进行一项实验，以发现我在亚马逊购物历史中可能存在的购买偏见，第一步是在产品评论中进行情感分析。为此我使用了<a class="ae jn" href="https://fasttext.cc/docs/en/supervised-tutorial.html" rel="noopener ugc nofollow" target="_blank">快速文本</a>库进行文本分类，这个模型的创建是基于这篇关于<a class="ae jn" href="https://www.kaggle.com/bittlingmayer/amazonreviews" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>的文章。</p><h2 id="1f5a" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated"><strong class="ak">检索数据</strong></h2><p id="a2fe" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">在Kaggle链接中，可以下载带有格式化数据的数据集，准备好训练模型。我不得不用西班牙语制作另一个数据集，因为我的账户大部分是西班牙语评论，因为它来自墨西哥。你可以在这里下载西班牙数据集<a class="ae jn" href="https://drive.google.com/file/d/1C4NM5jl60VS8h3Pk63EZSMN6EJhEwqBH/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="78d9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">要在快速文本中训练模型，您需要以下格式的数据:</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="3c5e" class="kk kl hi ll b fi lp lq l lr ls">__label__&lt;X&gt; __label__&lt;Y&gt; ... &lt;Text&gt;</span></pre><p id="8c26" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">基本上，在关键字“__label__”之后定义标签，在所有要定义的标签之后放置与之相关的文本。在这种情况下，我们有标签1，这意味着评价为1-2星，标签2，这意味着评价为4-5星。</p><p id="7c84" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为什么我们不包括3星级的文章？中性评论会影响我们模型的精度，因为它是情感分析。</p><h2 id="c3d3" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated"><strong class="ak">训练模型</strong></h2><p id="2399" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">为了训练我们的模型，我们将使用以下命令:</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="4436" class="kk kl hi ll b fi lp lq l lr ls">./fasttext supervised -input train.ft.txt -output model_amzn</span></pre><p id="5759" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这样我们就可以传递我们的train.ft.txt数据，并在model_amzon文件中创建我们的模型，监督标签告诉Fast Text我们将训练一个<a class="ae jn" href="https://www.sciencedirect.com/topics/computer-science/supervised-classification#:~:text=The%20goal%20of%20supervised%20classification,of%20guidance%20by%20the%20user." rel="noopener ugc nofollow" target="_blank">监督分类器</a>。</p><h2 id="ec27" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated"><strong class="ak">测试模型</strong></h2><p id="2bf1" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">为了测试我们的模型，我们首先需要看看它的准确性。我们将运行以下命令，用test.ft.txt数据测试我们的训练模型。这个文件包含我们的模型没有看到的数据，它将尝试预测它的标签。</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="23d9" class="kk kl hi ll b fi lp lq l lr ls">./fasttext test model_amzn.bin test.ft.txt</span></pre><p id="bbae" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Kaggle数据集的这个模型的精度是0.916，这非常酷，我们有一个非常可靠的模型，我们可以在快速文本中使用预测的标签来尝试它，这允许我们使用我们训练的模型来预测我们输入的一些文本的最可能的标签。我将使用亚马逊上关于Roomba清洁器的一些评论。</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="144c" class="kk kl hi ll b fi lp lq l lr ls">./fasttext predict model_amzn.bin -</span></pre><p id="c751" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">尝试一个非常明显的评论:</p><blockquote class="lt lu lv"><p id="622f" class="jo jp lw jq b jr js ij jt ju jv im jw lx jy jz ka ly kc kd ke lz kg kh ki kj hb bi translated"><strong class="jq hj">我讨厌它:这应该是一个自主助手，帮助我保持地板清洁。清洁部分实际上工作得很好。我注意到的第一件事是，对于这样一个小设备来说，它有多大声…..</strong></p></blockquote><p id="87eb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们得到了一个很好的预测标签1，意味着1-2颗星</p><blockquote class="lt lu lv"><p id="22f6" class="jo jp lw jq b jr js ij jt ju jv im jw lx jy jz ka ly kc kd ke lz kg kh ki kj hb bi translated"><strong class="jq hj">iRobot 675改变了我的生活。我是4个小孩的妈妈，住在一个1880平方英尺的房子里，房子坐落在一大片林地上。我的孩子经常在户外活动，会在各种各样的泥土、泥土、树叶、草地等上行走。我的丈夫，虽然我爱他，但他也有点邋遢，有一个坏习惯，不擦鞋子，还从他的项目中带进一吨锯屑。</strong></p></blockquote><p id="dd91" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">一个很好的预测，我们得到了标签2，意味着4-5颗星</p><p id="8d34" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">总的来说，我们将为我们的情感分析获得可靠的答案，只是请记住，当审查评论时，人们有时会给5颗星，并写道它很糟糕，所以如果你打算在这种领域使用它，请记住这一点，以消除你的模型中的噪音。</p></div></div>    
</body>
</html>