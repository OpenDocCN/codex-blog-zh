<html>
<head>
<title>React: How to create and use custom hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React:å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨å®šåˆ¶é’©å­</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/react-how-to-create-and-use-custom-hooks-aab531e5ddf9?source=collection_archive---------9-----------------------#2022-06-19">https://medium.com/codex/react-how-to-create-and-use-custom-hooks-aab531e5ddf9?source=collection_archive---------9-----------------------#2022-06-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7256" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é’©å­æ˜¯Reactä¸­æ‰§è¡Œå„ç§ä»»åŠ¡çš„å†…ç½®å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œ<code class="du jd je jf jg b">useState()</code>æŒ‚é’©ç”¨äºå­˜å‚¨å’Œè®¾ç½®ç»„ä»¶ä¸­çš„å€¼ï¼Œè€Œ<code class="du jd je jf jg b">useEffect()</code>æŒ‚é’©ä¼šåœ¨ä¾èµ–æ•°ç»„ä¸­çš„ä»»ä½•å€¼å‘ç”Ÿå˜åŒ–æ—¶å¯¼è‡´ç»„ä»¶é‡æ–°å‘ˆç°ï¼Œç­‰ç­‰ã€‚</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jh"><img src="../Images/13c28873176b6cc51ed71ebfd2a3ce02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WB88t0lXIjtM3cxxrX29QA.png"/></div></div></figure><p id="0c5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸åŒ…å«å¤æ‚åŠŸèƒ½çš„ç®€å•spaä¸éœ€è¦åç«¯æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ è®¾è®¡äº†ä¸€ä¸ªåº”ç”¨ç¨‹åºæ¥è·Ÿè¸ªç”¨æˆ·çš„å·¥èµ„å’Œæ”¯å‡ºï¼Œå¹¶è®¡ç®—ä»–ä»¬çš„ç¨æ”¶ï¼ŒReactåº”ç”¨ç¨‹åºæœ¬èº«å¯ä»¥ä¸ºä½ è®¡ç®—ã€‚</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="6cf5" class="jx jy hi jg b fi jz ka l kb kc">ğŸ’¡ <em class="kd">SPA = Single Page Application</em></span></pre><p id="458e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½†æ˜¯ï¼Œå› ä¸ºReactä¸»è¦æ˜¯ä¸€ä¸ªå‰ç«¯æ¡†æ¶ï¼Œä»»ä½•åç«¯é€»è¾‘ä¼¼ä¹éƒ½ä¸é€‚åˆå®ƒçš„æ¶æ„ï¼Œæ˜¾ç„¶æ‚¨åº”è¯¥é¿å…ä»£ç é‡å¤ä¹‹ç±»çš„ä»£ç å‘³é“â€”â€”è¿™å°±æ˜¯å®šåˆ¶é’©å­çš„ç”¨æ­¦ä¹‹åœ°ã€‚</p><p id="4cca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨ä½ çš„åº”ç”¨ä¸­ä½¿ç”¨å®šåˆ¶é’©å­çš„<strong class="ih hj">ä¸»è¦åŸå› </strong>æ˜¯å½“ä½ éœ€è¦<strong class="ih hj">å¼€å‘å¸¦æœ‰ç”Ÿæˆ<strong class="ih hj">æœ‰ä»·å€¼æ•°æ®</strong>çš„é€»è¾‘çš„æ¨¡å—</strong>æ—¶ã€‚ä¸å®é™…äº§å“å¯†åˆ‡ç›¸å…³çš„é€»è¾‘<strong class="ih hj">çš„è¾“å‡ºåœ¨è¿™é‡Œè¢«ç§°ä¸ºâ€œæœ‰ä»·å€¼çš„â€ã€‚</strong></p><p id="3eb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä»æ•°æ®æ•°ç»„ä¸­è¿‡æ»¤å‡ºä¸€äº›å…ƒç´ ï¼Œæ‚¨å¯ä»¥åœ¨ç»„ä»¶æ ‡é¢˜ä¸­ä½¿ç”¨å®ƒ:</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="9643" class="jx jy hi jg b fi jz ka l kb kc">â—ï¸ <strong class="jg hj">THIS IS NOT PRODUCT LOGIC, THIS IS SIMPLE UI LOGIC</strong></span><span id="784c" class="jx jy hi jg b fi ke ka l kb kc">const Component = () =&gt; {</span><span id="a8fc" class="jx jy hi jg b fi ke ka l kb kc">  const data = fetched data...<br/>  const filteredData = data.filter(item =&gt; item.id)</span><span id="7858" class="jx jy hi jg b fi ke ka l kb kc">  return(<br/>    &lt;div&gt;<br/>      {filteredData.map(item =&gt; (<br/>        &lt;p&gt;{item.name}&lt;/p&gt;<br/>      ))}<br/>    &lt;/div&gt;<br/>  )<br/>}</span><span id="2219" class="jx jy hi jg b fi ke ka l kb kc">export default Component</span></pre><p id="df2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½†æ˜¯ï¼Œå¦‚æœæ‚¨éœ€è¦è·å–æŸäº›ç”¨æˆ·æ•°æ®ï¼Œæ¯”å¦‚æ”¶å…¥å’Œæ”¯å‡ºï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºç¨æ”¶æ•°æ®ï¼Œå°±åƒä¸Šé¢çš„ä¾‹å­ä¸€æ ·ï¼Œè¿™å°†æ˜¯äº§å“é€»è¾‘ï¼Œæ‚¨éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰æŒ‚é’©ã€‚</p><p id="c7fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é¦–å…ˆï¼ŒæŠŠä½ çš„å®šåˆ¶é’©å­æ”¾åœ¨ä½ çš„åº”ç”¨ç¨‹åºçš„æ¶æ„ä¸­ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œç†æƒ³çš„ä½ç½®æ˜¯:</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="1f2b" class="jx jy hi jg b fi jz ka l kb kc">src/hooks</span></pre><p id="8496" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªè‡ªå®šä¹‰é’©å­æ–‡ä»¶ï¼Œå®ƒå°†ä¸ºæ‚¨è®¡ç®—ç¨æ¬¾:</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="435c" class="jx jy hi jg b fi jz ka l kb kc">src/hooks/useTax.ts</span></pre><p id="02fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å½“ç„¶ï¼Œæˆ‘ä»¬å°†åœ¨è¿™é‡Œä½¿ç”¨TypeScriptã€‚ä½ çš„å®šåˆ¶é’©å­å°†çœ‹èµ·æ¥åƒä»»ä½•å…¶ä»–å‡½æ•°Reactæ–‡ä»¶ï¼Œé™¤äº†å®ƒä¸è¿”å›JSXï¼Œå®ƒå°†è¿”å›æ•°æ®ã€‚</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="5226" class="jx jy hi jg b fi jz ka l kb kc">ğŸ’¡ <em class="kd">JSX = JavaScript XML, it allows us to write HTML in React</em></span></pre><p id="06cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸‹ä¸€æ­¥æ˜¯æ„å»º<code class="du jd je jf jg b">useTax()</code>é’©å­çš„åŸºæœ¬æ¡†æ¶:</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="a183" class="jx jy hi jg b fi jz ka l kb kc">âœ… <strong class="jg hj">THIS WILL BE YOUR PRODUCT LOGIC, SHOULD BE IN THE CUSTOM HOOK</strong></span><span id="9249" class="jx jy hi jg b fi ke ka l kb kc">const useTax = () =&gt; {<br/>  type Taxes = {<br/>    federal: number,<br/>    medicare: number,<br/>    socialSecurity: number<br/>  }<br/>  const [result, setResult] = useState&lt;Taxes | null&gt;(null)<br/>  return result<br/>}</span><span id="374f" class="jx jy hi jg b fi ke ka l kb kc">export default useTax</span></pre><p id="1384" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå…¨åŠŸèƒ½çš„å®šåˆ¶é’©å­ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•æƒ³ç”¨çš„åœ°æ–¹å¯¼å…¥å’Œä½¿ç”¨ï¼Œä½†æ˜¯æ²¡æœ‰æ•°æ®å’Œé€»è¾‘æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥è¡¥å……ä¸€äº›æ•°æ®å’Œè®¡ç®—:</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="34fd" class="jx jy hi jg b fi jz ka l kb kc">âœ… <strong class="jg hj">THIS IS YOUR FINAL PRODUCT LOGIC, SHOULD BE IN THE CUSTOM HOOK</strong></span><span id="80e5" class="jx jy hi jg b fi ke ka l kb kc">const useTax = () =&gt; {<br/>  type Taxes = {<br/>    federal: number,<br/>    medicare: number,<br/>    socialSecurity: number<br/>  }<br/>  const [result, setResult] = useState&lt;Taxes | null&gt;(null)</span><span id="99fb" class="jx jy hi jg b fi ke ka l kb kc">  const incomes = fetch incomes...<br/>  const expenses = fetch expenses...</span><span id="d534" class="jx jy hi jg b fi ke ka l kb kc">  useEffect(() =&gt; {<br/>    if (!incomes || !expenses) return setResult(null)<br/>    const federal = calculate federal tax...<br/>    const medicare = calculate medicare tax...<br/>    const socialSecurity = calculate social security tax...<br/>    setResult({ federal, medicare, socialSecurity })<br/>  }, [incomes, expenses])</span><span id="1a2a" class="jx jy hi jg b fi ke ka l kb kc">  return result<br/>}</span><span id="ac66" class="jx jy hi jg b fi ke ka l kb kc">export default useTax</span></pre><p id="6a8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™å°±æ˜¯å…¨éƒ¨äº†ã€‚æ‚¨å¯ä»¥åœ¨ä»»ä½•ç»„ä»¶ä¸­å•ç‹¬ä½¿ç”¨å¯¼å…¥çš„é’©å­ï¼Œå› ä¸ºå®ƒè´Ÿè´£è·å–æ•°æ®ï¼Œè®¡ç®—ä¸åŒçš„å€¼ï¼Œå¹¶ç”¨<code class="du jd je jf jg b">useEffect()</code>æ›´æ–°å®ƒä»¬ã€‚</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="5bae" class="jx jy hi jg b fi jz ka l kb kc">âœ… <strong class="jg hj">NONE OF THE PRODUCT LOGIC IMPLEMENTED IN THE UI COMPONENT</strong></span><span id="6506" class="jx jy hi jg b fi ke ka l kb kc">import useTax from "../hooks/useTax"</span><span id="b1d5" class="jx jy hi jg b fi ke ka l kb kc">const Component = () =&gt; {</span><span id="7b3d" class="jx jy hi jg b fi ke ka l kb kc">  const taxes = useTax()</span><span id="3f8b" class="jx jy hi jg b fi ke ka l kb kc">  return(<br/>    &lt;div&gt;<br/>      &lt;p&gt;Federal tax: {taxes.federal} USD&lt;/p&gt;<br/>      &lt;p&gt;Medicare tax: {taxes.medicare} USD&lt;/p&gt;<br/>      &lt;p&gt;Social security tax: {taxes.socialSecurity} USD&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  )</span><span id="cd84" class="jx jy hi jg b fi ke ka l kb kc">}</span><span id="11d7" class="jx jy hi jg b fi ke ka l kb kc">export default Component</span></pre></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><p id="ccd3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ğŸ‘‹æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ å¯»æ‰¾æ–°çš„å­¦ä¹ ææ–™æœ‰ç”¨ã€‚æ„Ÿè°¢æ‚¨èŠ±æ—¶é—´é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼</p><p id="b1d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½ å¯ä»¥è¯·æˆ‘å–æ¯å’–å•¡æ¥æ”¯æŒæˆ‘:https://www.buymeacoffee.com/daanworks</p><p id="d646" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ğŸ“¯è®¢é˜…æˆ‘çš„ç”µå­é‚®ä»¶åˆ—è¡¨ï¼Œå¦‚æœä½ æƒ³åœ¨æœªæ¥è¯»åˆ°æ›´å¤šè¿™æ ·çš„æ•…äº‹ï¼Œè¯·åœ¨è¿™é‡Œæˆ–åœ¨Twitterä¸Šå…³æ³¨æˆ‘ï¼</p></div></div>    
</body>
</html>