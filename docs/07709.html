<html>
<head>
<title>LeetCode 152. Maximum Product Subarray — Python Solution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">LeetCode 152。最大产品子阵列— Python解决方案</h1>
<blockquote>原文：<a href="https://medium.com/codex/leetcode-152-maximum-product-subarray-python-solution-f30f7c4e76f3?source=collection_archive---------3-----------------------#2022-06-23">https://medium.com/codex/leetcode-152-maximum-product-subarray-python-solution-f30f7c4e76f3?source=collection_archive---------3-----------------------#2022-06-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ded5" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">盲75 —编程和技术面试问题—解释系列</h2></div><h2 id="cf96" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">问题是:</h2><p id="4fb3" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">给定一个整数数组<strong class="jx hj"> <em class="ko"> nums </em> </strong>，在该数组中找出一个具有最大乘积的连续非空子数组，并返回乘积。</p><p id="4922" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">子数组是数组的连续子序列。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ku"><img src="../Images/349202241df0f2410718a89c07ce8c06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZWQoEeyCcqOD10Jr.png"/></div></div></figure><h2 id="3800" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">示例:</h2><p id="d7d8" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated"><strong class="jx hj">例1: </strong></p><pre class="kv kw kx ky fd lg lh li lj aw lk bi"><span id="f0f4" class="ix iy hi lh b fi ll lm l ln lo"><strong class="lh hj">Input:</strong> nums = [2,3,-2,4]<br/><strong class="lh hj">Output:</strong> 6<br/><strong class="lh hj">Explanation:</strong> [2,3] has the largest product 6.</span></pre><p id="7d76" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated"><strong class="jx hj">例2: </strong></p><pre class="kv kw kx ky fd lg lh li lj aw lk bi"><span id="0119" class="ix iy hi lh b fi ll lm l ln lo"><strong class="lh hj">Input:</strong> nums = [-2,0,-1]<br/><strong class="lh hj">Output:</strong> 0<br/><strong class="lh hj">Explanation:</strong> The result cannot be 2, because [-2,-1] is not a subarray.</span></pre><h2 id="d66d" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">制约因素:</h2><ul class=""><li id="c027" class="lp lq hi jx b jy jz kb kc ji lr jm ls jq lt kn lu lv lw lx bi translated">答案将适合32位整数</li><li id="cbd7" class="lp lq hi jx b jy ly kb lz ji ma jm mb jq mc kn lu lv lw lx bi translated"><code class="du md me mf lh b">1 &lt;= <strong class="jx hj"><em class="ko">nums.length </em></strong>&lt;= 2 * 104</code></li><li id="4982" class="lp lq hi jx b jy ly kb lz ji ma jm mb jq mc kn lu lv lw lx bi translated"><code class="du md me mf lh b">-10 &lt;= <strong class="jx hj"><em class="ko">nums[i]</em></strong> &lt;= 10</code></li><li id="4394" class="lp lq hi jx b jy ly kb lz ji ma jm mb jq mc kn lu lv lw lx bi translated"><strong class="jx hj"> <em class="ko"> nums </em> </strong>的任何前缀或后缀的乘积<strong class="jx hj">保证</strong>适合一个<strong class="jx hj"> 32位</strong>整数。</li></ul><h2 id="90e4" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">解释是:</h2><p id="fec8" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">乍一看这似乎是一个超级简单的动态规划问题，将<strong class="jx hj"><em class="ko">DP【I】</em></strong>设置为<strong class="jx hj"><em class="ko">DP【I—1】* nums【I】</em></strong>和<strong class="jx hj"><em class="ko">nums【I】</em></strong>的最大值。然后跟踪最大乘积并返回。这种解决方案的问题在于<strong class="jx hj"> <em class="ko"> nums </em> </strong>中有负数。</p><p id="ab84" class="pw-post-body-paragraph jv jw hi jx b jy kp ij ka kb kq im kd ji kr kf kg jm ks ki kj jq kt kl km kn hb bi translated">为了解决这个问题，不使用数组来记录总数，而是记录三个数字:最大乘积、最小乘积和答案。你跟踪最小乘积的原因是因为这是一个负数，然后<strong class="jx hj"> <em class="ko"> nums </em> </strong>中的下一个数是另一个负数，将这两个相乘可能会得到一个比当前最大乘积更大的数。然后在计算了最大和最小乘积之后，将答案设置为它自身和当前最大乘积的最大值并返回。</p><h2 id="2b98" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">最大最小解— O(n)</h2><p id="fa12" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">初始化nums的第一个元素的最大、最小和答案。然后从1开始循环到nums的长度。在这个循环中，将一个临时变量设置为最大乘积，因为它将被改变并用于最小值的计算。然后将最大乘积设置为自身乘以nums[i]的最大值，乘以nums[i]的最小值，然后就nums[i]本身。现在至少。将其设置为自身乘以nums[i]的最小值，临时乘以nums[i]，然后再乘以nums[i]本身。现在设置了max和min，现在设置答案为自身的max和max乘积。在这个循环之后返回答案。</p><pre class="kv kw kx ky fd lg lh li lj aw lk bi"><span id="4c04" class="ix iy hi lh b fi ll lm l ln lo">class Solution:<br/> def maxProduct(self, nums: List[int]) -&gt; int:<br/>  max_prod, min_prod, ans = nums[0], nums[0], nums[0]<br/> <br/>  for i in range(1, len(nums)):<br/>   tmp = max_prod<br/>   max_prod = max(max_prod * nums[i], min_prod * nums[i], nums[i])<br/>   min_prod = min(tmp * nums[i], min_prod * nums[i], nums[i])<br/>   ans = max(ans, max_prod)</span><span id="dadf" class="ix iy hi lh b fi mg lm l ln lo">  return ans</span></pre><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es mh"><img src="../Images/9594bb4e8e334dc796174a83009c7d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/0*3FLW-EOhuXfY_Vth.png"/></div></figure><h1 id="748d" class="mi iy hi bd iz mj mk ml jd mm mn mo jh io mp ip jl ir mq is jp iu mr iv jt ms bi translated">信息:</h1><p id="a6bd" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">网址:<a class="ae mt" href="http://www.nkwade.dev/" rel="noopener ugc nofollow" target="_blank">nkwade . dev</a><br/>LinkedIn:<a class="ae mt" href="http://www.linkedin.com/in/nkwade/" rel="noopener ugc nofollow" target="_blank">linkedin.com/in/nkwade</a><br/>GitHub:<a class="ae mt" href="http://www.github.com/nkwade" rel="noopener ugc nofollow" target="_blank">github.com/nkwade</a><br/>邮箱:<a class="ae mt" href="mailto:nicholas@nkwade.dev" rel="noopener ugc nofollow" target="_blank"> nicholas@nkwade.dev </a></p></div></div>    
</body>
</html>