<html>
<head>
<title>Financial Charts and Visuals With Plotly in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的财务图表和视觉效果</h1>
<blockquote>原文：<a href="https://medium.com/codex/financial-charts-and-visuals-with-plotly-in-python-843ffa9341a9?source=collection_archive---------0-----------------------#2020-10-31">https://medium.com/codex/financial-charts-and-visuals-with-plotly-in-python-843ffa9341a9?source=collection_archive---------0-----------------------#2020-10-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/31594f2524a0cfce82cbd5ca9f16d4fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oxobtY560tzFUEUM.jpg"/></div></div></figure><h2 id="5188" class="hr hs ht bd b fp hu hv hw hx hy hz dx ia translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">法典</a></h2><div class=""/><div class=""><h2 id="4561" class="pw-subtitle-paragraph iz ic ht bd b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq dx translated">用Python中的Plotly实现代码更少的专业金融图表</h2></div><p id="f45b" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id">免责声明:</strong>本文纯属教育目的，不应被视为投资建议。</p><h1 id="5f77" class="kn ko ht bd kp kq kr ks kt ku kv kw kx ji ky jj kz jl la jm lb jo lc jp ld le bi translated">可视化的Plotly</h1><p id="8ec0" class="pw-post-body-paragraph jr js ht jt b ju lf jd jw jx lg jg jz ka lh kc kd ke li kg kh ki lj kk kl km hb bi translated">用于交互式可视化的最流行的软件包之一是Plotly。Plotly建立在python之上，使数据科学家能够用更少的代码生成专业且美观的图形。它之所以受欢迎，是因为它的情节种类繁多，可以随时制作。图的类别包括基本图表、统计图表、ML和AI图表、科学图表和金融图表。</p><p id="d095" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">在这篇文章中，我将带您了解用python在Plotly中创建交互式专业财务图表的过程。我们还将探索yahoo的API来提取历史股票数据，我们将使用这些数据进行可视化。我们开始吧！</p><h1 id="4c29" class="kn ko ht bd kp kq kr ks kt ku kv kw kx ji ky jj kz jl la jm lb jo lc jp ld le bi translated">导入包</h1><p id="b06b" class="pw-post-body-paragraph jr js ht jt b ju lf jd jw jx lg jg jz ka lh kc kd ke li kg kh ki lj kk kl km hb bi translated">我们的主要软件包包括用于数据处理的pandas，用于提取历史股票数据的pandas DataReader，用于处理日期的Datetime，最后是用于交互式可视化的Plotly及其依赖项。按照代码将主要包导入到我们的python环境中。</p><p id="fa82" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id"> Python实现:</strong></p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="1e1d" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">我们的下一个过程将是使用pandas DataReader包提取可视化的历史股票数据。</p><h1 id="fe5e" class="kn ko ht bd kp kq kr ks kt ku kv kw kx ji ky jj kz jl la jm lb jo lc jp ld le bi translated">提取股票数据</h1><p id="2db8" class="pw-post-body-paragraph jr js ht jt b ju lf jd jw jx lg jg jz ka lh kc kd ke li kg kh ki lj kk kl km hb bi translated">对于我们的可视化，我们将使用雅虎的API提取六家公司的历史数据，即脸书、亚马逊、苹果、网飞、谷歌和微软。我们用python拉数据吧！</p><p id="30e0" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id"> Python实现:</strong></p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="1980" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">首先，我们定义了两个变量来指定数据的开始和结束日期。接下来，使用pandas DataReader包，我们提取了这些公司的历史数据。最后，我们只将公司的收盘价数据存储在变量'<em class="lq"> stocks_close </em>'中。现在，我们准备对我们的股票数据进行可视化。</p><h1 id="7176" class="kn ko ht bd kp kq kr ks kt ku kv kw kx ji ky jj kz jl la jm lb jo lc jp ld le bi translated">对比图</h1><p id="1b40" class="pw-post-body-paragraph jr js ht jt b ju lf jd jw jx lg jg jz ka lh kc kd ke li kg kh ki lj kk kl km hb bi translated">面积图通常被称为“山”图，是标准折线图的一种更简化的解释。他们画出一段时间内的收盘价，线下的区域有阴影。按照代码用python中的Plotly创建面积图。</p><p id="c6e0" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id"> Python实现:</strong></p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="8c40" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">输出:</p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lr lp l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">按作者分类的图表</figcaption></figure><p id="d0e2" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">与Plotly的高效函数相比，上面生成的面积图是非常基本的。现在，让我们利用Plotly强大的功能创建一个定制的面积图。按照代码用python中的Plotly创建自定义的面积图。</p><p id="18e6" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id"> Python实现:</strong></p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="a2ae" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">输出:</p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lr lp l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">按作者分类的图表</figcaption></figure><h1 id="3afa" class="kn ko ht bd kp kq kr ks kt ku kv kw kx ji ky jj kz jl la jm lb jo lc jp ld le bi translated">蜡烛图</h1><p id="6bc5" class="pw-post-body-paragraph jr js ht jt b ju lf jd jw jx lg jg jz ka lh kc kd ke li kg kh ki lj kk kl km hb bi translated">蜡烛图是技术分析中使用的一种价格图表，显示特定时期内证券的最高价、最低价、开盘价和收盘价。交易者使用蜡烛图来根据过去的模式确定可能的价格变动。烛台在交易时很有用，因为它们在交易者指定的时间内显示四个价格点(开盘价、收盘价、最高价和最低价)。许多算法都基于蜡烛图中显示的相同价格信息。交易通常受情绪支配，这可以从蜡烛图中看出。按照代码用python中的Plotly生成一个蜡烛图。</p><p id="73cf" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id"> Python实现:</strong></p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="65ec" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">输出:</p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lr lp l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">按作者分类的图表</figcaption></figure><p id="c608" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">像面积图一样，烛台图表也可以调整和定制，看起来更专业。按照代码用python中的Plotly生成一个定制的烛台图。</p><p id="2304" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id"> Python实现:</strong></p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="febc" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">输出:</p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lr lp l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">按作者分类的图表</figcaption></figure><h1 id="6928" class="kn ko ht bd kp kq kr ks kt ku kv kw kx ji ky jj kz jl la jm lb jo lc jp ld le bi translated">OHLC海图</h1><p id="358b" class="pw-post-body-paragraph jr js ht jt b ju lf jd jw jx lg jg jz ka lh kc kd ke li kg kh ki lj kk kl km hb bi translated">OHLC图是一种条形图，显示每个时期的开盘价、最高价、最低价和收盘价。OHLC图表很有用，因为它们显示了一段时间内的四个主要数据点，收盘价被许多交易者认为是最重要的。图表类型很有用，因为它可以显示增加或减少的势头。当开盘和收盘相距甚远时，它显示出强劲的势头，当开盘和收盘接近时，它显示出犹豫不决或微弱的势头。最高价和最低价显示了该时期的全部价格范围，有助于评估波动性。按照代码用python中的Plotly制作OHLC图。</p><p id="b353" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id"> Python实现:</strong></p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="476d" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">输出:</p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lr lp l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">按作者分类的图表</figcaption></figure><p id="8fa8" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">现在，让我们使用Plotly的函数自定义默认的OHLC图表，使绘图更加专业和好看。按照代码使用python中的Plotly创建自定义的OHLC图表。</p><p id="2b40" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id"> Python实现:</strong></p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="dcea" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">输出:</p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lr lp l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">按作者分类的图表</figcaption></figure><h1 id="55fc" class="kn ko ht bd kp kq kr ks kt ku kv kw kx ji ky jj kz jl la jm lb jo lc jp ld le bi translated">项目符号图</h1><p id="f2ef" class="pw-post-body-paragraph jr js ht jt b ju lf jd jw jx lg jg jz ka lh kc kd ke li kg kh ki lj kk kl km hb bi translated">项目符号图是条形图的变体，旨在将单个主要指标与一个或多个其他指标进行比较，以丰富其含义，并在定性绩效范围的上下文中显示。定性范围显示为一种色调但具有不同强度的块，使色盲的人可以辨别，并将仪表盘上颜色的使用限制在最低限度。我们将使用一个项目符号图来表示一只股票的日波动范围。按照代码用python中的Plotly创建一个项目符号图。</p><p id="c46e" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id"> Python实现:</strong></p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="2115" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">输出:</p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lr lp l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">按作者分类的图表</figcaption></figure><h1 id="730e" class="kn ko ht bd kp kq kr ks kt ku kv kw kx ji ky jj kz jl la jm lb jo lc jp ld le bi translated">仪表图</h1><p id="0aa5" class="pw-post-body-paragraph jr js ht jt b ju lf jd jw jx lg jg jz ka lh kc kd ke li kg kh ki lj kk kl km hb bi translated">径向仪表图有一个圆弧，它显示单个值来估计实现目标的进度。条形图显示目标值，阴影表示实现目标的进度。仪表图，也称为速度表图。使用量具图，我们将代表一只股票的一天的范围，就像我们使用子弹图一样。按照代码用python中的Plotly生成仪表图。</p><p id="dcd3" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id"> Python实现:</strong></p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="5fd7" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">输出:</p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lr lp l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">按作者分类的图表</figcaption></figure><h1 id="6908" class="kn ko ht bd kp kq kr ks kt ku kv kw kx ji ky jj kz jl la jm lb jo lc jp ld le bi translated">最后的想法！</h1><p id="6a83" class="pw-post-body-paragraph jr js ht jt b ju lf jd jw jx lg jg jz ka lh kc kd ke li kg kh ki lj kk kl km hb bi translated">在本文中，我们看到了如何在python中使用Plotly制作财务图表。从面积图开始，我们学习了用python中的Plotly创建五种类型的财务可视化。除此之外，还有其他金融可视化工具用于绘制股票以外的数据，但这是值得的。此外，我们还对图表进行了一点点定制。在Plotly中有更多的方法和功能可以用来定制和美化图表。您可以在Plotly的python文档页面上学习和探索更多类型的图表和工具。而且，如果您忘记了遵循任何可视化的编码部分，不要担心，我已经在最后提供了所有可视化的源代码。说完，我们来到了文章的结尾。</p><p id="a8a4" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated"><strong class="jt id">快乐观想！</strong></p><p id="c7f6" class="pw-post-body-paragraph jr js ht jt b ju jv jd jw jx jy jg jz ka kb kc kd ke kf kg kh ki kj kk kl km hb bi translated">完整代码:</p><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="lo lp l"/></div></figure></div></div>    
</body>
</html>