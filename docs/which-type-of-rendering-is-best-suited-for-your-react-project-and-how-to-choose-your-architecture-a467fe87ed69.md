# 哪种类型的渲染最适合您的 React 项目，以及如何基于此选择您的架构？(搜索引擎优化优化)

> 原文：<https://medium.com/codex/which-type-of-rendering-is-best-suited-for-your-react-project-and-how-to-choose-your-architecture-a467fe87ed69?source=collection_archive---------10----------------------->

![](img/44225991f6ec6d4b10d0e3e24ce462cc.png)

罗伯特·鲁杰罗在 [Unsplash](https://unsplash.com/s/photos/uncertainty?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

所以你已经告诉你的朋友你计划在 [**React**](https://reactjs.org/) 中构建你的下一个 web 项目——这个 JS 库使得构建交互式 ui 变得不那么痛苦。但是，等等，你是否觉得你现在正被他们扔给你的无数新术语的重压淹没？

> 客户端渲染、服务器端渲染、预渲染、静态生成、动态路由、单页应用程序、SEO 兼容性等等…

不要害怕，因为你在正确的地方！在这篇博客中，我将尝试解释所有上述术语的内容和原因，并尝试为您的下一个 React 项目设计最适合的架构。**完美！**所以事不宜迟，让我们进入正题吧！

> 声明:这个博客会有点知识含量。但是我们能做什么呢？网络本身是知识密集型的，这就是它的魅力所在。我试着把内容分成有特定标题的小节，这样你就可以抓住你需要的部分。尽管我建议阅读整个博客，这样在为 React 项目选择合适的架构时，您可以有一个总体的想法。

## **SPA 和客户端渲染**

我们友好的 neighborhood React 应用程序通常是具有客户端呈现的单页面应用程序。等等，那是什么意思？单页应用程序加载一次，然后使用 javascript 在需要时用从 web 服务器获取的新数据重写页面的某些部分，而不是像传统方法那样在加载新页面时从服务器加载整个页面。使用 spa 的最重要的目的之一是它们的性能。由于从网站的一个页面跳到另一个页面的等待时间短，SPAs 比传统网站有巨大的性能提升。

你可以猜到，SPA 和客户端渲染是齐头并进的。使用客户端呈现，用户请求被重定向到包含 JS 包的单个 HTML 文件。web 服务器交付它时没有任何内容(或者有一个加载屏幕)，直到您的浏览器从 Webpack 和 Babel 准备的 JS 包中获取所有 JavaScript 代码，并将其渲染到屏幕上。听起来很简单，对吗？因为确实是！多亏了 Googlebot 读取 JavaScript 的能力，spa 现在也变得 SEO 友好了。

具有客户端渲染的整体 SPA 是最佳方法，如果您有:

1.  中小型应用程序—对于企业级应用程序，维护变得很困难
2.  页面数量更少—页面/子页面数量越多，客户端路由就越复杂
3.  SEO 和动态元标签并没有太大的麻烦——HTML 比 JavaScript 更容易抓取和索引
4.  良好可靠的互联网连接，否则 TTFB(首字节时间)会变慢

## 服务器端渲染

传统的 SSR 涉及到为来自客户端的每个请求提供来自 web 服务器的 HTML 页面，这对于 SEO 来说是最好的。为什么？因为 Googlebot 在抓取 HTML 页面方面非常熟练，而且因为它们已经是渲染过的页面，所以抓取速度也非常快。SSR 对**动态**路由和元标签有现成的支持，并由于其快速的初始页面加载而提供了良好的用户体验。

因此，在以下情况下，SSR 是最佳方法:

1.  你的网站有很多页面(例如:电子商务网站和博客)。
2.  你的网站对搜索引擎优化有很大的依赖性，你为动态元标签而烦恼。

现在，为了结合 SPA 和 SSR 的优点，像 [Next](https://nextjs.org/docs/) 这样的现代 React.js 框架提供了一个叫做**预渲染的解决方案。**

## 预渲染

预渲染是客户端渲染和服务器端渲染的结合点，它涉及提前加载网页、等待网页完成渲染，然后将结果 HTML 和 JavaScript 作为结果返回给请求实体的过程。获取页面后，动态完成内部路由，以利用 SPA 的优势，并根据需要使用 AJAX/XHR 请求对显示的模板进行重新组合。

当您设计在最终内容呈现到屏幕上之前显示的页面的架构时，会立即拍摄页面的静态快照，这对于在页面加载时向搜索引擎表示内容非常有用，而无需提供任何内容。预渲染侧重于丰富的网站，在用户体验和 SEO 之间取得平衡。

Next.js 提供了两种类型的预渲染:

1.  **静态生成**—HTML 在**构建时**生成，并将在每个请求中重用。
2.  服务器端呈现——在每个请求上生成 HTML。

> 重要的是，Next.js 让您**选择**您希望为每个页面使用哪种预呈现形式。通过对大多数页面使用静态生成，对其他页面使用服务器端呈现，可以创建一个“混合”Next.js 应用程序。您也可以将**客户端渲染**与静态生成或服务器端渲染一起使用。这意味着页面的某些部分可以完全由客户端 JavaScript 呈现。

## **结论**

在开发下一个 React 项目之前，选择渲染架构非常重要。一旦您的代码库变大，转换到不同的呈现风格会变得非常不方便。俗话说，预防胜于治疗。

1.  思考你的网站/网络应用可能带来的影响。
2.  对可能的数据获取频率或应用程序的动态部分进行粗略的估计。
3.  分析什么样的方法可以让你的应用程序容易被你的目标用户使用。
4.  最后，选择你的渲染架构。

***附加提示*** *:选择 Next.js* :)

感谢您通读。我将非常感谢您的评论和建议。如果你有其他的优化技术，请在评论中告诉我。

如果你觉得它有用，请给我一个掌声，并与你的开发伙伴分享。 ***不要硬编码，硬编码！***

# 苏巴扬·戈什

[LinkedIn](https://www.linkedin.com/in/realsubhayan/)|[Twitter](https://twitter.com/realsubhayan)|[insta gram](https://www.instagram.com/realsubhayan/)