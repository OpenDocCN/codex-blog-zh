<html>
<head>
<title>Building a web application for active low earth orbit satellites</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为主动低地球轨道卫星构建web应用程序</h1>
<blockquote>原文：<a href="https://medium.com/codex/building-a-web-application-for-active-low-earth-orbit-satellites-74fcafb16df?source=collection_archive---------21-----------------------#2022-06-15">https://medium.com/codex/building-a-web-application-for-active-low-earth-orbit-satellites-74fcafb16df?source=collection_archive---------21-----------------------#2022-06-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ad07" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated"><strong class="ak">简介</strong></h2></div><p id="6a71" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最近，我的一个活跃的兴趣是“空间”。你会看到我观看火箭发射和最终卫星部署(大多数时候是动画部署)进入轨道的现场直播。</p><p id="c08f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">看到不同的工程领域(材料、推进、仪器、软件、流体等)如何确保火箭发射成功总是令人着迷的。</p><p id="17f5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我想开发一个web应用程序，其中的数据几乎是实时变化的，并且显示卫星如何改变绕地球运行的位置似乎是一个完美的选择。因此，我决定建立一个显示低地球轨道上活跃卫星位置的系统(稍后我会详细说明为什么要在轨道上运行)</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/b04a3135a637e2286160fc1529e162ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u0qpQ-c9wmDF7vhP_O5p7A.jpeg"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">由<a class="ae kj" href="https://unsplash.com/@spacex?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> SpaceX </a>在<a class="ae kj" href="https://unsplash.com/s/photos/rocket?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="c109" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> Pyorbital </strong></p><p id="7629" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Pyorbital是一个python库，提供关于卫星在轨道上的位置的数据。该库使用所谓的“TLEs(双线元素集)<a class="ae kj" href="https://en.wikipedia.org/wiki/Two-line_element_set" rel="noopener ugc nofollow" target="_blank"><em class="kk"/></a>”条目，用于后端的单个卫星，以找到卫星的位置。</p><p id="ce38" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一个只需要提供卫星名称，和感兴趣的时间，图书馆照顾其余如下所示；</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kl"><img src="../Images/a5e285844283a20f87f30c1731c33da1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mu_zIK1WX73Xt-u_EQKc7Q.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">使用Pyorbital库查找卫星的位置</figcaption></figure><p id="d9d2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Pyorbital有一个限制。只能用于近地轨道(LEO-轨道，高度在160km到2000km之间)的卫星(阅读更多轨道分类<a class="ae kj" href="https://en.wikipedia.org/wiki/List_of_orbits#:~:text=planet%20Uranus.-,Altitude%20classifications%20for%20geocentric%20orbits,-%5Bedit%5D" rel="noopener ugc nofollow" target="_blank"><em class="kk">https://en . Wikipedia . org/wiki/List _ of _ orbits #:~:text = planet % 20 Uranus。-，高度% 20分类% 20对于% 20地心% 20轨道，-% 5b编辑%5D </em> </a></p><p id="1c20" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当该库用于低地球轨道以外的其他轨道的卫星时，它返回“NotImplementedError:不支持深空计算”，如下所示；</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es km"><img src="../Images/30fcc2a8b0883521c2918a7f41d61110.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wjmmfps0ZvIsnUeVVjgcHA.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">对于不在低地球轨道的卫星，轨道库返回NotImplementedError</figcaption></figure><p id="72df" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">工作流程</strong></p><p id="9b4f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">构建web应用程序的工作流程如下所示；</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kn"><img src="../Images/2cbdad610652f0a81c0c0e7283e82ce1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9v2rImAagAUNbyqZtu8YPw.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">构建web应用程序的工作流</figcaption></figure><p id="04e3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了建立网络应用程序，我需要活跃卫星上的数据，这正是https://celestrak.com/NORAD/elements/?的CelesTrak数据库(<a class="ae kj" href="https://celestrak.com/NORAD/elements/?FORMAT=json#:~:text=or%20so)%20Brightest-,Active%20Satellites,-Analyst%20Satellites" rel="noopener ugc nofollow" target="_blank"> <em class="kk">FORMAT = JSON #:~:text = or % 20so)% 20 bright-，Active%20Satellites，-Analyst % 20 satellites</em></a><em class="kk">)</em>提供<em class="kk">。</em></p><p id="3340" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">数据扯皮. py文件</strong></p><p id="c73f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">总之，data wrangling.py从CelesTrak数据库中访问数据，清理数据并将清理后的数据帧存储在google云存储桶中。</p><p id="fd55" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面详细解释data wrangling.py文件；</p><ul class=""><li id="55d8" class="ko kp hi iz b ja jb jd je jg kq jk kr jo ks js kt ku kv kw bi translated">将活动卫星数据读入数据帧并检查数据帧的信息属性</li></ul><pre class="ju jv jw jx fd kx ky kz la aw lb bi"><span id="5d63" class="lc ld hi ky b fi le lf l lg lh">import pandas as pd </span><span id="7f60" class="lc ld hi ky b fi li lf l lg lh">active_sat_df = pd.read_csv(‘https://celestrak.com/NORAD/elements/gp.php?GROUP=active&amp;FORMAT=csv')</span><span id="1bdc" class="lc ld hi ky b fi li lf l lg lh">active_sat_df.info()</span></pre><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lj"><img src="../Images/d2b0317833c187af3e2325299c6e84b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uVMN5BRgX0gGmjFCBVSrrw.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">数据帧的信息属性</figcaption></figure><p id="dce9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由于Pyorbital的限制，低地球轨道上的活动卫星需要从活动卫星数据帧中滤除。</p><p id="acba" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了做到这一点，我参考了低地球轨道的另一个定义，即“平均运动和偏心率”。</p><blockquote class="lk ll lm"><p id="05ca" class="ix iy kk iz b ja jb ij jc jd je im jf ln jh ji jj lo jl jm jn lp jp jq jr js hb bi translated">一个<strong class="iz hj">近地轨道</strong> ( <strong class="iz hj">狮子座</strong>)是一个靠近行星的<a class="ae kj" href="https://en.wikipedia.org/wiki/Geocentric_orbit" rel="noopener ugc nofollow" target="_blank">地球中心轨道</a>，通常被指定为具有128分钟或更少的<a class="ae kj" href="https://en.wikipedia.org/wiki/Orbital_period" rel="noopener ugc nofollow" target="_blank">轨道周期</a>(使得每天至少11.25个轨道(每天轨道指的是平均运动)和小于0.25的<a class="ae kj" href="https://en.wikipedia.org/wiki/Orbital_eccentricity" rel="noopener ugc nofollow" target="_blank">偏心率</a>。(来源:<a class="ae kj" href="https://en.wikipedia.org/wiki/Low_Earth_orbit" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Low_Earth_orbit</a>)</p></blockquote><pre class="ju jv jw jx fd kx ky kz la aw lb bi"><span id="c762" class="lc ld hi ky b fi le lf l lg lh">#active satellites in the low earth filtered out of the active satellites DataFrame using Mean Motion and Eccentricity features of the satellites.</span><span id="95bf" class="lc ld hi ky b fi li lf l lg lh">active_leo_sat_df = active_sat_df.loc[(active_sat_df[‘MEAN_MOTION’]&gt;=11.25) &amp; (active_sat_df[‘ECCENTRICITY’]&lt;0.25)]</span><span id="166b" class="lc ld hi ky b fi li lf l lg lh">#reset the index</span><span id="31db" class="lc ld hi ky b fi li lf l lg lh">active_leo_sat_df.reset_index(drop = True, inplace = True)</span></pre><p id="331b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因为Pyorbital库只需要卫星名称(在本例中是OBJECT_NAME)和时间，所以我决定删除OBJECT_ID之外的所有其他列。</p><pre class="ju jv jw jx fd kx ky kz la aw lb bi"><span id="fa05" class="lc ld hi ky b fi le lf l lg lh">#dropping all other columns</span><span id="475e" class="lc ld hi ky b fi li lf l lg lh">active_leo_sat_df = active_leo_sat_df.drop(active_leo_sat_df.loc[:,’EPOCH’:’MEAN_MOTION_DDOT’], axis = 1)</span></pre><p id="3cd4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">OBJECT_ID列包含每颗卫星的国际指示符，国际指示符数据的第一部分是卫星的发射年份(<em class="kk">来源:</em><a class="ae kj" href="https://en.wikipedia.org/wiki/International_Designator" rel="noopener ugc nofollow" target="_blank"><em class="kk">https://en.wikipedia.org/wiki/International_Designator</em></a>)。我决定仅用数据的第一部分替换OBJECT_ID列数据，以获得低地球轨道上每颗活动卫星的发射年份，重命名这些列并删除重复的数据(如果有的话)。</p><pre class="ju jv jw jx fd kx ky kz la aw lb bi"><span id="9e6c" class="lc ld hi ky b fi le lf l lg lh">#replace the OBJECT_ID column data with the first part of the data</span><span id="a3b1" class="lc ld hi ky b fi li lf l lg lh">for object_id in active_leo_sat_df['OBJECT_ID']:<br/>    <br/>    if '-' in object_id:<br/>        <br/>        index = object_id.find('-')<br/>        <br/>        object_id_format = object_id[0:index]<br/>        <br/>        active_leo_sat_df['OBJECT_ID'] =  active_leo_sat_df['OBJECT_ID'].replace(to_replace = object_id, value = object_id_format)<br/>        <br/>    else:<br/>        <br/>        pass</span><span id="ea46" class="lc ld hi ky b fi li lf l lg lh">#rename the columns</span><span id="7abd" class="lc ld hi ky b fi li lf l lg lh">active_leo_sat_df.columns = ['ObjectName', 'YearOfLaunch']</span><span id="1af5" class="lc ld hi ky b fi li lf l lg lh">#dropping duplicates if any</span><span id="8373" class="lc ld hi ky b fi li lf l lg lh">active_leo_sat_df = active_leo_sat_df.drop_duplicates(subset = 'ObjectName')</span><span id="32eb" class="lc ld hi ky b fi li lf l lg lh">active_leo_sat_df.reset_index(drop = True, inplace = True)</span></pre><p id="8db4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">CelesTrak还提供根据用途对卫星进行分组的数据，如通信、天气、地球观测、导航等，我想我可以为网络应用程序使用更多的信息。因此，我将每个类别中的所有链接收集到一个列表中。</p><pre class="ju jv jw jx fd kx ky kz la aw lb bi"><span id="b9be" class="lc ld hi ky b fi le lf l lg lh">#collecting all the data links in each category into a list</span><span id="201d" class="lc ld hi ky b fi li lf l lg lh">weather_sat_list = ['<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=weather&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=weather&amp;FORMAT=csv'</a>,<br/>                    <br/>                    '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=noaa&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=noaa&amp;FORMAT=csv'</a>,<br/>                    <br/>                    '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=goes&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=goes&amp;FORMAT=csv'</a>]</span><span id="fa52" class="lc ld hi ky b fi li lf l lg lh">earth_observation_sat_list = ['<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=resource&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=resource&amp;FORMAT=csv'</a>,<br/>                              <br/>                              '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=sarsat&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=sarsat&amp;FORMAT=csv'</a>,<br/>                              <br/>                              '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=dmc&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=dmc&amp;FORMAT=csv'</a>,<br/>                              <br/>                              '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=tdrss&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=tdrss&amp;FORMAT=csv'</a>,<br/>                              <br/>                              '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=argos&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=argos&amp;FORMAT=csv'</a>,<br/>                              <br/>                              '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=planet&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=planet&amp;FORMAT=csv'</a>,<br/>                              <br/>                              '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=spire&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=spire&amp;FORMAT=csv'</a>]</span><span id="3859" class="lc ld hi ky b fi li lf l lg lh">communications_sat_list = ['<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=intelsat&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=intelsat&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=ses&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=ses&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=iridium&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=iridium&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=iridium-NEXT&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=iridium-NEXT&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=starlink&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=starlink&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=oneweb&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=oneweb&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=orbcomm&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=orbcomm&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=globalstar&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=globalstar&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=swarm&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=swarm&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=amateur&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=amateur&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=x-comm&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=x-comm&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=other-comm&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=other-comm&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=satnogs&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=satnogs&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=gorizont&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=gorizont&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=raduga&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=raduga&amp;FORMAT=csv'</a>,<br/>                  <br/>                  '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=molniya&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=molniya&amp;FORMAT=csv'</a>]</span><span id="c100" class="lc ld hi ky b fi li lf l lg lh">navigation_sat_list = ['<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=gnss&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=gnss&amp;FORMAT=csv'</a>,<br/>                <br/>                '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=gps-ops&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=gps-ops&amp;FORMAT=csv'</a>,<br/>                <br/>                '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=glo-ops&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=glo-ops&amp;FORMAT=csv'</a>,<br/>                <br/>                '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=galileo&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=galileo&amp;FORMAT=csv'</a>,<br/>                <br/>                '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=beidou&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=beidou&amp;FORMAT=csv'</a>,<br/>                <br/>                '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=sbas&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=sbas&amp;FORMAT=csv'</a>,<br/>                <br/>                '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=nnss&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=nnss&amp;FORMAT=csv'</a>,<br/>                <br/>                '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=musson&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=musson&amp;FORMAT=csv'</a>]</span><span id="6261" class="lc ld hi ky b fi li lf l lg lh">scientific_sat_list = ['<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=science&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=science&amp;FORMAT=csv'</a>,<br/>                    <br/>                    '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=geodetic&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=geodetic&amp;FORMAT=csv'</a>,<br/>                    <br/>                    '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=engineering&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=engineering&amp;FORMAT=csv'</a>,<br/>                    <br/>                    '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=education&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=education&amp;FORMAT=csv'</a>]</span><span id="ae9f" class="lc ld hi ky b fi li lf l lg lh">miscellaneous_sat_list = ['<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=military&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=military&amp;FORMAT=csv'</a>,<br/>                          <br/>                          '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=radar&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=radar&amp;FORMAT=csv'</a>,<br/>                          <br/>                          '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=cubesat&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=cubesat&amp;FORMAT=csv'</a>,<br/>                          <br/>                          '<a class="ae kj" href="https://celestrak.com/NORAD/elements/gp.php?GROUP=other&amp;FORMAT=csv'" rel="noopener ugc nofollow" target="_blank">https://celestrak.com/NORAD/elements/gp.php?GROUP=other&amp;FORMAT=csv'</a>]</span></pre><p id="6469" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后我定义了一个函数。</p><ul class=""><li id="d762" class="ko kp hi iz b ja jb jd je jg kq jk kr jo ks js kt ku kv kw bi translated">读取每个列表中的所有链接。</li><li id="8210" class="ko kp hi iz b ja lq jd lr jg ls jk lt jo lu js kt ku kv kw bi translated">连接单个链接中的数据。</li><li id="c650" class="ko kp hi iz b ja lq jd lr jg ls jk lt jo lu js kt ku kv kw bi translated">删除不需要的列，并重命名剩下的唯一一列。</li></ul><pre class="ju jv jw jx fd kx ky kz la aw lb bi"><span id="8e91" class="lc ld hi ky b fi le lf l lg lh">#function to read all the links in a list, concatenates data from the individual link, drop unwanted columns and rename the only column left.</span><span id="3587" class="lc ld hi ky b fi li lf l lg lh">def sat_classification(sat_list):<br/>    <br/>    df = pd.DataFrame()<br/>    <br/>    for url in sat_list:<br/>        <br/>        sats_df = pd.read_csv(url)<br/>        <br/>        df = pd.concat([df, sats_df])<br/>        <br/>    df.reset_index(drop = True, inplace = True)<br/>    <br/>    df = df.drop(df.loc[:,'OBJECT_ID':'MEAN_MOTION_DDOT'], axis = 1)<br/>    <br/>    df.columns = ['ObjectName']<br/>    <br/>    return df</span></pre><p id="a04d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，我可以使用该函数按用途获取每个卫星类别的数据(DataFrame ),并创建一个名为“用途”的新列。</p><pre class="ju jv jw jx fd kx ky kz la aw lb bi"><span id="25a1" class="lc ld hi ky b fi le lf l lg lh">weather_sat_df = sat_classification(weather_sat_list)</span><span id="ecf4" class="lc ld hi ky b fi li lf l lg lh">weather_sat_df['Purpose'] = 'Weather'</span><span id="04c8" class="lc ld hi ky b fi li lf l lg lh">earth_observation_sat_df = sat_classification(earth_observation_sat_list)</span><span id="4029" class="lc ld hi ky b fi li lf l lg lh">earth_observation_sat_df['Purpose'] = 'Earth Observation'</span><span id="3951" class="lc ld hi ky b fi li lf l lg lh">communications_sat_df = sat_classification(communications_sat_list)</span><span id="fcc4" class="lc ld hi ky b fi li lf l lg lh">communications_sat_df['Purpose'] = 'Communications'</span><span id="7e75" class="lc ld hi ky b fi li lf l lg lh">navigation_sat_df = sat_classification(navigation_sat_list)</span><span id="34db" class="lc ld hi ky b fi li lf l lg lh">navigation_sat_df['Purpose'] = 'Navigation'</span><span id="8c51" class="lc ld hi ky b fi li lf l lg lh">scientific_sat_df = sat_classification(scientific_sat_list)</span><span id="676a" class="lc ld hi ky b fi li lf l lg lh">scientific_sat_df['Purpose'] = 'Scientific'</span><span id="beb0" class="lc ld hi ky b fi li lf l lg lh">miscellaneous_sat_df = sat_classification(miscellaneous_sat_list)</span><span id="4115" class="lc ld hi ky b fi li lf l lg lh">miscellaneous_sat_df['Purpose'] = 'Miscellaneous'</span></pre><p id="24ac" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">之后，我将所有单独的卫星类别数据帧连接成一个主数据帧。</p><pre class="ju jv jw jx fd kx ky kz la aw lb bi"><span id="4061" class="lc ld hi ky b fi le lf l lg lh">master_df = pd.concat([weather_sat_df, earth_observation_sat_df, communications_sat_df, navigation_sat_df, scientific_sat_df, miscellaneous_sat_df])</span><span id="97df" class="lc ld hi ky b fi li lf l lg lh">master_df.reset_index(drop = True, inplace = True)</span></pre><p id="332c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，我使用“ObjectName”列作为合并/连接条件，将低地球轨道数据帧中的活动卫星与主数据帧合并，合并类型为左类型…类似于在SQL中使用左外连接查询。</p><pre class="ju jv jw jx fd kx ky kz la aw lb bi"><span id="93c4" class="lc ld hi ky b fi le lf l lg lh">active_leo_sat_df = pd.merge(active_leo_sat_df, master_df, how ='left', on =['ObjectName'])</span></pre><p id="8fad" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是使用两个数据帧中的对象名称相等/相同的条件，向低地球轨道数据帧中的活动卫星添加额外的列“目的”。</p><p id="0cf7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，对于不符合条件的ObjectName，我将目的列中的“nan”替换为“Miscellaneous”，删除任何重复项，并将数据帧作为CSV文件保存在名为“active-leo-satellites”的google云存储桶中。</p><pre class="ju jv jw jx fd kx ky kz la aw lb bi"><span id="c15c" class="lc ld hi ky b fi le lf l lg lh">#replaces nan with Miscellaneous  in the purpose column<br/>active_leo_sat_df['Purpose'] = active_leo_sat_df['Purpose'].replace(np.nan, 'Miscellaneous')</span><span id="26b0" class="lc ld hi ky b fi li lf l lg lh">#drops duplicates in the DataFrame and reset index</span><span id="07d1" class="lc ld hi ky b fi li lf l lg lh">active_leo_sat_df = active_leo_sat_df.drop_duplicates(subset = 'ObjectName')</span><span id="459b" class="lc ld hi ky b fi li lf l lg lh">active_leo_sat_df.reset_index(drop = True, inplace = True)</span><span id="9856" class="lc ld hi ky b fi li lf l lg lh">#stores the DataFrame in a google cloud storage bucket as a csv</span><span id="46dc" class="lc ld hi ky b fi li lf l lg lh">active_leo_sat_df.to_csv('gs://active-leo-satellites/active leo satellites.csv', index = False)</span></pre><p id="10ba" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">完成后，我将data wrangling.py文件部署为google cloud function中的一个函数，使其成为事件驱动的。触发器是一个HTTP触发器(<a class="ae kj" href="https://europe-west2-leo-satellite-overview-project.cloudfunctions.net/my-function" rel="noopener ugc nofollow" target="_blank"><em class="kk">)https://Europe-west 2-Leo-satellite-overview-project . cloud functions . net/my-function</em></a><em class="kk">)</em>，确保函数(data wrangling.py)在HTTP加载的任何时候运行。</p><p id="ab61" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">每当http被加载时，它返回“函数成功运行”</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lv"><img src="../Images/0886b3c5e12b674d95073a2bad50a36d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vo2VtMRzsTKE_QVSHgAv0Q.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">触发该函数的HTTP响应</figcaption></figure><p id="c82e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了确保我不必随机加载HTTP，我决定使用google cloud scheduler设置一个cron作业。这确保了该功能在每个午夜运行。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lw"><img src="../Images/3047155ffc47ed910746a12508ebcd33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iD7T5sbDA8n3fyX0ctZWlg.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">google云调度程序上的Cron作业</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lx"><img src="../Images/db6812e2b048ce63e89942f0df6e0e43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4olIrlJPYuZxc8W80L3dnw.png"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">函数的度量:显示函数每天运行的情况</figcaption></figure><p id="d426" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这一切的美妙之处在于确保捕获新的卫星数据，同时还确保现在不活动的卫星也被从web应用程序中删除。</p><p id="6490" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> main.py文件</strong></p><p id="bf56" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在main.py文件中，我读取了由data wrangling.py文件生成的CSV文件，然后继续使用Dash库为web应用程序创建web框架，并使用Plotly库创建可视化。</p><p id="f62d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">main.py文件可以在<a class="ae kj" href="https://github.com/0ladayo/Low-Earth-Orbit-Satellites-Project/blob/master/Dash-Plotly/main.py" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="b6fa" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过运行main.py文件生成的web应用程序在本地计算机上运行，因此为了能够与其他人共享web应用程序，我必须将它部署到google app engine。</p><p id="ce11" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">main.py文件以及requirements.txt文件(使用的库的名称)、assets文件夹(包含一个CSS文件，用于设置web应用程序的背景颜色和边距)和app.yaml(设置应用程序引擎的文件)随后被部署到google应用程序引擎。</p><p id="662d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">快速洞察</strong></p><p id="803b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">自2019年以来，发射到低地球轨道的卫星数量逐年增加，这主要是因为发射了越来越多的通信卫星(主要是Starlink和OneWeb ),为地球上的每个地方提供互联网。</p><p id="7f61" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">随着更多的通信卫星(Kuiper，ASTS)项目在未来几年投入运营，这种增长趋势肯定会继续下去。</p><p id="e35b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里可以看到<a class="ae kj" href="https://leo-satellite-overview-project.nw.r.appspot.com/" rel="noopener ugc nofollow" target="_blank">的网络应用</a>。</p><p id="04f5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里可以找到<a class="ae kj" href="https://github.com/0ladayo/Low-Earth-Orbit-Satellites-Project" rel="noopener ugc nofollow" target="_blank">的储存库</a>。</p><p id="3fe1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在<a class="ae kj" rel="noopener" href="/me/stories/public"><em class="kk">https://medium.com/me/stories/public</em></a>阅读我的其他帖子</p><p id="3765" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有趣的事实:一枚较低高度的火箭可以进入轨道，而另一枚较高高度的火箭可能无法进入轨道(这次发射高度为531公里，速度为6.5公里/秒<a class="ae kj" href="https://youtu.be/HztFm2XGO7s?t=8420" rel="noopener ugc nofollow" target="_blank"><em class="kk">https://youtu.be/HztFm2XGO7s?t=8420</em></a>没有进入轨道，而这次发射<a class="ae kj" href="https://youtu.be/6nODVPGHQcc" rel="noopener ugc nofollow" target="_blank"><em class="kk">https://youtu.be/6nODVPGHQcc</em></a>进入轨道高度为216公里，速度为7.93公里/秒)。</p><p id="aa12" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">虽然轨道高度从大约160公里开始，但确保火箭发射到达轨道的是火箭的行进速度必须达到大约7.5公里/秒的轨道速度</p><p id="f9a0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢您的阅读。</p></div></div>    
</body>
</html>