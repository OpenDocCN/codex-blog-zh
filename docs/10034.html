<html>
<head>
<title>Matplotlib Tutorial — 6</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Matplotlib教程— 6</h1>
<blockquote>原文：<a href="https://medium.com/codex/matplotlib-tutorial-6-2945daafabdc?source=collection_archive---------9-----------------------#2022-11-28">https://medium.com/codex/matplotlib-tutorial-6-2945daafabdc?source=collection_archive---------9-----------------------#2022-11-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8fa5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本教程将涵盖，直方图使用matplotlib。</p><p id="f244" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">直方图是显示频率分布的图表。它是一个图表，显示每个给定间隔内的观察次数。</p><p id="44a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，我们有年龄的例子来创建直方图。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="1fa2" class="jm jn hi ji b be jo jp l jq jr">import pandas as pd<br/>from matplotlib import pyplot as plt<br/><br/>plt.style.use('fivethirtyeight')<br/><br/>ages = [18, 19, 21, 25, 26, 26, 30, 32, 38, 45, 55]<br/><br/>plt.hist(ages,bins=5)<br/>plt.title('Ages of Respondents')<br/>plt.xlabel('Ages')<br/>plt.ylabel('Total Respondents')<br/><br/>plt.tight_layout()<br/><br/>plt.show()</span></pre><p id="2569" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本例中，我们有一个年龄在18岁到55岁之间的列表，如果我们为该列表创建一个条形图，我们将获得多个柱状图，它会将数据划分为多个条块并绘制图表，因此我们将整个数据划分为五个din并创建柱状图。</p><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es js"><img src="../Images/881a99a5a33044323706a5a47761bd59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C71r9Uqpr9oeYP7muLzuNw.png"/></div></div></figure><p id="3fa7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，这里创建了五个箱，但我们能够看到确切的五个箱在哪里，为了更好地看，我将添加一个黑色的边缘颜色。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="33fd" class="jm jn hi ji b be jo jp l jq jr">plt.hist(ages,bins=5,edgecolor= 'black')</span></pre><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es ka"><img src="../Images/d0895fe0ad4f6c2e4312ce68417583a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pa6RX1v8zRhDUL1VMMzeyg.png"/></div></div></figure><p id="47ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们可以清楚地看到所有五个区间，并且能够看到4–4个用户属于20–25和25–30范围，依此类推。此外，我们可以定义一个存储箱范围，并相应地创建存储箱，而不是创建自动存储箱。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="f742" class="jm jn hi ji b be jo jp l jq jr">bins = [10,20,30,40,50,60]<br/>plt.hist(ages,bins= bins,edgecolor= 'black')</span></pre><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kb"><img src="../Images/4c54f8de84c2afdda03c328929cfa5a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AMnwoDU-2wL_AhIHlkOTPw.png"/></div></div></figure><p id="6cb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，它将在一个明确的范围内划分数据，以便我们可以轻松地分析相同的数据。</p><p id="d779" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将使用堆栈溢出调查数据，我只采取了两列响应id和年龄，我会把github链接也同样的整个代码，我写在这个tuotrial。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="5181" class="jm jn hi ji b be jo jp l jq jr">import pandas as pd<br/>from matplotlib import pyplot as plt<br/><br/>plt.style.use('fivethirtyeight')<br/><br/># ages = [18, 19, 21, 25, 26, 26, 30, 32, 38, 45, 55]<br/>bins = [10,20,30,40,50,60,70,80,90]<br/># # plt.hist(ages,bins= bins,edgecolor= 'black')<br/><br/>data = pd.read_csv('data_age.csv')<br/>ids = data['Responder_id']<br/>ages = data['Age']<br/><br/>median_age = 29<br/>color = '#fc4f30'<br/>plt.hist(ages,bins= bins,edgecolor = 'black')<br/>plt.legend()<br/><br/>plt.title('Ages of Respondents')<br/>plt.xlabel('Ages')<br/>plt.ylabel('Total Respondents')<br/><br/>plt.tight_layout()<br/><br/>plt.show()</span></pre><p id="4a72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，我们导入了data_age.csv文件，并使用该文件创建了直方图。</p><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kb"><img src="../Images/596a78a03c20a3c16ea2e1a68f5f8532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VXnNz_bIo_JW1nvb0E8-6w.png"/></div></div></figure><p id="ddef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，我们可以看到最大反应，我们将从20至30岁的年龄组中获得，在70至80岁之间有一些反应，但由于数据庞大，这不是很明显。因此，如果您也想检查这些值，我们可以再传递一个参数log = True。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="957b" class="jm jn hi ji b be jo jp l jq jr">plt.hist(ages,bins= bins,edgecolor = 'black', log=True)</span></pre><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kc"><img src="../Images/bfa5a84cf1840d0e383d0d8e7ecd4521.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U5FVYPd8c4YQOMu8fo8amQ.png"/></div></div></figure><p id="1644" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，如果我们想设定一个中值年龄，并想为此画一条线，我们可以使用下面的代码执行相同的操作。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="0499" class="jm jn hi ji b be jo jp l jq jr">color = '#fc4f30'<br/>plt.axvline(median_age,label = 'Median age', color = color)<br/>plt.legend()</span></pre><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kd"><img src="../Images/c6b9e3602878010b3d5e1e6fd32849c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X9FHSaQJhVgdoYhXWfrI1Q.png"/></div></div></figure><p id="77c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是包含代码和数据文件的Git库的链接。</p><div class="ke kf ez fb kg kh"><a href="https://github.com/vivalka/Matplotlib-Tutorials/tree/main/Tutorial_6" rel="noopener  ugc nofollow" target="_blank"><div class="ki ab dw"><div class="kj ab kk cl cj kl"><h2 class="bd hj fi z dy km ea eb kn ed ef hh bi translated">Matplotlib-Tutorials/Tutorial _ 6位于main vival ka/Matplotlib-Tutorials</h2><div class="ko l"><h3 class="bd b fi z dy km ea eb kn ed ef dx translated">在GitHub上创建一个帐户，为vivalka/Matplotlib教程开发做贡献。</h3></div><div class="kp l"><p class="bd b fp z dy km ea eb kn ed ef dx translated">github.com</p></div></div><div class="kq l"><div class="kr l ks kt ku kq kv jy kh"/></div></div></a></div><p id="9f37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下一个教程中，我们将涵盖散点图。</p></div></div>    
</body>
</html>