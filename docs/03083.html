<html>
<head>
<title>How to build an end-to-end machine learning application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何构建端到端的机器学习应用</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-build-an-end-to-end-machine-learning-application-40cd6ac7f66f?source=collection_archive---------23-----------------------#2021-08-17">https://medium.com/codex/how-to-build-an-end-to-end-machine-learning-application-40cd6ac7f66f?source=collection_archive---------23-----------------------#2021-08-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/ddb3389d8b9fa84245d285afc74a2561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5_ZEGYTJ3Lsf5YOE"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">沙哈达特·拉赫曼在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class=""/><div class=""><h2 id="b508" class="pw-subtitle-paragraph iv hx hy bd b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm dx translated">这比你想象的要简单！</h2></div><figure class="jo jp jq jr fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jn"><img src="../Images/c3f3f67fd87c7c06dd2a1b06308e7c13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S6fxo5MZG-Jy2DwAbxC8xQ.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">通用有线电视新闻网</figcaption></figure><p id="ce24" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hz">简介:</strong></p><p id="6e52" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">你有没有想过如何向世界展示你的技能和知识，并可能在你的简历上有一个杀手级项目？</p><p id="44a9" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">你可能有一个想法，或者甚至是这个想法的实现，无论是在Kaggle上还是在你的本地工作区。很好！，但是你如何向其他人展示这个呢——给他们发一个你的Kaggle笔记本或者你的GitHub库的链接？</p><p id="b45d" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这听起来很麻烦，如果有一个应用程序向他们展示你的模范作品，岂不是很酷或者很方便。因此，我将尝试解释如何建立一个完整的工作流程。我做的项目是手写值的数字识别。这个想法很简单，我们画一个数字，然后预测它在0-9之间。(啊！另一个数字识别BS，相信我这将解释很多，你可以建立更酷的东西)。我们将在Heroku部署我们的项目。让我知道这篇文章可以如何改进。</p><h1 id="3ec2" class="ko kp hy bd kq kr ks kt ku kv kw kx ky je kz jf la jh lb ji lc jk ld jl le lf bi translated">你问我们如何做到这一点？</h1><p id="c5a0" class="pw-post-body-paragraph js jt hy ju b jv lg iz jx jy lh jc ka kb li kd ke kf lj kh ki kj lk kl km kn hb bi translated">答案很简单:你需要的只是一些HTML、CSS和JavaScript的基础知识。这将有助于建立我们的前端。对于我们的后端，我们将使用烧瓶。所有这些都没问题，但是我们应该如何开始，我们需要遵循的架构是什么？—在我们开始编码之前，这些是必须回答的问题。</p><h2 id="946a" class="ll kp hy bd kq lm ln lo ku lp lq lr ky kb ls lt la kf lu lv lc kj lw lx le ly bi translated">应该如何开始？！</h2><p id="0799" class="pw-post-body-paragraph js jt hy ju b jv lg iz jx jy lh jc ka kb li kd ke kf lj kh ki kj lk kl km kn hb bi translated">这个古老问题的答案是，首先要知道我们的目标到底是什么。我知道有太多的问题我问过自己:P(大部分是反问句)。但是这些对我们的问题来说确实是必要的。项目结构将是:</p><figure class="jo jp jq jr fd hk er es paragraph-image"><div class="er es lz"><img src="../Images/214b150d7c7419fa7cb5b4505c88efba.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/format:webp/1*0-eiNR6pr84z52eAA-yGYA.png"/></div></figure><p id="5634" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">所以这回答了我们两个的问题。首先，我们将所有的静态文件(CSS，JS)保存在一个名为<em class="ma"> static </em>的文件夹中，我们的<em class="ma">index.html</em>保存在一个名为<em class="ma"> templates </em>的文件夹中。重要的是不要更改这些名称。至此，我们完成了模板的设置。</p><p id="77c8" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">其次，我们将遵循的体系结构是众多体系结构中的一种，有许多方法可以实现这一点。我们将使用以下流程:</p><ol class=""><li id="96ca" class="mb mc hy ju b jv jw jy jz kb md kf me kj mf kn mg mh mi mj bi translated">用户在HTML5画布上画一个数字并点击提交按钮。</li><li id="4b27" class="mb mc hy ju b jv mk jy ml kb mm kf mn kj mo kn mg mh mi mj bi translated">该图像在客户端被编码为base64以减少服务器计算。</li><li id="23eb" class="mb mc hy ju b jv mk jy ml kb mm kf mn kj mo kn mg mh mi mj bi translated">我们的服务器将接收编码后的字符串(用python编写)，然后我们解码这个字符串，将其转换成图像。我们将使用AJAX进行客户端-服务器通信。</li><li id="5524" class="mb mc hy ju b jv mk jy ml kb mm kf mn kj mo kn mg mh mi mj bi translated">然后，我们将对该图像执行一些基本操作，以适应我们已经保存的ML模型，因此我们不会一次又一次地训练它。为了获得更好的结果，可以在将来这样做，但是我们将限制自己，以节省本文的时间。</li></ol><p id="f8b7" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在这篇文章中，我会让你知道如何建立我们的前端。如果你喜欢这篇文章，请继续关注服务器端！(又来了，有人试图与用户建立融洽的关系)。</p><h1 id="628b" class="ko kp hy bd kq kr ks kt ku kv kw kx ky je kz jf la jh lb ji lc jk ld jl le lf bi translated">客户端</h1><p id="f78d" class="pw-post-body-paragraph js jt hy ju b jv lg iz jx jy lh jc ka kb li kd ke kf lj kh ki kj lk kl km kn hb bi translated">所以我已经使用基本的HTML，CSS和JS来构建我的web应用程序，但对你没有任何限制，如果你对构建一个更好的应用程序感到舒服，我说继续，让我也知道:p。我对漂亮的网页很着迷！</p><p id="3434" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">我的登录页面(索引)将放在“模板”文件夹中，CSS和JS文件将放在“静态”文件夹中。我们将只使用JQuery脚本来触发请求和响应。画布的代码看起来像这样</p><pre class="jo jp jq jr fd mp mq mr ms aw mt bi"><span id="6c7c" class="ll kp hy mq b fi mu mv l mw mx">var canvas = document.getElementById(‘myCanvas’);<br/>var ctx = canvas.getContext(‘2d’);<br/>var painting = document.getElementById(‘paint’);<br/>var paint_style = getComputedStyle(painting);</span><span id="a480" class="ll kp hy mq b fi my mv l mw mx">canvas.width = parseInt(paint_style.getPropertyValue(‘width’));<br/>canvas.height = parseInt(paint_style.getPropertyValue(‘height’));</span><span id="1164" class="ll kp hy mq b fi my mv l mw mx">var mouse = { x: 0, y: 0 };</span><span id="5249" class="ll kp hy mq b fi my mv l mw mx">canvas.addEventListener(‘mousemove’, function (e) {</span><span id="b21b" class="ll kp hy mq b fi my mv l mw mx">mouse.x = e.pageX — this.offsetLeft;<br/>mouse.y = e.pageY — this.offsetTop;</span><span id="7b81" class="ll kp hy mq b fi my mv l mw mx">}, false);</span><span id="023f" class="ll kp hy mq b fi my mv l mw mx">ctx.lineWidth = 10;<br/>ctx.lineJoin = ‘round’;<br/>ctx.lineCap = ‘round’;<br/>ctx.strokeStyle = ‘white’;<br/>ctx.fillStyle = ‘black’;<br/>ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);</span><span id="fcce" class="ll kp hy mq b fi my mv l mw mx">var onPaint = function () {<br/>ctx.lineTo(mouse.x, mouse.y);<br/>ctx.stroke();<br/>};</span></pre><p id="edf8" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">上面的代码将创建我们需要的画布，背景为黑色，笔画颜色为白色。如果我们不设置背景，那么结果将是只有笔画的图像，这可能使数字的预测更加困难。现在基本代码可以在我的<a class="ae hv" href="https://github.com/adityasingh22/Digit-recognition-using-real-time-drawn-value" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。</p><blockquote class="mz na nb"><p id="8a2f" class="js jt ma ju b jv jw iz jx jy jz jc ka nc kc kd ke nd kg kh ki ne kk kl km kn hb bi translated">为了处理<strong class="ju hz">提交</strong>和<strong class="ju hz">清除</strong>按钮，我们需要添加JavaScript来处理它们</p></blockquote><p id="8ded" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这方面的代码可以是这样的</p><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="nf ng l"/></div></figure><p id="1822" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">目前，我们的画布只能检测鼠标移动，但不能触摸。触摸动作也可以添加，但这是另一个故事。</p><p id="976a" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">我所做的是为鼠标移动添加一个EventListener在mouseup时，监听器是关闭的，所以笔画不会一直变化。clearArea()函数将清除画布，每当我们单击clear或Submit按钮时，就会发生这种情况。稍后将解释<strong class="ju hz"> innerHTML </strong>的用法。toDataURL()函数会将画布编码为base64:供FLask使用。</p><p id="c3ef" class="pw-post-body-paragraph js jt hy ju b jv jw iz jx jy jz jc ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">我希望你喜欢这篇文章，请继续关注，我将很快发表另一篇文章来训练我们的模型和后端。</p></div></div>    
</body>
</html>