<html>
<head>
<title>Different Royal Breakfasts (Meet Git #7)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不同的皇家早餐(见Git #7)</h1>
<blockquote>原文：<a href="https://medium.com/codex/different-royal-breakfasts-meet-git-7-1ecc9fb77ff?source=collection_archive---------8-----------------------#2022-12-17">https://medium.com/codex/different-royal-breakfasts-meet-git-7-1ecc9fb77ff?source=collection_archive---------8-----------------------#2022-12-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="dcd8" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何检查已提交的内容以及提交的时间</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/2601c4032e75e1cf9baa3a4632aac516.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Fgxy5i8EySXBhdau"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">罗斯·芬登在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="612d" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">介绍</h1><p id="0ce5" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">变化是推动一切进步的东西。如果没有变化，我们会坚持吃普通的三明治，但现在我们有一份相当不错的早餐。</p><p id="00d9" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">因为变化是如此重要，今天我们来看看皇家早餐是如何随着时间演变的。为此，我们将使用<code class="du lh li lj lk b">git log</code>、<code class="du lh li lj lk b">git diff</code>和<code class="du lh li lj lk b">git show</code>。</p><h1 id="6c34" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">显示已提交的内容和时间</h1><h2 id="4209" class="ll jp hi bd jq lm ln lo ju lp lq lr jy kp ls lt ka kt lu lv kc kx lw lx ke ly bi translated">检查特定提交的详细信息</h2><p id="f3c2" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">回想一下，我们的历史中有三次提交，我们想用<strong class="ki hj">检查第一次提交的细节(</strong> <code class="du lh li lj lk b"><strong class="ki hj">1033ca3</strong></code> <strong class="ki hj"> ) </strong>。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lz"><img src="../Images/d845420b3e99fda784db2ed163ba9560.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t73glO3yi2ZWpGVaPDQdZQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">我们的方法是一系列的三次提交</figcaption></figure><p id="b2b6" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">要获得关于该提交的更多信息，请键入<code class="du lh li lj lk b">git log 1033ca3</code>，或者更短的<code class="du lh li lj lk b">git log 1033</code>，前提是您可以唯一地标识该提交。如果您想显示所有提交，只需使用<code class="du lh li lj lk b">git log</code>，无需指定提交的校验和。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lz"><img src="../Images/e0ddbe263d77e3f3014a50ee1ac1af95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-9kjs4hpymxeP4PwSghYwA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用git log在git历史中显示单个条目</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lz"><img src="../Images/2a35511e1a7e08221fdb2f2d8e51164a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mA8DFPMiDpoaax69uSYgiQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用git日志显示历史记录中的所有提交</figcaption></figure><p id="9edc" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如您所见，这并没有给出食谱中的确切变化。要了解提交<code class="du lh li lj lk b">1033ca3</code>引入了哪些变化，请使用<code class="du lh li lj lk b">git show 1033ca3</code>。</p><p id="406d" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">除了元数据，比如作者和提交日期，您还可以看到在<code class="du lh li lj lk b">royal_breakfast.txt</code>配方中所做的所有修改。</p><p id="34d8" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">一般来说，<code class="du lh li lj lk b">git show &lt;commit_sha&gt;</code>给出了在一个特定提交中，<strong class="ki hj">相对于其父提交</strong>发生了什么变化的细节。但是，Git存储库中的第一次提交有点特殊，因为它没有父提交！</p><p id="bdab" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如何知道哪个提交是另一个提交的父提交？为了更好地查看存储库中的历史，并查看提交之间的关系，我建议您在Git中创建<code class="du lh li lj lk b">git lga</code>别名。我在这里描述了所需的步骤。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ma"><img src="../Images/08b80473c951c1c9c181ed1cd0d405f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oU269wYRfLChUHuvKWkHmg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用git show显示文件中的确切变化</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mb"><img src="../Images/40e4c621bde2b6fd2126f5884686cfcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lgMrINoUGonKTNZ9FWqrPw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用git lga，您可以很容易地弄清楚历史是什么样子的</figcaption></figure><h2 id="9ce6" class="ll jp hi bd jq lm ln lo ju lp lq lr jy kp ls lt ka kt lu lv kc kx lw lx ke ly bi translated">检查两种早餐的区别</h2><p id="2cb4" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">如果您想知道一组更广泛的提交之间有什么不同，可以使用<code class="du lh li lj lk b">git diff from_revision..to_revision</code>，例如<code class="du lh li lj lk b">git diff 1033..cab78</code>。在这个特殊的例子中，Git将显示由<code class="du lh li lj lk b">c033</code>和<code class="du lh li lj lk b">cab78</code>引入的变化。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mc"><img src="../Images/61b49e0c1808889437c00af85ef5b7ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ho3BYpljviM4qUDLa154YA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">git diff允许您一次检查更大范围的提交</figcaption></figure><h1 id="2006" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">在提交下一个更改之前显示差异</h1><p id="29fc" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">众所周知的<code class="du lh li lj lk b">git diff</code>命令不仅可以让您查看已经提交的快照的历史，还可以帮助您找到</p><ul class=""><li id="155c" class="md me hi ki b kj lc km ld kp mf kt mg kx mh lb mi mj mk ml bi translated">自上次提交以来发生了什么变化(例如，您是否用自己喜欢的文本编辑器修改了配方)</li><li id="828e" class="md me hi ki b kj mm km mn kp mo kt mp kx mq lb mi mj mk ml bi translated">什么<em class="mr">是要提交的</em>(当您修改配方时，您已经进行了更改，但尚未提交)</li></ul><h2 id="c54d" class="ll jp hi bd jq lm ln lo ju lp lq lr jy kp ls lt ka kt lu lv kc kx lw lx ke ly bi translated">自上次提交以来发生了什么变化？</h2><p id="f3d3" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">要解决这个问题，您可以使用两个命令:</p><ul class=""><li id="5b23" class="md me hi ki b kj lc km ld kp mf kt mg kx mh lb mi mj mk ml bi translated"><code class="du lh li lj lk b">git status</code>告诉你哪些文件被修改了</li><li id="2fd7" class="md me hi ki b kj mm km mn kp mo kt mp kx mq lb mi mj mk ml bi translated"><code class="du lh li lj lk b">git diff</code>提供更详细的信息，并显示被跟踪文件中究竟发生了什么变化</li></ul><p id="09a2" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">关于使用<code class="du lh li lj lk b">git diff</code>，有一点很重要。如果你有一个很长的文本行，并且你只改变了其中的几个单词，git diff可能会产生非常混乱的输出，就像下面的截图一样。</p><p id="36c4" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">乍一看，好像我在<code class="du lh li lj lk b">royal_breakfast.txt</code>内变化很大。事实上，我只改变了一个词。输出看起来就像它看起来的那样，因为默认情况下<code class="du lh li lj lk b">git diff</code>检测被修改的整行。为了更好地了解我真正修改了什么，我使用了<code class="du lh li lj lk b">git diff --word-diff</code>，它只突出显示被修改的单词。该命令的输出显示在下一个屏幕截图中。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ms"><img src="../Images/13ce00ce4f582e3fa420f17b485d7845.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rJ5hvYD09HJ5inPMqzgD_g.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">git状态显示修改文件的名称</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mt"><img src="../Images/76ea583a0556170dadcfa18569350582.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bekyjtrHS1lEMsengRm6VA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">git diff只是显示已经更改的整行</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mt"><img src="../Images/20de7f07639c35efa3274b26d9e88377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3hCTxOljtu5MyBwhCIKmMQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用git diff和“word-diff”标志，以便在一行中只突出显示修改过的单词。</figcaption></figure><h2 id="47b8" class="ll jp hi bd jq lm ln lo ju lp lq lr jy kp ls lt ka kt lu lv kc kx lw lx ke ly bi translated">将提交哪些更改？</h2><p id="e0d0" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">如果您为下一次提交准备了更改，git status应该产生如下所示的输出。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mu"><img src="../Images/900c685bd7888a3f225a2064cff88217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1RoKK4nm2-eznKAUbMimag.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">暂存文件用绿色标记</figcaption></figure><p id="ac72" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">有意思的是，<code class="du lh li lj lk b">git diff</code>没有显示任何变化。是因为<code class="du lh li lj lk b">git diff</code>对比的是没有登台的工作目录。<code class="du lh li lj lk b">royal_breakfast.txt</code>已经登台，所以使用<code class="du lh li lj lk b">git diff --cached</code>代替。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mu"><img src="../Images/4d9d9efcb276cd88ad4bd249d360e1b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dsbAxNqFSMgW3EJz58acEw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">git diff不会显示分阶段进行的更改</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mu"><img src="../Images/c2810a7c3063e20a08694edaeb4f3045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qKqnfTQhqCJZC2pqhHHopw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用git diff和“cached”标志来显示暂存的更改</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mu"><img src="../Images/5c32ac1d7d1ef27b05aeab97f444465c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qArnB7SxXWjUuHrDM-Hgww.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用“word-diff”标志仅显示已更改的单词</figcaption></figure><p id="0d96" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">在某些情况下，Git显示的信息可能看起来更加混乱。也就是说，如果您键入<code class="du lh li lj lk b">git status</code>，Git可以告诉您相同的文件是</p><ul class=""><li id="6e6f" class="md me hi ki b kj lc km ld kp mf kt mg kx mh lb mi mj mk ml bi translated">已修改但未暂存(用红色标记)</li><li id="d3ed" class="md me hi ki b kj mm km mn kp mo kt mp kx mq lb mi mj mk ml bi translated">已修改和暂存(用绿色标记)</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mu"><img src="../Images/94ae3cdd66e625f173869f55eb337dc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y8n1NQAi4owr4_gOlR9mqQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">文件可以转移，也可以不转移</figcaption></figure><p id="5480" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">这仅仅意味着，您已经修改了一个文件并对其进行了暂存。后来，您决定在同一个文件中引入另一个更改，而不再次将该文件添加到临时区域。</p><p id="0b5f" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果我输入<code class="du lh li lj lk b">git diff --word-diff</code>，输出显示我在文本中添加了<em class="mr">“chop chop”</em>，这种变化不是阶段性的，因为我使用了不带“cached”标志的命令。</p><p id="51fb" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">另一方面，如果我键入<code class="du lh li lj lk b">git diff --cached --word-diff</code>，生成的输出显示单词<em class="mr">“精细”</em>已被替换为<em class="mr">“粗略”</em>。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mv"><img src="../Images/3077bf65e1a5c0fd9721806918d12595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5C_xvBaX2TicuSgXWJwskw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">尚未上演的变革</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mv"><img src="../Images/87affb40b645abb1c4153ef9b532c3ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3vUjnbpx4kjcPqgDcA1U3Q.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">一场已经上演的变革</figcaption></figure><p id="0d73" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">如果我提交文件，我的新提交将只包含从<em class="mr">【精细】</em>到<em class="mr">【粗略】</em>的变化。那么，让我们看看我的假设是否正确。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mv"><img src="../Images/c5a924a534b125f6fa45925ccb382f50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*icTO6xFHLe5lYwJk6XpOhQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">已创建一个包含部分更改的新提交</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mv"><img src="../Images/068171fd199f38b8f206f2c5ee0ba869.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AdnEa7rhvas3HrY1fLueEg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">新提交出现在git历史中</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mw"><img src="../Images/29e3c5043ad661ee15d010d2fc60fe55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ixg3aYSO8uDtHi1OKdaMLA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">“git show”命令表示新提交仅包含部分更改</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mv"><img src="../Images/4b1c40da7eb7bb77448178e4f50f81f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qWwK3dVL3r3Laahy2hSogw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">未暂存的变更仍可在工作目录中使用</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mx"><img src="../Images/93b301673733f943f8e9bab6ab0d5463.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1r8wazky1nN9gYcdKNLJAg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">“git diff”命令确认更改已经就绪</figcaption></figure><h1 id="fb12" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">后续步骤</h1><p id="9ba5" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我真的想粗略地切洋葱吗？不，我没有。那么，如何让早餐再次成为皇家美食呢？</p><p id="991c" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">在下一篇文章中，我将向您展示如何根据上下文以几种方式恢复不需要的更改。</p><p id="c9bd" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">敬请期待！</p><h1 id="6f79" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">参考</h1><p id="9a5b" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">[1]王南钧·什皮查科夫斯基，<em class="mr">皇家早餐的历史(满足Git # 6)</em><a class="ae jn" rel="noopener" href="/codex/the-history-of-the-royal-breakfast-meet-git-6-b1a8a2b521ba">https://medium . com/codex/The-History-of-The-The-Royal-Breakfast-Meet-6-B1 A8 a2 b 521 ba</a></p></div></div>    
</body>
</html>