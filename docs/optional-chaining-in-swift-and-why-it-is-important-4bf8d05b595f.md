# Swift 中的可选链接及其重要性

> 原文：<https://medium.com/codex/optional-chaining-in-swift-and-why-it-is-important-4bf8d05b595f?source=collection_archive---------7----------------------->

![](img/55e2b948d2beb9cfe089836d83a716e7.png)

照片由[郭佳欣·阿维蒂西安](https://unsplash.com/@kar111?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

在 Swift 中构建您的应用程序时，许多开发人员在构建他们的应用程序时可能会遇到运行时错误。运行时错误的一个非常常见的原因是所请求的值为零。这意味着应用程序正在请求一个不存在的值。编译器不知道如何处理这种情况，因此会产生运行时错误，导致应用程序崩溃。

通过使用可选的链接，有一种简单的方法可以避免这种运行时错误。今天，我们将探讨如何在 Swift 代码中使用可选值，从而避免那些讨厌的 nil 运行时错误。

当回顾一个项目或者浏览一个教程时，您可能会遇到包含问号的值。这个问号表示值是可选的。那到底是什么意思呢？一个可选的是告诉我们的编译器，“嘿，这里面可能有也可能没有存储任何东西。”如果该值为零，编译器将继续运行您的应用程序，因为它已经知道不能保证那里存储了一个值。

让我们看看下面的例子:

在上面的例子中，我们创建了两个类。我们有一个带有变量“计算机”的开发人员类，它是一个可选的计算机对象。然后我们有一个计算机类，它有一个名为“type”的变量，这个变量是一个值为“Apple”的字符串。

现在，假设我们想要创建一个 Developer 实例，并强制展开计算机值，如下所示:

我们已经创建了一个变量“austin ”,它是一个开发人员对象。这意味着我们有一个可选的 computer 变量，它可以保存一个包含“类型”变量的 Computer 对象，也可以不保存任何值。

因为我们还没有将变量 austins.computer 赋给我们的 computer 类，所以它目前没有任何值。上面的代码，如果执行的话，会产生一个运行时错误，因为我们使用感叹号来强制解包这个值，而这个值是零。

为了避免这种运行时错误，我们可以使用可选值，并创建一个 If Else 语句来捕捉我们的 nil 值，如下所示:

运行上面的代码将打印出“austin 没有计算机”,因为我们还没有在 Austin 变量中为 computer 类型创建值。

如果我们想将 austin.computer 的值赋给我们最初创建的计算机对象，我们可以像下面的例子这样做:

上面的代码现在将执行第一个 print 语句，因为我们已经给 austin 中的计算机变量赋值了。

如您所见，在创建代码时，利用可选链接非常容易，也是一个很好的实践。您可以将多个可选变量链接在一起，如果其中一个变量因返回 nil 而失败，该链接将失败，而不会导致应用程序崩溃和运行时错误。虽然简单，但这是开发人员在创建他们的代码时经常忽略的事情，然后他们必须遍历他们的代码库来定位返回 nil 并使他们的应用程序崩溃的变量。通过使用可选链接，您知道编译器已经设置好了，并且知道任何没有立即声明的变量可能包含值，也可能不包含值。

我希望您喜欢今天的文章，并在您的下一个 Swift 项目中练习使用可选链接！请务必关注我的页面，了解未来的 Swift、SwiftUI 和 Apple 文章！