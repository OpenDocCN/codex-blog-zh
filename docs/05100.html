<html>
<head>
<title>Global and Local Variables in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的全局和局部变量</h1>
<blockquote>原文：<a href="https://medium.com/codex/global-and-local-variables-in-python-903237cd5bb0?source=collection_archive---------18-----------------------#2022-01-31">https://medium.com/codex/global-and-local-variables-in-python-903237cd5bb0?source=collection_archive---------18-----------------------#2022-01-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="0cb5" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">了解如何更好地控制变量的使用，避免一些最常见的错误。</h2></div></div><div class="ab cl ix iy gp iz" role="separator"><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc jd"/><span class="ja bw bk jb jc"/></div><div class="hb hc hd he hf"><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/bc13dbb18cbfcf379bb76a1f270d45cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7BXoWsF5uTJR-jjCc3xd9w.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">照片由<a class="ae ju" href="https://unsplash.com/@wocintechchat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克里斯蒂娜</a>在<a class="ae ju" href="https://unsplash.com/s/photos/stem-woman?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="e530" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">局部变量和全局变量之间的区别经常让新开发人员感到困惑。如果是这样的话，那么看看下面的例子，就能清楚地了解它们之间的主要区别。</p><h2 id="924e" class="kr ks hi bd kt ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll bi translated">变量的范围</h2><p id="e2d8" class="pw-post-body-paragraph jv jw hi jx b jy lm ij ka kb ln im kd ke lo kg kh ki lp kk kl km lq ko kp kq hb bi translated">这两类变量的主要区别之一是它们所谓的范围。变量的范围决定了它存在的位置。</p><p id="c117" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">你可能认为所有的变量都存在于代码中的任何地方，但事实并非如此。例如，考虑以下代码:</p><p id="3b9b" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">如果您运行这段代码，您将得到一个错误，指出add_num没有定义。尽管你可以在第二行看到它的定义。原因是add_num是一个<strong class="jx hj">局部</strong>变量。</p><h2 id="632b" class="kr ks hi bd kt ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll bi translated">局部变量</h2><p id="8a33" class="pw-post-body-paragraph jv jw hi jx b jy lm ij ka kb ln im kd ke lo kg kh ki lp kk kl km lq ko kp kq hb bi translated">局部变量只存在于它们自己的部分中。变量部分是指代码中可以访问该变量的区域。对于局部变量，它通常是一个函数。这里add_num的部分是number_addition函数。</p><p id="25a3" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">这意味着我们只能用同样在add_num函数内部的代码来访问它。因此，我们可以在number_addition函数之外将其他变量命名为add_num。</p><p id="c17d" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">这是使用局部变量的最大优点之一。它保证你可以随意命名函数内部的变量，并且它们不会覆盖函数外部的任何变量。</p><p id="2627" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">使用局部变量也非常节省内存，因为一旦它们被使用完，就会被删除。</p><p id="6290" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">与局部变量相对应的是全局变量</p><h2 id="e5dc" class="kr ks hi bd kt ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll bi translated">全局变量</h2><p id="496a" class="pw-post-body-paragraph jv jw hi jx b jy lm ij ka kb ln im kd ke lo kg kh ki lp kk kl km lq ko kp kq hb bi translated">全局变量到处存在<strong class="jx hj"/>。这意味着无论您在代码中的哪个位置工作，都可以访问该变量。</p><p id="994b" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">对于一个全局变量，你需要在所有函数之外声明它。一个例外是全局关键字的使用。</p><p id="f770" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">让我们用代码覆盖几个例子。</p><p id="425d" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">这里我们有与上面相同的代码，但有一些变化:</p><ul class=""><li id="abf5" class="lr ls hi jx b jy jz kb kc ke lt ki lu km lv kq lw lx ly lz bi translated">现在我们已经在打印中正确地命名了这个变量，这意味着我们在运行这个变量时没有出错</li><li id="3536" class="lr ls hi jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz bi translated">更重要的是，我们已经去掉了number_addition函数的所有参数</li></ul><p id="a513" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">起初，您可能认为这段代码不起作用，因为num_1和num_2没有在函数内部定义。但是，您可能错了，因为运行这段代码会打印出50。</p><p id="d85c" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">原因是num_1和num_2都是建立在任何函数之外的全局变量。这意味着您可以在任何地方访问它们，甚至在某个函数内部。</p><p id="660e" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">因此，number_addition函数可以使用num_1和num_2对它们求和。</p><h2 id="78ad" class="kr ks hi bd kt ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll bi translated">全局关键字</h2><p id="b80f" class="pw-post-body-paragraph jv jw hi jx b jy lm ij ka kb ln im kd ke lo kg kh ki lp kk kl km lq ko kp kq hb bi translated">有时你可能想在整个代码中使用一个变量，但它首先是在函数内部建立的。</p><p id="ffd1" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">大多数情况下，你可以找到一种方法，首先创建变量，然后让函数修改它，但如果不是这样，你可以使用全局关键字。</p><p id="ba92" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">让我们以我们的第一个代码为例:</p><p id="f3db" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">这段代码和第一段代码的主要区别是第2行。在这里，我们将add_num变量声明为全局变量。这意味着当我们试图在第7行打印它时，我们不会得到任何错误。</p><h2 id="d47d" class="kr ks hi bd kt ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll bi translated">优点和缺点</h2><p id="bd6d" class="pw-post-body-paragraph jv jw hi jx b jy lm ij ka kb ln im kd ke lo kg kh ki lp kk kl km lq ko kp kq hb bi translated">现在你知道了局部变量和全局变量的含义，那么什么时候应该使用它们呢？</p><p id="7c1c" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated"><strong class="jx hj">局部变量的优势:</strong></p><ul class=""><li id="11b5" class="lr ls hi jx b jy jz kb kc ke lt ki lu km lv kq lw lx ly lz bi translated">保证全局变量保持不变</li><li id="a7d7" class="lr ls hi jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz bi translated">更容易跟踪哪里发生了变化</li><li id="6fe8" class="lr ls hi jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz bi translated">使用完毕后立即删除</li><li id="b4e3" class="lr ls hi jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz bi translated">允许重复使用名称</li></ul><p id="a66f" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated"><strong class="jx hj">全局变量的优势:</strong></p><ul class=""><li id="ca09" class="lr ls hi jx b jy jz kb kc ke lt ki lu km lv kq lw lx ly lz bi translated">可以从任何地方访问</li><li id="69b6" class="lr ls hi jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz bi translated">允许常量值的轻松存储</li><li id="e122" class="lr ls hi jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz bi translated">允许多个功能使用相同的数据</li></ul><h2 id="ea37" class="kr ks hi bd kt ku kv kw kx ky kz la lb ke lc ld le ki lf lg lh km li lj lk ll bi translated">摘要</h2><p id="94fb" class="pw-post-body-paragraph jv jw hi jx b jy lm ij ka kb ln im kd ke lo kg kh ki lp kk kl km lq ko kp kq hb bi translated">总结一下Python中局部变量和全局变量的主要区别:</p><ul class=""><li id="8bb4" class="lr ls hi jx b jy jz kb kc ke lt ki lu km lv kq lw lx ly lz bi translated">局部变量是在函数内部声明的</li><li id="7014" class="lr ls hi jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz bi translated">全局变量是在函数外部声明的</li><li id="fb51" class="lr ls hi jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz bi translated">局部变量在用完之后会被删除</li><li id="195b" class="lr ls hi jx b jy ma kb mb ke mc ki md km me kq lw lx ly lz bi translated">全局变量会一直存在，直到整个程序运行完毕。</li></ul><p id="3842" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">如果你有任何问题，一定要评论他们，我会尽力回答。</p></div></div>    
</body>
</html>