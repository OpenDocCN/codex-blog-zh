<html>
<head>
<title>WebAssembly : The bridge</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">WebAssembly:桥梁</h1>
<blockquote>原文：<a href="https://medium.com/codex/webassembly-the-bridge-19d0e999064f?source=collection_archive---------10-----------------------#2022-01-10">https://medium.com/codex/webassembly-the-bridge-19d0e999064f?source=collection_archive---------10-----------------------#2022-01-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ca03" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">WebAssembly又名WASM，可以被视为JavaScript和机器代码之间的桥梁。WebAssembly是一种低级语言，具有紧凑的二进制格式，以接近本机的性能运行。它是像<strong class="ih hj"> Rust、AssemblyScript、C/C++ </strong>等语言的<strong class="ih hj">编译目标</strong>！</p><h1 id="e833" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">WASM为什么有用？</h1><p id="1490" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">WASM旨在为网络提供高度优化的计算和性能。JavaScript是一种很棒的语言，它并没有考虑到性能，但当它与其他语言和WebAssembly一起使用时，它可以带来出色的性能和两个世界的最佳特性！。</p><p id="69bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">WASM可以在现代浏览器中重复利用用完全不兼容的语言为完全不同的平台编写的代码。</p><p id="5d1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然WebAssembly被设计为在Web 上运行<a class="ae kg" href="https://webassembly.org/docs/web/" rel="noopener ugc nofollow" target="_blank">，但是它也能够在其他环境中很好地执行，包括从外壳到成熟的应用环境，例如在数据中心的服务器上、在物联网设备上等等。比如—桌面WebAssembly，</a><a class="ae kg" href="https://github.com/nebulet/nebulet" rel="noopener ugc nofollow" target="_blank">Nebulet</a>—只运行WebAssembly的操作系统微内核。</p><p id="88e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它旨在但不限于帮助浏览器运行密集的计算任务，如仿真、VR/AR、图像识别等。更有效率。</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es kh"><img src="../Images/a950ee1a4cedd401c6f25e31d11d56a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HhjesZgel0I4hf_SXpJTKA.png"/></div></div><figcaption class="kt ku et er es kv kw bd b be z dx translated">使用WebAssembly将Google Earth移植到浏览器</figcaption></figure><p id="7928" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Unity、Tensorflow.js、Google Earth是利用WASM的一些主要项目。这是完整的名单——https://madewithwebassembly.com/</p><h1 id="57cf" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">WASM的工作</h1><p id="a708" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">让我们以C/C++源代码为例来看看它的工作原理:</p><figure class="ki kj kk kl fd km er es paragraph-image"><div role="button" tabindex="0" class="kn ko di kp bf kq"><div class="er es kx"><img src="../Images/0bd4dd8a632371b2b6ece4392b7536e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pp-a77vu7VCL_QPmNhZnQg.png"/></div></div></figure><p id="a77d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">汇编通常是指类似于机器代码的人类可读语言。机器码是你的处理器理解的，0和1。每一种高级编程语言都被翻译成机器代码，以便在处理器上运行。</p><p id="1987" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不同种类的处理器架构(x86、ARM等。)需要不同的机器码和不同种类的装配。当浏览器下载WebAssembly代码时，它可以快速将其转换为任何机器的程序集。</p><ol class=""><li id="4bdc" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated">Emscripten将源代码转换或编译成. wasm二进制文件或wasm模块。</li><li id="5261" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">WebAssembly当前无法直接访问DOM。因此，要访问任何Web API，WebAssembly需要调用JavaScript，然后JavaScript调用Web API。因此，Emscripten创建了实现这一目标所需的HTML和JavaScript粘合代码。</li></ol><p id="4cc4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">粘合代码——源代码中使用的库的功能，调用JavaScript APIs获取、加载和运行。wasm文件。</p><p id="1507" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">HTML文档—它显示代码的结果</p><p id="7544" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">WebAssembly有一个易于阅读的文本格式。wat) ，但是二进制表示是你实际交付给浏览器的<em class="lm">(。wasm) </em>。</p><h1 id="dbed" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">WASM特色</h1><ul class=""><li id="78ea" class="ky kz hi ih b ii kb im kc iq ln iu lo iy lp jc lq le lf lg bi translated"><strong class="ih hj">高效- </strong>正如<strong class="ih hj"> </strong> WASM是一种低级二进制格式，体积较小，在网络浏览器中加载速度较快。当这些浏览器执行WASM代码时，它们会更快地从服务器获取代码。它支持<strong class="ih hj">流编译</strong>，即在下载文件时编译成机器码<em class="lm">。更详细地说，JavaScript引擎可以将文件编译成本机代码，但是需要先下载文件。然而，另一方面，WebAssembly可以在字节进入时编译成机器码，从而显著加快启动时间。</em></li><li id="7d6e" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc lq le lf lg bi translated"><strong class="ih hj">安全</strong> - WebAssembly是<strong class="ih hj">沙箱化的</strong>，沙箱化意味着出于安全目的隔离或限制脚本可以做的事情的范围。它不能直接访问用户的操作系统，它只能访问与JavaScript相同的API。WebAssembly还为C/C++等语言提供了额外的安全性。</li><li id="c2d6" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc lq le lf lg bi translated"><strong class="ih hj">低级字节码</strong>——高级编程语言代码(如C++或Rust)被编译成机器可读的二进制目标代码，也就是字节码。字节码是为软件高效执行而设计的指令集，通常这种软件是虚拟机。这使得它非常低级，这使得性能优化，但仍然是可移植的；你不用担心哪个CPU (x64，ARM等。)你的用户有。</li><li id="6cc2" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc lq le lf lg bi translated"><strong class="ih hj">开放web平台</strong>的一部分——web assembly被设计成保持web 的无版本、经过功能测试且向后兼容的<a class="ae kg" href="https://webassembly.org/docs/web/" rel="noopener ugc nofollow" target="_blank">特性。WebAssembly模块将能够调入和调出JavaScript上下文，并通过可从JavaScript访问的相同Web APIs访问浏览器功能。</a></li></ul><h1 id="d06c" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">如何开始或使用WebAssembly？</h1><p id="9899" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">以下是使用WebAssembly进行开发的一些方法:</p><ul class=""><li id="f5e4" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc lq le lf lg bi translated">WebAssembly模块可以导入到web(或Node.js)应用程序中，通过JavaScript公开WebAssembly函数以供使用。</li><li id="9868" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc lq le lf lg bi translated">使用类似于TypeScript的AssemblyScript 编译成WebAssembly二进制文件。</li><li id="772c" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc lq le lf lg bi translated">使用Emscripten传输C/C++应用程序(将C/C++编译成wasm)。</li></ul><p id="e735" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是wasm代码“Hello World”的入门链接—<a class="ae kg" href="https://wasmbyexample.dev/examples/hello-world/hello-world.c.en-us.html" rel="noopener ugc nofollow" target="_blank">https://wasmbyexample . dev/examples/Hello-World/Hello-World . c . en-us . html</a></p></div><div class="ab cl lr ls gp lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="hb hc hd he hf"><p id="be80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，WebAssembly是从高级代码到机器代码的桥梁，也是通向更强大浏览器的桥梁。它鼓励使用更多用于开发的语言。它将很快被广泛使用，而不仅仅是浏览器。一定要看看<a class="ae kg" href="https://github.com/mbasso/awesome-wasm" rel="noopener ugc nofollow" target="_blank"> awsm-wasm </a>关于wasm的一切！。</p></div></div>    
</body>
</html>