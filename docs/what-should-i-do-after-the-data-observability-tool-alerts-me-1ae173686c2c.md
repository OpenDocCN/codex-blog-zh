# 数据可观察性工具向我发出警报后，我该怎么办？

> 原文：<https://medium.com/codex/what-should-i-do-after-the-data-observability-tool-alerts-me-1ae173686c2c?source=collection_archive---------8----------------------->

## 收到事故通知后需要考虑的步骤。

![](img/a803fa71d69d2db5a4f53e25ae40fe8e.png)

艾米丽·莫特在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

在过去的几年里，数据可观测性公司一直在大力推动数据堆栈的采用。教育数据社区至关重要，同时也极具挑战性。毫无疑问，数据可观察性对于提高整个数据价值链的效率和可靠性具有重要价值。然而，我们还需要开始在整个生态系统中建立最佳实践，以最大化数据可观测性的价值。

> 在应用观察生态系统(如 Datadog)中，一旦 DevOps 和 SRE 团队被告知某个问题，后续的补救措施就很清楚，也很容易理解。它可能涉及众所周知的过程，如代码重构或产生新的实例等。相比之下，数据可观察性生态系统的情况则完全不同。根据事故、数据堆栈和数据基础设施的不同，补救措施可能非常不同、复杂且相对具有挑战性。

因此，我在这里分享一些补救措施，作为你考虑发布通知的良好做法。我在这里不是要告诉你哪个平台是最好的，或者谁通知得更好，相反，重点更多的是下一步是什么；作为一名数据工程师，您应该如何处理该通知/警报。

让我们重新审视一下数据可观测性支柱，它们总体上量化了数据的健康状况。

*摘自我之前的帖子。*

*   **Volume:** 它确保所有的行/事件都被捕获或摄取。
*   **新鲜度:**数据的新近度。如果您的数据每 xx 分钟更新一次，该测试将确保数据更新，否则将引发一个事件。
*   **模式变更**:如果有模式变更或推出了新特性，您的数据团队需要注意更新脚本。
*   **分布**:所有事件都在可接受范围内。例如，如果一个关键值不应该包含 *null* 值，那么该测试确保对任何 *null 或缺失值*发出警报。
*   **血统**:这是一个必须拥有的模块，然而，我们总是轻描淡写这些。Lineage 为上游和下游的数据团队提供了方便的信息。

## **如果您收到针对每个支柱的通知，您需要考虑的步骤。**

**数量:**基于#事件的#数量，存在可能大于或小于预期阈值的事件。这通常在表级别通知。

**Freshness:** 该事件通常发生在表级别，而不是字段级别，表示某个表没有按预期进行更新。这可能会导致公司发出警报，特别是如果他们预计要发布报告或发送电子邮件，并发现数据是旧的。一些调试技巧。

> 容量和新鲜度调试步骤可能会重叠，这就是为什么我决定合并这些步骤。

*   了解源表是否有任何更改。
*   数量的激增可能是由于营销活动扩大了覆盖面。如果这是一次性的，您应该将其视为异常，但是如果趋势长期持续，则可能需要重新调整阈值。
*   与工程团队一起检查网站或应用程序是否出现了宕机。(Datadog 之类的工具应该也会通知你！)
*   检查*气流*上的编排故障或 *dbt* 中的管线问题(或您团队的相关工具)
*   数据管道滞后的可能性，这可能导致差异。如果延迟是由高需求或系统问题引起的，将其标记为异常。
*   我们还建议您检查表沿袭(上游/下游),看是否有任何可能的错误。对于给定的表，从问题所在的地方开始，并向上游移动。应该首先调查并修复最高的上游误差。
*   检查在事件窗口期间完成的任何已知的表迁移。

**Schema Change:** 这将通知在表级别发生的任何可能影响最终报告或下游依赖项的更改。

*   了解已部署的更改，无论是添加、修改还是删除表。
*   从谱系中了解哪些下游资源受到影响。
*   对您的脚本进行更改，无论是 SQL、Python、Airflow 还是 dbt 模型，以促进模式的更改。
*   在临时表更改后，您应该在将它部署到生产环境之前运行数据重组或了解差异。
*   可能会有回填表以反映新字段中的数据的可能性，尽管需要记住某些事情，如查询时间、策略和表锁考虑。我将在以后的文章中对此进行更多的讨论。

**字段或列级别:**我个人认为这是数据可观察性工具发挥作用并推动 ROI 的地方。无论是验证一个领域，检查质量的 ML 模型等；现场级监控是公司需要利用的最重要的模块。调试步骤可能会随着架构的种类和数据团队权限范围内的事情而变化。让我列出一些可能的调试步骤。

*   让我们假设事件是针对一个不应为空的字段引发的( *not-null 约束):*获取主 ID 或事务 ID，并将其与生产/源数据中的记录进行比较。这将使您了解问题是否存在于生产中，或者它是一个管道错误。
*   如果是管道错误，请修复脚本，您可能需要执行更新以更正事件。
*   如果是生产/源数据库问题，请联系技术/工程团队，看他们是否可以回填并修复该问题。一旦他们解决了问题，您仍然需要执行升级以纠正事件或可能回填事件。

最困难的模块/项目之一是数据**回填**。”*上升事件*”看似简单，实则不然。有几个重要的方面需要记住，比如确保数据/事件不会重复，记录不会泄漏，以及对活动表的特定处理。

*我们的下一篇文章将详细介绍数据回填，以及一家公司基于其数据堆栈可能使用的技术。*

我希望这篇文章给出了在收到来自数据可观察性工具的通知后应该做什么的高层次概述。我很高兴能从评论和反馈中了解更多信息。

*有兴趣了解有关数据可观察性的更多信息吗？联系* [*me*](http://www.linkedin.com/in/jatinsolanki) *或者您可以访问我们的* [*网站*](http://www.decube.io/) *了解更多信息。*

我们计划在九月底推出我们的产品——加入等候名单，获得 30 天的免费试用。