<html>
<head>
<title>Let’s add QR feature for our Django application!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们为Django应用程序添加QR特性！</h1>
<blockquote>原文：<a href="https://medium.com/codex/lets-add-qr-feature-for-our-django-application-2cee136503b8?source=collection_archive---------13-----------------------#2021-08-27">https://medium.com/codex/lets-add-qr-feature-for-our-django-application-2cee136503b8?source=collection_archive---------13-----------------------#2021-08-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0084e27beb521233770fb964c832ce5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OODSUKQPx4B1hax1"/></div></div></figure><p id="bea8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最近，我在一家餐厅吃饭，有人告诉我扫描二维码，然后用手机获取菜单。当我回家时，我只是想知道我们如何将它作为一个特性添加进来，或者构建一个在任何现有项目或新项目中复制相同内容的特性。我想尝试一下，只是做了一个简单的qr码生成器，以及如何在Django驱动的应用程序中添加qr功能！</p><p id="7908" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">移动电话已经成为我们日常生活中的必需品，并且非常有用，因为它是最简单的通信、共享和创建数据的手段。共享数据的一个简单方法是使用QR。我们经常在餐厅和餐桌上看到嵌入二维码的小板子，要求我们扫描代码以获得菜单。这种设置可能有多种原因，我发现的原因就像是遵循COVID的规范，其中包括不接触菜单卡，因为餐厅中的许多人都会接触它，而且一旦扫描到QR码，就会重定向到一个网页，这可能会提供有关用户使用的一些详细信息，并且用户可能会重新打开菜单，也可能会从同一家餐厅点菜。</p><h1 id="7f99" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">现在让我们深入了解博客的细节:</h1><p id="0558" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">博客的想法很简单，有一个django应用程序，一个html页面，上面有我们餐厅的详细信息，以及相应的视图。通过为该URL制作一个二维码并在我们的应用程序中渲染，我们就完成了。我们分享可以嵌入的qr，并尝试使用QR阅读器和测试它。我已经使用了Django，我们可以使用<strong class="is hj"> flask </strong>或者我们选择的任何其他框架，但是这个想法在所有框架中都是一样的。这个想法的概述可以在下图中看到:</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/469a8303b25fa1c920d5ab7a7ac92f10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U74rkT28JOBNPLFr"/></div></div></figure><p id="cebb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以下软件包用于构建应用程序:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="af99" class="lb jp hi kx b fi lc ld l le lf"># django <br/>pip install django <br/># pyqrcode <br/>pip install pyqrcode <br/># pypng <br/>pip install pypng</span></pre><p id="2c52" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先让我们看看使用pyqrcode的逻辑，逻辑很简单，我们提供要嵌入的URL作为pyqrcode中的方法<strong class="is hj">创建</strong>的输入，并使用png包将嵌入的QR保存为png。</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="af3c" class="lb jp hi kx b fi lc ld l le lf">from pyqrcode import create import png<br/>def embed_QR(url_input, location_name): <br/>    embedded_qr = create(url_input)<br/>    embedded_qr.png(location_name, scale=7)</span></pre><p id="0759" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们已经有了生成qr码的方法，现在让我们看看如何集成到Django应用程序中。有多个教程介绍我们如何<strong class="is hj">设置</strong>我们的django应用程序，但我不会触及设置，假设我们已经有了Django应用程序，让我们看看如何使用二维码。</p><p id="1234" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以简化用例，只呈现一个已经存在的视图，并将代码嵌入到django项目中。假设说，<a class="ae lg" href="https://myblog.com/menu" rel="noopener ugc nofollow" target="_blank">myblog.com/menu</a>已经是我们django应用程序的现有视图，我们将这个URL作为二维码嵌入，并返回到我们应用程序的登录页面或保存并分发。由于我们正在本地开发应用程序，我们可以在qr中嵌入如下的URL:<a class="ae lg" href="http://ip_of_your_computer:8000/menu" rel="noopener ugc nofollow" target="_blank">IP _ of _ your _ computer:8000/menu</a>。保存的图像可以作为图像嵌入我们的登录页面。</p><p id="b18e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们应该确保我们用来测试QR的设备、服务器在同一个子网中，并且服务器正在监听子网的所有ip。</p><p id="edc4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，现在让我们开始编码吧！！！。</p><p id="95c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们已经有了生成QR的方法，还假设我们有django应用程序，它为路径<strong class="is hj"> menu/ </strong>呈现菜单，如果没有，那么我们可以在urls.py中添加一个URL，它实际上执行此操作。因此，在我们的django应用程序中(假设我们的项目中存在一个应用程序)，打开urls.py(如果不存在，创建一个并将URL添加到项目中的urls.py)并添加以下行</p><p id="50a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这一行与django服务器通信，如果接收到任何与菜单相关的请求，则重定向到与views.py中的菜单相关的视图。</p><p id="b37d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在views.py中，我们可以有一个简单的视图，如下所示:</p><pre class="ks kt ku kv fd kw kx ky kz aw la bi"><span id="9a07" class="lb jp hi kx b fi lc ld l le lf">menu_items = some_menu_model.objects.get() return render(request, 'menu.html', {'menu': menu_items})</span></pre><p id="08af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们在上面的视图中看到，对于获得的请求，我们获得了菜单的所有项目，假设菜单的模型存在，然后呈现一个包含菜单项的menu.html。</p><p id="d1b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，当用户(我们已向其共享了qr码)扫描qr码时，会被重定向到菜单的URL，并且会呈现包含所有菜单项的视图。</p><p id="f614" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就是这样，很简单！试试吧，在下面的评论里让我知道它是否有效:)。</p><p id="916f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在运行应用程序之前，需要设置几个检查点:</p><ol class=""><li id="056a" class="lh li hi is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated">确保安装了所有必需的软件包。</li><li id="99ce" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">确保服务器和测试设备在同一个子网中，以便测试设备浏览器在打开URL时将我们的请求重定向到本地运行的服务器。</li><li id="7ae6" class="lh li hi is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">还要确保您的url应该有用作服务器的计算机的ip地址，而不是本地主机。假设192.178.0.12是你电脑的ip地址，那么菜单视图的重定向url可以是类似于<a class="ae lg" href="http://192.178.0.12/menu" rel="noopener ugc nofollow" target="_blank">192.178.0.12/menu</a>的东西。</li></ol><p id="0590" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就是这样！！！我们在django应用中嵌入了一个简单的qr功能。干杯！！！！</p><p id="e196" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以改进，通过qr来邀请新用户加入您的web应用程序，或者在web应用程序或任何其他功能中为用户提供一些个性化的东西！</p><p id="6b54" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我已经上传了我的github repo的代码。<a class="ae lg" href="https://github.com/gauthamdasu/Mini-project-blog-codes/tree/master/QR_App" rel="noopener ugc nofollow" target="_blank">这个</a>是回购的环节。</p><p id="fd1a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以使我们的项目更加通用，并将其重命名为qr生成应用程序。让我们看看如何实现它。我们输入url，然后嵌入url，并将qr码返回到视图，然后就这样，我们制作了自己的QR生成器应用程序！！！！。同样的几个截图:</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/53de803c493e9114df7632cdaffc8e2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8IqsgM1cCXBwti1y"/></div></div></figure><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/2349f12c13d6af98b25ce304f707147a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5NunWUj9Gf3rvh9W"/></div></div></figure><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/707132e963334ecfb8507db8da42f947.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OnjzEJP8CZq9RDdg"/></div></div></figure><p id="e447" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我已经在github项目中包含了相同的内容，请随意浏览并尝试一下。干杯。</p><p id="f257" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我为此制作了一个演示的小视频，希望你会觉得有用:</p><figure class="ks kt ku kv fd ij"><div class="bz dy l di"><div class="ly lz l"/></div><figcaption class="ma mb et er es mc md bd b be z dx translated">博客内容的演示。</figcaption></figure><p id="5685" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我希望这篇文章对正在阅读这篇文章的人有用，我欢迎任何评论、建议、反馈和澄清。你可以通过<a class="ae lg" href="https://www.buymeacoffee.com/gautham.dasu" rel="noopener ugc nofollow" target="_blank">请我喝咖啡</a>来鼓励我写更多这样的内容。谢谢，祝您愉快！！！</p></div><div class="ab cl me mf gp mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hb hc hd he hf"><p id="3ef5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ml">原发布于</em><a class="ae lg" href="https://gauthamdasu.hashnode.dev/lets-add-qr-feature-for-our-django-applications" rel="noopener ugc nofollow" target="_blank"><em class="ml">https://gauthamdasu . hashnode . dev</em></a><em class="ml">。</em></p></div></div>    
</body>
</html>