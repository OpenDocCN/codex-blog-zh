<html>
<head>
<title>How to build an API with TypeScript and use it in React (PART 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用TypeScript构建API并在React中使用它(第1部分)</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-build-an-api-with-typescript-and-use-it-in-react-part-1-2dab843d12be?source=collection_archive---------6-----------------------#2022-07-10">https://medium.com/codex/how-to-build-an-api-with-typescript-and-use-it-in-react-part-1-2dab843d12be?source=collection_archive---------6-----------------------#2022-07-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4b39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">API的使用在编程中是必不可少的。从数据解释的角度来看，这些是两个应用程序之间最关键的层。本文解释了如何创建一个并在React应用程序中使用它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/769b008725fd3857c0db02c467f5f919.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rDAjomK78Q8rsiRFqAFsSQ.png"/></div></div></figure><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="79fe" class="ju jv hi jq b fi jw jx l jy jz">💡 <em class="ka">API = Application Programming Interface</em></span></pre><p id="ebfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们需要一个简单的应用程序作为我们的“编程接口”此应用程序将只能发送一个响应对象；它将无法管理或更改数据。回应将会是</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="f767" class="ju jv hi jq b fi jw jx l jy jz">{<br/>  message: 'Awesome!'<br/>}</span></pre><p id="40ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还需要在计算机上安装一些东西，但是不要担心，它们在以后仍然会有帮助！</p><p id="5e56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，回到我们的API。对于此任务，将使用TypeScript。要测试它，请在文件夹中创建一个新的TypeScript文件，在代码编辑器中打开它，然后向其中添加一行。</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="5f48" class="ju jv hi jq b fi jw jx l jy jz">🤞 <strong class="jq hj">FIRST OF ALL CREATE YOUR TYPESCRIPT FILE AND ADD A SIMPLE LOG</strong><br/>my-first-api/index.ts<br/>console.log('Test!')</span></pre><p id="99b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">既然我们必须以某种方式利用它，那么<code class="du kb kc kd jq b">nodemon</code>就出现了。<code class="du kb kc kd jq b">nodemon</code> CLI应用程序在您的终端中运行JavaScript和TypeScript infinite，并在您的代码更改时重新启动它们。</p><p id="1fa6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以让我们安装一些新的包来运行您的TypeScript文件！首先，我们are⚙️将需要<code class="du kb kc kd jq b">nodemon</code>,当然是支持打字稿的:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="82c1" class="ju jv hi jq b fi jw jx l jy jz">👆 <strong class="jq hj">INSTALL REQUIRED DEPENDENCIES</strong><br/>npm i -g nodemon ts-node</span></pre><p id="7585" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后将<code class="du kb kc kd jq b">tsconfig.json</code>文件添加到您的文件夹的根目录，以处理类型脚本功能，并用以下内容更新它，以便能够使用<code class="du kb kc kd jq b">console.log()</code>功能:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="fb4f" class="ju jv hi jq b fi jw jx l jy jz">🔧 <strong class="jq hj">BE AWARE OF THE CONFIGURATION</strong><br/>{<br/>  "compilerOptions": {<br/>    "lib": [ "dom" ]<br/>  }<br/>}</span></pre><p id="8bbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在你的终端输入<code class="du kb kc kd jq b">nodemon index.ts</code>后，你会看到你的日志</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="3542" class="ju jv hi jq b fi jw jx l jy jz">😎 <strong class="jq hj">TEST WORKS OUT JUST FINE</strong><br/>nodemon index.ts<br/>'Test!'</span></pre><p id="7bb9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">太好了！我们的代码现在需要更新成为一个API。我们需要一个API调用控制器，在我们的例子中，它是<code class="du kb kc kd jq b">express</code>库，所以我们需要安装它。但是首先，要在我们的文件夹中安装库，我们必须首先创建并更新<code class="du kb kc kd jq b">package.json</code>文件。</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="3c41" class="ju jv hi jq b fi jw jx l jy jz">📦 <strong class="jq hj">CREATE AND UPDATE package.json FILE</strong><br/>my-first-api/package.json<br/>{<br/>  "name": "my-first-api",<br/>  "version": "1.0.0",<br/>  "dependencies": {<br/>  }<br/>}</span></pre><p id="6977" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并安装<code class="du kb kc kd jq b">express</code></p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="7341" class="ju jv hi jq b fi jw jx l jy jz">🚝 <strong class="jq hj">INSTALL EXPRESS &amp; DEVELOPER DEPENDENCIES</strong><br/>npm i express<br/>npm i --save-dev <a class="ae ke" href="http://twitter.com/types/node" rel="noopener ugc nofollow" target="_blank">@types/node</a></span></pre><p id="f0d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们有了创建API的库，我们必须在文件中定义它是一个<strong class="ih hj"> express </strong>应用程序</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="aade" class="ju jv hi jq b fi jw jx l jy jz">📞 <strong class="jq hj">DEFINE EXPRESS IN OUR TYPESCRIPT FILE</strong><br/>const express = require('express')<br/>const app = express()<br/>const port = 3000<br/><strong class="jq hj">app.listen</strong>(port, () =&gt; {<br/>  console.log('App is listening on port', port)<br/>})</span></pre><p id="b953" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这意味着我们定义了<code class="du kb kc kd jq b">express</code>，创建了一个<code class="du kb kc kd jq b">express</code>应用程序，并定义了一个通信端口。<code class="du kb kc kd jq b">app</code>上的<code class="du kb kc kd jq b">listen</code>函数基本上启动API。</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="94f5" class="ju jv hi jq b fi jw jx l jy jz">💡 <em class="ka">In order to ensure that our API runs indefinitely, we use nodemon to launch it. Otherwise, we won't be able to interact with it.</em></span></pre><p id="f8bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了继续，我们必须指定当我们调用API时，我们想要发送一条消息</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="345b" class="ju jv hi jq b fi jw jx l jy jz">📡 <strong class="jq hj">DEFINE THE MESSAGE</strong><br/>const express = require('express')<br/>const app = express()<br/>const port = 3000<br/>app.listen(port, () =&gt; {<br/>  console.log('App is listening on port', port)<br/>})<br/><strong class="jq hj">app.get('/', (req, res) =&gt; {<br/>  res.send({<br/>    message: 'Awesome!'<br/>  })<br/>})</strong></span></pre><p id="16d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码简单地暗示了您想要在<code class="du kb kc kd jq b">”/”</code>路径(这是根端点)上从<code class="du kb kc kd jq b">app</code>获得<code class="du kb kc kd jq b">.get</code>信息，并且您想要使用<code class="du kb kc kd jq b">res</code>发送的消息(类似于响应)是一个对象:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="785a" class="ju jv hi jq b fi jw jx l jy jz">{<br/>  message: 'Awesome!'<br/>}</span></pre><p id="3cc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嘣。您的API是功能性的。它在您的<code class="du kb kc kd jq b">localhost</code>上运行，因为您是从终端启动它的，因此您可以使用您已经在应用程序中提供的地址和端口号来访问它，如下所示:</p><pre class="je jf jg jh fd jp jq jr js aw jt bi"><span id="f432" class="ju jv hi jq b fi jw jx l jy jz">🧑‍💻 <strong class="jq hj">TYPE THIS ADDRESS INTO YOUR WEB BROWSER BAR AND SEE WHAT HAPPENS</strong><br/>localhost:3000</span></pre><p id="75f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的邮件将以纯文本形式出现在浏览器中。太棒了，对吧？因此，您现在可以在API中定义任何端点，也可以从浏览器访问它。</p><p id="0eeb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">敬请关注第2部分，了解如何在周日的React应用程序中从这个令人敬畏的新API获取数据！</p></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><p id="d93e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">👋我希望这在你寻找新的学习材料时对你有用。<strong class="ih hj">感谢您抽出时间阅读本文！</strong></p><p id="71c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你从我的文章中更好地理解了一些东西，<strong class="ih hj">你可以请我喝咖啡来支持我</strong>:<a class="ae ke" href="https://www.buymeacoffee.com/daanworks" rel="noopener ugc nofollow" target="_blank">https://www.buymeacoffee.com/daanworks</a></p><p id="fdef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">📯<strong class="ih hj">订阅我的电子邮件列表</strong>，如果你想在未来读到更多这样的故事，请在这里或在<a class="ae ke" href="https://twitter.com/daanwords" rel="noopener ugc nofollow" target="_blank"> Twitter </a> <strong class="ih hj">上关注我！</strong></p></div></div>    
</body>
</html>