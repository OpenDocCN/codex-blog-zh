<html>
<head>
<title>Electron Desktop App Template</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">电子桌面应用程序模板</h1>
<blockquote>原文：<a href="https://medium.com/codex/electron-desktop-app-template-14c5e9c40b1e?source=collection_archive---------0-----------------------#2021-06-07">https://medium.com/codex/electron-desktop-app-template-14c5e9c40b1e?source=collection_archive---------0-----------------------#2021-06-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/60f7c02d19076f385e0dcdde88eff4c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ImnpjQ1QLB_eHl5b"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://unsplash.com/@claybanks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">粘土银行</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="353e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我写了一堆Python代码，作为将音频样本(用于乐器合成器)转换为8位格式的概念证明，以便为80年代著名的lo-fi采样器Ensoniq Mirage创建软盘映像。你没看错——<em class="jt">软盘镜像</em>。代码可以工作(嗯，在我的机器上)，但是不容易使用(<a class="ae iu" href="https://github.com/mogrifier/miragetools" rel="noopener ugc nofollow" target="_blank">https://github.com/mogrifier/miragetools</a>)。我需要一个桌面应用程序来简化使用、维护和分发应用程序。我过去曾开发过PyQT和JavaFX应用程序，但我想尝试一些不同的东西，事实证明，我相信<em class="jt">比</em>好得多。</p><h1 id="a411" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">输入电子</h1><p id="1aad" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">首先，你应该已经知道一些关于电子的知识。这不是一个让你入门的教程，而是深入到更详细和更高级的主题，同时还提供了模板项目来帮助你。</p><blockquote class="kx ky kz"><p id="a7d8" class="iv iw jt ix b iy iz ja jb jc jd je jf la jh ji jj lb jl jm jn lc jp jq jr js hb bi translated"><strong class="ix hj">模板链接</strong>T12】https://github.com/mogrifier/electron-template</p></blockquote><p id="372c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我收集了不下30个网站的信息把这个资源放在一起，所以它会帮助大多数用户(如果是的话请成为粉丝！)它还修复了我在网上找到的教程的一些问题。有大量的电子教程。试过之后，回到这里。初学者应该从这里开始:<a class="ae iu" href="https://www.electronjs.org/" rel="noopener ugc nofollow" target="_blank">https://www.electronjs.org/</a>。我强烈推荐使用Visual Studio代码进行开发。它是基于电子和铬的！您还应该安装nodejs扩展包。</p><p id="5c37" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我决定利用我的应用程序的开端，把它变成一个模板项目，你可以自由地从Github克隆，并以任何你喜欢的方式使用(麻省理工学院许可)。该模板侧重于添加您通常会在DevOps管道中看到的功能。有些人只是想跳进去写代码，但是使用这个模板会帮助你写出更好的代码，而且很容易使用。模板项目将帮助你完成那些不性感但必要的事情:</p><ul class=""><li id="43b2" class="ld le hi ix b iy iz jc jd jg lf jk lg jo lh js li lj lk ll bi translated">电子项目结构</li><li id="2b5d" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">使用npm运行命令</li><li id="545a" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">单元测试</li><li id="6f44" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">代码覆盖率</li><li id="3e39" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">棉绒格子</li><li id="fbe9" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">构建部署工件</li><li id="fdbe" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">发布您的应用</li></ul><p id="aeb5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下部分将详细介绍模板的使用。Electron还提供了其他一些很棒的功能，比如应用程序更新服务。参见<a class="ae iu" href="https://github.com/electron/update.electronjs.org" rel="noopener ugc nofollow" target="_blank">https://github.com/electron/update.electronjs.org</a>。</p><p id="be2a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Electron广泛用于流行的桌面应用程序(如Slack ),并且得到了很好的支持和良好的文档记录，这使得它成为构建高质量应用程序的首选，而不会带来太多额外的麻烦。如果你已经建立了网站，你可以利用你在Javascript、HTML和CSS方面的技能。</p><h1 id="1651" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">您需要的命令</h1><p id="9562" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">下面是设置和使用该模板所需的所有命令的摘要。下面将对它们进行更详细的讨论。你应该有node ≥ v16.3.0否则会出错。从【nodejs.org】下载| node . js安装节点你还需要从【git-scm.com】Git-下载<a class="ae iu" href="https://git-scm.com/download/" rel="noopener ugc nofollow" target="_blank">Git</a></p><p id="5baf" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">安装需要的命令。这些必须从您的项目文件夹中运行！！</strong></p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="1f15" class="ma jv hi lw b fi mb mc l md me">[the first command will install the rest, but running again will not cause harm and can update some things]<br/>npm install --save-dev electron<br/>npm install --save-dev @electron-forge/cli<br/>npx electron-forge import<br/>npm i <a class="ae iu" href="http://twitter.com/electron" rel="noopener ugc nofollow" target="_blank">@electron</a>-forge/maker-zip<br/>npm i <a class="ae iu" href="http://twitter.com/electron" rel="noopener ugc nofollow" target="_blank">@electron</a>-forge/publisher-github<br/>npm i eslint</span></pre><p id="da9a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请注意，我忽略了-g标志。这意味着全局安装，这样所有未来的项目都可以使用这些模块和相关的命令，而不需要重新安装模块。但是，对于一个应用程序，您希望所有东西都安装在应用程序目录中。安装过程将创建一个“node_modules”文件夹，并把它们都放在那里，包括node的一个版本。您应该查看一下文件夹，看看发生了什么。</p><p id="c111" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">其他问题(在Mac上，但可能在其他地方发生)。电子捆绑节点到你的应用程序。这可能会导致主机操作系统上的版本与应用程序中的版本不同。我通过使用“n”来更新电子应用程序文件夹中的节点，修复了这个问题。首先，我全局安装了‘n ’:</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="2314" class="ma jv hi lw b fi mb mc l md me">sudo npm install -g n</span></pre><p id="6b79" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后在应用程序文件夹中运行:sudo n stable</p><p id="6023" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">旧的节点版本也有一个问题，它会创建根拥有的文件。这个命令(更改您的用户名)将修复:sudo chown-R 501:20 "/Users/eizdepski/。国家预防机制"</p><p id="ff63" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">生命周期命令:</strong></p><ul class=""><li id="e2ae" class="ld le hi ix b iy iz jc jd jg lf jk lg jo lh js li lj lk ll bi translated">npm运行测试</li><li id="abbe" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">npm运行lint</li><li id="5a82" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">npm运行制造</li><li id="51d1" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">npm运行开始</li><li id="e3f9" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">npm运行包</li><li id="5f95" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">npm运行发布</li></ul><h1 id="369f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">Wavsyn应用程序</h1><p id="48d0" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">我真的建立这个应用程序，但你只需要模板。这里是一些背景的应用程序背景。我的app的概念真的很简单。您选择一个要运行的函数，并选择输入和输出目录。下一次迭代将允许选择多个步骤来运行，甚至在一个简单的工作流中将它们链接在一起。保留中间步骤输出，因为它们可能有用。还显示了运行函数的输出。</p><figure class="lr ls lt lu fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/8f8b1817a7513c14ac2848380e89b088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bcGf7v2qxkpgKrSGxINAXw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">没有风格的简单用户界面</figcaption></figure><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/6fe8d3e9afd47a5715b0d193deb46a75.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/format:webp/1*dWHmZKdhe4vmWAxhsLBXng.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我的应用程序文件夹结构</figcaption></figure><h2 id="1c71" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">应用程序文件夹结构</h2><p id="3faf" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">电子应用程序中的文件夹结构很重要。网上有各种各样的模板。在左边你可以看到我的决定。注意，有些文件夹是由我正在使用的工具制作的，比如coverage。我自己添加了lint文件夹来存储报告(也添加到了. gitignore。)</p><h2 id="85d4" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">查看NPM可以使用哪些功能</h2><p id="e99f" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">节点包管理器(npm)是一个强大的开发工具。它可以运行的函数在package.json中找到；有些是由您更新/创建的，而有些是由您安装的节点模块创建的。您可以查看package.json的脚本部分的内容，或者只运行“npm run”</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="03f1" class="ma jv hi lw b fi mb mc l md me">G:\vsc_workspace\wavsyn_electron&gt;npm run<br/>Lifecycle scripts included in wavsyn@1.0.0:<br/> start<br/> electron-forge start<br/> test<br/> jest test <br/>available via `npm run-script`:<br/> package<br/> electron-forge package<br/> make<br/> electron-forge make <br/>G:\vsc_workspace\wavsyn_electron&gt;</span></pre><h1 id="eba9" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">运行应用程序和测试</h1><p id="3dd2" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">g:\ VSC _ workspace \ wav syn _ electron &gt; NPM start</p><p id="294f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">&gt; wavsyn@1.0.0启动<br/> &gt;电子。</p><p id="8d2f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这将启动你的应用程序。它将看起来像一个本地应用程序，并在浏览器窗口中运行。<strong class="ix hj">你甚至可以从视图菜单打开chrome开发者工具！</strong></p><p id="1627" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了测试，我决定使用jest ( <a class="ae iu" href="https://jestjs.io" rel="noopener ugc nofollow" target="_blank"> https://jestjs.io </a>)。它很容易使用，从package.json中的一个命令开始，由脸书维护。应该会持续一段时间！在这种情况下，文件夹“test”包含测试，并且是jest命令的参数。</p><h2 id="6639" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">package.json的</h2><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="5418" class="ma jv hi lw b fi mb mc l md me">“scripts”: {<br/>“start”: “electron-forge start”,<br/>“test”: “jest test”,<br/>“package”: “electron-forge package”,<br/>“make”: “electron-forge make”<br/>}</span></pre><h2 id="a440" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">运行测试</h2><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="d502" class="ma jv hi lw b fi mb mc l md me">G:\vsc_workspace\wavsyn_electron&gt;npm test<br/>&gt; wavsyn@1.0.0 test<br/>&gt; jest test</span><span id="0160" class="ma jv hi lw b fi mu mc l md me">PASS test/sum_example.test.js<br/> √ adds 1 + 2 to equal 3 (3 ms)</span><span id="8fac" class="ma jv hi lw b fi mu mc l md me">— — — — — — — — | — — — — -| — — — — — | — — — — -| — — — — -| — — — — — — — — — -<br/>File | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s <br/> — — — — — — — — | — — — — -| — — — — — | — — — — -| — — — — -| — — — — — — — — — -<br/>All files | 100 | 100 | 100 | 100 | <br/> sum_example.js | 100 | 100 | 100 | 100 | <br/> — — — — — — — — | — — — — -| — — — — — | — — — — -| — — — — -| — — — — — — — — — -<br/>Test Suites: 1 passed, 1 total<br/>Tests: 1 passed, 1 total<br/>Snapshots: 0 total<br/>Time: 0.868 s<br/>Ran all test suites matching /test/i.</span><span id="8f94" class="ma jv hi lw b fi mu mc l md me">G:\vsc_workspace\wavsyn_electron&gt;</span></pre><h2 id="36be" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">测试覆盖率</h2><p id="d6c3" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">我选择jest的另一个原因是，它可以自动创建覆盖率报告，能够查看每个文件中哪些行被测试覆盖，哪些行没有被测试覆盖。这使得准确识别您的测试弱点变得容易。覆盖率报告在覆盖率文件夹中(由jest制作)。包括XML和HTML报告。</p><figure class="lr ls lt lu fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mv"><img src="../Images/a225f38578ecd0248814f12163fa3b38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r9DD20GQIeanyp1OooO7tA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">汇总覆盖报告</figcaption></figure><figure class="lr ls lt lu fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mv"><img src="../Images/2a44b8375e6300f8841f7684698acbeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A4G-oqrUc_50P5CGtjHMkw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">详细的覆盖报告</figcaption></figure><h1 id="05c0" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">用于部署和分发的电子锻造</h1><p id="1dfc" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">电子锻造是电子Github背后的人推荐的。我发现安装和使用它非常简单，但后来遇到了麻烦。帮助在下面。</p><h2 id="1240" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">安装电子锻造</h2><p id="6627" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">详见<a class="ae iu" href="https://www.electronforge.io/cli" rel="noopener ugc nofollow" target="_blank">https://www.electronforge.io/cli</a>。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="b91a" class="ma jv hi lw b fi mb mc l md me">G:\vsc_workspace\wavsyn_electron&gt;npm install — save-dev <a class="ae iu" href="http://twitter.com/electron" rel="noopener ugc nofollow" target="_blank">@electron</a>-forge/cli<br/>npm WARN deprecated har-validator@5.1.5: this library is no longer supported<br/>npm WARN deprecated uuid@3.4.0: Please upgrade to version 7 or higher. Older versions may use Math.random() in certain circumstances, which is known to be problematic. See <a class="ae iu" href="https://v8.dev/blog/math-random" rel="noopener ugc nofollow" target="_blank">https://v8.dev/blog/math-random</a> for details.<br/>npm WARN deprecated request@2.88.2: request has been deprecated, see <a class="ae iu" href="https://github.com/request/request/issues/3142" rel="noopener ugc nofollow" target="_blank">https://github.com/request/request/issues/3142</a><br/>npm WARN deprecated node-pre-gyp@0.11.0: Please upgrade to <a class="ae iu" href="http://twitter.com/mapbox/node-pre-gyp" rel="noopener ugc nofollow" target="_blank">@mapbox/node-pre-gyp</a>: the non-scoped node-pre-gyp package is deprecated and only the <a class="ae iu" href="http://twitter.com/mapbox" rel="noopener ugc nofollow" target="_blank">@mapbox</a> scoped package will recieve updates in the future<br/>added 363 packages, and audited 762 packages in 57s</span><span id="5048" class="ma jv hi lw b fi mu mc l md me">58 packages are looking for funding<br/> run `npm fund` for details</span><span id="ac52" class="ma jv hi lw b fi mu mc l md me">found 0 vulnerabilities</span></pre><h2 id="0019" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">为运行“make”准备项目</h2><p id="caa4" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">电子锻造公司有一系列的步骤来让你的项目为“制作”做好准备。额外的依赖项被安装，命令被添加到package.json中。“out”文件夹会自动添加到。gitignore也是。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="5c40" class="ma jv hi lw b fi mb mc l md me">G:\vsc_workspace\wavsyn_electron&gt;npx electron-forge import<br/>✔ Checking your system<br/>✔ Initializing Git Repository<br/>✔ Writing modified package.json file<br/>✔ Installing dependencies<br/>✔ Writing modified package.json file<br/>✔ Fixing .gitignore<br/>We have ATTEMPTED to convert your app to be in a format that electron-forge understands.</span><span id="7576" class="ma jv hi lw b fi mu mc l md me">Thanks for using “electron-forge”!!!</span></pre><h2 id="6f1f" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">运行“make”</h2><p id="d453" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">命令“npm run make”构建您的应用程序可执行文件，并提供运行所需的附加依赖项。你需要分发整个目录(一个zip文件会很好——见下面的修复制作一个！)将您的应用程序交给某人或提供squirrel设置文件。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="e24b" class="ma jv hi lw b fi mb mc l md me">G:\vsc_workspace\wavsyn_electron&gt; npm run make</span><span id="0dd4" class="ma jv hi lw b fi mu mc l md me">&gt; wavsyn@1.0.0 make<br/>&gt; electron-forge make --targets <a class="ae iu" href="http://twitter.com/electron" rel="noopener ugc nofollow" target="_blank">@electron</a>-forge/maker-squirrel,<a class="ae iu" href="http://twitter.com/electron" rel="noopener ugc nofollow" target="_blank">@electron</a>-forge/maker-zip</span><span id="1ffc" class="ma jv hi lw b fi mu mc l md me">✔ Checking your system<br/>✔ Resolving Forge Config<br/>We need to package your application before we can make it<br/>✔ Preparing to Package Application for arch: x64<br/>✔ Preparing native dependencies<br/>✔ Packaging Application<br/>Making for the following targets: squirrel, zip<br/>✔ Making for target: squirrel - On platform: win32 - For arch: x64<br/>⠋ Making for target: zip - On platform: win32 - For arch: x64(node:20052) [DEP0147] DeprecationWarning: In future versions of Node.js, fs.rmdir(path, { recursive: true }) will be removed. Use fs.rm(path, { recursive: true }) instead<br/>(Use `node --trace-deprecation ...` to show where the warning was created)<br/>✔ Making for target: zip - On platform: win32 - For arch: x64<br/>G:\vsc_workspace\wavsyn_electron&gt;</span></pre><p id="d782" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“out”文件夹包含to folders: make和一个用于您的计算机架构的文件夹(在我的例子中，是wavsyn-win32-x64)。make文件夹包含您的可分发目标。这些必须在package.json中定义。我注意到的一件事是没有创建主目录的zip文件(“wavsyn-win32-x64”)。Squirrel输出是默认创建的(对于electronic-forge make没有目标参数)。package.json文件缺少生成zip文件的命令。以下是对它的必要修正。</p><p id="d9d2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可能还需要这样安装它:</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="3add" class="ma jv hi lw b fi mb mc l md me">G:\vsc_workspace\wavsyn_electron&gt;npm i -g <a class="ae iu" href="http://twitter.com/electron" rel="noopener ugc nofollow" target="_blank">@electron</a>-forge/maker-zip</span></pre><p id="4efd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您需要修改package.json中的脚本命令:</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="7e2e" class="ma jv hi lw b fi mb mc l md me">"make": "electron-forge make --targets @electron-forge/maker-squirrel,@electron-forge/maker-zip"</span></pre><p id="e194" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您还需要通过添加“win32”来修改forge的config元素:</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="c4da" class="ma jv hi lw b fi mb mc l md me">{“name”: “@electron-forge/maker-zip”,<br/>“platforms”: [<br/>“darwin”, “win32”]}</span></pre><h2 id="55bc" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">电子锻造的其他特征</h2><p id="4245" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">使用这个工具还有其他一些很好的理由。它可以运行其他命令，例如:</p><ul class=""><li id="711b" class="ld le hi ix b iy iz jc jd jg lf jk lg jo lh js li lj lk ll bi translated">lint —运行您配置的linter</li><li id="d043" class="ld le hi ix b iy lm jc ln jg lo jk lp jo lq js li lj lk ll bi translated">发布——将您的工件发送到您的github帐户(或AWS S3)</li></ul><h2 id="e464" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">线头</h2><p id="67fb" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">我在用eslint。您需要安装eslint并创建一个配置文件。然后，您必须配置package.json以正确运行它。参见<a class="ae iu" href="https://eslint.org/docs/user-guide/command-line-interface" rel="noopener ugc nofollow" target="_blank">https://eslint.org/docs/user-guide/command-line-interface</a></p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="36e1" class="ma jv hi lw b fi mb mc l md me">installation: &gt; npm i -g eslint<br/>initialization: &gt; eslint — init<br/>script command: "lint": "eslint app/**",</span><span id="6d22" class="ma jv hi lw b fi mu mc l md me">I ultimately modified my lint command write an html report to a folder in my app root:<br/>"lint": "eslint app/** -f html -o ./lint/report.html --cache:true",</span></pre><h2 id="c5d3" class="ma jv hi bd jw mh mi mj ka mk ml mm ke jg mn mo ki jk mp mq km jo mr ms kq mt bi translated">出版</h2><p id="9dec" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated"><strong class="ix hj">注意:命令“npm发布”和“npm运行发布”是完全不同的。</strong>前者登录https://registry.npmjs.org/<a class="ae iu" href="https://registry.npmjs.org/" rel="noopener ugc nofollow" target="_blank"/>。后者用于发布到您的github存储库(或其他地方)。</p><p id="ffe1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">仅安装电子CLI不会安装任何发布者(或除CLI之外的任何东西)。以下是如何为github安装。注意，您还需要一个具有存储库权限的Github访问令牌(<a class="ae iu" href="https://github.com/settings/tokens" rel="noopener ugc nofollow" target="_blank">https://github.com/settings/tokens</a>)。您应该将这个令牌放在环境变量GITHUB_TOKEN中，而不是放在package.json中，因为这样会在您的git系统中暴露它的值。为了使用这个新变量，我必须重启Visual Studio代码。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="cdf1" class="ma jv hi lw b fi mb mc l md me">G:\vsc_workspace\wavsyn_electron&gt;npm i -g <a class="ae iu" href="http://twitter.com/electron" rel="noopener ugc nofollow" target="_blank">@electron</a>-forge/publisher-github</span></pre><p id="d942" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您还需要两套package.json的配置代码。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="e4dc" class="ma jv hi lw b fi mb mc l md me">"publishers": [{<br/>"name": "@electron-forge/publisher-github",<br/>"config": <br/>{"repository": {"owner": "mogrifier","name": "wavsyn"},<br/>"prerelease":"true"}}]</span></pre><p id="6cbc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">脚本需要这样:</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="0f4b" class="ma jv hi lw b fi mb mc l md me">"publish": "electron-forge publish",</span></pre><p id="d122" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，devDependencies需要:</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="4968" class="ma jv hi lw b fi mb mc l md me">"@electron-forge/publisher-github": "^6.0.0-beta.57",</span></pre><p id="81c9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在你会问，我是从哪里得到版本号的？我运行“npm list”来查看已安装软件包的列表，其中恰好包括它们的版本号。</p><p id="33ea" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行publish-github命令会得到以下输出:</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="5955" class="ma jv hi lw b fi mb mc l md me">G:\vsc_workspace\wavsyn_electron&gt;npm run publish</span><span id="7021" class="ma jv hi lw b fi mu mc l md me">&gt; wavsyn@1.0.0 publish  <br/>&gt; electron-forge publish</span><span id="8abe" class="ma jv hi lw b fi mu mc l md me">✔ Checking your system<br/>✔ Resolving Forge Config<br/>We need to package your application before we can make it<br/>✔ Preparing to Package Application for arch: x64<br/>✔ Preparing native dependencies<br/>✔ Packaging Application<br/>Making for the following targets: squirrel, zip<br/>✔ Making for target: squirrel - On platform: win32 - For arch: x64<br/>⠋ Making for target: zip - On platform: win32 - For arch: x64(node:19572) [DEP0147] DeprecationWarning: In future versions of Node.js, fs.rmdir(path, { recursive: true }) will be removed. Use fs.rm(path, { recursive: true }) instead<br/>(Use `node --trace-deprecation ...` to show where the warning was created)<br/>✔ Making for target: zip - On platform: win32 - For arch: x64<br/>✔ Resolving publish target: <a class="ae iu" href="http://twitter.com/electron" rel="noopener ugc nofollow" target="_blank">@electron</a>-forge/publisher-github<br/>✔ Searching for target release: 1.0.0<br/>✔ Uploading Artifacts 4/2 to v1.0.0</span><span id="0f75" class="ma jv hi lw b fi mu mc l md me">G:\vsc_workspace\wavsyn_electron&gt;</span></pre><p id="8037" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在转到您的存储库并单击Releases。</p><figure class="lr ls lt lu fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mw"><img src="../Images/a613244445cca194659fa5c49c702b3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8rmYvq87lzMrxpHtwLXYcw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">我的Github存储库中的应用程序草案的版本</figcaption></figure><h1 id="a4af" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">安全扫描</h1><p id="7a95" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">想要对您的node js项目进行漏洞扫描吗？如果您在安装新模块时查看输出，您会看到audit是由安装进程自动运行的。您也可以使用命令“<strong class="ix hj"> npm audit”手动运行</strong>还有一些其他的工具，商业的和免费的。参见2020年关于该主题的一篇文章:<a class="ae iu" href="https://www.freecodecamp.org/news/6-tools-you-can-use-to-check-for-vulnerabilities-in-node-js/" rel="noopener ugc nofollow" target="_blank">https://www . freecodecamp . org/news/6-tools-you-can-use-to-check-for-vulnerability-in-node-js/</a></p><h1 id="c7a8" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">多方面的</h1><p id="044e" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">什么是package-lock.json？从awesome堆栈溢出:</p><blockquote class="kx ky kz"><p id="2f30" class="iv iw jt ix b iy iz ja jb jc jd je jf la jh ji jj lb jl jm jn lc jp jq jr js hb bi translated">package-lock.json仅用于将依赖项锁定到特定的版本号。</p></blockquote><p id="3c90" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这意味着它不会随着对package.json的每次更改而更改，但有时会。</p><h1 id="741f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">结论</h1><p id="b15f" class="pw-post-body-paragraph iv iw hi ix b iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo kw jq jr js hb bi translated">希望这些信息能让你更快地进行电子桌面应用程序开发和一些适当的开发工作。在新的开发环境中使用通用的web技能是加速项目的一个好方法。添加DevOps将帮助您交付更高质量的产品。</p><p id="f893" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">做粉丝。提问。去造点东西吧！</p></div></div>    
</body>
</html>