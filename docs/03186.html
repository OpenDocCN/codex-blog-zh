<html>
<head>
<title>Making a Snake Game with PyGame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用PyGame制作一个蛇游戏</h1>
<blockquote>原文：<a href="https://medium.com/codex/making-a-snake-game-with-pygame-7144cc40094?source=collection_archive---------15-----------------------#2021-08-21">https://medium.com/codex/making-a-snake-game-with-pygame-7144cc40094?source=collection_archive---------15-----------------------#2021-08-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/34f2d7315fc5912977b52b7b3c55d962.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*H4UytM9X0vFAlVZF.jpg"/></div></div></figure><p id="35e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">《贪吃蛇》是一款标志性游戏，在新一代手机上仍有翻拍版。这是因为制作一个贪吃蛇游戏相当简单，但仍然很有趣，主要是因为怀旧。所以为什么不制作我们自己的贪吃蛇游戏呢。</p><p id="7700" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用python制作一个贪吃蛇游戏很简单，但是用pygame已经完成了大部分工作，比如制作棋盘、打印蛇以及每一步更新游戏。PyGame是python库，用于制作简单的2D游戏。这是最著名的用python制作游戏的库之一。它还可以用来为强化学习代理创造环境。</p><p id="973d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以让我们开始吧。首先让我们创建一个环境，激活它并在其中安装pygame。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><p id="3da3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，我们都准备好做蛇游戏了。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><p id="7364" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好吧，我明白这是太多的代码了，但是这是给那些只想要代码而不想要解释的人的。</p><p id="722f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们将代码分解成简单的块。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><p id="9f7d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先是一些参数的初始化。颜色不需要初始化，但是因为它们被多次使用，我初始化了它，以便在需要的时候更容易设置它们。x和y是蛇的坐标。开始时，它被设置在棋盘的中间。“foodx”和“foody”是蛇的食物坐标。位置被设置为棋盘内的随机点。等式是将食物的位置设置为远离蛇，但在棋盘内。虽然可以应用一个更简单的等式，但有时它会在蛇的正上方产生食物。蛇的长度最初设置为1。最后初始化一个时钟来更新屏幕。可以说是维持游戏的fps。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><p id="2b0b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们看看主要的播放功能。首先，我们画出棋盘并为显示添加标题，即设置游戏的标题。然后我们运行一个循环来玩游戏，直到玩家输了或者按下退出按钮。Pygame提供了一些非常有用的方法来识别键盘上的某个键何时被按下以及哪个键被按下了。</p><p id="165c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这条蛇在2D空间运动，它可以向左、向右、向上或向下运动。类似地，它的位置将改变为(-x，y)，(+x，y)，(x，-y)或(x，+y)。这就是if语句检查的内容。它将按照用户按上面初始化的snake_block的单位按下的方向移动。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><p id="5f2a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我们在每个时间步长后设置蛇的新位置，并重新绘制棋盘。我们还要检查蛇头是否接触到身体。如果是的话，游戏结束。同样，如果头部在食物的位置，一个新的块被添加到蛇的身体，使它的尺寸更大。同样，如果头部接触到食物，食物会被抹去，新的食物会在远离蛇的另一个随机位置产生。</p><p id="734b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">游戏难度也有所增加，我做的是如果蛇碰到边界，玩家就输了。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><p id="5fff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是两个小函数，用于在每个时间步长后绘制和刷新面板。</p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><p id="a15c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我们制作蛇的游戏并玩耍。瞧啊。！游戏结束了。虽然一个完整的游戏可以有更多的逻辑和方程式，这个游戏仍然有所有的基本功能。玩我们自己制作的游戏也很有趣。</p><p id="edbd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请在这里查看完整的代码。感谢您的阅读。</p></div></div>    
</body>
</html>