<html>
<head>
<title>Optimizing MySQL and MariaDB for TEXT: A Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为文本优化MySQL和MariaDB:指南</h1>
<blockquote>原文：<a href="https://medium.com/codex/optimizing-mysql-and-mariadb-for-text-a-guide-f3eb142cc3d0?source=collection_archive---------11-----------------------#2021-09-29">https://medium.com/codex/optimizing-mysql-and-mariadb-for-text-a-guide-f3eb142cc3d0?source=collection_archive---------11-----------------------#2021-09-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/fe2cac6f0290f42ac3af1e1624b7ca0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nsiS7WghsAYL6K-l.png"/></div></div></figure><h1 id="0f08" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h1><p id="a802" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">您经常发现自己在使用关系数据库实例，尤其是MariaDB或MySQL，您可能已经知道MySQL提供的两种数据类型的细微差别。MySQL提供的一些数据类型适合数字；其他的适合可变长度的值，其中一些也很适合基于文本的值。</p><h1 id="7800" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">MySQL中有哪些数据类型？</h1><p id="a3eb" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">在解释如何针对特定的(在本例中是<code class="du km kn ko kp b">TEXT</code>)数据类型调优MySQL实例之前，我们必须回顾一下MySQL提供的一些数据类型，以便让您首先理解一切是如何工作的。谈到数据类型，MySQL提供了几个类别供选择:</p><ol class=""><li id="da1a" class="kq kr hi jq b jr ks jv kt jz ku kd kv kh kw kl kx ky kz la bi translated">字符串数据类型—当我们的大部分数据由字符串或可变字符值(字符串和数字)组成时，这种数据类型可能会很有帮助。)</li><li id="710e" class="kq kr hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">数字数据类型——如果我们处理的数据主要由数字组成，那么这种数据类型可能是值得的。</li><li id="f3f2" class="kq kr hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">日期数据类型——顾名思义，这种数据类型存储日期:如果需要存储年、月、日等，它们可能会很有帮助。，出现了。</li><li id="4a30" class="kq kr hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">空间(地理)数据类型-此类数据类型可用于存储面、几何值等。</li><li id="789d" class="kq kr hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated"><code class="du km kn ko kp b">JSON</code>数据类型——这种数据类型在存储JSON格式的文本时很有用。</li></ol><p id="2cc4" class="pw-post-body-paragraph jo jp hi jq b jr ks jt ju jv kt jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">对于这篇博文，我们感兴趣的是字符串值，特别是<code class="du km kn ko kp b">TEXT</code>值。<code class="du km kn ko kp b">TEXT</code>即使在字符串空间中，值也不同于所有其他值；虽然有各种各样的字符串类型可供选择(<code class="du km kn ko kp b">CHAR</code>、<code class="du km kn ko kp b">VARCHAR</code>、<code class="du km kn ko kp b">BINARY</code>和<code class="du km kn ko kp b">BLOB</code>是其中的一些)，但我们选择了<code class="du km kn ko kp b">TEXT</code>，因为它与众不同；例如，它与<code class="du km kn ko kp b">VARCHAR</code>不同，因为对于<code class="du km kn ko kp b">VARCHAR</code>，我们可以设置一个可变的最大字符大小(这就是它被称为<code class="du km kn ko kp b"><strong class="jq hj"><em class="lj">VAR</em></strong>CHAR</code>的原因)，并且最大字符大小必须在1到65，535之间，但是对于<code class="du km kn ko kp b">TEXT</code>数据类型，已经设置了65，535个字符的固定最大长度。请记住，基于<code class="du km kn ko kp b">TEXT</code>的列通常也不能成为索引的一部分:我们不能像<code class="du km kn ko kp b">VARCHAR</code>类型那样快地索引基于<code class="du km kn ko kp b">TEXT</code>的列。</p><h1 id="e92a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">基于文本的值的限制</h1><p id="aefd" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">至此，您应该对基于<code class="du km kn ko kp b">TEXT</code>的工作负载的功能有了基本的了解。以下是MySQL中<code class="du km kn ko kp b">TEXT</code>字符串数据类型的一些细微差别:</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/a9ae888731447224740a9dc86d139844.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e6p3aeVCB9TQZddHB4d-5w.png"/></div></div></figure><p id="dbbd" class="pw-post-body-paragraph jo jp hi jq b jr ks jt ju jv kt jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">除此之外，一般来说，如果我们发现自己存储了更长的文本值:比如说，代码片段之类的，那么从<code class="du km kn ko kp b">TEXT</code>数据类型派生出来的数据类型可能是有益的。如果我们存储用户名、电子邮件地址或散列和加盐密码，那么<code class="du km kn ko kp b">VARCHAR</code>可能是合适的(salts防止散列被快速破解，所以请考虑<em class="lj">散列和加盐您的密码—<a class="ae lp" href="https://breachdirectory.com" rel="noopener ugc nofollow" target="_blank">数据泄露猖獗</a>)。<code class="du km kn ko kp b">TEXT</code>如果我们想要存储看起来更像一个小故事但不仅仅由几个字符组成的文本，数据类型可能正是我们需要的。</em></p><h1 id="f16c" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">何时使用文本？</h1><p id="813f" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">到目前为止，你应该对你正在对付的是哪种野兽有所了解；事实上，基于<code class="du km kn ko kp b">TEXT</code>的值是另一种数据类型。让它们如此不同的是，它们特别适合存储大量文本。文本不一定是传统意义上的“文本”；你也可以存储数字，但是记住<code class="du km kn ko kp b">TEXT</code>不是<code class="du km kn ko kp b">VARCHAR</code>——一旦你选择了<code class="du km kn ko kp b">TEXT</code>，就要为特殊的挑战做好准备。上面概述了一些(您不能在整列上添加索引，等等。)，而另一些不太为人所知，但仍需牢记在心。例如，<code class="du km kn ko kp b">TEXT</code>数据类型通常只有在我们的数据库实例有很多，我的意思是，<strong class="jq hj">很多</strong>存储空间的情况下才有用，因为<code class="du km kn ko kp b">MEDIUMTEXT</code>可以存储最大16MB的字符串，如果我们选择使用<code class="du km kn ko kp b">LONGTEXT</code>，这个限制会增加到4GB。</p><p id="5582" class="pw-post-body-paragraph jo jp hi jq b jr ks jt ju jv kt jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated"><strong class="jq hj">但是，一般来说，如果我们的应用程序需要存储更长的文本字符串，并且我们可能会发现</strong> <code class="du km kn ko kp b"><strong class="jq hj">VARCHAR</strong></code> <strong class="jq hj">不能满足要求，那么</strong> <code class="du km kn ko kp b"><strong class="jq hj">TEXT</strong></code> <strong class="jq hj">数据类型的任何变体都是有用的。</strong></p><h1 id="f303" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">SQL客户端？</h1><p id="7cc6" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">数据类型当然很重要，但同样重要的是选择正确的SQL客户机来执行您的任务。像Arctype这样的SQL客户端速度很快，它们为您提供MySQL实例正在使用的数据类型，以及如何进一步优化您的模式的一些见解:</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/3ad9dd639eb569b46b3263725e4debbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/0*-WaVgy4BBLCT9Cjz.png"/></div></figure><figure class="ll lm ln lo fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/aec7a770974b9e3a0699bb43b6392ad7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sWvqP-OYtH9pVzbb.png"/></div></div></figure><p id="02ae" class="pw-post-body-paragraph jo jp hi jq b jr ks jt ju jv kt jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">无论如何，我们希望这篇博客文章能让你对MySQL的<code class="du km kn ko kp b">TEXT</code>数据类型世界有所了解。所以，如果你喜欢阅读，一定要<a class="ae lp" href="https://arctype.com/blog" rel="noopener ugc nofollow" target="_blank">探索更多内容</a>，下一期再见。</p><p id="b77c" class="pw-post-body-paragraph jo jp hi jq b jr ks jt ju jv kt jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">Lukas是一个有道德的黑客，MySQL数据库管理员，也是一个经常参加会议的演讲者。自2014年以来，Lukas发现并负责任地披露了立陶宛国内外一些访问量最大的网站的安全漏洞，包括广告、礼品购买、游戏、托管网站以及一些政府机构的网站。Lukas运营着世界上最大和最快的数据泄露搜索引擎之一—<a class="ae lp" href="http://breachdirectory.com/" rel="noopener ugc nofollow" target="_blank">BreachDirectory.com</a>，并经常在多个地方撰写博客，向人们介绍信息安全和其他主题。他还在lukasvileikis.com经营自己的博客</p></div></div>    
</body>
</html>