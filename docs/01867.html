<html>
<head>
<title>Why you should be using Protocols.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么你应该使用协议。</h1>
<blockquote>原文：<a href="https://medium.com/codex/why-you-should-be-using-protocols-d72b03a0fff3?source=collection_archive---------5-----------------------#2021-06-09">https://medium.com/codex/why-you-should-be-using-protocols-d72b03a0fff3?source=collection_archive---------5-----------------------#2021-06-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/19580c284c0dc770293349a45a38dd36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mHjr2kAHBKf5Tnb3"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">亚历克斯·巴科尔在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="a254" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">作为一名iOS开发人员，您可能已经在您所做的项目或您所关注的其他项目中遇到过协议。但是为什么开发人员要使用协议呢？它们到底是做什么的，为什么有用？今天，我们将深入研究协议，并学习如何在您的下一个Swift项目中使用它们！</p><p id="05ac" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">协议用于为Swift中的对象创建核心结构。这种结构类似于类的结构，但是主要的区别之一是你只定义了<em class="jt">什么</em>功能与一个协议相关联，而不是功能本身。为了更好地理解，请看下面的例子:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="61d0" class="kd ke hi jz b fi kf kg l kh ki">protocol Routine {<br/>   wakeUp()<br/>   getCoffee()<br/>   goToWork()<br/>}</span></pre><p id="a07b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上面的例子创建了一个名为“Routine”的协议。在这个协议中，我们已经声明，任何类型为“Routine”的对象都必须具有wakeUp、getCoffee和goToWork函数。从这个协议声明中可以看出，我们并没有像在类中那样创建函数本身，我们只是简单地告诉Swift“嘿，将会有Routine类型的对象，其中至少包含这三个函数”。</p><p id="04c6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以在我们的代码中看到一个如何使用上面创建的协议的示例:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="893b" class="kd ke hi jz b fi kf kg l kh ki">class MondayRoutine: Routine {<br/>   func wakeUp() {<br/>      print("...turning off alarm")<br/>   }</span><span id="2026" class="kd ke hi jz b fi kj kg l kh ki">   func getCoffee() {<br/>      print("Grabbing a cup of coffee")<br/>   }</span><span id="47d9" class="kd ke hi jz b fi kj kg l kh ki">   func goToWork() {<br/>      print("Driving to work")<br/>   }<br/>}</span></pre><p id="e559" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这个例子中，我们创建了一个名为“周一例行程序”的类，它符合“例行程序”协议。为了使这个类符合“常规”协议，我们必须包含这个协议中所需的三个函数。与在协议中不同，在类本身中，我们创建了函数体。</p><p id="11a3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们想创建另一个符合“常规”协议的类，我们可以像下面这样做:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="4457" class="kd ke hi jz b fi kf kg l kh ki">class TuesdayRoutine: Routine {<br/>   func wakeUp() {<br/>      print("...overslept alarm")<br/>   }</span><span id="e56e" class="kd ke hi jz b fi kj kg l kh ki">   func getCoffee() {<br/>      print("Pour two cups of coffee")<br/>   }</span><span id="7f15" class="kd ke hi jz b fi kj kg l kh ki">   func goToWork() {<br/>      print("Take the bus to work")<br/>   }<br/>}</span></pre><p id="6d56" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们现在已经创建了另一个符合“常规”协议的类。如您所见，TuesdayRoutine将打印出与MondayRoutine不同的语句，但它们都是一个例程，因为它们包括wakeUp、getCoffee和goToWork函数。</p><p id="f790" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么为什么要使用协议呢？协议对于在不提供实现的情况下形式化代码之间的连接非常有用。它们允许我们在代码中提供结构，而无需将不同的系统组件紧密地联系在一起。</p><p id="5a9c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您正在构建一个大型项目，并且知道您将需要为将要多次创建的特定类型的类提供四个不同的函数，那么这将是一个开始实现协议的好地方。它允许你的代码有很好的可重用性。协议还让我们放心，我们创建的任何类都必须至少具有我们在协议声明本身中声明的功能。</p><p id="62b6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">关于协议，另一个需要了解的重要事情是，它们是一种快速的类型。这意味着您可以像使用Swift中的其他<em class="jt">类型</em>一样使用它们。你可以在下面看到一个例子:</p><pre class="ju jv jw jx fd jy jz ka kb aw kc bi"><span id="618a" class="kd ke hi jz b fi kf kg l kh ki">func weeklyRoutine(days: [Routine]) {<br/>   for day in days {<br/>      day.wakeUp()<br/>      day.getCoffee()<br/>      day.goToWork()<br/>   }<br/>}</span></pre><p id="d138" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此示例创建一个函数，该函数采用一个例程类型对象数组。然后，该函数遍历数组并调用我们知道的日常生活中包含的每个函数，因为它们属于Routine类型。</p><p id="903f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">希望在阅读本文后，您对Swift中的协议以及它们如何在您的代码中有用有了基本的了解。我鼓励你在下一个项目中尝试协议，看看它们能给你带来什么好处！</p></div></div>    
</body>
</html>