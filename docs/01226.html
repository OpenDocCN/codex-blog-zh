<html>
<head>
<title>Using Redux for State Management</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Redux进行状态管理</h1>
<blockquote>原文：<a href="https://medium.com/codex/using-redux-for-state-management-e35de874e125?source=collection_archive---------8-----------------------#2021-04-12">https://medium.com/codex/using-redux-for-state-management-e35de874e125?source=collection_archive---------8-----------------------#2021-04-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="d1f8" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated"><em class="ix">通过维护全局数据存储，避免不必要的道具钻探。</em></h2></div><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="er es iy"><img src="../Images/6e69c129a3f957f5fba4fab1b11f5861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qba3ma55AsB8TE2-z4qWPg.png"/></div></div></figure><p id="a0be" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">第一次学Redux…不喜欢。我的项目越来越大，我可以看到有一个地方存储全球数据的优势，但设置这一切感觉有点乏味和过于复杂。</p><p id="96aa" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">在很大程度上，这是因为我使用Redux的唯一方式，使用<code class="du kg kh ki kj b">connect</code>和<code class="du kg kh ki kj b">mapStateToProps</code>。通过这种方法，商店中的对象被调用到一个<code class="du kg kh ki kj b">mapStateToProps</code>函数中，然后作为常规道具添加到组件中。它可以工作，但是<strong class="jm hj">每次</strong>我访问商店的时候，我都必须在组件的底部写一些像这样的东西:</p><pre class="iz ja jb jc fd kk kj kl km aw kn bi"><span id="2697" class="ko kp hi kj b fi kq kr l ks kt">const mapStateToProps = (state) =&gt; {</span><span id="9b3f" class="ko kp hi kj b fi ku kr l ks kt">  return {</span><span id="e5ad" class="ko kp hi kj b fi ku kr l ks kt">    propOne: state.propOne,</span><span id="e630" class="ko kp hi kj b fi ku kr l ks kt">    propTwo: state.propTwo,</span><span id="675d" class="ko kp hi kj b fi ku kr l ks kt">    propThree: state.propThree,</span><span id="3af2" class="ko kp hi kj b fi ku kr l ks kt">    propFour: state.propFour,</span><span id="10df" class="ko kp hi kj b fi ku kr l ks kt">    propFive: state.propFive,</span><span id="de2e" class="ko kp hi kj b fi ku kr l ks kt">    };</span><span id="0de4" class="ko kp hi kj b fi ku kr l ks kt">};</span><span id="9b6c" class="ko kp hi kj b fi ku kr l ks kt">export default connect(mapStateToProps)(MyComponent);</span></pre><p id="1302" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">这似乎是不值得做的更多的工作！仅仅访问几个状态对象就会显著地延长我的代码。此外，对于其他开发人员来说，它不是最易读或最清晰的。</p><h1 id="ea47" class="kv kp hi bd kw kx ky kz la lb lc ld le io lf ip lg ir lh is li iu lj iv lk ll bi translated">一种改进</h1><p id="2f6a" class="pw-post-body-paragraph jk jl hi jm b jn lm ij jp jq ln im js jt lo jv jw jx lp jz ka kb lq kd ke kf hb bi translated">这一切都改变了，当我了解了<code class="du kg kh ki kj b">useSelector()</code>钩。那时，我正在做一个个人项目，我把它发布在Reddit上征求建议。我很幸运，有人看到了我正在使用的<code class="du kg kh ki kj b">mapStateToProps</code>方法，并建议了一个替代方法。</p><p id="ef0b" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">使用<code class="du kg kh ki kj b">useSelector()</code>，您可以在一行上调用商店中的道具，就像这样:</p><pre class="iz ja jb jc fd kk kj kl km aw kn bi"><span id="9d24" class="ko kp hi kj b fi kq kr l ks kt">const exampleProp = useSelector((state) =&gt; state.exampleProp);</span></pre><p id="4f7a" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">它更清晰，也更容易被其他人理解。立刻，我回去重构了我的整个项目。</p><p id="0acc" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">此外，除了复杂的<code class="du kg kh ki kj b">connect</code>方法，您还可以使用钩子<code class="du kg kh ki kj b">useDispatch()</code>钩子来改变状态。一旦导入，它就像这样简单地工作:</p><pre class="iz ja jb jc fd kk kj kl km aw kn bi"><span id="55b6" class="ko kp hi kj b fi kq kr l ks kt">const dispatch = useDispatch();</span><span id="807d" class="ko kp hi kj b fi ku kr l ks kt">const handleClick = () =&gt; {</span><span id="0ab2" class="ko kp hi kj b fi ku kr l ks kt">   dispatch(myAction());</span><span id="3e3d" class="ko kp hi kj b fi ku kr l ks kt">};</span></pre><p id="66a2" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">如果你一直在使用<code class="du kg kh ki kj b">connect</code>，这种简单性是显著的。</p><p id="383d" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">就是这样！用<code class="du kg kh ki kj b">useSelector()</code>和<code class="du kg kh ki kj b">useDispatch()</code>访问和更改Redux存储就是这么简单。:)</p></div></div>    
</body>
</html>