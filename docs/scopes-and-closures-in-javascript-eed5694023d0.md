# JavaScript 中的作用域和闭包

> 原文：<https://medium.com/codex/scopes-and-closures-in-javascript-eed5694023d0?source=collection_archive---------5----------------------->

## 为了理解闭包，我们必须熟悉 JavaScript 中的作用域。

![](img/46718f5b69475b74cd27a0371de2c008.png)

照片由 [Henning Witzel](https://unsplash.com/@henning?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

作用域是一个非常简单的话题，意思是变量在程序其他部分的可见性。范围意味着可变的访问。当代码运行时，我可以访问什么变量？在 JavaScript 中，默认作用域是指窗口作用域的根作用域。除了窗口范围，还有 2 个范围。

把范围想象成一个盒子。当我们看盒子时，有两个区域。
1。盒子内部的区域。
2。盒子外面的区域。

## 局部范围

局部作用域就像盒子里的区域，我们只能访问盒子里的东西或变量。盒子里的东西外面拿不到。

示例:

上面的程序会抛出一个错误

```
ReferenceError: localVariable is not defined
```

因为这里的`localScopeDemoFunction`是那个盒子，`localVariable`是盒子里面的一个东西。不能这样访问。

## 全球范围

可以想象盒子外面的区域和盒子里面的区域可以访问盒子外面的变量或事物。让我用一个例子来说明这一点:

示例:

这里我们将得到输出`hi`，因为 globalVariable 可以在函数内部访问，因为它是在全局范围内声明的。

## 关闭

假设有两个函数(一个函数在另一个函数内部)。在 JavaScript 中，我们可以在函数内部定义函数，不需要在全局范围内声明。让我们看一个例子。

示例:

在上面的例子中，我们声明了一个函数`outerFunction`，它包含了一个内部函数。当我们调用外部函数时，它返回`innerFunction`(是的，在 javascript 中，我们可以返回内部函数，因为函数像其他变量一样是第一类成员。在上面提到的演示中，我们调用内部函数，它会简单地将`hi`输出到控制台。

有两种方法可以使用这个内部函数，我们已经在上面展示过了。在第一种方式中，我们直接调用返回值，就好像对`outerFunction`的函数调用本身就是一个函数。

在第二个方法中，我们将`outerFunction`的返回值存储在一个变量中，然后调用它。

所以在上面的例子中，我们看到了什么是内部函数，以及它们在现实世界中是什么样子的。

在定义闭包的概念之前，让我们再次使用我们在作用域中使用的盒子模型来简化事情。

闭包是 javascript 的属性，它允许内部函数使用外部函数变量。这也限制了外部函数访问内部函数变量。

所以根据盒子模型，盒子的内部可以访问外部属性，而外部区域不能访问内部属性。

示例:

这里，当我们调用`innerFunction`时，我们在控制台上得到`Hello`,这意味着我们的内部函数能够访问外部函数的属性。这就是终结。

在这篇文章中，我们学习了作用域(全局作用域和局部作用域)以及 javascript 中的闭包。

*如果你明白我在这里说的任何事情，请鼓掌回应并跟随我，因为它帮助我保持动力并从我的日程中抽出时间来写这些文章。这不会花你任何钱，但会帮我很多忙*

*高拉夫·夏尔马是一个狂热的读者和热情的旅行者。他试图通过传播他的知识和他的生活经历来过一个更有意义和目标的生活！跟随他踏上平衡数字生活和现实生活的新旅程。他住在印度的北阿坎德邦。他在 Instagram 上的*[*@高尔夫。_.塞拉*](https://www.instagram.com/golf._.sierra/)