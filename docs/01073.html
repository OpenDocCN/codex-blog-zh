<html>
<head>
<title>Why Microservices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么选择微服务</h1>
<blockquote>原文：<a href="https://medium.com/codex/why-microservices-c73ce1ecfbbb?source=collection_archive---------16-----------------------#2021-04-02">https://medium.com/codex/why-microservices-c73ce1ecfbbb?source=collection_archive---------16-----------------------#2021-04-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ed6d" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">分成小团队以获得大的扩展能力</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/fad3dcb38b2e889a10cda92a6bbce2d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y26Q34QHctKNB3zb5Yi5Ig.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">来自<a class="ae jn" href="https://www.pexels.com/photo/wood-man-people-woman-6147373/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae jn" href="https://www.pexels.com/@diva-plavalaguna?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">天后普拉瓦拉古娜</a>的照片</figcaption></figure><h2 id="6b1c" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">单片与微服务</h2><p id="100b" class="pw-post-body-paragraph km kn hi ko b kp kq ij kr ks kt im ku jz kv kw kx kd ky kz la kh lb lc ld le hb bi translated">理解微服务需求的最佳方式是将它们与它们的对应产品monoliths进行比较。不太关心可伸缩性的较小的应用程序可能满足于单一的系统，因为它们有单一的代码库、进程、数据库和技术栈。这使得任何人从项目的一个部分跳到另一个部分变得简单而容易。</p><p id="476c" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated">虽然这种方法没有错，但也有一些缺点。首先，部署会有风险，因为程序中的一个bug可能会导致整个系统崩溃。由于monoliths共享一个数据库，添加的功能可能需要在许多方面进行更改。您还与构建应用程序所基于的技术结下了不解之缘，这可能会使您受困于遗留代码。如果你关心这些事情，考虑微服务架构。</p><p id="02a0" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated">相比之下，微服务帮助我们无缝地扩展应用程序，并允许更大的灵活性。每个功能都被视为一个服务，拥有自己的源代码和数据库，而不是一个共享服务。一个微服务甚至可以选择在同一个应用中使用与其他微服务不同的技术。这是一个巨大的优势，因为它允许我们在特定的工作中使用最好的工具。</p><h2 id="b657" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">引入自治</h2><p id="24fc" class="pw-post-body-paragraph km kn hi ko b kp kq ij kr ks kt im ku jz kv kw kx kd ky kz la kh lb lc ld le hb bi translated">为了减轻紧密耦合和相互依赖的特性的压力，微服务提供了一种自治的方法。每个服务团队对应用程序特定部分的业务逻辑、API、表示和数据存储承担全部责任。这种敏捷友好的模型允许快速的适应性。</p><p id="da03" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated">一旦服务被更新，他们可以部署他们的更改，而不用担心影响应用程序的其他领域。这消除了部署期间的停机时间，并减少了对集成问题的担忧。</p><p id="cb8d" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated">需要注意的是，单个服务应该是独立的，不应该进入另一个服务的数据库。然而，有时我们可能需要一些共享信息。一个常见的例子是准备购物车时。我们可能需要从身份验证服务中了解当前用户，从处理产品信息的服务中了解添加到购物车中的产品。幸运的是，我们有一些方法可以在不违反自主结构的情况下获取所需的信息。</p><h2 id="ff0d" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">服务之间的通信</h2><p id="21fc" class="pw-post-body-paragraph km kn hi ko b kp kq ij kr ks kt im ku jz kv kw kx kd ky kz la kh lb lc ld le hb bi translated">管理微服务之间的数据是开发人员在每个服务一个数据库模式中面临的首要挑战。服务之间的通信可以分为两类:同步和异步。在深入了解同步和异步通信实践的细节之前，重要的是要认识到我们不是在讨论同步和异步流程的JavaScript定义。</p><p id="d02e" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated">当从一个服务向另一个服务发出直接请求时，同步通信是一种。服务A可以向服务B发出请求，而不是访问另一个服务的数据库。假设服务B被设置为订阅此类请求，它通过从其数据库中检索所需的数据并将其返回给服务A来做出响应。这种方法简单且易于理解。这也意味着，如果服务A只需要来自服务B的数据库的信息，它甚至可能根本不需要数据库。</p><p id="b35f" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated">一种不太简单但可能更有效的服务间对话方式是通过事件。这被称为异步通信。它涉及到被称为事件总线的东西，负责发送和接收请求。你可以把它想成一个调解人。服务A请求事件总线从服务B获取一些信息，事件总线向服务B请求这些信息。服务B在其数据库中搜索该信息，然后将其返回给事件总线。最后，事件总线将数据提供给服务a。缺点是事件总线可能成为单点故障。如果在这种反反复复的对话中出现了问题，就很难指出问题出在哪里。</p><p id="21ff" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated">这两种方法都依赖于另一个服务及其数据库。它们也只能和最慢的请求一样快，可能会导致请求的泛滥。如果服务C从服务A请求一些数据，而服务A需要从服务D获得一些数据来完成该请求，而服务D需要从服务B获得一些数据来完成该请求……您可以看到这会变得多么混乱。</p><h2 id="dfdb" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">重新审视异步通信</h2><p id="9dd8" class="pw-post-body-paragraph km kn hi ko b kp kq ij kr ks kt im ku jz kv kw kx kd ky kz la kh lb lc ld le hb bi translated">使用异步通信的另一种方法是引入一个数据库，其中包含其他服务所需信息的表。</p><p id="2654" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated">回到购物车示例，您可以为购物车服务创建一个包含用户和产品表的数据库。每个表只需要购物车服务需要知道的信息。也许我们只需要用户的id和产品的id。我们可以在用户服务中设置一些动作，将用户的id发送到事件总线，告诉购物车在新用户通过身份验证时更新其数据库。当用户将产品添加到购物车时，我们可以让产品服务做同样的事情。</p><p id="f84f" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated">有了这个实现，微服务不再相互依赖。除了消除相互依赖之外，我们的购物车服务这样会运行得更快。请记住，这将导致数据重复，并且需要更多的编程。然而，对于最大的自主性和快捷特性来说，这是一个很好的选择。</p><h2 id="ef85" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h2><p id="95cd" class="pw-post-body-paragraph km kn hi ko b kp kq ij kr ks kt im ku jz kv kw kx kd ky kz la kh lb lc ld le hb bi translated">尽管在整合微服务时需要注意一些挑战，但如果您正在构建需要扩展的应用程序，这是值得考虑的。在这个架构内工作，允许大型应用程序的开发团队分成更小的、更专注的团队，这些团队具有更大的灵活性和根据需要进行伸缩的能力。</p><p id="8c1e" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated">一如既往，我鼓励你更深入地研究这个想法，并亲自尝试一下。那里有大量的资源。看看我下面列出的一些链接，开始吧！</p></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><p id="fca7" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated"><a class="ae jn" href="https://app.pluralsight.com/course-player?clipId=cc3ff491-5d74-4353-848c-5cd207d31008" rel="noopener ugc nofollow" target="_blank">微服务基础知识</a></p><p id="b5f6" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated"><a class="ae jn" href="https://xebia.com/blog/microservices-coupling-vs-autonomy/" rel="noopener ugc nofollow" target="_blank">微服务:耦合vs自治</a></p><p id="fc0c" class="pw-post-body-paragraph km kn hi ko b kp lf ij kr ks lg im ku jz lh kw kx kd li kz la kh lj lc ld le hb bi translated"><a class="ae jn" href="https://www.freecodecamp.org/news/why-team-culture-is-critical-for-successful-microservices-2b0e24f124e9/" rel="noopener ugc nofollow" target="_blank">为什么团队文化对成功的微服务至关重要</a></p></div></div>    
</body>
</html>