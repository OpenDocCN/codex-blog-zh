<html>
<head>
<title>Routes and Navigation in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振中的路线和导航</h1>
<blockquote>原文：<a href="https://medium.com/codex/routes-and-navigation-in-flutter-75f15eb2d7fe?source=collection_archive---------2-----------------------#2022-11-27">https://medium.com/codex/routes-and-navigation-in-flutter-75f15eb2d7fe?source=collection_archive---------2-----------------------#2022-11-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7d29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">路由是你的应用中最常用的东西之一，用来构建任何有意义的东西。然而，页面之间的导航混乱时会很可怕。这听起来不妙。</p><p id="f7ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">路由有多种选择。在这里你学习了所有人的第一选择和<strong class="ih hj">干净代码</strong>。</p><h1 id="8fac" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">视频教程</h1><figure class="kb kc kd ke fd kf"><div class="bz dy l di"><div class="kg kh l"/></div></figure><h1 id="781e" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">让我们进入主题</h1><p id="7fe5" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">这里我们有两页，<strong class="ih hj">第一页</strong>和<strong class="ih hj">第二页。</strong>我们的应用程序将按如下方式运行:</p><blockquote class="kn ko kp"><p id="4714" class="if ig kq ih b ii ij ik il im in io ip kr ir is it ks iv iw ix kt iz ja jb jc hb bi translated"><strong class="ih hj">第一页</strong>包含一个按钮<strong class="ih hj">转到第二页。</strong>点击按钮，app进入<strong class="ih hj">第二页。</strong>我们还将<strong class="ih hj">将数据</strong>从<strong class="ih hj">第一页</strong>传递到<strong class="ih hj">第二页。</strong></p></blockquote><p id="ab7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在执行之前，路由的<strong class="ih hj">正确的方式</strong>，我们需要有一些页面之间导航。并且设置它们，执行我们想要离开的基本导航方式是不错的。</p><p id="3024" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们在<strong class="ih hj"> lib </strong>文件夹中创建新文件。在其中，创建新文件<strong class="ih hj"> first_page.dart. </strong></p><p id="d2ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它将看起来如下:</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es ku"><img src="../Images/b4a5009f70aca042c091ae000aa5a7eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/format:webp/1*CJPo160dY5ldb4YMeEbIww.png"/></div></figure><p id="2aa3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当点击按钮时，在<strong class="ih hj"> <em class="kq">上按下</em> </strong>方法，我们将<strong class="ih hj"> MaterialPageRoutes </strong>直接推送到导航器。</p><pre class="kb kc kd ke fd kx ky kz bn la lb bi"><span id="34af" class="lc je hi ky b be ld le l lf lg"> Navigator.of(context).push(<br/>                  MaterialPageRoute(<br/>                    builder: (context) =&gt; const SecondPage(<br/>                        data: 'Hello there from the first page!'),<br/>                  ),<br/> )</span></pre><blockquote class="kn ko kp"><p id="1286" class="if ig kq ih b ii ij ik il im in io ip kr ir is it ks iv iw ix kt iz ja jb jc hb bi translated">这个<strong class="ih hj"> MaterialPageRoutes </strong>创建了很多<strong class="ih hj">样板代码。随着应用程序变得越来越大，我们拥有的页面越来越多，情况变得越来越糟糕，我们可能会在所有地方定义的所有路线中迷路。</strong></p><p id="e22b" class="if ig kq ih b ii ij ik il im in io ip kr ir is it ks iv iw ix kt iz ja jb jc hb bi translated">如果你不得不<strong class="ih hj">只允许登录的用户</strong>进入某些特定的页面，或者<strong class="ih hj">用户导航时需要执行的某种其他逻辑</strong>，这就会变成真的。</p></blockquote><p id="c9a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是导航的基本方法。</p><h1 id="6351" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">更好的导航方式</h1><p id="1017" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">现在，我们将尝试使用<strong class="ih hj">新方法</strong>来执行相同的任务，但方式稍好一些，即使用<strong class="ih hj">命名例程。</strong></p><pre class="kb kc kd ke fd kx ky kz bn la lb bi"><span id="2eb4" class="lc je hi ky b be ld le l lf lg">...<br/>// Pushing a named route<br/>Navigator.of(context).pushNamed(<br/>  '/second',<br/>  arguments: 'Data from first page!',<br/>);<br/>...</span></pre><p id="2319" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们有两个选项来导航命名的路线，而不使用包。</p><ul class=""><li id="c701" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">第一种是最简单的——只需在<strong class="ih hj"> <em class="kq"> MaterialApp </em> </strong>小部件上指定一张路线地图，并带有路线名称的键。但是一旦我们必须在页面之间传递一些数据，并运行come logic，这个选项就没有用了，因为我们不能在map的文字中传递动态的附加数据。</li><li id="d1c9" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">第二个选项只是指定返回路线的函数。通过这样做，我们仍然可以获得使用命名路由的好处，还可以选择将数据传递到其他页面。我们也可以给这个函数添加逻辑。</li></ul><h2 id="b546" class="lv je hi bd jf lw lx ly jj lz ma mb jn iq mc md jr iu me mf jv iy mg mh jz mi bi translated">创建路由器</h2><p id="bebb" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">现在我们在lib文件夹中创建新文件<strong class="ih hj"> route_generator.dart </strong>。</p><p id="83ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不过，<strong class="ih hj">将你的代码</strong>分成多个类和独立的函数是有好处的，所以让我们创建一个<em class="kq"> RouteGenerator </em>类来<strong class="ih hj">封装</strong>路由逻辑。</p><figure class="kb kc kd ke fd kf"><div class="bz dy l di"><div class="mj kh l"/></div></figure><p id="53f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，您需要在根小部件<em class="kq"> MaterialApp </em>上指定的函数被称为<strong class="ih hj"><em class="kq">ongenerate route</em></strong>。</p><pre class="kb kc kd ke fd kx ky kz bn la lb bi"><span id="f1cb" class="lc je hi ky b be ld le l lf lg"> MaterialApp(<br/>      title: 'Flutter Demo',<br/>      theme: ThemeData(<br/>        primarySwatch: Colors.blue,<br/>      ),<br/>      initialRoute: '/',<br/>      onGenerateRoute: RouteGenerator.generateRoute,<br/>    )</span></pre><p id="428f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> SecondPage.dart </strong></p><figure class="kb kc kd ke fd kf"><div class="bz dy l di"><div class="mj kh l"/></div></figure><p id="67ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用这个运行你的代码并测试它。通过传递带有参数的错误数据类型和不存在的命名路由进行检查。此外，通过创建一个新页面并导航到该页面来试验代码。</p><p id="c418" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们最终的文件夹结构如下:</p><figure class="kb kc kd ke fd kf er es paragraph-image"><div class="er es mk"><img src="../Images/433406b9ecb3e66b98b5bdcb19ca1eba.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*8hfOVdZ_41uR5WwrY1-jIA.png"/></div><figcaption class="ml mm et er es mn mo bd b be z dx translated">文件夹结构</figcaption></figure><h1 id="1f1f" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">结论</h1><p id="fb8b" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">在<strong class="ih hj">中，你已经学会了如何在你的Flutter应用中导航，这是一种更好的适合大型应用的方式。</strong>我们已经创建了一个<strong class="ih hj"> RouteGeneration </strong>来<strong class="ih hj">管理所有的路由逻辑，避免代码重复。创建许多具有特定目的的更小的类总是简化代码的更好方法，当用于路由时，这个原则仍然适用。</strong></p><h1 id="2330" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">让我们连接起来</h1><p id="bc6f" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">我们可以成为朋友。在<a class="ae mp" href="https://www.facebook.com/nabin.dhakal.714/" rel="noopener ugc nofollow" target="_blank">脸书</a>、<a class="ae mp" href="https://www.linkedin.com/in/nabindhakal/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>、<a class="ae mp" href="https://github.com/nbnD" rel="noopener ugc nofollow" target="_blank"> Github </a>、<a class="ae mp" href="https://www.youtube.com/channel/UCW6oYt_3QSl7J2HSHNqwXWw" rel="noopener ugc nofollow" target="_blank"> Youtube </a>和<a class="ae mp" href="https://www.instagram.com/nbn_d_/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上查找。</p><p id="e72f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">拜访:<a class="ae mp" href="https://flutterjunction.com/" rel="noopener ugc nofollow" target="_blank">颤振结</a></p><p id="e22f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">投稿:</strong> <a class="ae mp" href="https://www.buymeacoffee.com/nabindhakal" rel="noopener ugc nofollow" target="_blank"> BuyMeACoffee </a></p><p id="c1ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">获取完整代码:</strong></p><div class="mq mr ez fb ms mt"><a href="https://github.com/nbnD/routing_example" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab dw"><div class="mv ab mw cl cj mx"><h2 class="bd hj fi z dy my ea eb mz ed ef hh bi translated">GitHub - nbnD/routing_example</h2><div class="na l"><h3 class="bd b fi z dy my ea eb mz ed ef dx translated">一个新的颤振项目。这个项目是颤振应用的起点。一些帮助您入门的资源…</h3></div><div class="nb l"><p class="bd b fp z dy my ea eb mz ed ef dx translated">github.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh kv mt"/></div></div></a></div><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="er es ni"><img src="../Images/e188b6d3abd56877e4d8780c02032995.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aCkSqfW7weHvI10ErbRjaw.png"/></div></div><figcaption class="ml mm et er es mn mo bd b be z dx translated">摇摆中的路线</figcaption></figure></div></div>    
</body>
</html>