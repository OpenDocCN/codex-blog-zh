<html>
<head>
<title>The Complete Guide to Testing with Cypress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Cypress测试完全指南</h1>
<blockquote>原文：<a href="https://medium.com/codex/the-complete-guide-to-testing-with-cypress-7bbdb2ffa5d7?source=collection_archive---------6-----------------------#2022-06-24">https://medium.com/codex/the-complete-guide-to-testing-with-cypress-7bbdb2ffa5d7?source=collection_archive---------6-----------------------#2022-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="33cb" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">E2E测试驱动的网站开发</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/e9d35b5775ff5d76b2343c6342807f41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qmX2WLgId_rRrFBG"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">塔尔哈·哈桑在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="7a05" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">大多数进入这个行业的网站开发者并没有像他们应该的那样重视测试。测试应用程序可以自动检查每个组件是否正常工作。测试单个功能很容易；然而，测试一个网站可能是令人生畏的。Cypress是大多数开发人员用来对网站进行端到端测试的工具。无论你使用React、Vue、Angular、Svelte还是任何其他框架，Cypress都可以帮助你测试你构建的任何网站。</p><h1 id="4d56" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">装置</h1><p id="334b" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">安装Cypress很简单。在项目根目录下运行命令:</p><pre class="iy iz ja jb fd lh li lj lk aw ll bi"><span id="7586" class="lm kl hi li b fi ln lo l lp lq">npm install -d cypress</span></pre><p id="cfc6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这将把Cypress添加到您的开发者依赖项中。<strong class="jq hj">注意</strong>安装需要一些时间，所以在安装完全完成之前不要中止安装。</p><h1 id="ae62" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">打开你的柏树窗户</h1><p id="2ca2" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">Cypress安装了必要的组件和窗口来执行测试。运行命令:</p><pre class="iy iz ja jb fd lh li lj lk aw ll bi"><span id="b763" class="lm kl hi li b fi ln lo l lp lq">npx cypress open</span></pre><p id="04e0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从柏树之窗开始。你会看到这个窗口</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/658010f5568356ae9521cd9df1154286.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nK2E4qRJX-mMEZsDX3P5cA.png"/></div></div></figure><p id="c99e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">E2E测试可以继续进行；让我们点击它。由于您的项目中的Cypress还没有被配置，他们将为您添加配置文件。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/023036e432578a423413e49d83e9ed4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R6dDhgcsKhxF7Up1i6OTpQ.png"/></div></div></figure><p id="0fcc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，你必须选择一个浏览器来测试你的网站。我个人喜欢微软Edge，我会继续下去。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/54679d1537ce731793746a31f1405ecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E_kLyICcm3dnTOc21yauZg.png"/></div></div></figure><p id="ba31" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">您轻松成功地启动了Cypress。您现在应该能够查看仪表板了。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ls"><img src="../Images/253a4d322b06b066ce5a6785ed297bcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kxoCPJUpT3iBPPkD5Mh_Ag.png"/></div></div></figure><h1 id="cf26" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">Cypress规范文件</h1><p id="ba06" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">Spec文件是Cypress识别来运行测试的文件。要创建您的第一个测试文件，请选择“创建新的空规范”。所有规格文件必须在<code class="du lt lu lv li b">cypress/e2e/</code>文件夹内。让我们将测试文件命名为<code class="du lt lu lv li b">first.cy.js</code>。按几次Enter键后，第一个测试开始加载:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ls"><img src="../Images/0e0ea75c3eb575976a6ba346787a8967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iO0Zpd6GmwFpyhfs5_IZ8w.png"/></div></div></figure><h1 id="b315" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">创建您的测试</h1><p id="fbe0" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">让我们回到我们的代码，你应该会看到<code class="du lt lu lv li b">cypress/e2e</code>文件夹。在这里，您还可以找到带有一些初始代码的<code class="du lt lu lv li b">first.cy.js</code>文件。让我们删除它并添加我们自己的。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lw lx l"/></div></figure><ol class=""><li id="dec8" class="ly lz hi jq b jr js ju jv jx ma kb mb kf mc kj md me mf mg bi translated"><code class="du lt lu lv li b">describe</code>用于记录内部的一组测试。</li><li id="f80b" class="ly lz hi jq b jr mh ju mi jx mj kb mk kf ml kj md me mf mg bi translated"><code class="du lt lu lv li b">it</code>是您需要编写测试代码的地方。</li></ol><p id="61d3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">使用<code class="du lt lu lv li b">cy</code>变量，我们可以打开您想要测试的网站。但是，<strong class="jq hj">请确保您的网站服务器正在运行</strong>。</p><p id="4008" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">返回浏览器，运行等级库文件。你应该看到测试通过了！</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ls"><img src="../Images/151bfde4bcb05dd97d9e3ae8b5898232.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IqAoIQ6UeCvHqHIwO5TA2A.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用Nuxt3的示例网站</figcaption></figure><h1 id="b2cf" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">添加更复杂的测试</h1><blockquote class="mm"><p id="6df2" class="mn mo hi bd mp mq mr ms mt mu mv kj dx translated">测试不过是断言需要为真的值</p></blockquote><p id="b066" class="pw-post-body-paragraph jo jp hi jq b jr mw ij jt ju mx im jw jx my jz ka kb mz kd ke kf na kh ki kj hb bi translated">对于Cypress来说，每一个命令都是一个断言。访问URL本身就是一种断言。</p><h2 id="1d35" class="lm kl hi bd km nb nc nd kq ne nf ng ku jx nh ni kw kb nj nk ky kf nl nm la nn bi translated">断言文本</h2><p id="a015" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">让我们检查一下标题是否可见。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="e2bf" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">太好了！我们的两项测试都成功通过。</p><h2 id="7f98" class="lm kl hi bd km nb nc nd kq ne nf ng ku jx nh ni kw kb nj nk ky kf nl nm la nn bi translated">点击项目，并断言类名</h2><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lw lx l"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ls"><img src="../Images/2341f358de9a1f15212bfe7b1b97a312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JYH1EAOeomm_ALS9IObfQQ.gif"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">测试网站</figcaption></figure><h1 id="043e" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">结论</h1><p id="c077" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">测试是项目开发的重要部分。这些年来，对网站的端到端测试取得了巨大的进步。正如本文所见，测试网站就像写英语一样简单。使用Cypress可以发现更多的命令。看自动化网站很有趣，NGL！</p></div><div class="ab cl no np gp nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="hb hc hd he hf"><p id="9c4c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我希望你喜欢读我的文章，并学到了一些东西。谢谢大家！✌️</p><pre class="iy iz ja jb fd lh li lj lk aw ll bi"><span id="02ef" class="lm kl hi li b fi ln lo l lp lq"><strong class="li hj">Want to connect?</strong></span><span id="268b" class="lm kl hi li b fi nv lo l lp lq">My <a class="ae jn" href="https://github.com/cybercoder-naj" rel="noopener ugc nofollow" target="_blank">GitHub</a> Profile<br/>My <a class="ae jn" href="https://cybercoder-naj.github.io" rel="noopener ugc nofollow" target="_blank">Portfolio</a> Website</span></pre></div></div>    
</body>
</html>