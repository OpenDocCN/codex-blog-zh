<html>
<head>
<title>Chapter 15</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第十五章</h1>
<blockquote>原文：<a href="https://medium.com/codex/chapter-15-3fc57dde2a58?source=collection_archive---------42-----------------------#2022-06-13">https://medium.com/codex/chapter-15-3fc57dde2a58?source=collection_archive---------42-----------------------#2022-06-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0541" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">联网和线程联网和线程</strong></p><p id="2d6c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">-连接、发送和接收- </strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/5f80d48bf2706bde62c3ef91d99cebfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/0*otZIeBSA39wqW9ue"/></div></figure><p id="efd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要一个插座来连接两台电脑。套接字是代表两台计算机之间连接的网络对象。这个类是Java.net.socket。要建立一个套接字连接，我们需要知道两件事:IP地址，它告诉我们正在与谁通话，以及TCP端口号，它告诉我们正在与哪个端口通话。</p><p id="cf44" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.客户端与服务器建立套接字连接。</p><p id="2821" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.客户端与服务器通信。</p><p id="7f21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.客户端从服务器接收消息。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/1f94763ef1a5d692e6c3d4107236797f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/0*3WYI9MirU0KgBNaG"/></div></figure><p id="7daf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">TCP端口号是一个16位数字，用于标识特定的服务器软件。一些关键服务使用TCP端口0到1023。作为聊天服务器，我们可以使用1024到65535之间的任何端口号。</p><p id="2cbe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">从套接字读取数据。</strong></p><p id="5967" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。与服务器建立套接字连接</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/f16e356a34011d424571806c9719be25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0twCcjnUGzyJm0_f"/></div></div></figure><p id="cae4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。将输入流读取器链接到套接字的低级(连接)输入流。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jr"><img src="../Images/8dc7be1063cb7db48cb386ca579ec288.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_YvFjLH9Q5pNa-K7"/></div></div></figure><p id="7bbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。做一个缓冲阅读器读！</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es js"><img src="../Images/a4232c6695d5ca54e67d98cfac985e37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YbVJKx_KuNsKDEPK"/></div></div></figure><p id="6c05" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输入流读取器的作用就像一座桥，它接收字节并将它们转换成文本数据。</p><p id="55ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">向套接字写入数据。</strong></p><p id="3a05" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。与服务器建立套接字连接</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jt"><img src="../Images/450e3a31dac6f5d69be656dc02fd86a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qW4APRVaquUFAvaF"/></div></div></figure><p id="e7a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。将打印写入器链接到套接字的低级(连接)输出流</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ju"><img src="../Images/5f65f908f9b8940cf26f10e4f6e4e4df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/0*kP2uzRxlDKKocAns"/></div></figure><p id="73f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。写(打印)东西</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jv"><img src="../Images/4261d5dcda2554621f1aba73839e9abd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/0*jF4LTvxhfk5NfFZA"/></div></figure><p id="2bfd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">写一个简单的服务器</p><p id="635a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">-工作流程- </strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jw"><img src="../Images/e8c1e2e70725839f154afe04d52d4932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*X6J4AeeU81c5NftQ"/></div></div></figure><p id="62eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">Java中的多线程</strong></p><p id="5df1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">多线程嵌入到Java语言的结构中。启动新的执行线程也很简单。</p><blockquote class="jx jy jz"><p id="c16e" class="if ig ka ih b ii ij ik il im in io ip kb ir is it kc iv iw ix kd iz ja jb jc hb bi translated"><strong class="ih hj">线程t =新线程()；</strong></p><p id="54a3" class="if ig ka ih b ii ij ik il im in io ip kb ir is it kc iv iw ix kd iz ja jb jc hb bi translated"><strong class="ih hj">t . start()；</strong></p></blockquote><p id="50eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">除了一个问题。</strong></p><p id="3f36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为线程实际上不执行任何事情，所以它几乎一创建就“死”了。当一个线程死亡时，它创建的新堆栈就消失了。故事到此结束。</p><p id="f196" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对线程来说，Runnable表示完成任务的可能性。一个线程被期望做的工作被称为可运行的。位于新线程堆栈底部的方法存储在Runnable中。</p><p id="79d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">线程调度器的工作是决定哪些线程应该运行，哪些不应该运行。之后，一个线程将被允许运行，而另一个线程则处于饥饿状态。</p><p id="fce9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一个线程被置于睡眠状态，其他线程可以获得运行的机会。当线程返回到可运行状态时，线程调度器将选择它再次运行。</p><p id="5de7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">synchronized关键字表示线程访问同步代码需要一个密钥。</p><p id="be48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">锁和键都存在于Java对象中。对象经常在无人知晓的情况下被解锁。如果一个对象有同步的方法，如果对象的键是可访问的，线程只能访问这些方法中的一个。如果密钥被另一个线程占用，它将不起作用。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es ke"><img src="../Images/6a84a48396886a3af3d1a714e9b18c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WS47yo6NfGaaBoUy"/></div></div></figure><p id="d200" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">set name方法可用于命名线程。</p><p id="a7c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当两个或多个线程访问同一个项目时，就会发生数据损坏。这可以通过使用同步关键字来避免。</p><p id="c84a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">即使一个对象包含几个同步的方法，也只有一个键。一旦在同一对象上输入了同步方法，任何线程都不能在该对象上输入另一个同步方法。这种限制允许您通过同步任何数据操作方法来保护您的数据。</p></div></div>    
</body>
</html>