<html>
<head>
<title>Adding Executable Program Commands to the PATH variable</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向PATH变量添加可执行程序命令</h1>
<blockquote>原文：<a href="https://medium.com/codex/adding-executable-program-commands-to-the-path-variable-5e45f1bdf6ce?source=collection_archive---------0-----------------------#2021-03-07">https://medium.com/codex/adding-executable-program-commands-to-the-path-variable-5e45f1bdf6ce?source=collection_archive---------0-----------------------#2021-03-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="fb1d" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">PATH环境变量</h2><div class=""/><div class=""><h2 id="f959" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">了解PATH变量并添加要在终端中使用的命令</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/a431d0236b7eb387025c50ea31a5afbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ybG5_-8263AkTWHK6Vrb7g.png"/></div></div></figure><h1 id="f209" class="js jt hi bd ju jv jw jx jy jz ka kb kc ix kd iy ke ja kf jb kg jd kh je ki kj bi translated">路径变量</h1><p id="343c" class="pw-post-body-paragraph kk kl hi km b kn ko is kp kq kr iv ks kt ku kv kw kx ky kz la lb lc ld le lf hb bi translated">您的计算机(Mac或Linux，或基于Unix的系统)有一个名为<code class="du lg lh li lj b">PATH</code>的环境变量，它包含一组包含可执行程序的可执行程序目录。</p><p id="5ff9" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">可执行程序基本上是您可以在shell中使用的命令。</p></div><div class="ab cl lp lq gp lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="hb hc hd he hf"><p id="8344" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">这些包括基本的引导阶段或早期阶段所需的二进制文件，以及其他通用的系统级命令。</p><p id="8fb6" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">根据文件系统分层标准(FHS)，这些命令在系统中的分层位置如下:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lw"><img src="../Images/2ae8ac4036bba63f81bd1d777c4516b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cxxoWUmvAX-BBZguiPpy1g.png"/></div></div></figure></div><div class="ab cl lp lq gp lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="hb hc hd he hf"><p id="631c" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">除了系统级二进制文件之外，可执行程序还可以包括主机特定的程序命令。</p><p id="bb2c" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">当您通过互联网在Mac上安装程序或应用程序时，该应用程序将可以使用GUI执行，通常来自<code class="du lg lh li lj b">/Application</code>目录。</p><p id="82cf" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">然而，为了使用命令行命令运行应用程序，应用程序的可执行文件必须保存到<code class="du lg lh li lj b">PATH</code>变量中。换句话说，您必须将应用程序的可执行程序文件的目录添加到<code class="du lg lh li lj b">PATH</code>变量中，以便使用可执行文件的名称作为从shell运行它的命令。</p><p id="fbc6" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">当你通过一个包管理器安装一个应用，比如<em class="lx">家酿</em>，它被符号链接到<code class="du lg lh li lj b">/usr/local/bin</code>，通常包含在<code class="du lg lh li lj b">PATH</code>里。</p><p id="d0b0" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">对于其他直接程序安装，您的工作是将原始可执行文件直接保存到<code class="du lg lh li lj b">PATH</code>变量，或者将可执行文件符号链接到一个单独的<code class="du lg lh li lj b">bin</code>文件夹，该文件夹将包含在<code class="du lg lh li lj b">PATH</code>中。</p><p id="4c05" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated"><strong class="km hs"> <em class="lx">让我们看看如何将这些本地应用程序命令添加到</em> </strong> <code class="du lg lh li lj b"><strong class="km hs"><em class="lx">PATH</em></strong></code> <strong class="km hs"> <em class="lx">变量中，以便我们可以在shell中使用它们的命令。</em> </strong></p></div><div class="ab cl lp lq gp lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="hb hc hd he hf"><h1 id="3727" class="js jt hi bd ju jv ly jx jy jz lz kb kc ix ma iy ke ja mb jb kg jd mc je ki kj bi translated">添加到路径</h1><p id="8627" class="pw-post-body-paragraph kk kl hi km b kn ko is kp kq kr iv ks kt ku kv kw kx ky kz la lb lc ld le lf hb bi translated">在您的<code class="du lg lh li lj b">zsh</code> shell概要文件(<code class="du lg lh li lj b">.zshrc</code>)中，您可以添加以下内容:</p><pre class="jh ji jj jk fd md lj me mf aw mg bi"><span id="89e5" class="mh jt hi lj b fi mi mj l mk ml"><em class="lx">export PATH="/path/to/app/executable/file/directory:$PATH"</em></span></pre><blockquote class="mm mn mo"><p id="a513" class="kk kl lx km b kn lk is kp kq ll iv ks mp lm kv kw mq ln kz la mr lo ld le lf hb bi translated"><em class="hi">或</em></p></blockquote><pre class="jh ji jj jk fd md lj me mf aw mg bi"><span id="5a67" class="mh jt hi lj b fi mi mj l mk ml"><em class="lx">path+="/path/to/app/executable/file/directory"</em></span></pre><h2 id="3047" class="mh jt hi bd ju ms mt mu jy mv mw mx kc kt my mz ke kx na nb kg lb nc nd ki ho bi translated">导出路径=</h2><pre class="jh ji jj jk fd md lj me mf aw mg bi"><span id="2f39" class="mh jt hi lj b fi mi mj l mk ml">export PATH="/path/to/app/executable/file/directory:$PATH</span></pre><blockquote class="mm mn mo"><p id="4d59" class="kk kl lx km b kn lk is kp kq ll iv ks mp lm kv kw mq ln kz la mr lo ld le lf hb bi translated">该语法将<code class="du lg lh li lj b">/path/to/app/executable/file/directory</code>添加到现有的<code class="du lg lh li lj b">PATH</code>变量的前面。</p></blockquote><ul class=""><li id="1d7d" class="ne nf hi km b kn lk kq ll kt ng kx nh lb ni lf nj nk nl nm bi translated"><code class="du lg lh li lj b">export</code>命令允许所有子进程继承标记的变量。</li><li id="aa60" class="ne nf hi km b kn nn kq no kt np kx nq lb nr lf nj nk nl nm bi translated"><code class="du lg lh li lj b">$PATH</code>是指<code class="du lg lh li lj b">PATH</code>变量值</li><li id="27fd" class="ne nf hi km b kn nn kq no kt np kx nq lb nr lf nj nk nl nm bi translated">将路径<code class="du lg lh li lj b">/path/to/app/executable/file/directory</code>分配给带有尾随<code class="du lg lh li lj b">:$PATH</code>的<code class="du lg lh li lj b">PATH</code>变量，实质上是将路径添加到带有分隔符<code class="du lg lh li lj b">:</code>的现有<code class="du lg lh li lj b">PATH</code>值的前面</li><li id="d84c" class="ne nf hi km b kn nn kq no kt np kx nq lb nr lf nj nk nl nm bi translated">您也可以使用<br/> <code class="du lg lh li lj b">export PATH="$PATH:/path/to/app/executable/file/directory"</code>将路径附加到现有的<code class="du lg lh li lj b">PATH</code>(添加到末尾)</li></ul><h2 id="5b7f" class="mh jt hi bd ju ms mt mu jy mv mw mx kc kt my mz ke kx na nb kg lb nc nd ki ho bi translated">路径+=</h2><pre class="jh ji jj jk fd md lj me mf aw mg bi"><span id="85ca" class="mh jt hi lj b fi mi mj l mk ml">path+="/path/to/app/executable/file/directory"</span></pre><blockquote class="mm mn mo"><p id="9727" class="kk kl lx km b kn lk is kp kq ll iv ks mp lm kv kw mq ln kz la mr lo ld le lf hb bi translated"><code class="du lg lh li lj b">path</code>是另一个绑定到<code class="du lg lh li lj b">PATH</code>变量的变量，但它是一个数组。<code class="du lg lh li lj b">PATH</code>和<code class="du lg lh li lj b">path</code>是捆绑在一起的，所以改变其中一个就会改变另一个。</p></blockquote><ul class=""><li id="d089" class="ne nf hi km b kn lk kq ll kt ng kx nh lb ni lf nj nk nl nm bi translated">然而，变量的值语法是不同的:</li></ul><pre class="jh ji jj jk fd md lj me mf aw mg bi"><span id="8bcb" class="mh jt hi lj b fi mi mj l mk ml">&gt;&gt; echo $PATH<br/>/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/path/to/app/......</span><span id="b62c" class="mh jt hi lj b fi ns mj l mk ml">&gt;&gt; echo $path<br/>/usr/local/bin /usr/bin /bin /usr/sbin /sbin /path/to/app/......</span></pre><ul class=""><li id="68ee" class="ne nf hi km b kn lk kq ll kt ng kx nh lb ni lf nj nk nl nm bi translated">注意<code class="du lg lh li lj b">PATH</code>由<code class="du lg lh li lj b">:</code>分隔，而<code class="du lg lh li lj b">path</code>由空格分隔。</li><li id="1dcb" class="ne nf hi km b kn nn kq no kt np kx nq lb nr lf nj nk nl nm bi translated">通过在<code class="du lg lh li lj b">path</code>赋值前使用<code class="du lg lh li lj b">typeset -U path</code>命令，可以强制<code class="du lg lh li lj b">path</code>变量只有唯一值。这将通过防止添加重复的目录名来保持<code class="du lg lh li lj b">path</code>值的干净。</li></ul><p id="7502" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">这里，路径<code class="du lg lh li lj b">/path/to/app/executable/file/directory</code>很可能是从<code class="du lg lh li lj b">/Applications</code>目录开始的应用程序<code class="du lg lh li lj b">bin</code>目录。</p><ul class=""><li id="d6cf" class="ne nf hi km b kn lk kq ll kt ng kx nh lb ni lf nj nk nl nm bi translated">例如，对于Visual Studio代码，路径是:</li></ul><pre class="jh ji jj jk fd md lj me mf aw mg bi"><span id="02b1" class="mh jt hi lj b fi mi mj l mk ml">/Applications/Visual Studio Code.app/Contents/Resources/app/bin</span></pre><ul class=""><li id="3b3d" class="ne nf hi km b kn lk kq ll kt ng kx nh lb ni lf nj nk nl nm bi translated">因此，您应该设置:</li></ul><pre class="jh ji jj jk fd md lj me mf aw mg bi"><span id="fce8" class="mh jt hi lj b fi mi mj l mk ml">export PATH="/Applications/Visual Studio Code.app/Contents/Resources/app/bin:$PATH"</span></pre><p id="abef" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">这允许您使用'<strong class="km hs"> code </strong>'命令(这是可执行文件的名称)从命令行运行Visual Studio代码。</p></div><div class="ab cl lp lq gp lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="hb hc hd he hf"><h1 id="73ea" class="js jt hi bd ju jv ly jx jy jz lz kb kc ix ma iy ke ja mb jb kg jd mc je ki kj bi translated">将可执行程序文件符号链接到个人的<code class="du lg lh li lj b">bin</code>目录</h1><p id="6ef6" class="pw-post-body-paragraph kk kl hi km b kn ko is kp kq kr iv ks kt ku kv kw kx ky kz la lb lc ld le lf hb bi translated">您可以将可执行程序文件符号链接到一个单独的文件夹，并将该文件夹添加到<code class="du lg lh li lj b">PATH</code>，而不是将每个可执行程序文件单独添加到<code class="du lg lh li lj b">PATH</code>。</p><ul class=""><li id="0704" class="ne nf hi km b kn lk kq ll kt ng kx nh lb ni lf nj nk nl nm bi translated">这个单独的文件夹可以是您的主目录<code class="du lg lh li lj b">~/bin</code>中的<code class="du lg lh li lj b">bin</code>文件夹。</li><li id="0126" class="ne nf hi km b kn nn kq no kt np kx nq lb nr lf nj nk nl nm bi translated">您必须在您的主目录中创建它:</li></ul><pre class="jh ji jj jk fd md lj me mf aw mg bi"><span id="c86e" class="mh jt hi lj b fi mi mj l mk ml"><em class="lx">&gt;&gt; mkdir ~/bin</em></span></pre><p id="a9d3" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">您可以使用<code class="du lg lh li lj b">ln</code>命令对可执行文件进行符号链接。</p><ul class=""><li id="0d69" class="ne nf hi km b kn lk kq ll kt ng kx nh lb ni lf nj nk nl nm bi translated"><code class="du lg lh li lj b">ln</code>是创建新目录条目(链接文件)的实用程序，其模式与原始文件相同。该链接“指向”原始副本。链接如何“指向”原始文件是<em class="lx">硬链接</em>和<em class="lx">符号链接</em>的区别。</li><li id="f2b1" class="ne nf hi km b kn nn kq no kt np kx nq lb nr lf nj nk nl nm bi translated">默认情况下,<code class="du lg lh li lj b">ln</code>创建硬链接，对原始文件的任何更改实际上都独立于链接的文件。</li><li id="b3d6" class="ne nf hi km b kn nn kq no kt np kx nq lb nr lf nj nk nl nm bi translated">使用<code class="du lg lh li lj b">-s</code>标志创建一个符号链接(symlink)，它是一个软拷贝，允许在对链接文件执行操作时使用引用文件。</li></ul><pre class="jh ji jj jk fd md lj me mf aw mg bi"><span id="40f2" class="mh jt hi lj b fi mi mj l mk ml"><em class="lx">&gt;&gt; ln -s "/Applications/Visual Studio Code.app/Contents/Resources/app/bin/code" ~/bin</em></span></pre><p id="f4f8" class="pw-post-body-paragraph kk kl hi km b kn lk is kp kq ll iv ks kt lm kv kw kx ln kz la lb lo ld le lf hb bi translated">如果你已经将<code class="du lg lh li lj b">~/bin</code>目录添加到<code class="du lg lh li lj b">PATH</code>变量中，你只需要将任何你想要添加命令的可执行程序符号链接到<code class="du lg lh li lj b">~/bin</code>目录中。</p><blockquote class="mm mn mo"><p id="423e" class="kk kl lx km b kn lk is kp kq ll iv ks mp lm kv kw mq ln kz la mr lo ld le lf hb bi translated">这将使<code class="du lg lh li lj b">PATH</code>的组织更加清晰，也更容易看到<code class="du lg lh li lj b">PATH</code>中包含了哪些可执行程序。</p></blockquote><h1 id="769f" class="js jt hi bd ju jv jw jx jy jz ka kb kc ix kd iy ke ja kf jb kg jd kh je ki kj bi translated">参考资料:</h1><ul class=""><li id="e9db" class="ne nf hi km b kn ko kq kr kt nt kx nu lb nv lf nj nk nl nm bi translated"><a class="ae nw" href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard</a></li><li id="c49f" class="ne nf hi km b kn nn kq no kt np kx nq lb nr lf nj nk nl nm bi translated"><a class="ae nw" href="https://askubuntu.com/questions/308045/differences-between-bin-sbin-usr-bin-usr-sbin-usr-local-bin-usr-local" rel="noopener ugc nofollow" target="_blank">https://askubuntu . com/questions/308045/differences-between-bin-usr-bin-usr-sbin-usr-local-bin-usr-local</a></li><li id="5ab8" class="ne nf hi km b kn nn kq no kt np kx nq lb nr lf nj nk nl nm bi translated"><a class="ae nw" href="https://stackoverflow.com/questions/11530090/adding-a-new-entry-to-the-path-variable-in-zsh" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/11530090/adding-a-new-entry-to-the-path-variable-in-zsh</a></li><li id="0a5a" class="ne nf hi km b kn nn kq no kt np kx nq lb nr lf nj nk nl nm bi translated"><code class="du lg lh li lj b">man ln</code></li></ul></div></div>    
</body>
</html>