# å¸¦æœ‰ React ç±»å’ŒåŠŸèƒ½ç»„ä»¶çš„å¾…åŠäº‹é¡¹åº”ç”¨ç¨‹åº

> åŸæ–‡ï¼š<https://medium.com/codex/to-do-list-app-with-reactjs-class-and-functional-components-3822f261e994?source=collection_archive---------1----------------------->

å¤§å®¶å¥½ğŸ˜Šï¼Œä»Šå¤©æˆ‘ä»¬å°†ä½¿ç”¨ ReactJs åˆ›å»ºä¸€ä¸ªç®€å•çš„ Todo-list åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨å®ƒçš„ä¸¤ä¸ªä¸»è¦ç»„ä»¶:å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶

![](img/7a43c089af50fbc946b4b9f6e33d80db.png)

æ ¼ä¼¦åœ¨ Unsplash ä¸Šæ‹æ‘„çš„ç…§ç‰‡

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç±»ç»„ä»¶ã€‚

***ä½ å‡¸è½®æ£€å‡ºåŠŸèƒ½ç»„ä»¶æ–¹å¼*** [***æ­¤å¤„***](/@onlygod/to-do-list-app-with-react-functional-and-class-components-f7cb3d33b72e) ***ï¼ï¼***

# æˆ‘å°†ä½¿ç”¨çš„å·¥å…·:

*   [Visual Studio ä»£ç ](https://code.visualstudio.com/)(æ–‡æœ¬ç¼–è¾‘å™¨)
*   [Nodejs](https://nodejs.org/en/) (npm 8.1.2 +)

## ç‰¹å¾

*   åˆ›å»ºä»»åŠ¡
*   åˆ—è¡¨ä»»åŠ¡
*   ç¼–è¾‘ä»»åŠ¡
*   åˆ é™¤ä»»åŠ¡

# æ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹å§ï¼ï¼ï¼ğŸš€ğŸš€

# 1.è®¾ç½®é¡¹ç›®

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ç»ˆç«¯åˆ›å»ºæˆ‘ä»¬çš„é¡¹ç›®åº”ç”¨ç¨‹åºï¼Œç¡®ä¿æ‚¨å·²ç»åœ¨å…¨çƒèŒƒå›´å†…å®‰è£…äº† [Nodejs](https://code.visualstudio.com/) å’Œ [create-react-app](https://create-react-app.dev/docs/getting-started/)

```
npx create-react-app <project_name_here> 
```

ä½¿ç”¨ vscode æ‰“å¼€é¡¹ç›®ç›®å½•ï¼Œç°åœ¨åœ¨æ‚¨çš„ç»ˆç«¯ä¸Šé€šè¿‡è¿è¡Œä¸‹é¢çš„å‘½ä»¤å¯åŠ¨æ‚¨çš„æœåŠ¡å™¨

```
yarn start // for those using yarnnpm start // for those using npm
```

ç°åœ¨æ‰“å¼€***app . js****æ–‡ä»¶ä¸­çš„ ***src*** æ–‡ä»¶å¤¹ä½ ä¼šçœ‹åˆ°åŠŸèƒ½ç»„ä»¶çš„åšæ³•ğŸ‘‡ğŸ¼*

*åŠŸèƒ½ç»„ä»¶(App.js)*

*è¦å°†å…¶æ›´æ”¹ä¸ºç±»ç»„ä»¶ï¼Œåªéœ€ç²˜è´´ä¸‹é¢çš„ä»£ç ğŸ‘‡ğŸ¼*

*ç±»ç»„ä»¶(App.js)*

*æ¥ä¸‹æ¥ç”¨ return è¯­å¥ä¸­çš„è¿™ä¸ªé™„åŠ æ¨¡æ¿æ›´æ–°***app . js****a*gain*

*åŒæ ·ç”¨ä¸‹é¢çš„ *æ›¿æ¢ ***App.css ä¸­çš„æ ·å¼*****

*App.css*

*ç°åœ¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨ç»ˆç«¯ä¸­è¿è¡Œ ***çº±çº¿å¯åŠ¨*** æ¥æ£€æŸ¥æ‚¨çš„æµè§ˆå™¨*

*![](img/00aa3b1b42efda797676052b518cde9d.png)*

*[http://localhost:3000/](http://localhost:3000/)*

# *2.åˆ›å»ºå¾…åŠä»»åŠ¡å’Œåˆ—è¡¨ä»»åŠ¡*

*å¥½äº†ï¼Œè®©æˆ‘ä»¬è¿›å…¥åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†ä»åˆ›å»ºä»»åŠ¡å¼€å§‹ã€‚å› æ­¤ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦ä½¿ç”¨ ***æ„é€ å‡½æ•°*** *æ¥æ„é€ æˆ‘ä»¬åœ¨ç±»ç»„ä»¶ä¸­çš„çŠ¶æ€ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°åœ¨ react ç»„ä»¶æŒ‚è½½ä¹‹å‰è¢«ç§°ä¸º*ï¼Œ*

*ç°åœ¨è®©æˆ‘ä»¬æ›´æ–°æˆ‘ä»¬çš„å¾…åŠäº‹é¡¹åº”ç”¨ç¨‹åºï¼Œå¦‚ä¸‹æ‰€ç¤º*

*App.js (CreateTodo)*

*   *ä»ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œæˆ‘ç»™æ„é€ å‡½æ•°æ·»åŠ äº†ä¸¤ä¸ªçŠ¶æ€: **value** å’Œ **todos** ï¼Œå®ƒä»¬å°†åˆ†åˆ«å¤„ç†æ·»åŠ  todo é¡¹çš„æ–‡æœ¬è¾“å…¥çš„ onChange å’Œå­˜å‚¨ todosã€‚*
*   *ä½ ä¹Ÿä¼šæ³¨æ„åˆ°æˆ‘æ·»åŠ äº†ä¸€ä¸ª **onAddTask** å‡½æ•°æ¥å¤„ç†æ·»åŠ  todo é¡¹çš„é€»è¾‘ï¼Œæˆ‘æŠŠå®ƒå˜æˆäº†ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨å®ƒè¢«å­˜å‚¨ä¹‹å‰åŒ…å«äº†ä¸€ä¸ª**åç§°**å’Œä¸€ä¸ª **id** ã€‚*
*   *æœ€åï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªæ— åºåˆ—è¡¨æ ‡ç­¾æ¥æ˜¾ç¤ºå¾…åŠäº‹é¡¹åˆ—è¡¨*

*ç°åœ¨åˆ·æ–°æ‚¨çš„æµè§ˆå™¨ï¼Œå°è¯•æ·»åŠ ä¸€ä¸ªä»»åŠ¡ï¼Œçœ‹çœ‹ç»“æœå¦‚ä¸‹ğŸ‘‡ğŸ¼*

*![](img/e4428274c5895f2689d8a17d877ec792.png)*

*[http://localhost:3000/](http://localhost:3000/)*

# *3.åˆ é™¤å¾…åŠä»»åŠ¡*

*æ¥ä¸‹æ¥è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªå‡½æ•°æ¥åˆ é™¤ä¸€ä¸ªå¾…åŠä»»åŠ¡ï¼ŒæŒ‰ç…§ä¸‹é¢çš„ä»£ç æ¥åšğŸ‘‡ğŸ¼*

**App.js (DeleteTodo)**

*   *ä»ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘æ·»åŠ äº†ä¸€ä¸ªå‡½æ•° ***onDeleteTask*** ï¼Œå®ƒæ¥æ”¶å¾…åŠäº‹é¡¹çš„ idï¼Œè¿‡æ»¤å¾…åŠäº‹é¡¹ï¼Œç„¶ååˆ é™¤è¯¥äº‹é¡¹ã€‚*
*   *æ¥ä¸‹æ¥æˆ‘æ·»åŠ äº†ä¸€ä¸ª onClick å¤„ç†ç¨‹åºï¼Œ***this . on delete task***åˆ°åˆ é™¤æŒ‰é’®ã€‚*

*ç°åœ¨å†æ¬¡åˆ·æ–°æ‚¨çš„æµè§ˆå™¨ï¼Œå°è¯•åˆ é™¤ä¸€ä¸ªä»»åŠ¡ï¼Œä»¥æŸ¥çœ‹å¦‚ä¸‹ç»“æœğŸ‘‡ğŸ¼*

*![](img/6027b119a6e15094ea8d8a8c7362348d.png)*

*[http://localhost:3000/](http://localhost:3000/)*

# *3.ç¼–è¾‘å¾…åŠä»»åŠ¡*

*ç°åœ¨è¦ç¼–è¾‘ä¸€ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å°†æ·»åŠ å‡ ä¸ªçŠ¶æ€ï¼Œåˆ°**a****editing:falseï¼Œ*** *å’Œ states æ¥ä¿å­˜ todo id(****currentId)***å’Œ todo name ( **currentValue****

```
**constructor() {
super()
this.state = ({
 todos: [],
 value: "",
 editing: false,
 currentid: "",
 currentValue: ""
});**
```

*   **å› æ­¤ï¼Œè¦ç”¨ä¸Šé¢å£°æ˜çš„ç¼–è¾‘çŠ¶æ€æ›´æ–°æ‚¨çš„ todo æ¨¡æ¿ï¼Œè¯·å°†ä¸‹é¢çš„ä»£ç ç²˜è´´åˆ°æ‚¨çš„ return è¯­å¥ä¸­**

**å¾…åŠäº‹é¡¹-æ¨¡æ¿-å·²æ›´æ–°**

*   **æ¥ä¸‹æ¥æ·»åŠ åˆ‡æ¢å¤„ç†ç¨‹åº( ***onToggleEdit*** )ï¼Œä½ ä¼šçœ‹åˆ°å®ƒå°† editing è®¾ç½®ä¸º true å¹¶æ¥å—å½“å‰ todo å¯¹è±¡ï¼Œç„¶åå°†å…¶å€¼å­˜å‚¨åœ¨ ***currentid*** å’Œ ***currentValue*** ä¸­ã€‚**

```
**onToggleEdit = (todo) => {
 this.setState({ editing: true })
 this.setState({ currentid: todo.id })
 this.setState({ currentValue: todo.name })}** 
```

**æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸º input æ·»åŠ  onChange å¤„ç†ç¨‹åº(***onEditInputChange****)*ï¼Œå®ƒåªæ˜¯ç”±ç”¨æˆ·å°†å½“å‰å€¼è®¾ç½®ä¸ºå€¼ç±»å‹ã€‚**

```
**onEditInputChange = (e) => {
 this.setState({ currentValue: e.target.value })
}**
```

**ç°åœ¨æ·»åŠ  onSubmit å¤„ç†ç¨‹åº(***onSubmitEditTodo***)æ¥å¤„ç† Todo é¡¹ç›®çš„æäº¤**

```
**onSubmitEditTodo = (e) => {
 e.preventDefault()
 this.onEditTodo(this.state.currentid, this.state.currentValue)
 this.setState({ editing: false })}**
```

**ä»ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°å®ƒç®€å•åœ°è·å– currentid å’Œ currentValueï¼Œå¹¶ä¼ é€’ç»™ä¸‹é¢çš„ **onEditTodo** å‡½æ•°ï¼ŒğŸ‘‡ğŸ¼è¯¥æ–¹æ³•å¾ªç¯éå†æ‰€æœ‰å¾…åŠäº‹é¡¹ï¼Œæ‰¾åˆ°å¾…åŠäº‹é¡¹ id å¹¶æ›´æ–°å…¶å€¼**

```
**onEditTodo = (id, newValue) => {
 this.state.todos.map(todo => {
  if (todo.id === id) {
      todo.name = newValue;}})}**
```

**ç°åœ¨ä¸ºäº†æµ‹è¯•å®ƒï¼Œæ›´æ–° onClick å’Œ onsubmit å¤„ç†ç¨‹åºçš„å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º**

**å¾…åŠäº‹é¡¹-æ¨¡æ¿-å·²æ›´æ–°-2**

**ç°åœ¨è®©æˆ‘ä»¬è¯•ç€ç¼–è¾‘ä¸€ä¸ª todo æˆ‘ä»¬çš„æµè§ˆå™¨å¦‚ä¸‹**

**![](img/0b83ca1c5db3da7de1ad742d6e20bfd2.png)**

**[http://localhost:3000/](http://localhost:3000/)**

**ç°åœ¨ç‚¹å‡»**ç¼–è¾‘**æŒ‰é’®æˆ‘ä»¬çœ‹åˆ°äº†è¿™ä¸ªé¡¹ç›®ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬æ›´æ–°å®ƒ**

**![](img/26e12a76e05a535de727137f1bd4cacc.png)**

**[http://localhost:3000/](http://localhost:3000/)**

**ç°åœ¨æˆ‘ä»¬çœ‹åˆ°å¾…åŠäº‹é¡¹ 1 å·²ç»æ›´æ–°äº†ğŸ¥³ğŸ¥³**

**æœ‰ä»»ä½•é”™è¯¯ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œä¸‹é¢æ˜¯å®Œæ•´çš„æºä»£ç ğŸ‘‡ğŸ¼**

**App.js**

**è°¢è°¢ä½ çš„æ—¶é—´ï¼Œâ™¥ï¸**

# ****å»å“ªé‡Œæ‰¾æˆ‘ğŸ‘‡****

**ä½ å¯ä»¥è·Ÿéšæˆ‘æ¥åˆ°â¤ï¸**

**æ‚¨ä¹Ÿå¯ä»¥åœ¨ä¸Šæ‰¾åˆ°æˆ‘ğŸ‘‰[Github](https://github.com/Onlynfk)/[Instagram](https://www.instagram.com/onlyg.codes/)/[LinkedIn](https://www.linkedin.com/in/onlygod-o-b64084166/)ğŸ”¥**