<html>
<head>
<title>Mysterious World of Java Multithreading: A Sneak Peek.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java多线程的神秘世界:先睹为快。</h1>
<blockquote>原文：<a href="https://medium.com/codex/mysterious-world-of-java-multithreading-a-sneak-peak-b994c19634ce?source=collection_archive---------17-----------------------#2021-07-31">https://medium.com/codex/mysterious-world-of-java-multithreading-a-sneak-peak-b994c19634ce?source=collection_archive---------17-----------------------#2021-07-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/9acf77a4d2bc8187c04ea7ce7d34dba2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iQT8DOb5MrRhnfTKp3Uh0w.png"/></div></div></figure></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="3d55" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">你好啊。在这篇文章中，我将带你踏上一段小小的旅程，揭开Java中多线程的神秘面纱。如果你对<em class="jv">多线程</em>有一些基本的了解，那么你很有可能听说过<em class="jv">线程优先级</em>。但是在我们深入研究之前，首先让我们消除疑虑。让我们从理解什么是<em class="jv">线程</em>开始。</p><p id="d0f3" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">根据Oracle文档，这就是线程的含义，</p><blockquote class="jx jy jz"><p id="ccb9" class="ix iy jv iz b ja jb jc jd je jf jg jh ka jj jk jl kb jn jo jp kc jr js jt ju hb bi translated">“一个<em class="hi">线程</em>是一个程序中的执行线程”。</p></blockquote><p id="59ee" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">至少对我来说，这听起来信息量不大——对不起甲骨文:(。没必要把事情搞得太复杂。所以，我们开始吧！一个<strong class="iz hj">线程</strong>基本上是一个独立的程序执行路径。这意味着可以有几个<em class="jv">线程</em>同时执行，这取决于程序，但彼此之间没有任何依赖关系。这实际上是将<em class="jv">多线程</em>带到图片中的原因。</p><p id="4a39" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">这样想吧。假设你有5个不同的任务，(这可能需要相对较长的时间来完成)你需要在一个程序中执行，这些任务彼此独立。在这个快节奏的世界里，我们不能几十年如一日地坐在电脑前等待程序执行完毕。或者出于更好的原因，如以最佳方式利用我们有限的系统资源，如CPU，我们将热烈欢迎任何可以同时运行我们5个独立程序的方法。嗯，这就是<em class="jv">多线程</em>的全部！</p><p id="2a98" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">所以，对于你的5个任务，你可以叫5个“主管”给他们每人一个任务。这些主管的工作是完成交给他们的任务。现在用“线程”代替术语“主管”,这就是全部了。</p></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h1 id="0681" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">主流中泓线</h1><p id="546e" class="pw-post-body-paragraph ix iy hi iz b ja lb jc jd je lc jg jh ji ld jk jl jm le jo jp jq lf js jt ju hb bi translated">不管怎样，每个Java程序中都有一个线程，而且是主线程。它负责让你的程序开始。即使没有明确定义，默认情况下主线程也是可用的。启动用户定义的任何辅助线程都是由主线程完成的。主线程启动任何其他线程，然后该线程处于可运行状态，直到它从JVM获得机会。</p><p id="2d02" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">定义螺纹的方法。</strong></p><p id="4b35" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">在Java中有两种定义线程的方法。</p><ol class=""><li id="8de4" class="lg lh hi iz b ja jb je jf ji li jm lj jq lk ju ll lm ln lo bi translated">通过扩展线程类。</li><li id="68e1" class="lg lh hi iz b ja lp je lq ji lr jm ls jq lt ju ll lm ln lo bi translated">通过实现Runnable接口。</li></ol><p id="35b5" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">通过扩展线程类定义线程:</strong></p><figure class="lv lw lx ly fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/198a43d7f41712d1c6b1104294567da0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AALKdGCXrUOSgDDpTKxwOQ.jpeg"/></div></div></figure><p id="3e16" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj">通过实现Runnable接口定义线程:</strong></p><figure class="lv lw lx ly fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/e712c945c847e8c147daf491ac406ec8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k1eW6cLAs5kq4Jr71vlg6A.jpeg"/></div></div></figure><p id="32fc" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">如果你不熟悉<em class="jv">多线程</em>，你可能想知道这些方法是什么，以及我刚才演示的所有奇怪的东西。但是不要担心，它们并不是很难理解的东西。</p><p id="4549" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj"> run() </strong>是让线程完成预期任务的地方。这是定义线程一旦开始执行应该做什么的地方。它可以是像我例子中的一句愚蠢的话，也可以是一项改善人类生活的开创性任务。不管是什么，只要把所有东西都放在run方法中，就可以开始了。</p><p id="80e9" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated"><strong class="iz hj"> start() </strong>方法是一切魔法的开始！。由于某种原因，Thread类的start方法被认为是Java <em class="jv">多线程</em>的核心。如果没有start方法，我们甚至不会在这个例子中使用<em class="jv">多线程</em>概念。如果您编译这些代码，您会注意到run方法甚至没有调用就被执行了。那是因为start方法会自己调用run方法，而程序员不会自己调用run方法。如果程序员显式调用<em class="jv"> ThreadDemo </em>对象上的run方法，那么run方法将被视为任何其他方法，主线程将执行run方法中的任何内容，而无需创建<em class="jv">线程</em>。</p></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h1 id="3030" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">线程优先级。</h1><p id="f70d" class="pw-post-body-paragraph ix iy hi iz b ja lb jc jd je lc jg jh ji ld jk jl jm le jo jp jq lf js jt ju hb bi translated">现在，如果你定义了多个线程，每个线程都有一个优先级。它可以是<em class="jv">默认线程优先级</em>或由程序员设置的值，具体取决于任务的重要程度。</p><p id="08cc" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">在Java中，要使<em class="jv">线程优先级</em>有效，它应该在<strong class="iz hj"> 1 </strong>到<strong class="iz hj"> 10 </strong>之间，其中1是最低优先级，10是最高优先级。5被认为是标准优先级，也就是默认优先级。</p><p id="4890" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">具有高优先级的可运行线程(意味着start方法已经被调用)将会得到JVM的特别关注，而具有低优先级的可运行线程<em class="jv">将会被保存到最后。</em></p><p id="1499" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">在<em class="jv">线程类</em>中定义了一堆常量，可以用来演示这一点(好的..不是束，只是3)。</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/01b557b8c780583ad58ef39ebf900385.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iE8sCvNHLkwgLv3NmEx9tQ.jpeg"/></div></div></figure><p id="ed60" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">输出:</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/438736db6885008f741f7125a32c729f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MpcyTxB62EomqEO-26Woqg.jpeg"/></div></div></figure><p id="22e8" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">对于主线程，默认的线程优先级是5。对于其他用户定义的线程，将有一个默认优先级，该优先级继承自父线程(<em class="jv">主线程</em>)，也是5。</p><p id="eebe" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">但是作为一名程序员，你可以为你梦想中的任何线程设置任何优先级。有两种非常简单的方法来获取和设置线程的优先级。</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/f949cbe6e381330a002f566034f7f5a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fwuyxgatG2bwOB0faQwFOw.jpeg"/></div></div></figure><p id="98bd" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">这将返回以下输出:</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/3133cee4626ddf0f8d79b3cdb2eaa59b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vm-uZDG7QMxUQkwOJRdUGQ.jpeg"/></div></div></figure><p id="ecad" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">您也可以使用线程引用以同样的方式为其他<em class="jv">线程</em>设置优先级。</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/1b7a562985a33ffd73dbd70576b6f8e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x0D7AYDC64uxu0iXPoXnSA.jpeg"/></div></div></figure><p id="a1d5" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">输出是:</p><figure class="lv lw lx ly fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/dc125efdcbfd01e32ffe816c53f12ae2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i0VMrnmg2N87rehgGJJVjg.jpeg"/></div></div></figure><p id="bade" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">当使用<em class="jv">线程优先级</em>时，可能会有这样的情况，你会觉得自己搞砸了，因为你得到了奇怪的输出序列，低优先级线程的输出在前，高优先级线程的输出在后。这是因为一些平台不支持<em class="jv">线程优先级</em>(如果你还记得你的<em class="jv">集合</em>，你可能还记得<em class="jv">优先级队列</em>的情况)。</p></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><p id="e402" class="pw-post-body-paragraph ix iy hi iz b ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju hb bi translated">嗯，这是对多线程世界的简短介绍。希望你对基本的<em class="jv">多线程</em>概念有了更好的理解。得走了。再见！</p></div></div>    
</body>
</html>