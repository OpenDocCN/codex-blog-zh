<html>
<head>
<title>Big(O) in a Little Pond</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">小池塘里的大</h1>
<blockquote>原文：<a href="https://medium.com/codex/big-o-in-a-little-pond-a4422246d398?source=collection_archive---------4-----------------------#2021-12-07">https://medium.com/codex/big-o-in-a-little-pond-a4422246d398?source=collection_archive---------4-----------------------#2021-12-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6d7e0b53821f0e0b06588f5c9b5f523b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0WiYv9rZ-ci34UJh"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Elena Mozhvilo 在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h2 id="7644" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">十二月快乐，代码降临快乐！</strong>🎅🏻 🖥</h2><p id="1552" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">对于那些不知道的人来说，<a class="ae iu" href="https://adventofcode.com/2021" rel="noopener ugc nofollow" target="_blank">代码的出现</a>是一年一度的编码挑战，从12月1日持续到25日。不是打开一个小门展示一块干巧克力，而是在美国东部时间每天晚上12:00发布一个新的谜题。谜题是代码不可知的(使用任何你想要的语言！)而每个谜题的答案都是一个数字，你可以通过处理你独特的输入来计算(每个人都有自己的！)用你写的任何代码。谜题一天比一天难，每一个都由第一部分和第二部分组成，这两个部分互为基础。完成一个部分会为您赢得一颗星，而完成整个拼图会让您进入下一个拼图，并在视觉日历上填充一行颜色。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es ko"><img src="../Images/4be2aae08192c2e320fdf3bc6ead73c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*lifQr-L2qKxXdBrgkMQ36g.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我的未完成的2020板——所有的谜题都可以追溯到2015年！</figcaption></figure><p id="9531" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">这些谜题被放在狂野的故事中，比起在HackerRack上进行枯燥的算法练习，这些故事给了整个挑战更多的娱乐价值和动力。AoC周围的社区非常支持，这对像我这样的技术新手尤其有帮助。(我强烈推荐<a class="ae iu" href="https://reddit.com/r/adventofcode" rel="noopener ugc nofollow" target="_blank"> subreddit </a>中一些令人惊叹的可视化和用滑稽/疯狂的语言编写的解决方案。)许多人使用AoC来提升他们的技能，练习或学习一门新语言，或者通过在几分钟内解决每天的问题而登上全球排行榜。</p><p id="3982" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">去年，当我还在学习编码的时候，我尝试了AoC，这是一个非常有趣的挑战，尽管我没有完成。现在我身后有了Flatiron的数据科学训练营，我很高兴看到我能走多远！</p><h1 id="6a22" class="ky iw hi bd ix kz la lb jb lc ld le jf lf lg lh jj li lj lk jn ll lm ln jr lo bi translated">什么是大O-dea？</h1><p id="3481" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated"><a class="ae iu" href="https://adventofcode.com/2021/day/6" rel="noopener ugc nofollow" target="_blank">第六天</a>我发现了AoC的一个优点:创造性优化。尽管这个谜题的描述和其他的一样牵强(看着发光的深海灯笼鱼从我自己运行的圣诞潜水艇中无性繁殖并呈指数增长)，但解决方案遇到了一个实际的、真实的问题，我经常看到只在理论上讨论这个问题:大O复杂性。</p><p id="483e" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">谷歌搜索一下就能找到很多详细的解释，所以现在我会说，大O指的是一段代码可能导致的最坏情况，即代码运行需要多少内存和/或时间。</p><p id="cb1d" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">例如，通过迭代每一项来搜索列表或数组中的值需要O(n)(比如:“O of N”)时间，或线性时间。那是因为<em class="lp">最坏的情况</em>是你要找的项目在列表的末尾，所以你必须浏览<em class="lp"> n </em>个项目。计算<em class="lp"> y=2x </em>有O(1)个时间，或者常数时间，因为无论<em class="lp"> x </em>有多大，你只需要做一次计算。然而，如果一个循环在另一个循环中对其整个数组进行n次迭代，那么嵌套for循环可能会运行O(n)-times-O(n)或二次O(n)时间。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/6ab46e91d65987041c49b3267e61996c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vksCo_1i-8tfhFAtFaQomA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">更多详情请见<a class="ae iu" href="https://www.bigocheatsheet.com/" rel="noopener ugc nofollow" target="_blank">https://www.bigocheatsheet.com/</a></figcaption></figure><p id="2912" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">虽然关于大O的讨论常常令人生厌，但今天的AoC难题让我第一手地看到了这些概念的重要性。</p><h1 id="390e" class="ky iw hi bd ix kz la lb jb lc ld le jf lf lg lh jj li lj lk jn ll lm ln jr lo bi translated">巨大的效率收益</h1><p id="c657" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">在拼图中，一群鱼中的每条鱼每7天繁殖一次。然而，不仅这些鱼没有同步，新的鱼实际上要花9天时间来繁殖它们的第一次，然后是7天。</p><p id="a428" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">给定的难题输入将每条鱼表示为数组中的一个元素；每条鱼的价值代表它繁殖的天数。例如，数组<code class="du lr ls lt lu b">[3, 4, 2, 1, 1]</code>总共包含5条鱼。第一条鱼在繁殖前还有3天，第二条鱼有4天，依此类推。</p><p id="63a4" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">一天之后，这个数组看起来应该是这样的:<code class="du lr ls lt lu b">[2, 3, 2, 0, 1]</code>第四条鱼要繁殖了！</p><p id="2098" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">两天后，它会看起来像这样:<code class="du lr ls lt lu b">[1, 2, 1, 6, 0, 8]</code>另一条鱼被添加到最后，在它繁殖之前还剩8天，而第四条鱼的计数器已经从0重置为6。</p><p id="dfc2" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">提出的问题是，80天后还会有多少鱼？以下是我的初步解决方案:</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="bf3b" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">我将我的解决方案分成一个名不副实的助手函数和一个主<code class="du lr ls lt lu b">solution()</code>函数，它工作得很好。我提交了我的最终答案，收集了我的星星，并愉快地阅读了第二部分:</p><blockquote class="lx ly lz"><p id="7aeb" class="jt ju lp jv b jw kt jy jz ka ku kc kd ma kv kf kg mb kw ki kj mc kx kl km kn hb bi translated">假设灯笼鱼永生，拥有无限的食物和空间。他们会接管整个海洋吗？在上面例子中的256天后，总共会有<code class="du lr ls lt lu b">26984457539</code>灯笼鱼！</p><p id="a975" class="jt ju lp jv b jw kt jy jz ka ku kc kd ma kv kf kg mb kw ki kj mc kx kl km kn hb bi translated">256天后会有多少条灯笼鱼？</p></blockquote><p id="117b" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">轻松点。我输入<code class="du lr ls lt lu b">solution(puzzle_input, 256)</code>，自信地按下回车键，然后等待。等待着。等待着。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es md"><img src="../Images/c738d6a124876fe674f21e7404943a38.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*_ud7N8d0-g6FUjyaQ2ndag.gif"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">仍在等待代码运行…</figcaption></figure><p id="4afa" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">我去拿了些水，回来，5分钟后我的代码还在运行。我觉得很奇怪。只是简单的加减法。然后它像一吨鱼一样击中了我。</p><h1 id="89a9" class="ky iw hi bd ix kz la lb jb lc ld le jf lf lg lh jj li lj lk jn ll lm ln jr lo bi translated">o(圣夜)，二次时间是真实的</h1><p id="297f" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">谜题描述甚至说，鱼“必须快速产卵以达到如此大的数量——也许是以指数级速度<strong class="jv hj"/>”，但是我听进去了吗？大n(O)！</p><p id="ba2b" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">我运行了一些可视化来检查——是的，人口每7天翻一倍，正如我所预料的那样，如果我，你知道，首先注意的话。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es me"><img src="../Images/bc99c7e81a1c717432a2b35240eb3bca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*Gv6oPlymVsn_Onsu4VgHuw.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我们需要一艘更大的潜艇。</figcaption></figure><p id="e6b7" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">我最初的解决方案是经典的O(n ),但是考虑到我的计算机内存和处理能力的限制，如果我现在想要一个答案，我显然需要一个更优化的解决方案。试图创建并迭代超过1.5万亿个元素的数组(是的，实际上)是不可能的。我遇到了实际的、身体上的极限——并在大o上了一课。</p><p id="8310" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">我研究了人口增长方程，但那些只给了我估计，没有答案。我摆弄着我的代码，分析着计数、求和以及比率，但是找不到绕过那个大大的o的方法。我被卡住了。最后，我去寻求帮助，无意中发现了《代码subreddit》问世时的一个提示，它似乎和罗塞塔石碑一样神秘而重要:</p><blockquote class="lx ly lz"><p id="ebdf" class="jt ju lp jv b jw kt jy jz ka ku kc kd ma kv kf kg mb kw ki kj mc kx kl km kn hb bi translated">"要解决这个难题，你只需要一个9元素的数组."</p></blockquote><p id="cbee" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">什么？！怎么会？？？这似乎好得令人难以置信。但事实证明，知道这是可以做到的是成功的一半。</p><h1 id="993e" class="ky iw hi bd ix kz la lb jb lc ld le jf lf lg lh jj li lj lk jn ll lm ln jr lo bi translated">快乐到线性时间！</h1><p id="805a" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn hb bi translated">我终于意识到我可以使用一种能带给我更多快乐的解决方案。我可以使用数组索引<em class="lp">作为整个学校</em>的信息源，而不是将每条鱼表示为它自己的数组元素！索引<em class="lp"> i </em>处的每个元素可以表示在繁殖前还有多天的鱼的数量。</p><p id="7a63" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">换句话说，<code class="du lr ls lt lu b">[3, 4, 2, 1, 1]</code>就是<code class="du lr ls lt lu b">[0, 2, 1, 1, 1, 0, 0, 0, 0]</code>。两次迭代之后，<code class="du lr ls lt lu b">[1, 2, 1, 6, 0, 8]</code>将同样被表示为<code class="du lr ls lt lu b">[1, 2, 1, 0, 0, 0, 1, 0, 1]</code>。该问题将在常数O(n)时间内运行，而不是二次时间，并且使用的空间也少得多。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="lv lw l"/></div></figure><p id="3769" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">我的数组只有9个元素，而不是一个有超过一万亿元素的数组。也可以使用字典/散列表来代替，我确信我不需要<code class="du lr ls lt lu b">import deque</code>。我不声称自己有最好的解决方案；事实上，我确信还有更优化的方法来编写这个解决方案——甚至可能是一个常数O(1)时间的解决方案。</p><p id="4c18" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated">不过，我喜欢这个解决方案的地方是它如何最佳地利用数组，使用数组的每一部分来包含信息。这是我以前在理论上学到的一课，但我认为让自己体验二次O(n)时间的后果真的会让它坚持下去。或者我希望如此。</p><p id="ea88" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated"><strong class="jv hj">快乐编码的来临和保持编码O(n！)</strong> <em class="lp">(等等，那是最差的一个…) </em></p><p id="4dfe" class="pw-post-body-paragraph jt ju hi jv b jw kt jy jz ka ku kc kd jg kv kf kg jk kw ki kj jo kx kl km kn hb bi translated"><em class="lp">(编辑:我已经改正了这篇文章中的一个错误。我最初把O(n)描述为指数时间，这是不正确的！O(2^n)是指数时间；O(n)是二次时间。</em></p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/f6c5d3611492f728fc06b77d938709fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*V2hxWeGxoaPJ1lqK"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">由<a class="ae iu" href="https://unsplash.com/@jwimmerli?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">让·维默林</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure></div></div>    
</body>
</html>