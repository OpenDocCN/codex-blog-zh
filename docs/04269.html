<html>
<head>
<title>Document Indexing Using TF-IDF</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TF-IDF的文档索引</h1>
<blockquote>原文：<a href="https://medium.com/codex/document-indexing-using-tf-idf-189afd04a9fc?source=collection_archive---------1-----------------------#2021-11-17">https://medium.com/codex/document-indexing-using-tf-idf-189afd04a9fc?source=collection_archive---------1-----------------------#2021-11-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="23a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">TF-IDF代表词频逆文档频率，它是一个词在一系列文档中出现频率的度量。这是一个理解和实现都非常简单的概念。其使用案例包括:用于文本分类、书写中的错误检测、文档排序、搜索引擎/信息检索以及诸如ATS系统中的关键字匹配的NLP任务的加权。</p><p id="5ed6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">TF-IDF中有两个元素</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/4c42236731629a138464ec8ad77ba25b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NzTKUS0puSpmopsQzt6HRw.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/6029b0e4f6a139521a79b97c6a5428bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HZvxT29V9B4HxT2wx8M4XQ.png"/></div></div></figure><p id="367a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过利用TF-IDF，出现最频繁的单词将比那些出现频率较低或根本不出现的单词排名更高。由此出发，共享具有相似频率的单词的文档可以被认为是彼此相似的，或者可以包含相似类型的内容。</p><p id="1eb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">重要的是要记住，TF-IDF应该是文本预处理的辅助工具。像其他类型的数据一样，在进行任何处理之前，重要的是将你的文本删除或转换成更实用、更真实的形式。文本内处理我们通过以下方式实现:</p><p id="6a4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">删除停用词和标点符号</strong></p><p id="db27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">英语中的停用词由情态动词、代词、介词和某些形容词组成。这些停用词和标点符号不会增加文档上下文的价值，因此会导致确定文档的真实相似性的问题。例如，如果两个文档中出现相同频率的昏迷、问题和代词“I ”,那么这两个文档会相似吗？</p><p id="ef70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据所提供的信息，我真的无法判断，这就是我在前面的声明中的意思，“这些停用词和标点符号不会给文档的上下文增加价值。”我们可以把去除这些停用词比作去除其他类型数据中的噪声。</p><p id="d881" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">词干</strong></p><p id="ff38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在英语中，大多数单词都有一个词根或词根，它们是从这个词根或词根引申出来的，不同的意思是根据时态和上下文来确定的。词干提取的目的只是让动词和形容词回到它们原来的词干形式。这样做的最终目标是在将要处理的所有文档中创建一种统一感。</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><p id="10ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">计算TF </strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jx"><img src="../Images/aa9165a3c4463a3c3316709fde4d41de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yvUQPUWZ0UfoMXwjTj-haw.png"/></div></div></figure><p id="a23c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">计算IDF </strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jy"><img src="../Images/20cf532a6a0fa5eb28514fe9a57f0ec3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*46P_GbM-YZo3g9YnuG-v2A.png"/></div></div></figure><p id="1e48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">计算TF-IDF </strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jz"><img src="../Images/c27ee9620e43666ddf6061617fa5e5b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CBNXMmVXewQv6cXOUPdK_w.png"/></div></div></figure><p id="ead8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看一个实际的例子，假设我们有以下文档:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/c16d8bd39495c8bcd6c51819d07abc9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FZJf0foYgektl8q3WCNh5Q.png"/></div></div></figure><p id="7f85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们前面讨论的，我们需要对数据进行一些预处理。在我们的例子中，我们做了以下工作:删除停用词，删除标点符号，并将所有单词转换为小写。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kb"><img src="../Images/7b8f2ba8919f17c6c74a0ed8d72eab16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OL9cxFNohpzui2a7-eu5Fg.png"/></div></div></figure><p id="c390" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在所有文档中使用的唯一单词是:名称、naftal、汽车、现代、驾驶、索纳塔和车型。让我们确定在不同文档中出现的频率。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/84b21e2dba59edda73b8a4624a511ba9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lX4BjqyVzx1Xc0D3PJgX4g.png"/></div></div></figure><p id="eb7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们将这些行的数据标准化，使每个文档的数据总和为1，从而生成最终的TF表。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kc"><img src="../Images/0c41852afa01e2f8fb91a27954d66c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fEFD5TCttTH-6WGzyvw_hA.png"/></div></div></figure><p id="b8e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们来计算IDF值，记住我们需要做的就是找到文档数量与单词出现总数之比的对数。让我们以“名字”这个词为例。它只在文档一中出现过一次，而没有在其他三个文档中出现过。其IDF将是:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kd"><img src="../Images/21ef7825276faa3facc4c05d5261c598.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WFqRnVWUlQlpHjxywPKOHg.png"/></div></div></figure><p id="fc14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其他单词的计算IDF值如下:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ke"><img src="../Images/2e34eb22796b9091f39ae4816aa75d1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jPuUtNIQg6rmeqD4uWiObQ.png"/></div></div></figure><p id="049c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终的TF-IDF表如下</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kf"><img src="../Images/f30589038c10372678ee62035985a8b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tkeP2I5lMSB929Z4zjo_cA.png"/></div></div></figure><p id="4d36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，上表代表了我们的预期，更频繁出现的单词在它们出现的文档中具有更高的TF-IDF值。</p><p id="95d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用如下所示的Sklearn库，可以在Python中轻松完成这个过程。</p><pre class="je jf jg jh fd kg kh ki kj aw kk bi"><span id="644a" class="kl km hi kh b fi kn ko l kp kq"><strong class="kh hj">from</strong> <strong class="kh hj">sklearn.feature_extraction.text</strong> <strong class="kh hj">import</strong> TfidfVectorizer</span><span id="4934" class="kl km hi kh b fi kr ko l kp kq"># Assume there are n documents each with some text. Corpus is a list that holds the text from each of these documents.The Vectorizer will generate a matrix similar to the one above.</span><span id="61bf" class="kl km hi kh b fi kr ko l kp kq">corpus = [<br/>    Document 1 Text,<br/>    Document 2 Text,<br/>    Document 3 Text,<br/>    ....<br/>    Document n Text<br/>]<br/>vectorizer = TfidfVectorizer()</span></pre><p id="8625" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望这篇文章有助于提供更多关于什么是TF-IDF以及如何实现它的背景信息。</p></div></div>    
</body>
</html>