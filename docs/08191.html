<html>
<head>
<title>File Handling in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的文件处理</h1>
<blockquote>原文：<a href="https://medium.com/codex/file-handling-in-python-25d8ecb39cc7?source=collection_archive---------7-----------------------#2022-07-22">https://medium.com/codex/file-handling-in-python-25d8ecb39cc7?source=collection_archive---------7-----------------------#2022-07-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/a9e6df690b5a652a310dbf56204eec7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aNqA0cDP_I5dJ0LmwtDggg.png"/></div></div></figure><div class=""/><p id="d567" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi jo translated">大家好！我是Sisterslab的女性科技学院项目参与者之一，得到了<a class="ae jx" href="https://www.tog.org.tr/en/" rel="noopener ugc nofollow" target="_blank">Toplum GNU llu leri vakf</a>的支持。该项目旨在通过为期3个月的软件培训增强25名年龄在20-28岁之间的妇女的能力，并寻求她们加入该部门的劳动力队伍。你可以通过这个链接找到更多关于这个项目的信息:【https://sisterslab.co/women-in-tech-academy/ T4】</p><p id="33b5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在今天的中帖中，我将讲述python中的基本文件操作。阅读完本文后，您将能够打开一个文件并在该文件中进行基本操作，如读写。</p><figure class="jz ka kb kc fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jy"><img src="../Images/75f437c9acfd166020531fd1d59a6b6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GXecZkaeMzkLGqI9"/></div></div><figcaption class="kd ke et er es kf kg bd b be z dx translated">照片由<a class="ae jx" href="https://unsplash.com/@chuklanov?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Avel Chuklanov </a>在<a class="ae jx" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="84a1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在许多python应用程序中，我们需要处理人工或真实世界的数据。将所有数据存储在数据结构中可能不太合适，或者我们可能希望从文本文件中提取或导出数据。由于这个原因，文件操作在编程中有着至关重要的作用。Python也允许用户执行这样的操作，而且做起来相当简单。所以事不宜迟，让我们开始编码吧！</p><h2 id="a9d2" class="kh ki ht bd kj kk kl km kn ko kp kq kr jb ks kt ku jf kv kw kx jj ky kz la lb bi translated"><strong class="ak">基本文件操作</strong></h2><p id="41bb" class="pw-post-body-paragraph iq ir ht is b it lc iv iw ix ld iz ja jb le jd je jf lf jh ji jj lg jl jm jn hb bi translated">您可以对文件做很多事情，但是在本文中，我将只讨论最重要的部分。这些部分是:</p><ul class=""><li id="9053" class="lh li ht is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated"><strong class="is hu">打开文件</strong></li><li id="29c2" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hu">从该文件中读取数据</strong></li><li id="ed33" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hu">将数据写入文件</strong></li><li id="501d" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hu">关闭文件</strong></li></ul><blockquote class="lv lw lx"><p id="33dd" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu">打开并创建一个文件</strong></p></blockquote><p id="60a8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果要读取或创建文件，必须首先使用open方法打开它。当您打开文件时，您必须指定文件路径以及您想要访问文件的访问模式。语法应该是这样的:</p><p id="c281" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">打开("文件路径"，"访问模式")</strong></p><p id="74f3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为我们有许多不同的访问模式，所以我们需要指定在打开文件时我们希望用哪种访问模式来访问文件。在我们看到所有的访问模式之前，让我们先来看看最常用的两种模式。</p><ul class=""><li id="5aee" class="lh li ht is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated">"<strong class="is hu"> w </strong> " - &gt;创建用于写入的文件。如果文件已经存在，它会覆盖该文件。</li><li id="3d47" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated">"<strong class="is hu"> a </strong> " - &gt;以追加模式打开文件，并在文件末尾添加新行。</li></ul><p id="fb18" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我们使用open方法时，我们不应该忘记在完成我们想要做的操作后关闭文件，就像下面的代码片段一样。如果我们不这样做，我们可能会遇到内存问题。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="5782" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，我们将<strong class="is hu">与open </strong>一起使用会更安全，open是文件打开的另一种形式，我们很快就会了解到。</p></div><div class="ab cl me mf gp mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hb hc hd he hf"><blockquote class="lv lw lx"><p id="6036" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu">写文件</strong></p></blockquote><p id="2f11" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我在上面提到了我们打开文件时使用的最基本的模式。现在我们来看看其他模式。</p><ul class=""><li id="8c3e" class="lh li ht is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated"><strong class="is hu"> w </strong> - &gt;打开文件进行写入。如果有一个已存在的文件，它将打开它并继续覆盖它。如果文件不存在，它首先在相关目录中创建文件，然后开始写入。</li><li id="d189" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hu"> w+ </strong> - &gt;创建一个可读写的文件。r+ difference删除和写入相关文件的内容。</li><li id="3f9f" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hu"> a </strong> - &gt;在与w相同的逻辑下，它并不只是删除相关内容，它在文件的末尾增加了新的一行。</li><li id="c535" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hu"> a+ </strong> - &gt;和w+一样用于读写目的。如果文件存在，w+差异不会覆盖内容。它的作用是将新数据添加到文件的末尾。</li><li id="6486" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hu"> r </strong> - &gt;用于读取文件。</li><li id="b4be" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hu"> r+ </strong> - &gt;用于读写目的。如果相关目录中不存在该文件，它将抛出一个错误。要添加的新数据被附加到文件的末尾。</li></ul><blockquote class="lv lw lx"><p id="9437" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu">写入文件</strong></p></blockquote><p id="f731" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您想要将列表的内容(可以是任何其他数据结构)写入文本文件，您可以使用for循环，如下面的代码示例所示。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><blockquote class="lv lw lx"><p id="d22d" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu">操作系统模块</strong></p></blockquote><p id="fe08" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另外，python中的OS模块提供了创建和删除文件夹的功能。通过使用操作系统模块，您可以更改和识别当前目录。您可以使用OS模块中的方法来执行这些操作。但是您首先需要导入os模块来与底层操作系统交互。例如，您可以使用<strong class="is hu"> listdir() </strong>方法了解您正在工作的目录中的文件，或者您可以使用<strong class="is hu"> isfile() </strong>方法检查这样一个文件的存在。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><blockquote class="lv lw lx"><p id="e5f7" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu">同开</strong></p></blockquote><p id="382a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">同打开</strong>是打开文件的另一种方式。但是由于我们不需要在这里关闭文件，您可以更容易地使用它。</p><p id="4a89" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们用一段代码来深入探讨一下。下面这段代码将当前的日-月-年值写入文本文件。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><blockquote class="lv lw lx"><p id="bcf5" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu">读取文件</strong></p></blockquote><p id="349b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们想读取一个已存在的文件，我们需要使用“r”模式，就像上面的访问模式一样。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="aaec" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们试图在不使用with open的情况下读取一个不存在的文件，如下例所示，我们将得到一个<strong class="is hu"> FileNotFoundError </strong>。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="17c2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，在这种情况下，我们可以通过添加os模块和编写if-else条件来防止出现错误。因此，当文件没有找到，它将打印文件没有找到。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><blockquote class="lv lw lx"><p id="223c" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu">文件读取方法</strong></p></blockquote><p id="c2a4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">读取文件有多种方法。这些是:</p><ul class=""><li id="7685" class="lh li ht is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated"><strong class="is hu"> read() </strong> - &gt;用于将文件中的所有文本读入一个字符串</li><li id="e285" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hu"> readline() </strong> - &gt;用于逐行读取</li><li id="8300" class="lh li ht is b it lq ix lr jb ls jf lt jj lu jn lm ln lo lp bi translated"><strong class="is hu"> readlines() </strong> - &gt;用于读取文本文件的所有行，并以字符串列表的形式返回。</li></ul><blockquote class="lv lw lx"><p id="8348" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu"> readline() </strong></p></blockquote><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><blockquote class="lv lw lx"><p id="ca13" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu"> readlines() </strong></p></blockquote><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="1c3d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们以读取模式打开一个文件并试图写入该文件，它将给出错误“<strong class="is hu">不支持操作:不可写</strong>”。比如下面的例子:</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="1485" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，根据我们要使用的目的选择访问模式非常重要。但是如果你不想得到这样的错误，你也可以使用“r+”模式。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="2995" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，如果您想以相反的顺序打印文件，您可以使用<strong class="is hu"> reversed() </strong>方法。此方法反转行，并将其作为列表返回。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><blockquote class="lv lw lx"><p id="d218" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu">搜索</strong></p></blockquote><p id="a80b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以使用<strong class="is hu"> file.seek(光标位置)</strong>语法来搜索文件。</p><ul class=""><li id="66fa" class="lh li ht is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated"><strong class="is hu"> f.seek() </strong> - &gt;根据您给seek方法的值移动光标。</li></ul><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><ul class=""><li id="8cfa" class="lh li ht is b it iu ix iy jb lj jf lk jj ll jn lm ln lo lp bi translated"><strong class="is hu"> f.seek(0，2) </strong> - &gt;我们用移动光标到文件的末尾</li></ul><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><blockquote class="lv lw lx"><p id="d7c6" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu">重命名文件</strong></p></blockquote><p id="cdaf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过添加OS模块，我们可以像下面的代码一样更改文件的名称。但是在这里，我们必须小心文件的存在。因为该方法在找不到文件时会引发错误。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><p id="9eef" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以通过使用if-else来避免这样的错误。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure><blockquote class="lv lw lx"><p id="30e0" class="iq ir ly is b it iu iv iw ix iy iz ja lz jc jd je ma jg jh ji mb jk jl jm jn hb bi translated"><strong class="is hu">删除文件</strong></p></blockquote><p id="f9bf" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们想删除一个文件，我们只需要导入os模块，并在模块中使用remove方法，如下例所示。</p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="mc md l"/></div></figure></div><div class="ab cl me mf gp mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hb hc hd he hf"><p id="c356" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今天的文章是关于python中的基本文件操作，我希望你能学到一些东西并喜欢它。如果你喜欢我的帖子，别忘了鼓掌。你也可以从<a class="ae jx" rel="noopener" href="/@elifcelik">这里</a>查看我的其他关于Python的文章。下次见！</p><p id="5e1f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jx" href="https://linktr.ee/Elifcelik" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">还有，别忘了关注我和我的其他社交媒体账号。</strong> </a></p><figure class="jz ka kb kc fd hk"><div class="bz dy l di"><div class="ml md l"/></div></figure><p id="309e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以在这里找到我在文章中用到的所有资源！</p><p id="1ca5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> <em class="ly">来源:</em> </strong></p><p id="b0ba" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jx" href="https://www.programiz.com/python-programming/file-operation" rel="noopener ugc nofollow" target="_blank"> Python文件I/O </a></p><p id="1f05" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jx" href="https://www.w3schools.com/python/python_file_handling.asp" rel="noopener ugc nofollow" target="_blank"> Python文件打开</a></p></div></div>    
</body>
</html>