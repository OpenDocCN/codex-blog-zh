<html>
<head>
<title>Web Workers in Angular</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">棱角分明的网络工作者</h1>
<blockquote>原文：<a href="https://medium.com/codex/web-workers-in-angular-99fc4dac1d40?source=collection_archive---------0-----------------------#2022-08-07">https://medium.com/codex/web-workers-in-angular-99fc4dac1d40?source=collection_archive---------0-----------------------#2022-08-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="50c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">了解如何在Angular中使用web workers进行后台处理</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/19e728b63e309d8a0942c475e418cdf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xOhRs4JfaRyRgXVADcDL3A.png"/></div></div></figure><p id="fa85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我将解释什么是web workers，在哪里可以使用它们，以及如何在Angular中具体使用它们。如果你对如何用Javascript构建它们有一个大致的概念，那就太棒了。如果没有，我会保护你😎</p><p id="cff2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">开始吧！</p><h1 id="a4b2" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">什么是网络工作者？</h1><p id="351f" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">Web workers用于在后台线程中运行任何脚本，而不会干扰用户界面。因此，如果您的用户端有繁重的计算，您可以使用web workers来完成繁重的任务，同时允许浏览器为您的用户提供更流畅、更好的体验。</p><blockquote class="kt ku kv"><p id="9aad" class="if ig jd ih b ii ij ik il im in io ip kw ir is it kx iv iw ix ky iz ja jb jc hb bi translated">在Angular上下文中，这并不意味着CLI支持在web worker中运行Angular。</p></blockquote><h1 id="23a9" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">创建Web Worker</h1><p id="2b9e" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">在Angular中创建一个web worker相当容易。您可以使用Angular CLI和使用<code class="du kz la lb lc b">ng generate</code>命令。</p><p id="8593" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kz la lb lc b">ng generate web-worker &lt;location&gt;</code></p><p id="f71f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该命令将执行以下操作:</p><ol class=""><li id="e33c" class="ld le hi ih b ii ij im in iq lf iu lg iy lh jc li lj lk ll bi translated">创建一个新文件<code class="du kz la lb lc b">tsconfig.worker.json</code>。该文件如下所示。</li></ol><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="79fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.创建<code class="du kz la lb lc b">app.worker.ts</code>，这是您从工作人员那里获得响应的地方。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="7cd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.在angular.json中，在<code class="du kz la lb lc b">build &gt; options</code>中添加<code class="du kz la lb lc b">”webWorkerTsConfig”: “tsconfig.worker.json”</code>，并为web worker注册生成的tsconfig文件。</p><p id="6692" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.你的<code class="du kz la lb lc b">app.component.ts</code>也会被修改，这里会用到工人。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="bff9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，如果您使用<code class="du kz la lb lc b">npm start</code>运行Angular应用程序，您可以在控制台中看到上面的响应。</p><h1 id="eee7" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">例子</h1><p id="001c" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">让我们创建一个使用web worker的小应用程序。我已经创建了一个使用web worker计算阶乘的小应用程序。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lm ln l"/></div></figure><p id="fb98" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中，您可以看到我们使用<code class="du kz la lb lc b">worker.postMessage(factorialInput)</code>向web worker发送数据，并且我们在<code class="du kz la lb lc b">worker.onmessage</code>属性中接收来自worker的响应。</p><p id="b5a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，您可以在项目中使用web workers并优化您的应用程序。对于优化角度应用的其他方法，请阅读<a class="ae lo" rel="noopener" href="/khojchakra/reduce-initial-load-time-of-angular-application-9b9ed4a6bfc9">减少角度应用的初始加载时间</a>。</p><p id="4bb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐编码😋</p></div></div>    
</body>
</html>