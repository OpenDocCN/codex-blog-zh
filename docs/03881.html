<html>
<head>
<title>ğŸ’ª Azure Bicep: Using conditional deployments for web applications</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ğŸ’ªAzure Bicep:ä¸ºwebåº”ç”¨ç¨‹åºä½¿ç”¨æ¡ä»¶éƒ¨ç½²</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/azure-bicep-using-conditional-deployments-for-web-applications-658120fa320c?source=collection_archive---------3-----------------------#2021-10-04">https://medium.com/codex/azure-bicep-using-conditional-deployments-for-web-applications-658120fa320c?source=collection_archive---------3-----------------------#2021-10-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6fef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">äº†è§£å¦‚ä½•åˆ©ç”¨<em class="jd"> Bicepçš„æ¡ä»¶éƒ¨ç½²ï¼Œæ ¹æ®éƒ¨ç½²æœŸé—´ä¼ é€’çš„å‚æ•°æ¥ä¾›åº”</em>Linuxæˆ–Windows webåº”ç”¨ã€‚</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/71604ccb36c723d9f8a363402fb50e08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QtkyLLbvKEGL81zcjs0G3Q.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">Bicepè¯­è¨€ä¸­çš„æ¡ä»¶éƒ¨ç½²</figcaption></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="aeb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ¬æ–‡çš„ç›®çš„æ˜¯å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨Bicepä¸­åˆ©ç”¨'<em class="jd">æ¡ä»¶éƒ¨ç½²</em>ã€‚</p><p id="d3b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œæ‚¨å¯ä»¥éƒ¨ç½²ä¸¤ç§å¹³å°ç±»å‹:åŸºäºWindowsçš„å¹³å°å’ŒåŸºäºLinuxçš„å¹³å°ã€‚æ ¹æ®æˆ‘ä»¬é€‰æ‹©çš„å¹³å°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨éƒ¨ç½²æœŸé—´æä¾›åŸºäºWindowsæˆ–åŸºäºLinuxçš„webåº”ç”¨ç¨‹åºã€‚</p><p id="db6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨éƒ¨ç½²æ—¶ä¼ é€’å®šä¹‰å¹³å°ç±»å‹çš„å‚æ•°å€¼ã€‚</p><p id="0347" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨ä¸‹é¢çš„Bicepæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨æ¡ä»¶éƒ¨ç½²ï¼Œæ ¹æ®éƒ¨ç½²æœŸé—´ä¼ é€’çš„å‚æ•°æ¥æä¾›åŸºäºLinuxæˆ–åŸºäºWindowsçš„webåº”ç”¨ç¨‹åºã€‚</p><p id="b385" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è®©æˆ‘ä»¬åˆ†æä¸€ä¸‹æˆ‘ä»¬çš„äºŒå¤´è‚Œæ–‡ä»¶çš„ç»“æ„ã€‚</p><h1 id="341d" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">1.Bicepæ–‡ä»¶-å‚æ•°</h1><p id="7754" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">æˆ‘ä»¬å°†å®šä¹‰ä»¥ä¸‹å‚æ•°:</p><ul class=""><li id="a331" class="le lf hi ih b ii ij im in iq lg iu lh iy li jc lj lk ll lm bi translated">å¹³å°</li><li id="7521" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">webAppName</li><li id="bbcf" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">ä½ç½®</li><li id="c06b" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">åº“å­˜å•ä½</li><li id="2c2c" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">æŠ¥å‘Š</li><li id="325e" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">helloWorld</li></ul><p id="4e8c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸‹é¢çš„ä»£ç æ˜¾ç¤ºäº†å‚æ•°çš„å®šä¹‰:</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="0235" class="lx kc hi lt b fi ly lz l ma mb"><a class="ae mc" href="http://twitter.com/allowed" rel="noopener ugc nofollow" target="_blank">@allowed</a>([<br/>  'Win'<br/>  'Linux'<br/>])<br/><a class="ae mc" href="http://twitter.com/description" rel="noopener ugc nofollow" target="_blank">@description</a>('Select the OS type to deploy.')<br/>param platform string</span><span id="f919" class="lx kc hi lt b fi md lz l ma mb">@minLength(2)<br/>@description('Web app name.')<br/>param webAppName string = 'webApp-${uniqueString(resourceGroup().id)}'</span><span id="4a7b" class="lx kc hi lt b fi md lz l ma mb">@description('Location for all resources.')<br/>param location string = resourceGroup().location</span><span id="3a07" class="lx kc hi lt b fi md lz l ma mb">@description('The SKU of App Service Plan.')<br/>param sku string = 'F1'</span><span id="4f97" class="lx kc hi lt b fi md lz l ma mb">@description('Optional Git Repo URL')<br/>param repoUrl string = ' '</span><span id="891e" class="lx kc hi lt b fi md lz l ma mb">@description('true = deploy a sample Hello World app.')<br/>param helloWorld bool</span></pre><p id="5feb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹å°†è¦ç”¨åˆ°çš„å˜é‡ã€‚</p><h1 id="6185" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">2.Bicepæ–‡ä»¶-å˜é‡</h1><p id="f51b" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">æˆ‘ä»¬å°†å®šä¹‰ä»¥ä¸‹å˜é‡:</p><ul class=""><li id="e757" class="le lf hi ih b ii ij im in iq lg iu lh iy li jc lj lk ll lm bi translated">è¯­è¨€</li><li id="13a4" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">linuxOffer</li><li id="fcb3" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">çª—æˆ·å…³é—­å™¨</li><li id="1536" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">appServicePlanPortalName</li><li id="a72e" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">gitreå‚è€ƒ</li><li id="d70b" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">gitRepoUrl</li><li id="7909" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">configReferenceWindows</li><li id="915c" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">configReferenceLinux</li></ul><p id="c3f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä»¥ä¸‹éƒ¨åˆ†å¼ºè°ƒäº†å˜é‡çš„å®šä¹‰:</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="0b2a" class="lx kc hi lt b fi ly lz l ma mb">var language = '.net'<br/>var configReferenceLinux = {<br/>  node: {<br/>    appSettings: [<br/>      {<br/>        name: 'WEBSITE_NODE_DEFAULT_VERSION'<br/>        value: '12.15.0'<br/>      }<br/>    ]<br/>  }<br/>}<br/>var linuxOffer = 'linux'<br/>var windowsOffer = 'windows'<br/>var appServicePlanPortalName_var = 'AppServicePlan-${webAppName}'<br/>var gitRepoReference = {<br/>  '.net': '<a class="ae mc" href="https://github.com/Azure-Samples/app-service-web-dotnet-get-started'" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure-Samples/app-service-web-dotnet-get-started'</a><br/>  node: '<a class="ae mc" href="https://github.com/Azure-Samples/nodejs-docs-hello-world'" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure-Samples/nodejs-docs-hello-world'</a><br/>  php: '<a class="ae mc" href="https://github.com/Azure-Samples/php-docs-hello-world'" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure-Samples/php-docs-hello-world'</a><br/>  html: '<a class="ae mc" href="https://github.com/Azure-Samples/html-docs-hello-world'" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure-Samples/html-docs-hello-world'</a><br/>}<br/>var gitRepoUrl = (bool(helloWorld) ? gitRepoReference[toLower(language)] : repoUrl)<br/>var configReferenceWindows = {<br/>  '.net': {<br/>    comments: '.Net app. No additional configuration needed.'<br/>  }<br/>  html: {<br/>    comments: 'HTML app. No additional configuration needed.'<br/>  }<br/>  php: {<br/>    phpVersion: '7.4'<br/>  }<br/>  node: {<br/>    appSettings: [<br/>      {<br/>        name: 'WEBSITE_NODE_DEFAULT_VERSION'<br/>        value: '12.15.0'<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><p id="4d70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ€åï¼Œæˆ‘ä»¬å°†å®šä¹‰èµ„æºã€‚</p><h1 id="6e5e" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">3.Bicepæ–‡ä»¶â€”èµ„æº</h1><p id="e38e" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">æˆ‘ä»¬å°†åŒ…æ‹¬ä»¥ä¸‹èµ„æº:</p><ul class=""><li id="f470" class="le lf hi ih b ii ij im in iq lg iu lh iy li jc lj lk ll lm bi translated">åº”ç”¨æœåŠ¡è®¡åˆ’</li><li id="adac" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">åº”ç”¨æœåŠ¡</li><li id="a619" class="le lf hi ih b ii ln im lo iq lp iu lq iy lr jc lj lk ll lm bi translated">æºä»£ç æ§åˆ¶</li></ul><p id="097b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†èµ„æºçš„å®šä¹‰:åº”ç”¨æœåŠ¡è®¡åˆ’ã€åº”ç”¨æœåŠ¡å’Œæºä»£ç æ§åˆ¶:</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="6479" class="lx kc hi lt b fi ly lz l ma mb">resource appServicePlanPortalName 'Microsoft.Web/serverfarms@2020-06-01' = {<br/>  name: appServicePlanPortalName_var<br/>  location: location<br/>  sku: {<br/>    name: sku<br/>  }<br/>  <strong class="lt hj">kind: ((platform == 'Linux') ? linuxOffer : windowsOffer)</strong><br/>}</span><span id="a07a" class="lx kc hi lt b fi md lz l ma mb">resource webAppName_resource 'Microsoft.Web/sites@2020-06-01' = {<br/>  name: webAppName<br/>  location: location<br/>  properties: {<br/>    serverFarmId: appServicePlanPortalName.id<br/>    <strong class="lt hj">siteConfig: ((platform == 'Linux') ? configReferenceLinux : configReferenceWindows)</strong><br/>  }<br/>}</span><span id="8c93" class="lx kc hi lt b fi md lz l ma mb">resource webAppName_web 'Microsoft.Web/sites/sourcecontrols@2020-06-01' = <strong class="lt hj">if (contains(gitRepoUrl, 'http'))</strong> {<br/>  parent: webAppName_resource<br/>  name: 'web'<br/>  properties: {<br/>    repoUrl: gitRepoUrl<br/>    branch: 'master'<br/>    isManualIntegration: true<br/>  }<br/>}</span></pre><p id="4766" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ³¨æ„æˆ‘ä»¬ä½¿ç”¨äº†<a class="ae mc" href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/bicep/operators-logical#conditional-expression--?WT.mc_id=AZ-MVP-5000671" rel="noopener ugc nofollow" target="_blank">æ¡ä»¶è¡¨è¾¾å¼ï¼Ÿ:</a>æ“ä½œç¬¦ï¼Œä»¥ç¡®ä¿è¯¥å‡½æ•°ä»…é’ˆå¯¹èµ„æºéƒ¨ç½²æ—¶çš„æ¡ä»¶è¿›è¡Œè¯„ä¼°ã€‚</p><p id="3a8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸‹é¢çš„ä»£ç æ˜¾ç¤ºäº†å®Œæ•´çš„äºŒå¤´è‚Œæ–‡ä»¶ã€‚</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="a67d" class="lx kc hi lt b fi ly lz l ma mb"><a class="ae mc" href="http://twitter.com/allowed" rel="noopener ugc nofollow" target="_blank">@allowed</a>([<br/>  'Win'<br/>  'Linux'<br/>])<br/><a class="ae mc" href="http://twitter.com/description" rel="noopener ugc nofollow" target="_blank">@description</a>('Select the OS type to deploy.')<br/>param platform string</span><span id="8680" class="lx kc hi lt b fi md lz l ma mb"><a class="ae mc" href="http://twitter.com/minLength" rel="noopener ugc nofollow" target="_blank">@minLength</a>(2)<br/><a class="ae mc" href="http://twitter.com/description" rel="noopener ugc nofollow" target="_blank">@description</a>('Web app name.')<br/>param webAppName string = 'webApp-${uniqueString(resourceGroup().id)}'</span><span id="9ea6" class="lx kc hi lt b fi md lz l ma mb"><a class="ae mc" href="http://twitter.com/description" rel="noopener ugc nofollow" target="_blank">@description</a>('Location for all resources.')<br/>param location string = resourceGroup().location</span><span id="d28b" class="lx kc hi lt b fi md lz l ma mb"><a class="ae mc" href="http://twitter.com/description" rel="noopener ugc nofollow" target="_blank">@description</a>('The SKU of App Service Plan.')<br/>param sku string = 'F1'</span><span id="7c03" class="lx kc hi lt b fi md lz l ma mb"><a class="ae mc" href="http://twitter.com/description" rel="noopener ugc nofollow" target="_blank">@description</a>('Optional Git Repo URL')<br/>param repoUrl string = ' '</span><span id="9ca3" class="lx kc hi lt b fi md lz l ma mb"><a class="ae mc" href="http://twitter.com/description" rel="noopener ugc nofollow" target="_blank">@description</a>('true = deploy a sample Hello World app.')<br/>param helloWorld bool</span><span id="789b" class="lx kc hi lt b fi md lz l ma mb">var language = '.net'<br/>var configReferenceLinux = {<br/>  node: {<br/>    appSettings: [<br/>      {<br/>        name: 'WEBSITE_NODE_DEFAULT_VERSION'<br/>        value: '12.15.0'<br/>      }<br/>    ]<br/>  }<br/>}<br/>var linuxOffer = 'linux'<br/>var windowsOffer = 'windows'<br/>var appServicePlanPortalName_var = 'AppServicePlan-${webAppName}'<br/>var gitRepoReference = {<br/>  '.net': '<a class="ae mc" href="https://github.com/Azure-Samples/app-service-web-dotnet-get-started'" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure-Samples/app-service-web-dotnet-get-started'</a><br/>  node: '<a class="ae mc" href="https://github.com/Azure-Samples/nodejs-docs-hello-world'" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure-Samples/nodejs-docs-hello-world'</a><br/>  php: '<a class="ae mc" href="https://github.com/Azure-Samples/php-docs-hello-world'" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure-Samples/php-docs-hello-world'</a><br/>  html: '<a class="ae mc" href="https://github.com/Azure-Samples/html-docs-hello-world'" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure-Samples/html-docs-hello-world'</a><br/>}<br/>var gitRepoUrl = (bool(helloWorld) ? gitRepoReference[toLower(language)] : repoUrl)<br/>var configReferenceWindows = {<br/>  '.net': {<br/>    comments: '.Net app. No additional configuration needed.'<br/>  }<br/>  html: {<br/>    comments: 'HTML app. No additional configuration needed.'<br/>  }<br/>  php: {<br/>    phpVersion: '7.4'<br/>  }<br/>  node: {<br/>    appSettings: [<br/>      {<br/>        name: 'WEBSITE_NODE_DEFAULT_VERSION'<br/>        value: '12.15.0'<br/>      }<br/>    ]<br/>  }<br/>}</span><span id="512f" class="lx kc hi lt b fi md lz l ma mb">resource appServicePlanPortalName 'Microsoft.Web/serverfarms@2020-06-01' = {<br/>  name: appServicePlanPortalName_var<br/>  location: location<br/>  sku: {<br/>    name: sku<br/>  }<br/>  kind: ((platform == 'Linux') ? linuxOffer : windowsOffer)<br/>}</span><span id="6fb1" class="lx kc hi lt b fi md lz l ma mb">resource webAppName_resource 'Microsoft.Web/sites@2020-06-01' = {<br/>  name: webAppName<br/>  location: location<br/>  properties: {<br/>    serverFarmId: appServicePlanPortalName.id<br/>    siteConfig: ((platform == 'Linux') ? configReferenceLinux : configReferenceWindows)<br/>  }<br/>}</span><span id="4281" class="lx kc hi lt b fi md lz l ma mb">resource webAppName_web 'Microsoft.Web/sites/sourcecontrols@2020-06-01' = if (contains(gitRepoUrl, 'http')) {<br/>  parent: webAppName_resource<br/>  name: 'web'<br/>  properties: {<br/>    repoUrl: gitRepoUrl<br/>    branch: 'master'<br/>    isManualIntegration: true<br/>  }<br/>}</span></pre><p id="5870" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªåŒ…å«å®é™…å€¼çš„å‚æ•°æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†å®šä¹‰é¦–é€‰å¹³å°ï¼ŒWindowsæˆ–Linuxã€‚æ ¹æ®å‚æ•°å€¼ï¼Œå°†æä¾›ä¸€ç»„ä¸åŒçš„èµ„æºã€‚</p><h1 id="8cee" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">4.å‚æ•°æ–‡ä»¶</h1><p id="eaea" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">ä¸‹é¢çš„ä»£ç æ˜¾ç¤ºäº†å‚æ•°æ–‡ä»¶çš„å®šä¹‰ã€‚</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="ab16" class="lx kc hi lt b fi ly lz l ma mb">{<br/>    "$schema": "<a class="ae mc" href="https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#" rel="noopener ugc nofollow" target="_blank">https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#</a>",<br/>    "contentVersion": "1.0.0.0",<br/>    "parameters": {<br/>        "platform": {<br/>            "value": "Win"<br/>        },<br/>        "repoUrl": {<br/>            "value": "<a class="ae mc" href="https://github.com/Azure-Samples/app-service-web-dotnet-get-started" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure-Samples/app-service-web-dotnet-get-started</a>"<br/>        },<br/>        "helloWorld": {<br/>            "value": true<br/>        }<br/>    }<br/>}</span></pre><p id="d56a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¯·æ³¨æ„ï¼Œæˆ‘ä»¬é€‰æ‹©äº†Windowsç¯å¢ƒï¼Œå¹¶ä¼ é€’äº†â€œrepoURLâ€å’Œboolæ¥è®¡ç®—trueã€‚è¿™å°†æä¾›ä¸€ä¸ªåŸºäºWindowsçš„åº”ç”¨æœåŠ¡è®¡åˆ’ï¼Œä¸€ä¸ªåº”ç”¨æœåŠ¡ï¼Œå®ƒå°†åŒ…æ‹¬ä¸€ä¸ªæ¥è‡ªç‰¹å®šå­˜å‚¨åº“çš„æ¨¡æ¿ã€‚</p><h1 id="7887" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">5.éƒ¨ç½²Bicepæ–‡ä»¶ã€‚</h1><p id="f940" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">ä¸ºäº†éƒ¨ç½²æˆ‘ä»¬çš„Bicepæ–‡ä»¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤:</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="32f4" class="lx kc hi lt b fi ly lz l ma mb">$date = Get-Date -Format "MM-dd-yyyy"<br/>$deploymentName = "AzInsiderDeployment"+"$date"</span><span id="18d0" class="lx kc hi lt b fi md lz l ma mb">$deploymentName = "AzInsiderDeployment"+"$date"</span><span id="156d" class="lx kc hi lt b fi md lz l ma mb">New-AzResourceGroupDeployment -Name $deploymentName -ResourceGroupName AzInsiderBicep -TemplateFile .\conditional-deployment.bicep -TemplateParameterFile .\azuredeploy.parameters.json</span></pre><p id="9d04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸‹å›¾æ˜¾ç¤ºäº†æ­¤éƒ¨ç½²çš„è¾“å‡ºã€‚</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es me"><img src="../Images/2a94ba9bae2c507913643f4884f58e54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pnErpqTXzPdLvBwS9Dmn1g.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">Azure Bicepæ¡ä»¶éƒ¨ç½²è¾“å‡º</figcaption></figure><p id="7f32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ‚¨å¯ä»¥å‚è€ƒåº”ç”¨ç¨‹åºæœåŠ¡çš„URLå¹¶éªŒè¯åº”ç”¨ç¨‹åºæ˜¯å¦æ­£åœ¨è¿è¡Œ:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mf"><img src="../Images/6b275e14b7637a45baa82fbc896ab344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PWBHoZE26UbHxBf36o_u5g.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">Azure Bicepåº”ç”¨æœåŠ¡éƒ¨ç½²</figcaption></figure><h1 id="ec6d" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">åç»­æ­¥éª¤</h1><p id="391b" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">æˆ‘å»ºè®®æ‚¨æŸ¥çœ‹å¦‚ä½•é€šè¿‡ä½¿ç”¨æ¡ä»¶å’Œå¾ªç¯æ¥æ„å»ºçµæ´»çš„äºŒå¤´è‚Œæ¨¡æ¿:</p><div class="mg mh ez fb mi mj"><a href="https://docs.microsoft.com/en-us/learn/modules/build-flexible-bicep-templates-conditions-loops/?WT.mc_id=AZ-MVP-5000671" rel="noopener  ugc nofollow" target="_blank"><div class="mk ab dw"><div class="ml ab mm cl cj mn"><h2 class="bd hj fi z dy mo ea eb mp ed ef hh bi translated">ä½¿ç”¨æ¡ä»¶å’Œå¾ªç¯æ„å»ºçµæ´»çš„äºŒå¤´è‚Œæ¨¡æ¿-å­¦ä¹ </h2><div class="mq l"><h3 class="bd b fi z dy mo ea eb mp ed ef dx translated">ä»…å½“å­˜åœ¨ç‰¹å®šçº¦æŸæ—¶ï¼Œæ‰éƒ¨ç½²èµ„æºã€‚ä½¿ç”¨å¾ªç¯æ¥éƒ¨ç½²å…·æœ‰ç›¸ä¼¼â€¦</h3></div><div class="mr l"><p class="bd b fp z dy mo ea eb mp ed ef dx translated">docs.microsoft.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx jo mj"/></div></div></a></div><p id="a9e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae mc" href="http://eepurl.com/gKmLdf" rel="noopener ugc nofollow" target="_blank"> <em class="jd">åœ¨æ­¤åŠ å…¥</em><strong class="ih hj"><em class="jd">azin sider</em></strong><em class="jd">é‚®ç®±åˆ—è¡¨ã€‚</em>T9ã€‘</a></p><p id="684c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">-æˆ´å¤«Â·rÂ·</em></p></div></div>    
</body>
</html>