<html>
<head>
<title>How to debug Ionic mobile apps during development?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开发过程中如何调试Ionic手机app？</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-debug-ionic-apps-during-development-19d5df51c6bf?source=collection_archive---------2-----------------------#2021-04-05">https://medium.com/codex/how-to-debug-ionic-apps-during-development-19d5df51c6bf?source=collection_archive---------2-----------------------#2021-04-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3fbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文是关于如何调试ionic应用程序的两部分文章的第一部分。如果您的应用程序处于调试模式，这里描述的技术会很有帮助。如果你正在寻找在prod(签名发布)中调试应用程序的方法，请查看本文的第二部分<a class="ae jd" href="https://pazel.medium.com/how-to-debug-ionic-apps-in-production-202bb10f7c55" rel="noopener"/>。</p><h2 id="0975" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">1-使用Web视图在开发期间进行远程调试</h2><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es jz"><img src="../Images/14c28cff524333286dbc61e632c5ab30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7PMXkw-jrU9Rnakb.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">来自Ionic网站:<a class="ae jd" href="https://ionicframework.com/docs/core-concepts/webview" rel="noopener ugc nofollow" target="_blank">网络浏览量为本地设备上的网络应用提供动力</a></figcaption></figure><p id="b86d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Ionic apps(原生应用)是在嵌入式浏览器中运行的web应用，因此您可以使用Android上的chrome dev tools或iOS上的Safari Web Inspector进行远程调试，以调试JavaScript、HTML和CSS。</p><p id="9262" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用实际设备或模拟器进行远程调试。如果使用真实设备，请确保从设备和远程浏览器都启用了调试。</p><p id="8cd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Android中，你需要先进入设置并启用开发者模式，然后在开发者选项菜单下进行USB调试。<br/>如果您没有看到开发者选项菜单，您需要首先启用它。为此，请转到<code class="du kp kq kr ks b">About phone &gt; Software information</code>找到内部版本号并点击它，直到您得到启用开发者选项的确认。然后<code class="du kp kq kr ks b">Developer options</code>菜单将与<code class="du kp kq kr ks b">About phone</code>菜单选项处于同一级别。</p><p id="6887" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为android启用远程调试。打开一个新的chrome标签并输入<code class="du kp kq kr ks b">chrome://inspect</code>，这将显示所有可用于调试的网页视图，按应用程序名称分组。</p><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es kt"><img src="../Images/94231eebb1afa22e3714d39fa4fec12d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XLC93fV6FxxPEhzZOjfF_w.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">Chrome inspect设备标签，显示可以在模拟器和实际设备上调试的应用程序</figcaption></figure><p id="6a06" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">iOS很像。打开Safari，从那里找到写着<code class="du kp kq kr ks b">Develop</code>的菜单；找到要调试的设备。打开设备菜单，你会看到所有可用的应用程序(网络视图)进行调试。如果您没有看到<code class="du kp kq kr ks b">Develop</code>菜单，您需要转到Safari偏好设置并从高级设置中启用开发者模式。此外，请确保在用于调试的实际设备上启用了developer选项。</p><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ku"><img src="../Images/5aefdb5c132e2ae02a9a9682bce86b1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pT6kPjfm9TMkriNmuw5Rfw.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">Safari桌面中的开发菜单</figcaption></figure><p id="ef38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用console.log等控制台方法，并查看运行时日志来了解您的应用程序是如何工作的。此外，您可以像使用标准web应用程序一样使用JS调试器。您可以检查DOM并操作HTML和CSS进行调试。</p><p id="529e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一个使用Safari web inspector在iOS simulator上运行应用程序进行远程调试的示例。</p><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ku"><img src="../Images/68562196e2fa54328ade9a4f36cd36b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ZAzpXbOPdtDn3N4PBp8vg.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">使用在iOS模拟器上运行应用程序的Safari web inspector进行远程调试</figcaption></figure><p id="a7c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一个使用Chrome DevTools在Android模拟器上运行应用程序进行远程调试的例子。</p><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ku"><img src="../Images/560e8e8dd57b3c6c520a4d574510a54a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nb3uaNY6oN575da7JNodLQ.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">使用Chrome DevTools在Android模拟器上运行应用程序进行远程调试</figcaption></figure><p id="259b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您喜欢使用IDE进行远程调试，VSCode已经支持此功能。因此，不用在JS中放置调试器或添加控制台日志，您可以简单地在IDE中的代码中放置一个断点，运行时将暂停您的断点。Ionic调试指南中有一节是关于这种方法的。<br/><a class="ae jd" href="https://ionicframework.com/docs/troubleshooting/debugging#debugging-with-visual-studio-locally-in-chrome-both-android-ios-" rel="noopener ugc nofollow" target="_blank">https://ionicframework . com/docs/trouble shooting/debugging # debugging-with-visual-studio-locally-in-chrome-both-Android-IOs-</a></p><h2 id="3dc2" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">2-在开发期间使用浏览器进行调试</h2><p id="e307" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">如果您将Ionic与Cordova或Capacitor一起使用，一些原生功能将仅在应用程序在设备或模拟器上原生运行时可用。这个限制意味着你不能简单地使用桌面浏览器来提供应用。为了避免这个问题，我通常尝试包装我的本地服务调用。许多插件已经提供了一个web实现，比如地理定位，它退回到使用浏览器地理定位API。对于其他插件，你可以模仿web的插件行为，或者将插件调用封装在忽略web调用的服务/功能中。</p><p id="7fd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下代码是在设备上使用Capacitor Haptics插件并忽略web上的调用的示例。这样，如果我在桌面浏览器中提供应用程序，我就不会在控制台中得到触觉调用的错误。或者，我可以使用<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/vibrate" rel="noopener ugc nofollow" target="_blank"> Navigator.vibrate() </a>来复制相同的行为，但是在这种情况下，我没有用于部署的web目标。</p><figure class="ka kb kc kd fd ke"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="b830" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在chrome这样的常规浏览器上调试可以帮助你使用你最喜欢的调试工具和扩展。例如，我使用redux DevTools来查看我在应用程序工作流中的状态变化。使用chrome开发工具来模拟不同的屏幕尺寸来测试你的UI和应用程序的布局响应要容易得多。<br/>这种方法的另一个好处是更快的反馈循环，因为变化只是刷新。不适合涉及本机API访问的调试。</p><p id="c036" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与远程调试相比，其他有用的额外工具是performance audit选项卡(lighthouse ),用于测试您的性能、可访问性、PWA分数或动画调试器。</p><p id="bbf8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是一个调试app的例子，用的是ionic v5和Angular v9。</p><div class="ka kb kc kd fd ab cb"><figure class="lc ke ld le lf lg lh paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><img src="../Images/aac252ffe7d9d03001b84f94892a77c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*DQ2TTeWGo0kGXjMXT8M4Sg.png"/></div></figure><figure class="lc ke ld le lf lg lh paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><img src="../Images/2ec7a9b7b79bb86fce0ecc9bdaaefeda.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*MgfY6iMoWfSLay_4RG4Ryg.png"/></div></figure><figure class="lc ke ld le lf lg lh paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><img src="../Images/89af44b8946c7577beae11be75e72aaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*kmyHI5Mt8tsi5NYlDomTJw.png"/></div></figure></div><div class="ab cb"><figure class="lc ke li le lf lg lh paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><img src="../Images/0e4888aa2db0bb015843582dc4da89a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*fHamiVjiPd0JWcSRKoxceg.png"/></div></figure><figure class="lc ke li le lf lg lh paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><img src="../Images/0f4cb98bf25dec9cbef8fcebd4f9fa53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*qJyAjFd-nwDrJ1Elah5MOw.png"/></div><figcaption class="kl km et er es kn ko bd b be z dx lj di lk ll translated">使用Chrome DevTools调试应用布局</figcaption></figure></div><h2 id="e875" class="je jf hi bd jg jh ji jj jk jl jm jn jo iq jp jq jr iu js jt ju iy jv jw jx jy bi translated">3-使用本机ide在开发期间进行调试</h2><p id="3d72" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">如果您使用Xcode或Android Studio在实际设备或模拟器上运行您的应用程序，您可以在IDE中查看调试日志输出。这种方法有利于调试发生在本机级别的问题。有时这些问题发生在应用程序启动的早期，这意味着你的网络视图甚至没有机会加载。所以以前的方法是行不通的。</p><p id="026d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，如果您使用插件来访问本机功能，您可以快速地在Swift (Objective C)或Java代码中放置一个断点，以找出由插件中的bug引起的问题。</p><p id="05e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用本机IDE运行应用程序是Ionic &amp; Capacitor的主要工作方式。使用Ionic &amp; Cordova，您需要进入生成的iOS或Android项目，并在相应的IDE中打开它进行调试。</p><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ku"><img src="../Images/5fd07e1f53212380d34b60415602d29a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o1BAdsWn5E0v6bw3fE9gxA.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">使用Xcode调试</figcaption></figure><figure class="ka kb kc kd fd ke er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ku"><img src="../Images/e05bde1c15fbe7a5be330c98f0deb206.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KpoWXdsozxd3vC4-bzs3GA.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">使用Android Studio调试</figcaption></figure><p id="9fd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有许多用于调试的工具。例如，使用桌面浏览器或本机模拟器，您可以调节网络来模拟间歇性网络条件或模拟GPS位置，以便调试与在某条路径上或以某个速度移动的设备相关的问题。</p><p id="06ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望你喜欢阅读这篇文章，请查看本文第二部分。</p><p id="f1d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您在Ionic apps调试中有任何问题或需要帮助，请留下您的评论。</p></div></div>    
</body>
</html>