<html>
<head>
<title>Leveraging RavenDB as NoSql option for Document storage</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用RavenDB作为文档存储的NoSql选项</h1>
<blockquote>原文：<a href="https://medium.com/codex/leveraging-ravendb-as-nosql-option-for-document-storage-8758b8c0d3cc?source=collection_archive---------6-----------------------#2021-07-10">https://medium.com/codex/leveraging-ravendb-as-nosql-option-for-document-storage-8758b8c0d3cc?source=collection_archive---------6-----------------------#2021-07-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="2f43" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">每个人都可以从开源DocumentDB选项中获益，该选项为您的登录数据层提供了ACID属性。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/718c76968f446007d1a7fe1fc08c3817.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_DsPu7EmsJlFqLwz"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">萨拉·库菲在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="d3e2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">嘿伙计们，你们好吗？今天我想介绍一下<a class="ae jn" href="https://ravendb.net/" rel="noopener ugc nofollow" target="_blank"> RavenDB </a>，这是一个针对文档类型的<a class="ae jn" href="https://www.techopedia.com/definition/4604/on-line-transaction-processing-oltp" rel="noopener ugc nofollow" target="_blank"> OLTP </a>系统的开源选项。但是在你翻白眼之前，怀疑者说:“是啊，我现在的选择就是这样，甚至给我倒了一杯咖啡。”</p><p id="2193" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我想向你保证，这不是一个长期的承诺。利用RavenDB作为满足NoSql需求的一个选项可以给你带来一些好处。比如它对<a class="ae jn" href="https://searchdatamanagement.techtarget.com/definition/OLAP" rel="noopener ugc nofollow" target="_blank"> OLAP </a>建模的原生支持，与主要云的集成以及它的<a class="ae jn" href="https://www.techopedia.com/definition/23949/atomicity-consistency-isolation-durability-acid-database-management-system" rel="noopener ugc nofollow" target="_blank"> ACID </a>属性，等等。</p><p id="66f5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">听起来不错？因此，如果你有一些空闲时间，我想向你介绍RavenDB做什么，为什么它可以成为你的OLTP系统的竞争者；然后我们将看到如何查询一些数据。我们将总结一些用例，以及每种用例需要考虑的事项。</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><h1 id="1e7d" class="kr ks hi bd kt ku kv kw kx ky kz la lb io lc ip ld ir le is lf iu lg iv lh li bi translated">什么是RavenDB</h1><p id="232c" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">RavenDB是一个<a class="ae jn" href="https://searchdatamanagement.techtarget.com/definition/NoSQL-Not-Only-SQL" rel="noopener ugc nofollow" target="_blank"> NoSql </a>文档类型的数据库，具有令人兴奋的特性，例如允许您的团队使用Sql来浏览您的半结构化数据，就像您浏览结构化数据一样。</p><p id="9819" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了理解它的帮助，让我们快速回顾一下NoSql和关系数据库。首先，我们要记住，我们的数据是按照生成方式分类的，可以采用以下格式:</p><ul class=""><li id="f751" class="lo lp hi jq b jr js ju jv jx lq kb lr kf ls kj lt lu lv lw bi translated">结构化(关系数据库或分隔的平面文件)；</li><li id="3621" class="lo lp hi jq b jr lx ju ly jx lz kb ma kf mb kj lt lu lv lw bi translated">半结构化(由键值对分隔的嵌套结构，如下所示)；</li><li id="7229" class="lo lp hi jq b jr lx ju ly jx lz kb ma kf mb kj lt lu lv lw bi translated">非结构化(多媒体内容，如照片和视频)。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mc"><img src="../Images/8f635b8d6941634b6b40e69d58451b38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0jB0VzcqGCg92_rr9GzNVg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">JavaScript对象符号(JSON)</figcaption></figure><p id="80a5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">有时，我们的报告不能有结构化和干净的数据，所以如果你仔细想想，这是一个优雅的特性。您的分析师将从简单代码的生产力中获益。</p><p id="bba4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">用更少的部署时间实现更多的数据探索可以将现有管道中的相同逻辑重用到新管道中。允许他们像集成表格数据源一样集成非表格数据源。对一些分析师来说，就像大热天的冰淇淋一样美味。</p><h1 id="8f69" class="kr ks hi bd kt ku md kw kx ky me la lb io mf ip ld ir mg is lf iu mh iv lh li bi translated">好吧，但是我为什么要把它当作NoSql选项呢？</h1><p id="7df9" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">既然我们已经打好了基础，那就让我们更深入吧。先从酸属性说起。这个特性是关系数据库的固有特性，但在NoSql数据库中并不常见，因为它们位于<a class="ae jn" href="https://queue.acm.org/detail.cfm?id=1394128" rel="noopener ugc nofollow" target="_blank"> BASE </a>属性下。</p><p id="0634" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">RavenDB的另一个简洁的特性是他们所谓的“<a class="ae jn" href="https://ravendb.net/why-ravendb/multi-model" rel="noopener ugc nofollow" target="_blank">多模型数据库</a>，”是的，你说对了，我的好朋友；顾名思义，它允许您创建与应用程序分离的规范模型。</p><p id="d3bd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">更简单地说，您与运行时对象而不是实际的表进行交互。这些对象向您公开了您的数据，消除了导入半结构化数据或为结构化数据创建转储的需要。RavenDB生成一个逻辑层，您可以在其中使用统一的语言来质疑您的数据。好消息是他们的类似SQL的语言叫做RQL，所以不需要复杂的专有语言。</p><p id="458d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">最后一个技巧，但肯定不是最不重要的，我想提到的是RavenDB带来的NoSql数据库选项是本机ETL <a class="ae jn" href="https://ravendb.net/learn/inside-ravendb-book/reader/4.0/8-sharing-data-and-making-friends-with-etl" rel="noopener ugc nofollow" target="_blank">集成</a>。它使用JavaScript而不是我之前说过的类似SQL的脚本语言(Raven Query Language，或者类似的<a class="ae jn" href="https://ravendb.net/learn/inside-ravendb-book/reader/4.0/9-querying-in-ravendb#fn:1" rel="noopener ugc nofollow" target="_blank"> RQL </a>),但总比没有好。</p><h1 id="1f2d" class="kr ks hi bd kt ku md kw kx ky me la lb io mf ip ld ir mg is lf iu mh iv lh li bi translated">是啊，没错；我现在能看一些数据吗？</h1><p id="30cb" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">我们将在教程中使用RavenDB沙盒。要跟进，请访问此<a class="ae jn" href="http://live-test.ravendb.net/studio/index.html#dashboard" rel="noopener ugc nofollow" target="_blank">链接</a>进行探索。正如我们在下面看到的，RavenDB接口并没有那么差。它快速显示有用的信息，如存储使用情况和可用的数据库，如下所示。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mi"><img src="../Images/1b0ccfe8cf416e3a361be25e5efdb1bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dU7lO1g5rtVAI79CYMvc_g.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">渡鸦工作室控制台</figcaption></figure><p id="dc20" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在“索引”下(左上第二个选项)，您可以看到现有的索引，您可以根据这些索引查询您的数据。这些索引就是我们之前提到的RavenDB运行时对象。</p><p id="b038" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在“索引列表”页面下，您可以看到哪些索引存在并创建您的索引。您可以查看该索引是否健康，并根据您的需要定制它，甚至创建您自己的索引。</p><p id="d58f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">对于我们的演示，让我们快速查看一下在“Products”组下生成“Product/Rating”索引的查询。为了节省你的工作，我得到了你，下面是你应该找到的:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mj"><img src="../Images/bb4010977e4af2462e02fa6a0063da4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9pts0QpWQGka3Sn87IbpSw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">用于索引创建的RQL代码</figcaption></figure><p id="89a3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们可以轻松地实时展开您的嵌套数据结构，这使您能够在不需要不必要的开发冲刺的情况下质疑您的数据。</p><p id="0f11" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">多亏了<a class="ae jn" href="https://www.cs.utah.edu/~germain/PPS/Topics/structures.html" rel="noopener ugc nofollow" target="_blank">点符号</a>，为您的特定需求创建特设组件或将它们升级为可重复使用的<a class="ae jn" href="https://www.techopedia.com/definition/24771/modular" rel="noopener ugc nofollow" target="_blank">模块</a>。有了它，任何数量的数据库都可以重用数据管道中的现有业务逻辑。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mi"><img src="../Images/ef1446b56efe77f0b29cb1c8f99fc251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*guTueEKb99N8kfygFaXESQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用RQL查询结果</figcaption></figure></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><h1 id="1997" class="kr ks hi bd kt ku kv kw kx ky kz la lb io lc ip ld ir le is lf iu lg iv lh li bi translated">是的，我想看起来还可以；让我们总结一下，我来分享一些最后的考虑。</h1><p id="192d" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">你还在，太好了！通过这篇文章，我希望大家能清楚RavenDB是什么。但是记住我们应该在哪里使用它以及如何使用它总是好的。虽然这是一个优秀的高可伸缩性选项，但要记住在数据存储方面没有<a class="ae jn" href="https://danielpaes.ca/nosql-for-data-storage-11e054ba0746" rel="noopener ugc nofollow" target="_blank">银弹</a>。</p><p id="73da" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">RavenDB的用例是为了更快地与多维数据库进行数据集成。也就是说，RavenDB在OLTP层上与数据交互时，可以提供更快的响应时间。</p><p id="01df" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">RavenDB功能远未全部列出，因为它支持全文查询、图形查询功能和更容易访问的数据迁移。这是一个完整的数据平台，要了解更多细节，我会加强访问这个<a class="ae jn" href="https://ravendb.net/features/#migration" rel="noopener ugc nofollow" target="_blank">链接</a>；如果你认为这不适合你，它会让你安心。如果你确信并准备好了，看看他们的<a class="ae jn" href="https://ravendb.net/learn/inside-ravendb-book/reader/4.0/1-welcome-to-ravendb" rel="noopener ugc nofollow" target="_blank">文档</a>就能得到它所能提供的最好的东西。</p><p id="4b1e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">您甚至可以从增强的数据湖功能中受益。有些人可能想探索如何将RavenDB与对象存储选项关联起来，比如<a class="ae jn" href="https://min.io/" rel="noopener ugc nofollow" target="_blank"> MinIO </a>或<a class="ae jn" href="https://ceph.io/en/" rel="noopener ugc nofollow" target="_blank"> Ceph </a>。当你加载你的OLAP层时，无论是使用他们的OLAP版本，还是与另一个工具如<a class="ae jn" href="https://www.getdbt.com/" rel="noopener ugc nofollow" target="_blank"> DBT </a>配合使用，你都将获得惊人的性能，因为<a class="ae jn" href="https://docs.lakefs.io/" rel="noopener ugc nofollow" target="_blank"> LakeFS </a>提供了数据摄取或GitOps功能。</p><p id="af17" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">下次见！</p><p id="38f7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="mk">资源:</em></p><p id="13c5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">https://ravendb.net/</p><p id="43b5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">RavenDB开发者指南—<a class="ae jn" href="https://ravendb.net/learn/inside-ravendb-book/reader/4.0/1-welcome-to-ravendb" rel="noopener ugc nofollow" target="_blank">https://RavenDB . net/learn/inside-RavenDB-book/reader/4.0/1-welcome-to-RavenDB</a></p><p id="96c1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">RavenDB工作室—<a class="ae jn" href="http://live-test.ravendb.net/studio/index.html#dashboard" rel="noopener ugc nofollow" target="_blank">http://live-test.ravendb.net/studio/index.html#dashboard</a></p><p id="6085" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">米尼奥—<a class="ae jn" href="https://min.io/" rel="noopener ugc nofollow" target="_blank">https://min.io/</a></p><p id="7b8b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">ceph—<a class="ae jn" href="https://ceph.io/en/" rel="noopener ugc nofollow" target="_blank">https://ceph.io/en/</a></p><p id="4dca" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">https://www.getdbt.com/ DBT</p><p id="f942" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">https://docs.lakefs.io/</p></div></div>    
</body>
</html>