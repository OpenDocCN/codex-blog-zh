<html>
<head>
<title>Chapter 14</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">第十四章</h1>
<blockquote>原文：<a href="https://medium.com/codex/chapter-14-d54f1e7eb9df?source=collection_archive---------19-----------------------#2022-04-25">https://medium.com/codex/chapter-14-d54f1e7eb9df?source=collection_archive---------19-----------------------#2022-04-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0097" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">序列化和文件I/O </strong></p><p id="a6bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">-捕捉模式- </strong></p><p id="5ad6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">如果您的数据只是被创建它的Java应用程序使用:</strong></p><p id="f8d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 01。使用序列化</strong></p><p id="0f39" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个包含展平(序列化)对象的文件。然后让您的软件从文件中读取序列化的对象，并将它们膨胀回驻留在堆中的对象。</p><p id="40c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">如果您的数据将被其他程序使用:</strong></p><p id="7167" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 02。编写一个纯文本文件</strong></p><p id="c5f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个带有其他应用程序可以解析的分隔符的文件。例如，可以由电子表格或数据库程序读取的制表符分隔的文件。</p><p id="1adb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将序列化对象写入文件</strong></p><p id="6a6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。制作文件输出流</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/63d2099fb99a721a8c02aa573e465d4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fZYfLG4Gu6sgOoro"/></div></div></figure><p id="888b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。制作一个对象输出流</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/1ad763306551e32dad37f76526531e79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/0*APIb3USRo0OIdfh7"/></div></figure><p id="3fda" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。写对象</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/e513f27fa4b8bdb7e75da317df488faf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/0*RCl5Ze1nP5MVOs1p"/></div></div></figure><p id="ec10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。关闭对象输出流</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jr"><img src="../Images/57887b7fa44bc9b20cef27b1f30f5998.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/0*ucdKv2t_UbgXnjc_"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es js"><img src="../Images/8b78b90aa83dbe390123040e8fd65868.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Tuw6fsTES2hqRp_s"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">数据以流的形式从一个地方移动到另一个地方。</figcaption></figure><ul class=""><li id="367a" class="jx jy hi ih b ii ij im in iq jz iu ka iy kb jc kc kd ke kf bi translated">堆中的对象有一个状态和一个对象实例变量的值。因此，同一类的实例是不同的。</li><li id="389d" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated">实例变量的值保存在序列化对象中。因此，可以将相等的对象添加到堆中。</li><li id="f302" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated">当一个项被序列化时，它引用存储在实例变量中的对象。这些对象以及它们引用的对象都是序列化的。</li></ul><p id="2ed1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以通过在其中实现serializable来创建一个serializable类。</p><p id="a1f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果超类是可序列化的，子类将被序列化或自动实现可序列化。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kl"><img src="../Images/5573952e27d931c238fa0a5341c7073a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qV5gy8LdEj4TyuPq"/></div></div></figure><ul class=""><li id="c382" class="jx jy hi ih b ii ij im in iq jz iu ka iy kb jc kc kd ke kf bi translated">如果由于整个对象图被正确序列化或序列化失败而导致某些对象的状态没有被正确存储。</li><li id="638d" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated">如果因为实例变量不可序列化而无法保存，请使用transitory关键字。通过使用可序列化的进程，您可以避免处理该变量。</li></ul><p id="fbf1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">反序列化:恢复一个对象</strong></p><p id="20a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。制作文件输入流</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es et"><img src="../Images/6cc11d37379016854e934323033c6ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xY-IIoXUhlM9lR8K"/></div></div></figure><p id="2015" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。制作一个对象输入流</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es km"><img src="../Images/0128e9272c713fc0f31ae7077db885a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/0*g-qMdq3OFYGO32ao"/></div></figure><p id="b2f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。阅读物体</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kn"><img src="../Images/690e865c9fda952046779687e57f3285.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/0*tg0fEf11ZiDOwM-A"/></div></figure><p id="16f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。投掷物体</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ko"><img src="../Images/86758f367d2b6cd5b582323c562d579d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/0*p4e7yUh5mBXnpYtq"/></div></figure><p id="658b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 5。关闭对象输入流</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kp"><img src="../Images/348af778ee3315f06c0da1fde0542ceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/0*l-AuicGcB5_hXnQs"/></div></figure><p id="4378" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当一个对象被反序列化时，JVM试图通过在堆上创建一个新对象来重新序列化它，这个新对象的状态与原始序列化对象的状态相同。</p><p id="6875" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.从流中读取对象</p><p id="1062" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.JVM确定对象类类型</p><p id="4046" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.然后，它会尝试查找并加载对象类，如果没有，jvm会抛出一个异常</p><p id="59b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.一个新对象在堆上被给予空间。</p><p id="c1c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.如果一个对象在继承树中有一个不可序列化的类，那么它的构造函数将和它上面的构造函数一起运行。构造函数链接发生后，所有未序列化的超类将重新初始化它们的状态。</p><p id="273f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.对象实例变量被赋予序列化状态的值。</p><p id="1ecb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">静态变量不序列化。</p><p id="fbf0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">-Java . io . file类- </strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kq"><img src="../Images/bd05eab69f34c9bbf89e7af6638c2fb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*i62X0N3DnPRP9Sw5"/></div></div></figure><p id="64aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">测验卡生成器(代码大纲)</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kr"><img src="../Images/db9e74e21d1097d9318141c13397c443.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LumwlWPvjPiWF4O7"/></div></div></figure><p id="a765" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">磁盘上的文件由Java.io.file类表示。它表示文件目录的名称和路径，并防止访问该文件中的数据。下面是我们可以用文件对象执行的一些事情。</p><p id="0c0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将字符串写入文本文件</strong></p><p id="a6e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。制作一个代表现有文件的文件对象</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ks"><img src="../Images/52832eb1a9796f025cea552dacf7b494.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/0*KvxgRqQ5dzOdEYDR"/></div></figure><p id="3dd2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。制作一个新目录</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kt"><img src="../Images/8cdd0c6e524cb491c53309d4fd33ee7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/0*uC7Sr0Y9y7XO4A8K"/></div></figure><p id="afc5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。列出一个目录的内容</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ku"><img src="../Images/0ad59ec1b4cf37e329f8dd5a620b4be7.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/0*wplHNYKuXIQs_xqz"/></div></div></figure><p id="ff29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4。获取文件或目录的绝对路径</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kv"><img src="../Images/c9bcee3b7b8f27c81d64874d5d74788d.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/0*om60d47JbvDLiw3-"/></div></div></figure><p id="19b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 5。删除文件或目录(如果成功则返回true)</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kw"><img src="../Images/e21a461899e753f00a7836c818aa77fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/0*zrtlixTc-7vy1xDi"/></div></figure><ul class=""><li id="7cef" class="jx jy hi ih b ii ij im in iq jz iu ka iy kb jc kc kd ke kf bi translated">我们可以通过使用文件读取器连接流来开始读取文本文件。</li><li id="39fa" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated">要将字符串拆分成单独的标记，请使用String split()函数。</li><li id="c377" class="jx jy hi ih b ii kg im kh iq ki iu kj iy kk jc kc kd ke kf bi translated">当对象被序列化时，对象的类被分配一个版本id号。串行版本UID是该ID的名称。</li></ul></div></div>    
</body>
</html>