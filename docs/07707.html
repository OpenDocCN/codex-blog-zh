<html>
<head>
<title>Working with JSON in Golang</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Golang与JSON合作</h1>
<blockquote>原文：<a href="https://medium.com/codex/working-with-json-in-golang-9dad4770ccb3?source=collection_archive---------1-----------------------#2022-06-23">https://medium.com/codex/working-with-json-in-golang-9dad4770ccb3?source=collection_archive---------1-----------------------#2022-06-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e5b7e79dae93d4212ee8efc96cf47fba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Pbw0WWp_vING4kRe"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="ce42" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Golang使用<a class="ae js" href="https://pkg.go.dev/encoding/json" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj">编码/json </strong> </a>包提供了多个API来处理JSON，包括与内置和自定义数据类型之间的相互作用。</p><blockquote class="jt ju jv"><p id="6a09" class="iu iv jw iw b ix iy iz ja jb jc jd je jx jg jh ji jy jk jl jm jz jo jp jq jr hb bi translated">Golang用<a class="ae js" href="https://pkg.go.dev/encoding/json#Marshal" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj">Marshal()</strong></a><strong class="iw hj"/>和<a class="ae js" href="https://pkg.go.dev/encoding/json#Unmarshal" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj">Unmarshal()</strong></a><strong class="iw hj"/>方法将对象转换成JSON，将JSON数据转换成string。这些方法以字节格式返回数据，我们需要将返回的数据转换成JSON或String。</p></blockquote><p id="c703" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在本文中，我们将了解<strong class="iw hj"> Golang </strong>中的数据<strong class="iw hj">编组</strong>和<strong class="iw hj">解组</strong>。</p><h1 id="8fe1" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">戈朗元帅</h1><p id="8e1c" class="pw-post-body-paragraph iu iv hi iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr hb bi translated">将Go对象转换成JSON在Golang中被称为封送，使用内置的<code class="du ld le lf lg b">encoding/json</code>包来执行JSON相关的操作。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="01de" class="lp kb hi lg b fi lq lr l ls lt">json.Marshal(v any) ([]byte, error)</span></pre><p id="d4dc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在上述函数的帮助下，Marshal返回v的JSON编码，进一步，我们可以将字节数据转换为字符串并返回它。</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h1 id="9561" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">在戈朗取消婚姻</h1><p id="8f33" class="pw-post-body-paragraph iu iv hi iw b ix ky iz ja jb kz jd je jf la jh ji jj lb jl jm jn lc jp jq jr hb bi translated">正好和Marshal相反。将JSON(字节数据)转换为Struct，并将结果存储在变量指向的值中。</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="60ad" class="lp kb hi lg b fi lq lr l ls lt">json.Unmarshal(data []byte, v any)</span></pre><p id="1acd" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在上述函数的帮助下，Unmarshal返回JSON数据的实际值。</p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="ae9b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi lw translated">现在让我们看一下使用上面的函数写一些代码并对JSON数据集做一些修改。</p><p id="9323" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们考虑给定的数据集:👇🏻</p><pre class="lh li lj lk fd ll lg lm ln aw lo bi"><span id="6776" class="lp kb hi lg b fi lq lr l ls lt">{<br/>  "_id": "62b435e407bc586da8d297cb",<br/>  "index": 4,<br/>  "guid": "57a22da3-d791-4420-9245-465a34730537",<br/>  "gender": "male",<br/>  "company": "EZENT",<br/>  "email": "<a class="ae js" href="mailto:barrerajarvis@ezent.com" rel="noopener ugc nofollow" target="_blank">barrerajarvis@ezent.com</a>",<br/>  "phone": "+1 (801) 499-2594",<br/>  "friends": [<br/>    {<br/>      "id": 0,<br/>      "name": "Dale Sexton",<br/>      "email": "<a class="ae js" href="mailto:Dale.sexton@example.com" rel="noopener ugc nofollow" target="_blank">Dale.sexton@example.com</a>"<br/>    },<br/>    {<br/>      "id": 1,<br/>      "name": "Watkins Puckett",<br/>      "email": "<a class="ae js" href="mailto:Watkins.puckett@example.com" rel="noopener ugc nofollow" target="_blank">Watkins.puckett@example.com</a>"<br/>    },<br/>    {<br/>      "id": 2,<br/>      "name": "Luann Bond",<br/>      "email": "<a class="ae js" href="mailto:Luann.bond@example.com" rel="noopener ugc nofollow" target="_blank">Luann.bond@example.com</a>"<br/>    }<br/>  ],<br/>  "greeting": "Hello, Barrera Jarvis! You have 8 unread messages.",<br/>  "favoriteFruit": "banana"<br/>}</span></pre><p id="78ec" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">并且，问题陈述就是写下从好友的<strong class="iw hj">数组中删除<strong class="iw hj"> email </strong> <strong class="iw hj">字段</strong>的代码。</strong></p><p id="96c3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">现在，让我们写下修改JSON数据的代码:</strong></p><figure class="lh li lj lk fd ij"><div class="bz dy l di"><div class="lu lv l"/></div></figure><p id="2061" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我希望你喜欢这篇文章。</p><p id="0058" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="jw">感谢阅读</em> </strong></p><p id="9a09" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae js" href="https://www.linkedin.com/in/itskushagra/" rel="noopener ugc nofollow" target="_blank">Linkedin</a>|<a class="ae js" href="https://twitter.com/im_Kushagra" rel="noopener ugc nofollow" target="_blank">Twitter</a></p></div></div>    
</body>
</html>