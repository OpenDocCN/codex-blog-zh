<html>
<head>
<title>Top Kubernetes log monitoring tools</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">顶级Kubernetes日志监控工具</h1>
<blockquote>原文：<a href="https://medium.com/codex/5-top-kubernetes-log-monitoring-tools-d8c0494deb30?source=collection_archive---------0-----------------------#2021-08-20">https://medium.com/codex/5-top-kubernetes-log-monitoring-tools-d8c0494deb30?source=collection_archive---------0-----------------------#2021-08-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7203717cfcd53a16ab02a0deb7600781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GRZ8YG9ofRwYBUcl.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://dev.to/devdy/connect-with-your-kubernetes-cluster-manually-43jo" rel="noopener ugc nofollow" target="_blank">开发到</a></figcaption></figure><p id="c38a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Kubernetes主导着容器编排市场，推动着企业向微服务的演进。微服务的每个实例都会生成大量日志事件，这些事件很快变得难以管理。但是更复杂的是，当问题发生时，服务和故障模式之间的复杂交互使得很难找到根本原因。潜在的问题使得Kubernetes日志管理工具变得非常重要。</p><p id="7317" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">企业总是试图找到合适的工具来满足他们的需求，并使监控、日志记录和故障分析高效而快速。</p><h2 id="fbad" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">斑马馆</h2><p id="5b01" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">你可以优先考虑普罗米修斯或者麋鹿，但是斑马也可以优先考虑。</p><p id="3c72" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这家新的创业公司被列入Gartner的“2020年值得关注的25家企业软件创业公司”。</p><p id="d6a7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">说到最佳实践，Zebrium最近还帮助Sweetwater将事件跟踪时间从3小时缩短到了几分钟。Zebrium甚至可以发现以前未被发现的隐藏问题。这是一个出色的功能，因为它可以帮助在问题影响客户之前发现问题。</p><p id="264d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么是什么让Zebrium在竞争中脱颖而出呢？Zebrium使用人工智能来发现问题，并自动发现根本原因，而所有其他工具都依赖于用户手动添加规则。Zebrium还可以用作独立的日志管理平台，或者与ELK Stack或其他日志管理器集成。</p><figure class="ku kv kw kx fd ij er es paragraph-image"><div class="er es kt"><img src="../Images/14568bffd871bd7c98d8cb01b727d54a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*3nOAr1QhYlly7Tsc.jpg"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://www.zebrium.com/" rel="noopener ugc nofollow" target="_blank">动物园</a></figcaption></figure><p id="66d8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">优点:</strong>容易上手；只需复制/粘贴自定义HELM或kubectl命令；自动检测问题和根本原因，无需手动规则；可以用作独立的日志管理工具，也可以作为现有日志管理工具(如ELK Stack)的机器学习附件。</p><p id="f8f3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">缺点:</strong>免费计划限制为每天500 MB，保留3天；支持Kubernetes、Docker和大多数常见平台，但不支持Windows。</p><h2 id="6896" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">语义文本</h2><p id="16f5" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">日志管理和应用程序性能监控解决方案。Sematex提供系统状态的全栈可见性。</p><p id="ab79" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Sematext并不局限于Kubernetes日志，还可以监控和Kubernetes(基于度量和日志)。收集的日志会根据几种已知的日志格式自动解析/结构化，用户还可以提供自定义的日志模式。它还公开了Elasticsearch API，因此任何与Elasticsearch一起使用的工具，如Filebeat和带有Sematex的Logstash，都可以用作ELK的变体或与原生Sematext生态系统一起使用。该工具有助于创建特定的规则来监控特定的情况并捕捉异常。借助Sematex全面的实时仪表板，客户可以控制和监控所有服务。</p><figure class="ku kv kw kx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/3ca913185493e41ad36fe8c2611cb97a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*W32HTdFaP1qhDyPW.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源:<a class="ae iu" href="https://sematext.com/" rel="noopener ugc nofollow" target="_blank">语义</a></figcaption></figure><p id="f7ba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">优点:</strong>与其他Sematext云工具集成；可配置的覆盖，以防止日志被接受，从而控制成本；麋鹿的灵活性。</p><p id="c98c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">缺点:</strong> Sematext小部件和Kibana不能在一个仪表板上混合使用；自定义解析需要在日志传送带上完成，Sematext只在服务器端解析Syslog和JSON跟踪能力较弱，但计划进行改进。</p><h2 id="985a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">洛基</h2><p id="d0f5" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">Loki是一个多租户、高可用的日志聚合工具，灵感来自Prometheus。这个工具有助于收集日志，但是用户需要为它创建手动规则。洛基与格拉法纳、普罗米修斯和库伯内特一起工作。Loki可以让内部流程更加高效。例如，它为Paytm Insider节省了75%的日志和监控成本。Loki不索引你的日志内容，只是为每个事件流索引一组标签，所以它非常高效。</p><figure class="ku kv kw kx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kz"><img src="../Images/3f1a0bad9b7934106ea3a42dbccf313e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T7mldvkt3isclCRM.jpg"/></div></div></figure><p id="b311" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">优点:</strong>大生态系统；丰富的可视化；由于未编制索引的日志内容，提高了效率。</p><p id="f006" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">缺点:</strong>没有针对Kubernetes日志管理进行优化；许多关于架构规则的手工工作；缺少内容索引可能会限制搜索性能。</p><h2 id="94cf" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">麋鹿栈</h2><p id="8ad3" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">ELK是最著名的日志管理开源工具，是Elasticsearch、Logstash和Kibana的缩写。每个组件处理日志记录过程的一个独特部分；Elasticsearch是一个强大且可扩展的搜索系统，Logstash聚合并处理日志，Kibana提供了一个分析和可视化界面，帮助用户理解数据。它们共同为Kubernetes提供了一个全面的日志解决方案。然而，ELK堆栈还有许多其他变体，例如EFK堆栈，它由Elasticsearch、Fluentd和Kibana组成。</p><figure class="ku kv kw kx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es la"><img src="../Images/27d06a9afc609a24c8023e1d453c6a17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xcdsALT4DRJEoyuJ"/></div></div></figure><p id="aad3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">许多大公司都使用ELK，如Adobe、T-Mobile和Walmart，因此可以证明其可生产性。因此，ELK是一个可靠且经过验证的工具。但他带来了工作所需的复杂性和大量资源。</p><p id="eb89" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">优点:</strong>麋鹿知名度高，社区大；非常广泛的平台支持；Kibana中丰富的分析和可视化功能；需要对日志和手动定义的警报规则进行复杂的分析。</p><p id="facb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">缺点:</strong>难以维持规模；需要大量的调优，尤其是对于大型环境；大量的资源需求；有些功能需要付费许可。</p><h2 id="dc70" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">流体d</h2><p id="80bf" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">Fluentd是一个跨平台的开源数据收集器，它提供了一个统一的日志记录层，但它不是一个独立的日志管理器。作为一个相当受欢迎的工具，它拥有超过5000个客户，如Atlassian、微软和亚马逊。看到这些大客户证明了它的可靠性和性能。此外，Fluentd创建了一个统一的日志记录层，可以帮助更有效地使用数据，并在软件中快速迭代数据。它可以帮助你每秒处理120，000条记录。</p><figure class="ku kv kw kx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/bc1fdb83ec995d0c5cca7a76e30d515c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bL6NolWjIrqM5Lpv.png"/></div></div></figure><p id="2c6f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">优点:</strong>大型社区和插件生态系统；统一测井层；成熟的可靠性和性能。不到10分钟就能安装完毕。</p><p id="fcf6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">缺点:</strong>难以配置；对转换数据的支持有限；不是完整的日志记录解决方案。</p><h2 id="8e8e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">结论</h2><p id="abf5" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">您可能会问为什么Prometheus没有包括在列表中，因为本文主要关注日志监控工具，而Prometheus处理指标不支持日志记录。</p><p id="245f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以，如果你不擅长手动搜索日志，或者不愿意建立和管理警报规则，可以尝试使用Zebrium，它是基于机器学习算法的。这可能会节省大量时间，并摆脱创建大量规则的繁琐任务。</p><p id="b762" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您正在寻找更主流的东西，并且知道要创建哪些规则，请尝试使用Loki或Sematext，它们是高效工具的完美选择。</p><p id="fff1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">或者，如果您希望在公共云中使用日志监控，您可能希望使用您的云提供商提供的服务，如AWS的CloudWatch，他们只在自己的云中为企业提供支持。</p><p id="c70e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您的日志有多个或特定的来源，请尝试使用Fluentd及其统一日志记录层，但您仍然需要一个日志记录工具。</p></div></div>    
</body>
</html>