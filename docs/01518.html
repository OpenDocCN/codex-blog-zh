<html>
<head>
<title>React Stopwatch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应秒表</h1>
<blockquote>原文：<a href="https://medium.com/codex/react-stopwatch-10bf9813d0ec?source=collection_archive---------1-----------------------#2021-05-09">https://medium.com/codex/react-stopwatch-10bf9813d0ec?source=collection_archive---------1-----------------------#2021-05-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/50a88d87b61efa3954b45938775f7043.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EmlW9qkBMgxfDuDm"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">MK Hamilton 在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="fad0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本周，我回到了使用钩子的基础，用react制作了一个秒表。我认为这是一个很好的小项目，可以在几个小时内完成，这是一个练习React hooks的好方法。用这个秒表，你可以开始计时、停止计时和重置。让我们开始，看看代码。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="892a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将删除src文件夹中除App.css、App.js和index.js之外的所有文件，并删除所有导入。我们将使用状态和效果挂钩。这是我们的初始组件的样子。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ka"><img src="../Images/407435c40139b981ca45084344664fb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q5EFaWfo67O35xF4WEBqkQ.png"/></div></div></figure><p id="3dfc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">很好，现在我们要展示我们的时间了。我们将从显示毫秒开始。让我们从构建我们的使用效果开始。首先，我们将定义时间间隔，如果start为真，计时器将启动，否则我们将清除时间间隔。在useEffect的第二个参数中，我们将传入一个以start开头的数组。这意味着我们的效果将在开始状态改变时运行。我们还将添加一个用于清理的返回语句。最后，我们将有一个按钮，一旦它被点击，将开始计时。这就是它的样子。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/cb24a80d9ba62cec6373742cbb33fa83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N-FebJEpxxAdKoVExrkJoA.png"/></div></div></figure><p id="4be1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们的时间开始倒计时。到目前为止，没有办法停止或重置秒表。我们还需要格式化显示的内容，以便数字看起来正确。做这件事有一个很好的技巧。首先我们将时间除以10，因为这是一毫秒的值，然后取模1000。现在我们将它附加到一个零上，这样当时间开始时，已经有一个零了，而不是只有一个数字。最后，我们将切片并传入参数-2，这样当数字变成两位数时，零将被删除。这就是它的样子。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/f5773e0e6cd4554318f51ae2426bb487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZVxZTihqQ5JCgR_7R39FLA.png"/></div></div></figure><p id="5396" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在显示的数字会更有意义。最后，我们需要做的是显示秒，分钟，并创建停止和重置按钮。创建分和秒与我们创建毫秒非常相似。我们可以复制粘贴并做一些修改。我们将在60之前使用模块，而不是在1000之前使用模块。另一件事，我们将不得不做的是四舍五入的数字，因为十进制数字将显示，如果我们让它保持原样。这些按钮也与我们已经有的按钮非常相似。例如，我们将在停止按钮中将开始状态设置为false。对于重置按钮，我们将时间设置为0，并将start设置为false。这就是我们完成的秒表的样子。</p><figure class="kb kc kd ke fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kg"><img src="../Images/22036d6ca92b5893659ffc5ed16b635f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lqUtrChWSl7LD5jelLH9YQ.png"/></div></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="705c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是练习一些基本技巧的好方法，比如钩子。这些相同的技术可以用来创建其他类似的项目，如计时器或时钟。这是超级有趣的建设这一点，它并没有花那么长时间去做。希望你和我一样开心。编码快乐！😎</p></div></div>    
</body>
</html>