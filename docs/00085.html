<html>
<head>
<title>Stock Market Analysis with R programming language</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用R语言进行股票市场分析</h1>
<blockquote>原文：<a href="https://medium.com/codex/stock-market-analysis-with-r-programming-language-c3ab502eb3e7?source=collection_archive---------1-----------------------#2020-07-13">https://medium.com/codex/stock-market-analysis-with-r-programming-language-c3ab502eb3e7?source=collection_archive---------1-----------------------#2020-07-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="559b" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated"><strong class="ak">分析疫情中印度股票的表现</strong></h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/01669bd6febdda657b810a509c261f39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FQ0dgjC_hTf3Ftow"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><a class="ae jn" href="https://unsplash.com/@m_b_m?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> M. B. M. </a>在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="3a5f" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated"><strong class="ak">案例:</strong></h1><p id="64e6" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">准确地说，印度股市在1月至4月期间下跌了41.2%。今年年初，大多数公司都处于巅峰状态，并跌至52周低点(被认为是今年的最低水平)。现在，股票市场开始复苏，平均涨幅为43%，但仍有待恢复的价值需要检索。这种分析是按部门进行的，并与NSE(国家证券交易所)指数运动进行比较。所有这些数据和审查(观察)发生在2020年1月1日至2020年6月9日之间。这种分析还揭示了股票和指数在此期间的表现，以及哪些是恢复最好和最差的公司。</p><h2 id="be74" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated"><strong class="ak"> R作为分析工具</strong></h2><p id="d007" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">r编程语言被认为是数据科学中最强大的语言之一，用户也很容易使用它。用于编写R代码的软件是RStudio，也有其他平台可以编写R代码，您可以选择。这种语言被统计学家和数据挖掘者广泛用于数据分析和开发统计软件。我们来看看如何用R做股票分析:</p><p id="a9e3" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">1.使用<strong class="ki hj">导入数据集</strong>导入数据集:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lv"><img src="../Images/87b4a1188e9ad5a0c08a3bd6562487b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Fb3e36xWFSFpqL2QA17TA.jpeg"/></div></div></figure><p id="ab56" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">2.读取您导入的数据集文件:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lw"><img src="../Images/257f49e16507ba3e023ff88804ad7e25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*DK-HUvFB6tLj6eIg3BilNA.jpeg"/></div></figure><p id="1c2d" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">3.为我们所需的分析编码(我已经从NSE网站提取了数据，上面的只是一个例子，现在我用不同的数据集编码)</p><p id="9fde" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">这是Wipro的一个例子:</p><pre class="iy iz ja jb fd lx ly lz ma aw mb bi"><span id="7cf6" class="lc jp hi ly b fi mc md l me mf">library(dplyr)<br/>#Examining the lowest value of wipro <br/>&gt; min(wipro_index$Close)<br/>162.35<br/>#Examining the highest value of wipro <br/>&gt; max(wipro_index$Close)<br/>257.2<br/>#Calculating fall value of wipro<br/>&gt; max(wipro_index$Close) - min(wipro_index$Close)<br/>94.85<br/>#Calculating fall percentage of wipro<br/>&gt; 94.85 / max(wipro_index$Close) * 100<br/>36.88<br/>#Examining the recovery of wipro<br/>&gt; max(wipro_may$'Close Price')<br/>226.45<br/>#Calculating recovery value of wipro<br/>&gt; max(wipro_may$'Close Price') - min(wipro_index$Close)<br/>64.1<br/>#Calculating recovery percentage of wipro<br/>&gt; 64.1 / min(wipro_index$Close) * 100<br/>39.48<br/>#Calculating pending recovery value of wipro<br/>&gt; max(wipro_index$Close) - max(wipro_may$'Close Price')<br/>30.75<br/>#Calculating pending recovery percentage of wipro<br/>&gt; 30.75 / max(wipro_index$Close) * 100 <br/>11.96<br/>#Summarizing our analysis of wipro<br/>&gt; wipro_index  %&gt;% <br/>    summarize(high = max(wipro_index$Close) ,<br/>    low = min(wipro_index$Close) ,<br/>    fall_value = max(wipro_index$Close) - min(wipro_index$Close) ,            <br/>    fall_percentage = 94.85 / max(wipro_index$Close) * 100 ,<br/>    recovery = max(wipro_may$`Close Price`) ,<br/>    recovery_value  = max(wipro_may$`Close Price`) -        min(wipro_index$Close) , <br/>    recovery_percentage = 64.10 / min(wipro_index$Close) * 100 ,  <br/>    pending_recovery = max(wipro_index$Close) - max(wipro_may$`Close Price`) ,<br/>    pending_percentage = 30.75 / max(wipro_index$Close) * 100 )<br/>#Output<br/>high    low     fall_value  fall_percentage  recovery  recovery_value<br/>257.2   162.35  94.85       36.88            226.45    64.1 <br/>recovery_percentage  pending_recovery  pending_percentage             39.4826              30.75             11.96</span></pre><p id="7c2c" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">通过这种编码，我们可以生成我们想要形成数据集的指定结果。从R中获得数据后，我们可以使用Excel为我们的分析制作一个简洁的表格。在这个程序中，我使用了包括“最小”、“最大”、“汇总”在内的函数</p><p id="fa2a" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">min—“min”函数返回向量或列的最小值。</p><p id="dd6f" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">max返回向量或列的最大值或最大值。</p><p id="9924" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">汇总-“汇总”功能将数据帧简化为一个向量或值的汇总。</p><h2 id="bebb" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated"><strong class="ak">我们的数据列表</strong></h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mg"><img src="../Images/cc478fc2278897e7ca156fdc9c5286af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sWOEd2zmNZ4MRIyaBXQvbg.jpeg"/></div></div></figure><h2 id="4357" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated"><strong class="ak">数值的图形比较</strong></h2><p id="8a02" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">数据可视化在金融界非常重要，尤其是对于分析而言。不要创建一个列表，一个简单的图表或任何表示方法都很容易理解，并且对比较也很有用。在这篇博客中，为了便于理解，我用折线图比较了公司的价值。</p><h2 id="c7bf" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">1.俏皮50</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mh"><img src="../Images/7ba2cc96b2889c99ed5f3134bab87307.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*KiMKITwAyoeXNLHy0-y5mg.jpeg"/></div></figure><p id="7c16" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">从这个图表中，我们可以了解到Nifty 50指数在2020年1月14日达到顶峰，在2020年3月23日下跌至7，610.250。我们还可以观察到，12，362.30的价格在短短68天内跌至7，610.250，比峰值低38.44%。接下来我们可以从这个图中观察到的是Nifty 50的恢复值。Nifty 50的股价在短短78天内从7610点飙升至10167点，涨幅高达33.6 %。关于这个图表的最后一点是，即使价格在78天内飙升，它也无法弥补其峰值12362。因此，我们可以得出结论，Nifty 50的待定恢复值仍为2195，需要提高21.59%的百分比。</p><h2 id="e795" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">2.Wipro和ITC(印度烟草公司)</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mi"><img src="../Images/346a4df970fa4b5ffba01380eb00461e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*OAd6g-IwCX_mYXt7_4JsZQ.jpeg"/></div></figure><p id="f15e" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">这是比较Wipro和ITC两家公司股价的图表。我们可以观察到，这期间两家公司的动向比较相似。Wipro一月份的股价是257.2，跌了94.85，达到了162的股价。下跌值百分比为36.88%。不久，它在6月份恢复，价格飙升至226英镑，回收率为39.4%。当我们比较Wipro的峰值价格和恢复价格时，待定恢复值为30.75，必须上涨13.58%。来到国贸，其峰值价格为243.25，在此期间下降至147.25的价格。这家公司的下跌值为96，下跌了39.47%。股票价格在3月至6月间上涨至200.55，回报率为36.20%。就待收回价值而言，Wipro的待收回率低于ITC的21.29%。我们可以说Wipro在此期间表现良好，因为与ITC相比，它的未决回收率较低。</p><h2 id="4a31" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">3.塔塔汽车和盖尔</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mj"><img src="../Images/82ed0b182d74b3bedaca4cc2c57b9ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*t-1AeV_BwpIks7ijww2AFw.jpeg"/></div></figure><p id="a659" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">这张图表比较了两家公司塔塔汽车公司和盖尔公司的股票价格。我们可以注意到，这两家公司的峰值价格不同，但在价格下降的情况下，它们是相似的。塔塔汽车的最高价格是200.35英镑，下降价格是65.30英镑。从这些价格中，我们可以观察到塔塔汽车具有惊人的下降价值和速度。塔塔汽车的下降值为135.05，下降百分比为64.41%。尽管价格大幅下跌，塔塔汽车公司在很短的时间内恢复了元气。它从下跌后的65.30英镑飙升至115.45英镑。回收率为76.80%。但是，待定恢复值仍为84.90，回收率为73.54%。对盖尔来说，与塔塔汽车相比，价格变动并不显著。最高价格为131.65英镑，下降价格为69.40英镑，与塔塔汽车公司的价格更接近。盖尔下降值和下降率分别为62.25%和42.28%。恢复价格为104.75英镑，与塔塔汽车相比，这可以被认为是一个不错的回归。盖尔的待回收价值为26.90，百分比为25.68%。这一图表对比清楚地表明，塔塔汽车公司在此期间的价格波动很大。</p><h2 id="c283" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">4.信实、L &amp; T和亚洲油漆</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mj"><img src="../Images/82ed0b182d74b3bedaca4cc2c57b9ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*t-1AeV_BwpIks7ijww2AFw.jpeg"/></div></figure><p id="3483" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">这张图表包括三家公司的股票价格，即信实、L &amp; T和亚洲涂料。Reliance的股票价格是其峰值1，581英镑，价格下跌至884.05英镑。但是回收率非常高，比最高价还要高。恢复价格为1，581.70，比其峰值价格增加了0.7%。很明显，由于价格超过了峰值，因此不存在即将到来的回收率。L &amp; T的最高股票价格是1370.20。L &amp; T的下跌价格和价值分别为707.90和662.30。L &amp; T的下降率为48.34%。L &amp; T的回收价格为961.35，回收率为35.80。L &amp; T的待回收值为408.85。由此我们可以说，与L &amp; T相比，L &amp; T的表现很差。说到亚洲涂料，考虑到所有的峰值价格，亚洲涂料是其中最高的。亚洲涂料的最高价格为1，893.70英镑，下跌价格为1，498.45英镑。回收价格为1，716.55，由此我们可以看出，亚洲油漆的待定价值和比率将低于L &amp; T。亚洲油漆的待定回收价值和比率分别为177.15%和10.32%。像这样，我们可以很容易地预测图表或任何类型的表示中的值，而无需进行任何计算。</p><h2 id="5cf4" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated">5.SBI和太阳制药</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mk"><img src="../Images/f710b7ad58a4e9ccebd343eaa7d7a0d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*26Oitgnq3GXY2dA_Hspy3w.jpeg"/></div></figure><p id="8332" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">该折线图代表了SBI和太阳医药的股价。从图表中我们可以看出，在此期间，SBI的价格波动很大。SBI的最高价格为339.3英镑，价格下跌幅度惊人，为175.5英镑。SBI的下跌百分比为48.28%。SBI的回收率仅为7.01%，被认为是所有公司中最低的。待收回价值为151.50，待收回率高达80.67%。下一个公司是太阳制药，与SBI相比，它的表现很好。太阳医药的最高价格为489.9，价格下跌324.5，下跌值和下跌率分别为165.40和33.76%。Sun Pharma的回收价格和回收率非常好。太阳医药的恢复价格为500.75，比其峰值价格489.9高出2.17%。显而易见，太阳医药没有待回收价值。最后一家公司是Airtel。它被认为是整个数据集中最赚钱的公司。Airtel的峰值价格为565英镑，价格贬值至404.05英镑。下跌值和百分比分别为160.95%和28.49%。然而，在下跌了28.49%的情况下，Airtel惊人地恢复了598.8的价格，比峰值还高，增长率为5.64%。由此，我们可以得出结论，太阳医药和Airtel的表现远远好于SBI。</p><h2 id="8577" class="lc jp hi bd jq ld le lf ju lg lh li jy kp lj lk ka kt ll lm kc kx ln lo ke lp bi translated"><strong class="ak">总结最佳和最差表现</strong></h2><p id="fdf1" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">经过所有这些分析，在这个疫情时期，有些公司表现得特别好，有些则不然。所以，我从这个分析中挑选了三个表现最好的公司和三个表现最差的公司。</p><p id="2678" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">最佳表现公司:</p><ul class=""><li id="cbb9" class="ml mm hi ki b kj lq km lr kp mn kt mo kx mp lb mq mr ms mt bi translated">信赖</li><li id="99e8" class="ml mm hi ki b kj mu km mv kp mw kt mx kx my lb mq mr ms mt bi translated">太阳制药</li><li id="e043" class="ml mm hi ki b kj mu km mv kp mw kt mx kx my lb mq mr ms mt bi translated">机场内的旅馆</li></ul><p id="6238" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">挑选这些公司的原因是，他们有惊人的恢复率，没有待定的恢复价值。价格波动也不太大，因此这些公司可能是不错的投资选择。</p><p id="99e2" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">表现最差的公司:</p><ul class=""><li id="4820" class="ml mm hi ki b kj lq km lr kp mn kt mo kx mp lb mq mr ms mt bi translated">印度国家银行</li><li id="3850" class="ml mm hi ki b kj mu km mv kp mw kt mx kx my lb mq mr ms mt bi translated">塔塔汽车公司</li><li id="15f3" class="ml mm hi ki b kj mu km mv kp mw kt mx kx my lb mq mr ms mt bi translated">L &amp; T</li></ul><p id="9371" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">这些公司在上一年表现良好，但在这次疫情期间，这三家公司的价格波动非常大，而且它们还有惊人的待恢复价值和速率。因此，在疫情时期投资这些公司是不明智的。</p><p id="9b67" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">数据科学不仅属于计算机科学，也属于金融分析。数据科学在商业、经济等领域非常重要。在经济学中，使用数据科学，我们可以进行自己的需求分析系列，这在经济规划中发挥着关键作用，可以预测未来的需求、销售、价格、成本分配等。说到业务，随着业务复杂性的增加，数据科学对it有着巨大的影响。数据科学在商业中的一个重要应用是决策。不仅在经济和商业领域，数据科学在许多领域都有应用，它也被认为是探索的趋势主题之一。</p><p id="74be" class="pw-post-body-paragraph kg kh hi ki b kj lq ij kl km lr im ko kp ls kr ks kt lt kv kw kx lu kz la lb hb bi translated">以下链接是哈佛大学提供的一门有趣的在线基础数据科学课程:</p><div class="mz na ez fb nb nc"><a href="https://www.edx.org/course/data-science-r-basics" rel="noopener  ugc nofollow" target="_blank"><div class="nd ab dw"><div class="ne ab nf cl cj ng"><h2 class="bd hj fi z dy nh ea eb ni ed ef hh bi translated">数据科学:R基础</h2><div class="nj l"><h3 class="bd b fi z dy nh ea eb ni ed ef dx translated">在我们的数据科学专业证书课程的第一个，这门课程将向您介绍R…</h3></div><div class="nk l"><p class="bd b fp z dy nh ea eb ni ed ef dx translated">www.edx.org</p></div></div><div class="nl l"><div class="nm l nn no np nl nq jh nc"/></div></div></a></div></div></div>    
</body>
</html>