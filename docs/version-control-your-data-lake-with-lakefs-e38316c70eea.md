# 使用 LakeFS 对您的数据湖进行版本控制

> 原文：<https://medium.com/codex/version-control-your-data-lake-with-lakefs-e38316c70eea?source=collection_archive---------8----------------------->

数据湖为数据世界带来了革命，它允许您存储来自业务应用程序和运营数据库的关系数据，以及来自任何规模的移动应用程序、物联网设备和社交媒体的非关系数据。将您的所有数据放在这个集中的存储库中(数据湖)开辟了一种新的分析方法——从构建基本的仪表板到复杂的机器学习，帮助企业做出更好的决策。

数据湖解决了许多曾经难以解决的问题，例如，大规模存储数据，在一个地方存储结构化和非结构化数据，以及对大数据运行分析和机器学习。这是一个巨大的进步；然而，在数据湖中还有一个很大的缺口，那就是数据管理。如果不使用适当的编目机制，数据湖将导致“数据沼泽”。我想向您介绍一个开源平台——l[akeFS](https://lakefs.io/),它可以帮助您避免将您的数据湖变成“数据沼泽”。它为您现有的数据湖提供了弹性和可管理性。它允许您构建可重复的、原子的和版本化的数据湖操作。

![](img/0aa5393fd2924bbcb290f72a79f1fe8e.png)

# 什么是 lakeFS？

lakeFS 是一个开源平台，使您能够像管理代码一样管理数据湖。它将您的对象存储转换成类似 Git 的存储库。因此，您可以为实验运行并行管道，为数据运行 CI/CD。它可以与所有现代数据框架无缝协作，如 Spark、Kafka、Presto、Databricks、Airflow、Delta Lake 等等。您可以将它部署在任何 S3 兼容的存储解决方案上，无论是云中还是本地。lakeFS 作为包含几个逻辑服务的单一二进制文件分发。完整的架构信息可以在他们的[官网](https://docs.lakefs.io/architecture/overview.html)上找到。

lakeFS 与格式无关，因此可以在任何对象存储上执行类似 Git 的操作。它使用关系数据库(Postgres)来存储元数据。这使得元数据与对象存储分离，从而节省了成本，因为这避免了重复数据。在数据湖中，没有简单的方法来隔离数据。唯一的选择是将数据复制到不同的桶中。这就是 lakeFS 的亮点，因为它允许您隔离数据而无需复制它。因此，在数据湖中可以有一个单独的文件，该文件可以有许多指向它的指针。

# 你为什么需要莱克夫斯？

lakeFS 提供了一个类似 Git 的分支和提交模型，允许独立地进行更改。对于您的数据开发环境来说，这将是一个完美的解决方案。您可以通过创建分支来操作生产数据。它为您提供了一个隔离的快照，您可以在不危及实际生产数据的情况下进行试验。它还提供同一数据随时间变化的不同版本，并允许您在这些不同版本之间进行时间旅行。您还可以随时从数据湖中读取数据，比较更改，并在必要时安全地回滚。

数据工程师会发现 lakeFS 很有帮助，尤其是当他们在处理新数据或执行任何类型的验证操作时。可以先在隔离的分支中接收数据，而不是直接在主分支中接收数据。这允许他们在将新数据引入数据湖之前执行验证(数据格式和模式实施)。将数据接收到一个独立的分支还可以最大限度地减少由于上游更改或最近部署的代码更改而导致的生产中的数据损坏。

如果出现低质量的数据，lakeFS 允许您通过一个原子操作立即将数据恢复到以前的版本。对于数据科学家来说，使用 lakeFS 在数据版本之间移动的能力非常有用。他们可以创建多个版本的机器学习模型，并轻松比较其准确性，而无需复制数据湖中的数据集。

lakeFS 允许多个开发人员或团队独立地处理相同的数据，而不会互相影响。它还最大限度地减少了数据湖中的重复数据，如果您使用云存储，这可以显著降低使用成本。最后，它有助于避免将您的数据湖变成“数据沼泽”。

# 结论

lakeFS 是一个非常有趣的项目，它为从事数据湖工作的团队提供了很多价值和灵活性。它使您的数据湖具有类似 Git 的操作:分支、合并、提交、恢复和回滚。像任何其他开源技术一样，随着越来越多的人加入他们的社区做出贡献，lakeFS 也在不断发展并添加新的功能。我在本文中简要强调了 lakeFS 的一些用例。您认为 lakeFS 还能带来哪些好处？请在下面的评论中与我分享你的想法。