<html>
<head>
<title>How To Calculate Bollinger Bands Of A Stock With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python计算一只股票的布林线</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-calculate-bollinger-bands-of-a-stock-with-python-f9f7d1184fc3?source=collection_archive---------1-----------------------#2021-03-31">https://medium.com/codex/how-to-calculate-bollinger-bands-of-a-stock-with-python-f9f7d1184fc3?source=collection_archive---------1-----------------------#2021-03-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c3ab10b7f4fc9124f352b96f0c67f5f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nldks7AkTE9Eho3e"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@jamie452?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">杰米街</a></figcaption></figure><p id="9c6e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这篇文章中，我将向你展示如何用Python计算任何股票的布林线。</p><h1 id="315d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第一步。安装模块</h1><p id="36af" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">下面列出了我们需要的模块，你可以简单地用<code class="du kw kx ky kz b">pip3 install…</code>安装它们。</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="5c54" class="li ju hi kz b fi lj lk l ll lm">numpy==1.20.0<br/>pandas==1.1.4<br/>pandas-datareader==0.9.0<br/>matplotlib==3.3.3</span></pre><h1 id="493d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第二步。了解布林线</h1><p id="98ad" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">虽然我不会太深入布林线的概念，但我会试着提供对它们的基本理解。布林线是一种技术指标，允许交易者分析股票的波动性以及价格在相对基础上是高还是低。顶部波段通常比SMA高两个标准差，底部波段通常比SMA低两个标准差。这是这些波段被绘制出来时的样子。</p><figure class="la lb lc ld fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/652fb8f9caa11199147062c5d7c2a68d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ou3_8gosuofyCNN6R6cAzQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">AAPL 2014年1月7日至2015年1月7日</figcaption></figure><p id="d44e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通过查看该图，您可以快速观察到，该股票的收盘价大多位于两个布林线之间。此外，当价格线触及较低波段时，你可以识别买入信号，当价格线触及较高波段时，你可以识别卖出信号。</p><figure class="la lb lc ld fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/35033f340bffed0681b40e277ddc056c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o90Z3_OTg_JBX0DLZrMePw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">AAPL(信号)2014年1月7日至2015年1月7日</figcaption></figure><h1 id="8aab" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第三步。计算布林线</h1><h2 id="b0d7" class="li ju hi bd jv lo lp lq jz lr ls lt kd jg lu lv kh jk lw lx kl jo ly lz kp ma bi translated">步骤3.1计算简单移动平均</h2><p id="dcad" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">计算股票的SMA(简单移动平均线)是计算布林线的第一步。如果你不知道什么是SMA，你可以参考我的<a class="ae iu" href="https://sohan-dillikar.medium.com/buy-and-sell-signals-with-the-simple-moving-average-crossover-8a51c9fa3e0a" rel="noopener">文章</a>来了解一下。假设你已经知道什么是SMA，你可以用一个滚动平均值很容易地用熊猫计算出来。当计算布林线的均线时，交易者通常使用20日均线。这是你如何计算股票的均线。</p><figure class="la lb lc ld fd ij"><div class="bz dy l di"><div class="mb mc l"/></div></figure><p id="ef8d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">股票收盘价和移动平均线的图形如下。</p><figure class="la lb lc ld fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/47991e71da7be7a25322855de49aad2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9deZmoHIuonBLjapeUg7AQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">AAPL 20天SMA 2014年7月1日–2015年7月1日</figcaption></figure><p id="104c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你会注意到，SMA线直到第一个20天后才开始，这是因为，为了计算20天的SMA，你需要最近20天的股票价格。当你打印出SMA时，你会注意到这一点。</p><figure class="la lb lc ld fd ij"><div class="bz dy l di"><div class="mb mc l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">提示:NaN的意思是“不是一个数字”</figcaption></figure><h2 id="e367" class="li ju hi bd jv lo lp lq jz lr ls lt kd jg lu lv kh jk lw lx kl jo ly lz kp ma bi translated">步骤3.2计算标准偏差</h2><p id="0e79" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">正如我前面提到的，布林线是在距离SMA两个标准差的地方计算的。标准偏差本质上是衡量数据分布的程度以及它与平均值的距离。</p><figure class="la lb lc ld fd ij"><div class="bz dy l di"><div class="me mc l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">标准差的解释</figcaption></figure><p id="f92e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就像我们如何计算SMA每20天的平均值一样，我们也将计算每20天的标准差。这里有一个例子，我们有一个15个数字的列表，我们试图计算5天的滚动标准差。在这种情况下，滚动意味着计算15天中每5天的标准差。</p><figure class="la lb lc ld fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/f6c07648d18a83bb4216ec222f5b845d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r2Ny6-_yYhF-0qIJsz2hrg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">滚动标准偏差示例</figcaption></figure><p id="864c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">继续这种模式后，您将得到以下数组。</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="7bbd" class="li ju hi kz b fi lj lk l ll lm">[1.41, 2.45, 2.14, 1.62, 1.17, 1.17, 1.72, 1.72, 2.0, 2.33]</span></pre><p id="30fb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在让我们来计算我们股票价格的滚动标准差。</p><figure class="la lb lc ld fd ij"><div class="bz dy l di"><div class="mb mc l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">股票价格的标准差</figcaption></figure><h2 id="2444" class="li ju hi bd jv lo lp lq jz lr ls lt kd jg lu lv kh jk lw lx kl jo ly lz kp ma bi translated">步骤3.3创建布林线</h2><p id="b3e2" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">之前我提到布林线距离SMA有两个标准差。因此，在计算它们时，我们将对顶部波段使用的公式是<code class="du kw kx ky kz b">sma + std x 2</code>，底部波段是<code class="du kw kx ky kz b">sma — std x 2</code>。</p><figure class="la lb lc ld fd ij"><div class="bz dy l di"><div class="mb mc l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">创建布林线</figcaption></figure><h1 id="5c1e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">第四步。绘制结果</h1><p id="82f8" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">现在我们有了布林线的上下轨，让我们用matplotlib把它们画在图上。</p><figure class="la lb lc ld fd ij"><div class="bz dy l di"><div class="mb mc l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">绘制收盘价和布林线</figcaption></figure><p id="1412" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面应该是结果。</p><figure class="la lb lc ld fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/652fb8f9caa11199147062c5d7c2a68d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ou3_8gosuofyCNN6R6cAzQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">AAPL布林带</figcaption></figure><h1 id="1be0" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="d65d" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">希望计算布林线不会太难理解。这是一个非常强大的指标，但当然，你不应该只依赖这一个指标。我希望你在这一课中学到了新的东西，可以用在你未来的项目中！祝你今天休息愉快！</p></div></div>    
</body>
</html>