<html>
<head>
<title>Introduction To A Tool for Data Investigation: SQLPad</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据调查工具介绍:SQLPad</h1>
<blockquote>原文：<a href="https://medium.com/codex/introduction-to-a-tool-for-data-investigation-sqlpad-3d20c127556c?source=collection_archive---------5-----------------------#2022-03-14">https://medium.com/codex/introduction-to-a-tool-for-data-investigation-sqlpad-3d20c127556c?source=collection_archive---------5-----------------------#2022-03-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="57b6" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在本地机器上安装Docker，创建一个虚拟数据库，创建SQLPad连接，将SQLite与Docker卷绑定，运行一些查询</h2></div><h1 id="936d" class="ix iy hi bd iz ja jb jc jd je jf jg jh io ji ip jj ir jk is jl iu jm iv jn jo bi translated">介绍</h1><p id="dcb3" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">在这个故事中，我们将谈论我本周遇到的一个用于数据调查的开源工具:SQLPad。也许你知道，我已经在我以前的论文中写道，我在我的职业生涯中取得了一些进展。如今，我遇到一些新技术。此外，在接下来的几周里，我会写一些关于他们的东西。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es kl"><img src="../Images/1068542b4acd41ebfc53e36869f2e57a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PGfq-8n4B31oT7zAMkYnGA.jpeg"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">由<a class="ae lb" href="https://unsplash.com/@purzlbaum?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">克劳迪奥·施瓦茨</a>在<a class="ae lb" href="https://unsplash.com/s/photos/data-investigation?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="aeda" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">基本上，SQLPad是一个运行查询的SQL编辑器。我们可以在SQLPad中做一些基本的可视化。在我的用例中，我们用它作为数据调查的工具。我们将在本地机器上设置它，并与Docker一起使用。你可以通过下面的链接访问它的官方网站。</p><div class="lh li ez fb lj lk"><a href="https://getsqlpad.com/#/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">SQLPad</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">描述</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">getsqlpad.com</p></div></div></div></a></div><h1 id="042d" class="ix iy hi bd iz ja jb jc jd je jf jg jh io ji ip jj ir jk is jl iu jm iv jn jo bi translated">让我们开始设置</h1><p id="acc0" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">运行 SQLPad有<a class="ae lb" href="https://getsqlpad.com/#/getting-started?id=running-sqlpad" rel="noopener ugc nofollow" target="_blank"> 2种方式。我们将遵循使用Docker的方式。我们需要在机器上安装一个Docker引擎。我猜你有引擎。如果您还没有，您可以通过下面的链接获得引擎。</a></p><div class="lh li ez fb lj lk"><a href="https://docs.docker.com/get-docker/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">获取码头工人</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">更新Docker桌面条款Docker桌面在大型企业(超过250名员工或…</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">docs.docker.com</p></div></div><div class="lt l"><div class="lu l lv lw lx lt ly kv lk"/></div></div></a></div><h2 id="2af0" class="lz iy hi bd iz ma mb mc jd md me mf jh jy mg mh jj kc mi mj jl kg mk ml jn mm bi translated">拉图像</h2><p id="96fa" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">我在Debian机器上工作。因此，我将在Debian的终端中执行我将在本文中使用和解释的代码。SQLPad的Docker映像可以在Docker Hub上访问。</p><div class="lh li ez fb lj lk"><a href="https://hub.docker.com/r/sqlpad/sqlpad/" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">码头枢纽</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">编辑描述</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">hub.docker.com</p></div></div></div></a></div><blockquote class="mn mo mp"><p id="8aaa" class="jp jq mq jr b js lc ij ju jv ld im jx mr le ka kb ms lf ke kf mt lg ki kj kk hb bi translated">实际上，我不打算在本文中解释所有的Docker命令。因为解释Docker命令不是本文的主题。</p></blockquote><p id="3dc0" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">为了将该图像下载到我的本地，我将执行下面的代码。</p><pre class="km kn ko kp fd mu mv mw mx aw my bi"><span id="0c1a" class="lz iy hi mv b fi mz na l nb nc">docker pull sqlpad/sqlpad</span></pre><p id="80a6" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">该图像将被下载到我的本地。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es nd"><img src="../Images/ba0199f00f415b5f89bf5ab08cc91e65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*HQl0vu7tSQ53MOfbeWsNtw.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">作者图片</figcaption></figure><p id="dc15" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">我们肯定可以执行<code class="du ne nf ng mv b">docker image ls</code>。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es nh"><img src="../Images/a5714eefc63b4b43192def322bc1e890.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*1gg0ynwaLOmRG4Rg2zReaw.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">作者图片</figcaption></figure><h2 id="0df9" class="lz iy hi bd iz ma mb mc jd md me mf jh jy mg mh jj kc mi mj jl kg mk ml jn mm bi translated">使用映像运行SQLPad</h2><p id="3aa2" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">现在，我们可以使用已经绘制的图像创建一个容器。为了创建一个容器，我将使用下面的代码。</p><pre class="km kn ko kp fd mu mv mw mx aw my bi"><span id="0d35" class="lz iy hi mv b fi mz na l nb nc">docker run -p 3000:3000 sqlpad/sqlpad</span></pre><p id="f202" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">我们将机器的端口3000绑定到容器的端口3000。因此，我们可以通过使用机器的端口3000来访问SQLPad。如果成功，您应该会在终端上看到类似下面的输出。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es ni"><img src="../Images/d8648e632c36f28d62d2350ee88dcba5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YuqEBljyje5vDfgUarPlKg.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">作者图片</figcaption></figure><p id="0542" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">如果你在你的机器上点击<code class="du ne nf ng mv b">localhost:3000</code>，你会看到下面同样的屏幕。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es nj"><img src="../Images/c605b88eba9bb116ec0e5761f32b0eef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xymJvsdxvrTgzRKQzWlFsA.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">作者图片</figcaption></figure><p id="8e91" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">现在，我们可以稍微深入一下SQLPad配置。</p><h2 id="891f" class="lz iy hi bd iz ma mb mc jd md me mf jh jy mg mh jj kc mi mj jl kg mk ml jn mm bi translated">创建虚拟数据库:Northwind</h2><p id="4302" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">在本文的这一部分，我们将创建一个从SQLPad连接的虚拟数据库。我们使用<a class="ae lb" href="https://www.sqlite.org/index.html" rel="noopener ugc nofollow" target="_blank"> SQLite </a>作为数据库，使用<a class="ae lb" href="https://sqlitebrowser.org/" rel="noopener ugc nofollow" target="_blank"> SQLiteBrowser </a>作为DBMS。</p><p id="de97" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">在Debian中，我们可以通过使用下面的代码来安装它们。</p><pre class="km kn ko kp fd mu mv mw mx aw my bi"><span id="54cc" class="lz iy hi mv b fi mz na l nb nc">sudo apt-get install sqlite3 &amp;&amp; sudo apt-get install sqlitebrowser</span></pre><p id="a762" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">我将使用下面的SQL脚本创建一个数据库:</p><p id="a018" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated"><a class="ae lb" href="https://raw.githubusercontent.com/jpwhite3/northwind-SQLite3/master/Northwind.Sqlite3.create.sql" rel="noopener ugc nofollow" target="_blank">https://raw . githubusercontent . com/jp white 3/north wind-SQLite3/master/north wind。Sqlite3.create.sql </a></p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es nk"><img src="../Images/dd9f7057aa1d7d1f31396127b7e07161.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TrTs47MDxZYLjyM85Kxe7g.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">作者图片</figcaption></figure><p id="2dfd" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">我在我的桌面文件夹上创建了数据库。记住数据库的文件路径很重要。我们将在通过Docker卷将数据库绑定到Docker容器时使用它。</p><h2 id="ebbb" class="lz iy hi bd iz ma mb mc jd md me mf jh jy mg mh jj kc mi mj jl kg mk ml jn mm bi translated">SQLPad为Docker容器配置和创建脚本</h2><p id="8530" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">我们可以使用SQLPad的配置来设置我们是否需要使用身份验证机制，等等。您可以访问下面的链接来查看SQLPad配置的所有选项。</p><div class="lh li ez fb lj lk"><a href="https://getsqlpad.com/#/configuration" rel="noopener  ugc nofollow" target="_blank"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hj fi z dy lp ea eb lq ed ef hh bi translated">SQLPad</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">描述</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">getsqlpad.com</p></div></div></div></a></div><p id="8565" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">我准备了一个脚本文件来自动创建Docker容器。您可以在本文的最后一节访问该脚本。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es nl"><img src="../Images/2db1a2a30179894828d1994d0efeb067.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y-irDYNMRZfqU8h7eU4iKQ.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">作者图片</figcaption></figure><p id="88fe" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">在我的脚本中，我们创建了一个默认的admin用户，设置了一个运行SQLPad的端口，并创建了一个默认的连接。这里，我们使用在上一节中创建的数据库文件路径。我们在Docker CLI中使用<code class="du ne nf ng mv b">-v REAL_PATH:CONTAINER_PATH</code>将一个卷绑定到容器。</p><p id="b95f" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">在我们的例子中，我们将在桌面上创建的数据库绑定到容器中的<code class="du ne nf ng mv b">/databases/NorthwindDB.sqlite</code>路径。否则，SQLPad无法访问SQLite数据库。因为数据库是我们机器上的一个物理文件。我们绑定了这个卷，以便在我们的机器和容器之间建立一个桥梁。</p><h2 id="8944" class="lz iy hi bd iz ma mb mc jd md me mf jh jy mg mh jj kc mi mj jl kg mk ml jn mm bi translated">运行一些查询</h2><p id="9a0b" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">我们设置了一个容器来运行SQLPad。我将执行我们上面编写的脚本。</p><pre class="km kn ko kp fd mu mv mw mx aw my bi"><span id="135a" class="lz iy hi mv b fi mz na l nb nc">./start-sqlpad.sh</span></pre><p id="786f" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">如果我们转到<code class="du ne nf ng mv b">localhost:8000</code>地址，在通过我们在脚本文件中设置的管理员用户凭证登录后，我们会看到下面相同的屏幕。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es nm"><img src="../Images/816cab990d1649ae8b2120707699586c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qMaYhKKSEzEfsBIqzdnmug.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">作者图片</figcaption></figure><p id="bafa" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">SQLPad不能通过处理SQLite来显示模式。为了显示我们拥有的表，我们将执行一个查询。</p><pre class="km kn ko kp fd mu mv mw mx aw my bi"><span id="4475" class="lz iy hi mv b fi mz na l nb nc">--We can not see the database schema with SQLite3.<br/>--We execute the script below to handle this issue<br/>SELECT <br/>  'dba' as table_schema, <br/>  name as table_name, <br/>  'unknown' as column_name, <br/>  'unknown' as data_type <br/>FROM sqlite_master <br/>WHERE type = 'table';</span></pre><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es nn"><img src="../Images/8c3ff0a24d177276ad5c3a4d6e8ebdf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Whcms-PTtk7NJknR4aIdQ.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">作者图片</figcaption></figure><p id="b2b6" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">此外，我们可以在SQLPad上进行一些可视化操作。举个例子，我将执行另一个查询。</p><pre class="km kn ko kp fd mu mv mw mx aw my bi"><span id="cb1f" class="lz iy hi mv b fi mz na l nb nc">select OrderID, CategoryID, CategoryName, Quantity, UnitPrice from [Order Details]</span><span id="8a16" class="lz iy hi mv b fi no na l nb nc">left join Categories on [Order Details].ProductID = Categories.CategoryID</span><span id="b964" class="lz iy hi mv b fi no na l nb nc">where CategoryID not null</span></pre><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es np"><img src="../Images/5a33897f047d2bb8f6f75323d294543a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ldkk9OHVEiyvWi39Y1wtmA.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">作者图片</figcaption></figure><h1 id="3665" class="ix iy hi bd iz ja jb jc jd je jf jg jh io ji ip jj ir jk is jl iu jm iv jn jo bi translated">最后</h1><p id="7cb8" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">我认为SQLPad是一个有用且简单的工具。很可能，我会在自己的项目中使用它来解决客户的要求。</p><p id="4e4b" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">此外，我为我们用来调整Docker容器的bash脚本创建了一个要点。</p><figure class="km kn ko kp fd kq"><div class="bz dy l di"><div class="nq nr l"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">作者编写的脚本</figcaption></figure><p id="119f" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">我喜欢写作和编码。希望你也喜欢它。我们有一些SQLPad的额外特性，比如添加用户、添加数据库连接、管理用户角色等。我没有展示它们，因为您可以通过GUI轻松地应用它们。我认为我们做了核心功能的例子，如玩配置，绑定卷等。</p><p id="14f3" class="pw-post-body-paragraph jp jq hi jr b js lc ij ju jv ld im jx jy le ka kb kc lf ke kf kg lg ki kj kk hb bi translated">亲切的问候。</p></div></div>    
</body>
</html>