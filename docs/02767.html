<html>
<head>
<title>How to detect Sign Language using a camera</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用相机检测手语</h1>
<blockquote>原文：<a href="https://medium.com/codex/real-time-sign-language-with-tensorflow-2-0-4e09ff1c491e?source=collection_archive---------9-----------------------#2021-08-04">https://medium.com/codex/real-time-sign-language-with-tensorflow-2-0-4e09ff1c491e?source=collection_archive---------9-----------------------#2021-08-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/0020fcf7cd4da0d5b402409de4b2b301.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*7qTb0Lexgv_Ie5GrdgNjdA.gif"/></div></figure><p id="2f23" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这一切都是从我问自己的一个问题开始的:<em class="jk">“我能帮助聋人和那些不懂手语的人交流吗？”</em></p><p id="0af8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">先说一个前提:我不是该领域的专家，但我学习和尝试新冒险的欲望真的很大。</p><p id="a2a4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">此外，由于之前没有专业经验，我决定建立一个能够反映我技能的投资组合。</p><p id="76d2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以我决定做一个关于手语的项目。</p><p id="fc89" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这个项目的第一个版本是在T2手语字母上完成的，但是只有当它完成后，我才对自己说:</p><p id="8d8f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">“如果人们每个单词都必须一个字母一个字母地做手势，他们就无法相互交流”，一次对话可能要花上几个小时。</em></p><p id="5d21" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">想想吧。</p><p id="2367" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">想象一下，如果说一个简单的“你好”，你必须一个字母一个字母地交流。</p><p id="bece" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">那将是一场灾难！</p><p id="921d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我就是这样决定的，“安东尼奥，我们需要建立一个识别单词的算法。”</p><p id="cdc8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">事实也的确如此。</p><h1 id="5260" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">我的研究</h1><p id="2c89" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">我立即着手寻找手语数据集，但不幸的是没有结果。</p><p id="8bcf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我找到的每个手语数据集都是关于字母表的。</p><p id="4ba3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">仅此而已！</p><p id="815c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就是为什么在几个小时的搜索后，我开始变得沮丧，我什么也没找到。</p><p id="4f84" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以我做了一个决定。</p><p id="dd9f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我要做一些我以前从未做过的事情(终于到时间了):</p><p id="ae89" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">我打算建立自己的数据集！</strong></p><p id="0ffc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">不懂手语，第一件事就是做一个探索性的谷歌搜索。</p><p id="658d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我会解释的。</p><p id="c259" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">可以想象，即使是手语，也有很多词语需要用不同的符号来解读。</p><p id="a84f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">就我自己而言，我不可能为成千上万的单词创建一个数据集。所以我决定只在我认为手语中最常见的单词上建立我的数据集。</p><h1 id="31de" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">过程</h1><p id="b92e" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">在继续之前，我所做的是确定我必须采取的步骤，直到检测到手语。</p><p id="c739" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，我已经草拟了一套要遵循的步骤，并且我将在本文的其余部分使用它，解释我所做的事情:</p><ol class=""><li id="14be" class="ko kp hi io b ip iq it iu ix kq jb kr jf ks jj kt ku kv kw bi translated">决定将哪些单词翻译成手语</li><li id="555a" class="ko kp hi io b ip kx it ky ix kz jb la jf lb jj kt ku kv kw bi translated">捕捉每个标志的图像</li><li id="4e1d" class="ko kp hi io b ip kx it ky ix kz jb la jf lb jj kt ku kv kw bi translated">给我收集的所有图片贴上标签</li><li id="61c0" class="ko kp hi io b ip kx it ky ix kz jb la jf lb jj kt ku kv kw bi translated">用预先训练好的网络训练我的模型。</li><li id="9bf7" class="ko kp hi io b ip kx it ky ix kz jb la jf lb jj kt ku kv kw bi translated">使用网络摄像头识别标志</li></ol><p id="2626" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你准备好了，让我们开始吧！</p><h1 id="2ba8" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">1.决定将哪些单词翻译成手语</h1><p id="8e2e" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">我前面提到过，手语是一种有很多单词的语言。</p><p id="24bb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">由于资源有限，我无法创建一个包含手语中所有单词的数据集。因此，我决定只选择6个单词供我的算法识别。</p><p id="8ef1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">的确，这样的话，我永远也不可能建立一个真正的应用程序来帮助人们更好地相互交流。但目标过去和现在都是别的东西。</p><p id="cc75" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这个项目中，除了将我自己置于危险之中并锻炼我在计算机视觉方面的技能，<strong class="io hj">我还想激励其他人去做这种类型的项目</strong>。以帮助有困难的人为目的的项目。</p><p id="2ab5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">【包容】</em>可以说是项目。</p><p id="3fcd" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">但是说回我们，我选择了哪个标志？</strong></p><p id="ab1f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我决定使用对我来说最常见的标志。这些是:</p><ul class=""><li id="1e64" class="ko kp hi io b ip iq it iu ix kq jb kr jf ks jj lc ku kv kw bi translated">你好</li><li id="59ce" class="ko kp hi io b ip kx it ky ix kz jb la jf lb jj lc ku kv kw bi translated">谢谢你</li><li id="2b7f" class="ko kp hi io b ip kx it ky ix kz jb la jf lb jj lc ku kv kw bi translated">我爱你</li><li id="6736" class="ko kp hi io b ip kx it ky ix kz jb la jf lb jj lc ku kv kw bi translated">请</li><li id="4abc" class="ko kp hi io b ip kx it ky ix kz jb la jf lb jj lc ku kv kw bi translated">是</li><li id="b5ab" class="ko kp hi io b ip kx it ky ix kz jb la jf lb jj lc ku kv kw bi translated">不</li></ul><p id="c2c1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">完成后，我可以进入下一步:</p><h1 id="5388" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">2.捕捉每个标志的图像</h1><p id="13e6" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">好了，在我决定了用什么词之后，我需要进入下一步。</p><p id="9421" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">捕捉构建数据集所需的图像！</p><p id="e979" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在我能做到这一点之前，我需要用手语模仿那些被选中的单词。</p><p id="45cd" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">他们在这里:</p><figure class="le lf lg lh fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/bfdd63e72057c4a4fc7f4eedc7f62a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/0*O3Jrolc600jonPWu.jpg"/></div></figure><p id="ac5b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在学会如何做出选择的标记后，我开始从手机摄像头捕捉图像，然后将相同的图像传输到电脑上。</p><p id="f383" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你是这一领域的专家，你可能会奇怪<em class="jk">为什么我不从电脑的网络摄像头和Python脚本</em>来做这件事，对吗？</p><p id="1cb1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">答案很简单。</p><p id="79e6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我想捕捉高质量的图像(因为我的网络摄像头不是最好的)，这样我提供给算法的数据也会很好。</p><p id="6454" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，在为每个标记捕获了<strong class="io hj"> 30张图像后，我需要给它们加标签。</strong></p><h1 id="c1a4" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">3.标记图像</h1><p id="66bd" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">在这里，我必须承认，我发现自己陷入了困境。</p><p id="2df9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我从来没有做过这种工作，直到现在，但我没有泄气。事实上，在网上做了一些研究后，我发现了两种给图像中的物体加标签的工具。</p><ul class=""><li id="287a" class="ko kp hi io b ip iq it iu ix kq jb kr jf ks jj lc ku kv kw bi translated">第一个工具是经典的<a class="ae li" href="https://github.com/tzutalin/labelImg" rel="noopener ugc nofollow" target="_blank"> labelImg </a>，需要在PC上安装并通过命令启动(参见官方资源库以了解安装过程)。</li><li id="c1f5" class="ko kp hi io b ip kx it ky ix kz jb la jf lb jj lc ku kv kw bi translated">相反，第二个工具是<a class="ae li" href="https://www.makesense.ai/" rel="noopener ugc nofollow" target="_blank"> makesense.ai </a>。这是一个完全在线的工具，不需要注册，用它你可以非常容易地给图像加标签。它的缺点是，如果你不小心关闭了窗口或失去了连接，你也会失去你的进展。</li></ul><p id="0769" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了简化工作并且不做太多的安装，我决定使用我上面提到的第二个选项。这是因为除了简单之外，我的数据集也不是很大。</p><p id="7cc7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当我标记完所有的图片后，我下载了所有的。xml文件，并将它们移动到我收集原始图像的文件夹中。</p><h1 id="82d1" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">4.训练手语模型</h1><p id="75b0" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">这里是最有趣的部分:<strong class="io hj">模型的训练阶段</strong>。</p><p id="fef4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这种情况下，为了得到好的结果，<strong class="io hj">我决定使用一个预先训练好的算法</strong>。也因为收集的图像很少。</p><p id="6c84" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我是这么做的。</p><p id="6f27" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，我导入了我需要做的所有库。</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="2c86" class="lo jm hi lk b fi lp lq l lr ls">import os<br/>import cv2<br/>import numpy as np<br/>from sklearn.feature_extraction import image<br/>from tensorflow.keras import utils<br/>from tensorflow.keras.optimizers import Adam<br/>from tensorflow.keras.models import Sequential<br/>from tensorflow.keras.layers import Dense, Flatten, Conv2D, MaxPool2D, BatchNormalization<br/>from tensorflow.keras.applications import VGG19<br/>from sklearn.model_selection import train_test_split<br/>from tensorflow.keras.utils import to_categorical<br/>from tensorflow.keras.preprocessing.image import ImageDataGenerator<br/>import xml.etree.ElementTree as ET<br/>import h5py</span></pre><p id="089c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后在导入库之后，我开始创建变量。</p><p id="01f4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">第一个用于定义我正在处理的文件夹的路径，第二个用于指示图像所在的位置，第三个用于指示图像的大小，以适合为训练选择的模型，最后，使用最后一个，我创建了一个包含标签名称及其id的字典。</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="c65d" class="lo jm hi lk b fi lp lq l lr ls">BASE_DIR = '../6 Language/'<br/>IMAGE_DIR = BASE_DIR + 'images'<br/>IMAGE_SIZE = 224</span><span id="3cff" class="lo jm hi lk b fi lt lq l lr ls">label = {'Hello': 0, 'Yes': 1, 'No': 2, 'Thank you': 3, 'I love you': 4, 'Please': 5}</span></pre><p id="1f35" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">下一步是定义一个函数让计算机加载并读取图像。</p><p id="e8dc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用一个函数来区分包含标签的文件和包含图像的文件。因此将它们放在两个列表中，我称之为<em class="jk">“标签”</em>和<em class="jk">“图像”</em>。</p><p id="5181" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">列出该函数将返回给我的。</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="68f4" class="lo jm hi lk b fi lp lq l lr ls">def load_data(path):<br/>    images = []<br/>    labels = []</span><span id="50b4" class="lo jm hi lk b fi lt lq l lr ls">    for filename in os.listdir(path):<br/>        if filename.endswith('.png'):<br/>            img = cv2.imread(os.path.join(path, filename))<br/>            img = cv2.resize(img, (IMAGE_SIZE, IMAGE_SIZE))<br/>            img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)<br/>            images.append(img)<br/>            label_file = os.path.join(path, filename[:-4] + '.xml')<br/>            tree = ET.parse(label_file)<br/>            root = tree.getroot()<br/>            label_text = root.find('object').find('name').text<br/>            labels.append(label[label_text])</span><span id="c17e" class="lo jm hi lk b fi lt lq l lr ls">    return images, labels</span></pre><p id="901d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一旦完成，我必须调用函数将我的列表转换成数组，并将“标签”转换成分类。</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="b1a8" class="lo jm hi lk b fi lp lq l lr ls">images, labels = load_data(IMAGE_DIR)<br/>images = np.array(images)<br/>labels = np.array(labels)<br/>labels = to_categorical(labels)</span></pre><h2 id="bf63" class="lo jm hi bd jn lu lv lw jr lx ly lz jv ix ma mb jz jb mc md kd jf me mf kh mg bi translated">图像数据生成器</h2><p id="38f1" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">我能从中受益吗？</p><p id="b39f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ImageDataGenerator。这将使我从我建立的数据集中获得更多的图像。</p><p id="8140" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，我没有浪费时间，从之前捕获的图像中，我生成了更多的图像，这些图像被分为用于我的训练集的图像和用于我的测试集的图像。</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="2ed5" class="lo jm hi lk b fi lp lq l lr ls">#using image augmentation and generate more data<br/>datagen = ImageDataGenerator(<br/>    rotation_range=2,<br/>    shear_range=0.2,<br/>    zoom_range=0.1,<br/>    fill_mode='nearest')</span><span id="3a7c" class="lo jm hi lk b fi lt lq l lr ls">TRAIN_AUG_DIR = BASE_DIR +'train'<br/>TEST_AUG_DIR = BASE_DIR +'test'</span><span id="51e3" class="lo jm hi lk b fi lt lq l lr ls">train_gen = datagen.flow(images, labels, batch_size=32, save_to_dir=TRAIN_AUG_DIR, save_prefix='train', save_format='png')<br/>test_gen = datagen.flow(images, labels, batch_size=32, save_to_dir=TEST_AUG_DIR, save_prefix='test', save_format='png')</span></pre><h2 id="5ce0" class="lo jm hi bd jn lu lv lw jr lx ly lz jv ix ma mb jz jb mc md kd jf me mf kh mg bi translated">最后部分:VGG19模型的定义和训练</h2><p id="e255" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">正如你之前看到的，我决定在这个项目中使用一个预先训练好的网络。</p><p id="e14f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我选择了VGG19，因为尽管它不是最新的算法，但我认为它适合我必须做的那种识别。</p><p id="e72e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在进入训练阶段之前，我定义了权重，并给模型输入了图像，最后添加了另外三层的激活函数。</p><p id="ab2f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">之后，我开始了培训和模型的评估。</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="d58a" class="lo jm hi lk b fi lp lq l lr ls">#define model<br/>vgg = VGG19(weights='imagenet', include_top=False, input_shape=(IMAGE_SIZE, IMAGE_SIZE, 3))<br/>vgg.trainable = False<br/>model = Sequential()<br/>model.add(vgg)<br/>model.add(Flatten())<br/>model.add(Dense(256, activation='relu'))<br/>model.add(Dense(6, activation='softmax'))<br/>#model.summary()<br/>model.compile(loss='categorical_crossentropy', optimizer=Adam(lr=0.001), metrics=['accuracy'])<br/>model.fit(train_gen, steps_per_epoch=len(images) / 32, epochs=8, validation_data=test_gen, validation_steps=len(images) / 32)<br/>model.save('7lang')</span><span id="d8d0" class="lo jm hi lk b fi lt lq l lr ls">#evaluate model<br/>scores = model.evaluate(images, labels)<br/>print("\n%s: %.2f%%" % (model.metrics_names[1], scores[1]*100))</span></pre><h1 id="6418" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">5.基于OpenCV的手语检测</h1><p id="2c61" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">在验证了我有好的度量标准之后，我只需要再做一步。</p><p id="76a0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">通过电脑上的网络摄像头检测我选择的单词。</p><p id="d4c5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一旦我下载了保存的模型:</p><pre class="le lf lg lh fd lj lk ll lm aw ln bi"><span id="d70d" class="lo jm hi lk b fi lp lq l lr ls">model.save('7lang')</span></pre><p id="d479" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我可以打开一个新文件，写下完成这个项目所需的最后一部分。</p><p id="cbd3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">多亏了几行字，我才能够使用网络摄像头来预测所选手语的单词。</p><p id="9b49" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在我决定调用detection.py的文件中，我使用mediapipe来跟踪我的手的位置，然后对它们进行预测并显示相应的标签。</p><h1 id="4921" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">结论</h1><p id="27f2" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">这个模型可以改进，不仅是在图像层面，因此检测到的单词数量，而且在准确性层面。</p><p id="d278" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">正如我之前告诉你的，我做这个项目是为了激励和让尽可能多的人参与到这种“包容性”的项目中来。</p><p id="3a6c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我希望这对你有所启发，如果你想知道我在另一个文件中使用的代码，请不要犹豫，通过电子邮件联系我。</p><p id="8aa9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">下次见，</p><p id="f353" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">安东尼奥。</p></div></div>    
</body>
</html>