<html>
<head>
<title>Software migrations and Best Practices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">软件迁移和最佳实践</h1>
<blockquote>原文：<a href="https://medium.com/codex/software-migrations-and-best-practices-2eb12b58385c?source=collection_archive---------16-----------------------#2022-04-25">https://medium.com/codex/software-migrations-and-best-practices-2eb12b58385c?source=collection_archive---------16-----------------------#2022-04-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="b616" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">无论规模大小，执行迁移的最佳实践。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/df202e8e7712589714c026b2f65373df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nVuYv-WiqyM9bKc4"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">托德·特拉帕尼在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="dbb8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我在西雅图开始工作的第一周，我仍然记得我的一位高级经理在午餐时开玩笑说，当时7个人的团队中有4个人正在按照领导的指示进行从Oracle到AWS的数据存储迁移——“所有软件项目基本上都是一种迁移、集成和废弃的形式”。随着我的任期接近7年，这种说法与事实相去甚远。我参与了一些令人兴奋的、紧张的最后期限以及一些被迫的迁移。当我用一路走来学到的一些艰难的教训结束另一篇文章时，在这里反映我的想法。</p><p id="ddd1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">迁移通常涉及将技术解决方案从一个平台移植到另一个平台，需要更改代码配置、数据存储、相应的管理控制台，有时甚至需要更改应用程序逻辑。这些活动可能非常简单，只需在配置中做一行更改，就可以执行从一个平台到另一个平台的迁移，也可能非常复杂，甚至涉及到应用程序和业务逻辑的更改。</p><h1 id="056e" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">成功实施迁移的成功标准</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lc"><img src="../Images/4615ae09f07d9915ab1daa1d41368135.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HBRUqGBT201FXJiBjTAy2g.png"/></div></div></figure><h1 id="a0b5" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">迁移的最佳实践:</h1><h2 id="51df" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated">人员视角</h2><p id="7841" class="pw-post-body-paragraph jo jp hi jq b jr lr ij jt ju ls im jw jx lt jz ka kb lu kd ke kf lv kh ki kj hb bi translated">管理层支持:</p><ul class=""><li id="53b3" class="lw lx hi jq b jr js ju jv jx ly kb lz kf ma kj mb mc md me bi translated">确定一个有权做决策的领导者</li><li id="b3fd" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">在高层领导和利益相关者之间就成功的样子达成一致。</li></ul><p id="7904" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">团队协作和所有权:</p><ul class=""><li id="6ef6" class="lw lx hi jq b jr js ju jv jx ly kb lz kf ma kj mb mc md me bi translated">创建一个专注于实现的跨职能团队。</li><li id="b130" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">了解谁需要参与各个阶段，并与他们合作。</li><li id="c8aa" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">就不同团队之间的协作方法达成一致。</li></ul><p id="aebd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">培养</p><ul class=""><li id="7e98" class="lw lx hi jq b jr js ju jv jx ly kb lz kf ma kj mb mc md me bi translated">主动培训团队使用各种工具。不要让它成为瓶颈。</li></ul><h2 id="cd57" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated">过程视角</h2><ul class=""><li id="e311" class="lw lx hi jq b jr lr ju ls jx mk kb ml kf mm kj mb mc md me bi translated">尽量减少不必要的改变。</li><li id="6a2f" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">明确定义的上报途径。</li><li id="f119" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">报道的唯一真实来源。</li><li id="6ad0" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">尽早建立关键原则并记录下来。</li><li id="d87d" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">波浪计划从小规模开始，随着团队和过程的发展而加速。</li><li id="0910" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">迁移过程中的持续改进。</li></ul><h2 id="0684" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated">技术视角</h2><ul class=""><li id="d049" class="lw lx hi jq b jr lr ju ls jx mk kb ml kf mm kj mb mc md me bi translated">自动化是大规模迁移的关键</li><li id="0a96" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">提前建立你的着陆区。</li><li id="4304" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">制定一个T减计划，记录先决条件活动。</li><li id="fbd2" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">实施迁移后检查和回顾，以实现持续改进。</li></ul><p id="3478" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了便于理解和实现最佳实践，我将典型的迁移活动分为四个主要阶段。理解这一点将有助于人们将遵循的最佳实践关联起来，并在他们的项目中实现它们。</p><h1 id="07b3" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">典型的迁移阶段:</h1><h2 id="5dbe" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated">1.准备迁移</h2><ul class=""><li id="0e4d" class="lw lx hi jq b jr lr ju ls jx mk kb ml kf mm kj mb mc md me bi translated">了解迁移活动</li><li id="b342" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">需求收集</li><li id="ef21" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">设计</li><li id="69e4" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">了解应用程序中所需的更改</li><li id="0ba4" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">项目准备</li></ul><h2 id="7b25" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated">2.技术实现</h2><ul class=""><li id="71f2" class="lw lx hi jq b jr lr ju ls jx mk kb ml kf mm kj mb mc md me bi translated">执行代码更改</li><li id="82b7" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">执行代码评审</li><li id="a9be" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">创建测试案例来测试迁移活动</li><li id="d35d" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">开发人员桌面中的本地测试</li><li id="5d1a" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">Beta和Gamma环境中的集成测试</li><li id="7855" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">迁移团队的用户可接受性测试</li><li id="7413" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">利益相关者的可用性测试</li></ul><h2 id="5205" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated">3.对生产应用程序的更改</h2><ul class=""><li id="d8e0" class="lw lx hi jq b jr lr ju ls jx mk kb ml kf mm kj mb mc md me bi translated">生产变更管理流程</li><li id="8469" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">部署计划</li><li id="4b38" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">更改沟通和断电通知计划</li><li id="e303" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">回滚计划</li><li id="b058" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">生产推动和监控</li></ul><h2 id="6ca9" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated">4.迁移后</h2><ul class=""><li id="6305" class="lw lx hi jq b jr lr ju ls jx mk kb ml kf mm kj mb mc md me bi translated">利益相关者的可用性测试</li><li id="3133" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">日志监控</li><li id="bd74" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">错误监控</li><li id="3cbd" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">回顾</li><li id="6a19" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">证明文件</li><li id="5592" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated">创建运营工具/脚本的SOP</li></ul><h1 id="c010" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">常见的迁移类型:</h1><h2 id="657d" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated">数据迁移</h2><p id="01b4" class="pw-post-body-paragraph jo jp hi jq b jr lr ij jt ju ls im jw jx lt jz ka kb lu kd ke kf lv kh ki kj hb bi translated">数据迁移是风险最大的迁移类型之一。</p><ul class=""><li id="e324" class="lw lx hi jq b jr js ju jv jx ly kb lz kf ma kj mb mc md me bi translated"><strong class="jq hj">难以回滚。</strong>当代码发生变化时，通过回滚代码可以很容易地回滚迁移。但是数据并不总是如此。</li><li id="d3f9" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated"><strong class="jq hj">难以用原子的方式做到。</strong>理想情况下，数据迁移作为一个原子步骤完成。</li><li id="a37e" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated"><strong class="jq hj">数据迁移经常与代码变更联系在一起</strong>。为了使迁移按预期进行，通常需要在迁移数据的同时进行代码更改。</li><li id="f620" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated"><strong class="jq hj">更多要担心的边缘情况</strong>。您需要担心一些边缘情况，比如生产者写入旧数据库或使用旧模式，或者消费者无法理解新模式。</li></ul><h2 id="8b2d" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated"><strong class="ak">基础设施迁移</strong></h2><p id="fea5" class="pw-post-body-paragraph jo jp hi jq b jr lr ij jt ju ls im jw jx lt jz ka kb lu kd ke kf lv kh ki kj hb bi translated">基础架构迁移风险最大，因为它们会影响使用该基础架构的所有服务。基础架构迁移出错会导致所有相关服务停止运行。因此，这些通常比数据迁移需要更多的准备。</p><p id="61f3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">虽然所有其他迁移都是虚拟的，因为它们通常涉及移动代码或数据，但基础架构迁移是指物理基础架构可能也需要移动或更改，并且可能需要现场工作。尽管大多数公司使用云计算提供商，如AWS、Azure或谷歌云，但许多公司仍然运营自己的数据中心，或运行自己的服务器。基础架构迁移也意味着这些方面的变化。</p><h2 id="0f17" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated">代码迁移</h2><p id="11d7" class="pw-post-body-paragraph jo jp hi jq b jr lr ij jt ju ls im jw jx lt jz ka kb lu kd ke kf lv kh ki kj hb bi translated">移动代码库的一部分以使用不同的框架、库或编程语言。</p><p id="14e9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这种迁移的最大挑战是:</p><ul class=""><li id="7c07" class="lw lx hi jq b jr js ju jv jx ly kb lz kf ma kj mb mc md me bi translated"><strong class="jq hj">大规模变化。</strong>不得不更改大量文件和代码行的情况并不少见。</li><li id="82fe" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated"><strong class="jq hj">难以回滚</strong>。因为变化如此之大，所以很难或者有时不可能轻松地回滚变化。这与大多数代码变更相反，代码变更很小，很容易撤销。</li><li id="daba" class="lw lx hi jq b jr mf ju mg jx mh kb mi kf mj kj mb mc md me bi translated"><strong class="jq hj">在生产中更难测试</strong>。由于更改是大规模的，因此在生产流量下测试全部更改可能会更加困难。</li></ul><h2 id="c3fb" class="ld kl hi bd km le lf lg kq lh li lj ku jx lk ll kw kb lm ln ky kf lo lp la lq bi translated">服务迁移</h2><p id="a1b6" class="pw-post-body-paragraph jo jp hi jq b jr lr ij jt ju ls im jw jx lt jz ka kb lu kd ke kf lv kh ki kj hb bi translated">用新服务替换旧服务，并让所有客户最终使用新服务。</p><p id="5258" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">第2部分将包含我领导的三次主要迁移的具体技术挑战。</p></div></div>    
</body>
</html>