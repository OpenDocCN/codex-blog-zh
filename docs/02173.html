<html>
<head>
<title>How to create awesome pull requests</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建出色的拉式请求</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-create-awesome-pull-requests-b634e7f00e47?source=collection_archive---------10-----------------------#2021-07-05">https://medium.com/codex/how-to-create-awesome-pull-requests-b634e7f00e47?source=collection_archive---------10-----------------------#2021-07-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/3f5a7a285b4bf4f7ee4564f501930537.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WJadMG4JUOyr3JbjwIN9uw.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">这是一个拉猪肉比萨饼。真的是你亲手做的。</figcaption></figure><div class=""/><div class=""><h2 id="8eb2" class="pw-subtitle-paragraph iu hw hx bd b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl dx translated">让每个人的生活更轻松(包括你自己)</h2></div><p id="c482" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">大多数代码是通过拉请求添加到主分支的。许多眼睛(和测试)发现更多的bug或者仅仅是你自己的混乱代码，所以现在大多数项目，不管是闭源还是开源，都只通过PRs将代码合并到主分支。那也无妨，但是一个PR有两个部分:推的部分(就是你)和拉的部分(另一个)。我在这两个地方都呆了很长时间，在这两种回购中，所以我想我可以在这里分享我的经验，以帮助你节省工作、压力(在这两个地方)和自行车脱落，并为每个人创造一个更安全和丰富的工作环境。他们来了</p><h2 id="2d2a" class="ki kj hx bd kk kl km kn ko kp kq kr ks jv kt ku kv jz kw kx ky kd kz la lb lc bi translated">公关是一项进行中的工作，直到它被拉出来的那一刻</h2><p id="f2f0" class="pw-post-body-paragraph jm jn hx jo b jp ld iy jr js le jb ju jv lf jx jy jz lg kb kc kd lh kf kg kh hb bi translated">但这不是最重要的。最重要的是，这是一个正在进行中的团队工作。你碰巧选择了那个特定的工作，但是你需要和团队的其他成员一起工作来让它被接受。您需要与审查它的人达成一致，以便最终为工作团队和代码库的其余部分达成最佳决策。所以一起进步你的工作(和其他人的)，直到每个人都满意为止。</p><h2 id="615f" class="ki kj hx bd kk kl km kn ko kp kq kr ks jv kt ku kv jz kw kx ky kd kz la lb lc bi translated">早公关，勤公关</h2><p id="c457" class="pw-post-body-paragraph jm jn hx jo b jp ld iy jr js le jb ju jv lf jx jy jz lg kb kc kd lh kf kg kh hb bi translated">既然这被认为是一项正在进行的工作，你最好尽快开始这项工作。它越小，越原子化，团队的其他成员就越容易检查它，检查它的走向，直到它的终止。也要经常做。您可以同时运行多个pr(同时审核其他pr)。没什么大不了的。此外，不要试图在(根据你的说法)完美之后才获得20个文件、4k行代码。这只会让团队的其他成员很难(也很难)进行评审，更不用说接受了。记住，每一次公关都是(团队)在进行中的工作。</p><p id="2621" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">您可以随时将PR标记为草稿，以防有人真的想自动合并它。然后，当您认为它可能准备好时，只需恢复草案状态(它可能没有准备好，无论如何它都将是一个正在进行的工作，但仍然是)。</p><h2 id="5fbd" class="ki kj hx bd kk kl km kn ko kp kq kr ks jv kt ku kv jz kw kx ky kd kz la lb lc bi translated">尽可能使用PRs标题和主题</h2><p id="9b14" class="pw-post-body-paragraph jm jn hx jo b jp ld iy jr js le jb ju jv lf jx jy jz lg kb kc kd lh kf kg kh hb bi translated">拉请求有标题和正文；有时他们不得不遵循一个模板，通常是一个空白的石板，你可以在那里写下你想要的一切。嗯，<em class="li">做</em>写一切。标题应该与它所解决的问题有关(下面会有更多的介绍)，但是正文应该包括一些可能隐藏在提交中的信息，因此很难访问，比如你为什么修改了一些特定的文件(这可能看起来与PR主题无关)，你遇到的挑战，你做出的任何技术决策，以及你如何证明这些决策的合理性。这可能有助于审阅者理解正在发生的事情，这是审阅者非常感激的。</p><h2 id="eaed" class="ki kj hx bd kk kl km kn ko kp kq kr ks jv kt ku kv jz kw kx ky kd kz la lb lc bi translated">始终遵循书面记录</h2><p id="36cc" class="pw-post-body-paragraph jm jn hx jo b jp ld iy jr js le jb ju jv lf jx jy jz lg kb kc kd lh kf kg kh hb bi translated">也就是说，你应该只对一个非常清楚的问题进行公关，如果可能的话，每个人都同意。如果你在没有事先讨论的情况下就为一个特定的问题提供了一个技术解决方案，你可能会冒没有考虑全局的风险，或者仅仅是路线图中的计划，而你在做公关时没有考虑到这些计划。先文档，后PR；不要对某人说过的话做任何公关，更不要对你理解的某人说过的话做任何公关。始终使用票证或问题来支持您的工作，并尽可能使用建筑设计记录。此外，使用标签生成有意义的分支(和公关主题)名称；永远不要把一个分支叫做<strong class="jo hy">你知道那个东西</strong>。它应该看起来更像<strong class="jo hy">修复/保密项目/333/这个问题的微小方面</strong>。GitHub会根据这个名字自动生成公关标题。</p><h2 id="b289" class="ki kj hx bd kk kl km kn ko kp kq kr ks jv kt ku kv jz kw kx ky kd kz la lb lc bi translated">限制公关的范围</h2><p id="2991" class="pw-post-body-paragraph jm jn hx jo b jp ld iy jr js le jb ju jv lf jx jy jz lg kb kc kd lh kf kg kh hb bi translated">原子的，简短的，几个文件的PRs，解决一个问题，是最好的。当你在代码库中不相关的部分发现一个bug时，不要犹豫不决，忘乎所以:打开一个不同的PR(记住，早公关，勤公关)。这也将有助于你与审查者的互动:例如，他们可能会要求一些超出公关范围的东西。</p><p id="6e18" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在大多数情况下，PR被直接拒绝，不是因为它不是好代码，而是因为它试图修复其他完全不相关的东西。一切都很好，但一切都会好起来的。</p><h2 id="f304" class="ki kj hx bd kk kl km kn ko kp kq kr ks jv kt ku kv jz kw kx ky kd kz la lb lc bi translated">不要让你的公共关系恶化</h2><p id="c106" class="pw-post-body-paragraph jm jn hx jo b jp ld iy jr js le jb ju jv lf jx jy jz lg kb kc kd lh kf kg kh hb bi translated">PR是主分支的分叉，从PR生命的开始到结束，主分支将会发展，有时会与您的PR中的代码产生冲突。检查它，修复它，并标记它以备审查。这在专有软件中尤其如此，但是保留您在开源项目中打开的所有PRs的标签是个不错的主意，这样它们就不会过时。你总是有一个很好的理由(在Hacktoberfest之外)来打开那个PR，保持它的新鲜感，这样当它最终被接受时，它会帮助你。</p><h2 id="6001" class="ki kj hx bd kk kl km kn ko kp kq kr ks jv kt ku kv jz kw kx ky kd kz la lb lc bi translated">也不要强迫团队的其他成员(或FLOSS开发者)接受你的公关</h2><p id="9ab0" class="pw-post-body-paragraph jm jn hx jo b jp ld iy jr js le jb ju jv lf jx jy jz lg kb kc kd lh kf kg kh hb bi translated">对于后者，他们可能有其他事情要做，或者根本没有足够的时间来复习。一般来说，一个FLOSS项目会快速地检查和接受东西，如果</p><ol class=""><li id="e7e5" class="lj lk hx jo b jp jq js jt jv ll jz lm kd ln kh lo lp lq lr bi translated">这是打字错误或非常小的东西或</li><li id="f20b" class="lj lk hx jo b jp ls js lt jv lu jz lv kd lw kh lo lp lq lr bi translated">它解决了一些他们自己无法解决的突出问题。</li></ol><p id="9f50" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">其他任何事情，都是碰运气。在任何情况下，它要么通过测试，要么为任何新功能创建新的测试。</p><p id="ecb8" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在前一种情况下，不要强迫团队的其他成员进行评估，或者更糟的是，接受你的公关，只要尽你最大的努力按照上面所说的去做就行了。简而言之，让每个人都轻松。如果你得到一个仓促的(也许是令人苦恼的)审查，在有疑问的情况下，很可能会失败，这不会变得更容易。</p><h2 id="cbde" class="ki kj hx bd kk kl km kn ko kp kq kr ks jv kt ku kv jz kw kx ky kd kz la lb lc bi translated">记住不是你反对评论者</h2><p id="3d93" class="pw-post-body-paragraph jm jn hx jo b jp ld iy jr js le jb ju jv lf jx jy jz lg kb kc kd lh kf kg kh hb bi translated">这不是你对暴躁和吹毛求疵的评论者的优秀作品(评论者就是评论者，包括吹毛求疵)。这是你的工作，在团队工作中，为客户创造价值，或者在FLOSS项目中为更大的利益创造价值。评论可能是错的，评论的人可能是个混蛋。尽管如此，最好还是假设每个人都是真诚的，假设他们想要的对团队来说是最好的。</p><p id="4759" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">请记住，您的代码一旦被接受，就成为遗留代码。如果你认为是你反对评审者，你可能认为代码一旦被接受就变成了SOP(别人的问题)。在一个你不经常参与的FLOSS项目中可能是这样(但是如果你真的在使用它，它可能会成为你的问题)，但是如果PR被接受并产生了技术债务或者只是没有充分发挥它的作用，这肯定是每个人的问题。</p><h2 id="3e8e" class="ki kj hx bd kk kl km kn ko kp kq kr ks jv kt ku kv jz kw kx ky kd kz la lb lc bi translated">为团队工作</h2><p id="dfed" class="pw-post-body-paragraph jm jn hx jo b jp ld iy jr js le jb ju jv lf jx jy jz lg kb kc kd lh kf kg kh hb bi translated">请记住，你的工作必须首先是为了客户，其次是为了团队，第三是为了未来的自己。如果一次回顾成为一次学习的经历，你未来的自己将会无比感激，从这次经历中你可以获得一份未来的、更有成就感的或薪水更高的工作。正确安排你的优先事项，让你的PRs成为每个相关人员的一次伟大的(可能有教育意义的)并且总是富有成效的经历。</p></div></div>    
</body>
</html>