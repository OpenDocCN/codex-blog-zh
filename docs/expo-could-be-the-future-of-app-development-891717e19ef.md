# Expo 可能是应用程序开发的未来

> 原文：<https://medium.com/codex/expo-could-be-the-future-of-app-development-891717e19ef?source=collection_archive---------9----------------------->

未来的应用程序开发可能会比今天大多数人所能意识到的更加自动化。

![](img/09adb213363306e49e11eea394c28602.png)

# 背景

我在 Android 2.3.5 上构建并发布了我的第一个应用。那是很久以前的事了。它是在 Xperia Z1 上构建和测试的，顺便说一下，这是一部智能手机，仍然有物理按钮。写完代码后，在手机上编译和安装代码所花的时间和冲一杯新咖啡所花的时间差不多。这个应用程序必须用一个密钥进行签名，我必须随身携带在硬盘上，因为如果丢失了，我就不能在 PlayStore 上发布新版本。

但至少可以说，这种经历令人振奋。

> 我可以坐在家里的沙发上编写一个小应用程序，然后世界上成千上万的人就可以免费使用它了。在那之前，我从未见过任何类似的东西，我从这种认识中获得的纯粹肾上腺素是巨大的。

我让来自世界各地的人坐在家里使用我开发的应用程序，他们每天都在使用它。在过去的十年里，我在 Google PlayStore 上编写并发布了 10 多个应用程序，取得了不同程度的成功，在其他商业平台上也有很多应用程序。

# 构建应用的十年

平心而论，我一直是 Android 的忠实粉丝。直到几年前，在我的生活或工作中，严格来说我没有一件苹果产品。我一直使用 Java 编写应用程序，并设法与最近出现的技术保持相当的更新，无论是 Dalvik 向 ART framework 的转移，Jetpack /AndroidX 库，还是其他。

Java 是显而易见的选择，因为我是从它开始的，并且有相当长的历史。Android 开源项目(底层核心 Android OS 组件)本质上是用 Java 编写的，最棒的是，它仍然完全支持 Android。转移到 Kotlin 对我来说没有多大意义，因为本质上，Kotlin 仍然向下编译到字节码，因此我在整个编译和构建过程中看不到任何优化(确实，Kotlin 语言在代码设计方面确实有语法上的改进，以及类似的新功能)。

然而，如果我退一步看看，Java 作为一种编程语言确实有它的死角。Kotlin 确实有助于解决它的许多僵化之处，它消除了一些令人痛苦的部分，比如在使用视图之前将 xml 对象单调地链接到 Java 类对象，简化了线程的用法和定义语法，等等。

对我来说，Java 和 Kotlin 就像一枚硬币的两面，一面是旧版本，另一面是新版本。最后还是一样的硬币，基本面什么都没变。

# 缺点

对我来说，需要有两个完全独立的开发环境来为两个完全不同的智能手机(在功能、设计、操作系统和几乎所有方面都截然不同)开发应用程序是很自然的事情。当你看惯了某样东西十几年，你就照原样接受了。

为了在 Android 上开发本地应用，我需要学习 Java、Gradle 和 Android Studio IDE 来编写应用。然后是对 Android 操作系统及其组件的整体理解，如活动、内容提供商、权限等，以确保应用程序能很好地完成所有功能。然后，一个人必须熟悉密钥处理、应用程序签名和 Firebase 作为“最好的朋友”云服务。然后，人们必须了解谷歌 PlayStore 如何处理应用程序验证和分发。

为了在 iOS 上开发原生应用，我需要学习 Swift(或 Objective C)和 XCode IDE 来编写应用。然后，人们不得不考虑 AppConnect 和 XCode 的编译和发布过程，以及 beta 测试的 TestFlight。然后，人们必须在 AppConnect 中处理证书、身份和服务，以确保他们的应用程序从操作系统获得后端基础架构支持，后端应用程序服务才能正常工作。

现在，从一个只是想建立一个应用程序并发布给全世界使用的应用程序开发者的角度来看这整个世界，这是一个极高的准入门槛。谷歌和苹果一直在努力工作，让越来越多的应用程序开发者在他们的平台上为全球用户创造最迷人和创新的解决方案和服务，但就分发应用程序所需的知识库而言，进入门槛很高。根据他们的商业利益，无论是谷歌还是苹果，都不可能想出一种单一的方法来为他们的平台开发应用程序，比如说(假设而言)，在同一个 IDE 上开发 Android 和 iOS 的单一语言。

# 第一个重要步骤

(来自脸书的)React Native 为解决这一**进入壁垒**提供了第一次重大飞跃。React Native 本质上是一个框架，它连接回部署它的手机的本机操作系统；最棒的是，您可以使用简单的 Javascript(和 TypeScript)在框架上构建应用程序。这解决了三个大问题:

*   学习 2 种完全不同的编程语言(Java/Kotlin vs Swift/Objective C)来编写 Android 和 iOS 应用。你只需要知道 JavaScript 或者 TypeScript(最容易学的语言之一)
*   学习 2 个完全不同的 ide(Android Studio vs XCode)，用于编写和编译 Android 和 iOS 应用。您可以使用简单、高度健壮的免费编辑器，如 Visual Studio 代码或 IntelliJ。
*   学习特定于操作系统的组件，如可视屏幕、服务、流程、证书、权限等。您可以根据预期的功能来指定它们中的大多数，尽管对于某些特定的东西，您需要知道特定于操作系统的信息。

# 世博会

Expo 是一组编程语言库和支持服务，构建在 React Native 之上，它在很大程度上抽象了了解您为其构建应用的底层手机的需求。React Native framework 解决了应用程序的编程方面，但 Expo 及其集成的服务也统一并简化了后端服务(如推送通知)以及应用程序的构建、签名和交付过程。世博会的产品可以分成几个独立的部分。

## 1.简化应用构建模块

甚至比 React Native 已经提供的更远。一个典型的例子是 [**expo-av**](https://docs.expo.dev/versions/latest/sdk/av/) 库，它使您能够用不到 10 行代码构建回放和录制音频功能。虽然 React Native 提供了很多类似的库，但是都没有这个简单。

## 2.卸载推送通知服务的麻烦

任何应用程序都需要推送通知，谷歌和苹果有完全不同的基础设施来提供推送通知，这需要一个相当复杂的后端服务来处理这一点，而不是在应用程序中处理它们(以其自身的复杂性)。Expo 提供了一个完整的服务基础设施，抽象出了 APNS(苹果)和 FCM(谷歌)，并提供了一个非常简单的方法来处理 psn。

> 无论设备类型如何，您都可以获得单个 DeviceToken，以及单个服务器来进行简单的 HTTP POST 调用以推送通知消息；没有任何花哨的认证和其他东西。

## 3.世博应用服务

为您提供了一个 CI 渠道，您可以在其中构建应用并将其部署到各自的应用商店，而不必遵循两个完全独立的渠道。所有功能，如应用程序签名、证书处理、服务注册等都是在后台自动处理的。

# 世博会的潜力

智能手机应用在前端变得越来越薄，大部分繁重的业务逻辑位于后端服务器。越来越多的应用程序被开发出来，它们的主要目的是从后端提供的数据中创建一个良好的用户体验。React Native 非常出色地处理了这一部分。开发人员不再需要考虑操作系统特定功能中的可视组件，如视图、活动或片段，而是可以将它们视为简单的 JSX 元素，而不管它构建在什么类型的手机上。默认情况下，它内置了一些微妙的功能来处理最常见的过渡、动画和视觉功能，使开发人员无需自己构建每一个细节。

Expo 建立在它的基础上，使应用程序开发体验更加简单。

## 维护良好、功能更简单的库

Expo 的库由 Expo 团队构建和维护，这意味着，与 React Native 不同，您不需要依赖库的个人贡献者来进行改进或修复(包括安全性)。此外，与 React Native 相比，这些库在功能上更简单，因为它们由专门的团队维护，而不是由单独的个人维护。它们抽象出许多本质的细节作为默认行为，并提供了定制它们的选项。

## 从创意到 MVP 只需几个小时

事实上，你不必关心你正在构建的底层设备，这意味着你可以非常快地构建一个 MVP 版本的应用程序，并在你手边的任何设备上展示它们。

**你对你的应用程序所做的每一个改变都可以在几秒钟内在测试设备/模拟器上看到**。感谢 Metro Bundler 和 React 框架。

**你可以在没有充电电缆的轻量级机器**上开发，因为编辑喜欢 Visual Studio 代码，不像 Android Studio 或 XCode 那样需要大量资源。我们经常倾向于破坏这个因素，但是想象一下，有一个应用程序的想法，并且能够在从洛杉矶到纽约的航班上构建它的 MVP。它可以改变初创公司和早期企业的游戏规则。

**你甚至可以超越 MVP 更进一步，通过 PlayStore 和 TestFlight 的内部发布渠道加入推送通知和部署。** EAS (Expo 应用服务)只需两个命令就能帮您实现这一目标。

## 开发客户端的概念

React Native 经常在某些原生平台依赖上碰壁，它绝对需要你回到 android 或 ios 的原生代码(在弹出应用程序后)并做出更改。这个喷射过程可能很困难，而且经常破裂。一旦被驱逐，单独的 android 和 ios 环境将需要自己的照顾。Expo 用 ***dev-client*** 回答了这个问题，这是一个更简单的弹出版本，它消除了部署 android/ios 的复杂性，并以一种更少麻烦的方式提供了一种在各自设备上构建和部署它们的同质方法。

依我拙见， ***开发客户端*** 仍在建设中，还有很长的路要走。理想的情况是根本不需要弹射。但尽管如此，对于任何试图退出应用程序的人来说，这是一个很好的止痛药。

## 网上试试

与当今大多数软件平台一样，Expo 也提供了一种通过 web 门户在仿真器上运行代码的方法。您可以编写一小块代码(在您的项目中可能会遇到这种情况),并在 web 门户上运行以进行测试。这使您有可能在将概念合并到代码中之前，快速了解并试运行它们。

# 摘要

Expo 提供了很好的方法来抽象出苹果和 iOS 平台的个体复杂性，利用 React Native 的产品来提供出色的开发体验，然后通过在苹果和 iOS 的后端服务上进行类似的抽象来支持它。

对于第一次开发应用程序的人来说，这是一个巨大的福音。只要知道一门编程语言(JS/TS)、一个 IDE (VS Code)和一个框架(Expo)，你就可以构建非常成熟的应用。

**对于高级应用程序开发人员来说**，这也是一个将想法和功能更快推向市场、忘记操作系统和后端系统内在复杂性的好方法。

**对于企业来说**，采用或过渡到 Expo 是非常有意义的，因为这将有助于开发应用程序所需的人力。使用 Expo 进行构建只需要最少的库和编程语言知识(与 iOS 或 Android 上的本地开发相比)，因此开发人员相对更容易找到并提高技能。它还需要开发运维团队和发布管理团队中较少的支持功能，因为在初始配置之后，构建和部署过程减少到只有几个命令。

作为一名十年的应用程序开发人员，我仍然对 Expo 带给我的简单感觉感到敬畏，有时只是觉得奇怪(以一种好的方式),在一个组件中用 10 行代码构建一个概念，这可能需要我 5 个文件，包括 Java 类、XML 布局、XML drawable 等等。

我定期撰写不同的技术主题，包括职业指导、最新消息、即将到来的技术等等。这篇博客最初发表在[我在 anirban-mukherjee.com 的博客](https://www.anirban-mukherjee.com/expo-could-be-the-future-of-app-development/)