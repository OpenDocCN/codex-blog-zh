<html>
<head>
<title>Youtube version of Spotify Year in Review</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Youtube版本的Spotify年度回顾</h1>
<blockquote>原文：<a href="https://medium.com/codex/youtube-version-of-spotify-year-in-review-ccf44a92b2ab?source=collection_archive---------12-----------------------#2021-03-07">https://medium.com/codex/youtube-version-of-spotify-year-in-review-ccf44a92b2ab?source=collection_archive---------12-----------------------#2021-03-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/d14d3388ba61633a59741bbc07676eaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_-_Wk3p4gFCB5a39"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">Szabo Viktor 在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="d60e" class="hw hx hy bd b fp hz ia ib ic id ie dx if translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">抄本</a></h2><div class=""/><p id="0614" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi kc translated">我主要在工作时用Youtube听音乐，也在睡觉前看一些随意的视频🤔。将Spotify与Youtube进行比较并不是本文的目的，但我真正喜欢Spotify的一点是，在每年年底，它会显示哪些艺术家或歌曲是你听得最多的。我在网上搜索，试图为Youtube找到一个解决方案，但没有找到，<em class="kl">作为一名软件工程师，我决定为它编码。</em></p><p id="f88e" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">这相当容易！您所要做的就是将历史数据下载为JSON文件，然后使用这些数据获得您想要的东西。这就是我们在这篇文章中要做的事情。</p><p id="b78a" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">为此，我们需要做3个步骤:</p><ol class=""><li id="78e6" class="km kn hy jg b jh ji jl jm jp ko jt kp jx kq kb kr ks kt ku bi translated"><a class="ae hv" href="http://6bc3" rel="noopener ugc nofollow" target="_blank">下载<strong class="jg ii"> Youtube </strong>历史数据</a></li><li id="1e8e" class="km kn hy jg b jh kv jl kw jp kx jt ky jx kz kb kr ks kt ku bi translated"><a class="ae hv" href="http://7956" rel="noopener ugc nofollow" target="_blank">将文件从JSON转换为CSV </a></li><li id="c270" class="km kn hy jg b jh kv jl kw jp kx jt ky jx kz kb kr ks kt ku bi translated"><a class="ae hv" href="http://eb66" rel="noopener ugc nofollow" target="_blank">创建多个汇总数据的XLXS文件并绘制数据</a></li></ol><p id="00bc" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">您可以下载项目并直接在您的机器上运行它，而不是经历这些步骤。更多信息请参见文章的这一部分。</p><h1 id="6bc3" class="la lb hy bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated"><strong class="ak">步骤1 —下载Youtube历史数据</strong></h1><p id="78ca" class="pw-post-body-paragraph je jf hy jg b jh ly jj jk jl lz jn jo jp ma jr js jt mb jv jw jx mc jz ka kb hb bi translated">要下载这些数据，你可以浏览这个页面——https://www.youtube.com/feed/history。或者你可以直接去这个网站<a class="ae hv" href="http://google.com/takeout" rel="noopener ugc nofollow" target="_blank"><em class="kl">http://google.com/takeout</em></a>直接下载文件。</p><p id="1241" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我更喜欢第二个，因为它容易得多。对于第二个选项，您<em class="kl">必须确保只选择“Youtube和Youtube Music ”,并且还要选择JSON选项</em>。</p><h1 id="7956" class="la lb hy bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated"><strong class="ak">步骤2 —将文件从JSON转换为CSV并创建其他列</strong></h1><p id="9560" class="pw-post-body-paragraph je jf hy jg b jh ly jj jk jl lz jn jo jp ma jr js jt mb jv jw jx mc jz ka kb hb bi translated">数据是JSON格式的，它包含了你看过的每个视频的信息:</p><figure class="md me mf mg fd hk"><div class="bz dy l di"><div class="mh mi l"/></div></figure><p id="0255" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我更喜欢处理数据帧，所以在这一步我们将把JSON数据转换成CSV格式。下面的方法还调用了另一个<em class="kl">这里没有显示的方法</em>！该方法创建两列，这两列将包含有关视频持续时间的信息。这些列将在一些图中使用。如果你不想用它，你可以简单地在这条线上加注释。或者，你可以查看Github repo(<a class="ae hv" href="https://github.com/FilipeGood/Youtube-Most-Viewed/blob/main/main.py" rel="noopener ugc nofollow" target="_blank">https://Github . com/Filipe good/Youtube-Most-Viewed/blob/main/main . py</a>)获取函数<em class="kl"> create_duration_col(df) </em></p><figure class="md me mf mg fd hk"><div class="bz dy l di"><div class="mh mi l"/></div></figure><p id="1f22" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">接下来，只需保存数据帧。</p><h1 id="eb66" class="la lb hy bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">步骤3-创建多个XLSX文件和图</h1><p id="43c2" class="pw-post-body-paragraph je jf hy jg b jh ly jj jk jl lz jn jo jp ma jr js jt mb jv jw jx mc jz ka kb hb bi translated">现在我们有了首选格式的数据，我们可以使用它了。</p><p id="e380" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">首先，我们将创建一些excel文件，用不同的列对数据进行聚合和分组。下面的函数创建excel文件，这些文件按标题和频道、按频道的视图和按天的视图对我们的数据<em class="kl">进行分组。</em>有了这个，<em class="kl">你可以从Youtube </em>上获得很多关于你消费什么以及如何消费的见解。</p><figure class="md me mf mg fd hk"><div class="bz dy l di"><div class="mh mi l"/></div></figure><p id="5845" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">通过查看不同图中显示的数据来分析数据总是更好。你可以用数据做各种各样的情节，极限是你的想象力！在本文中，我将只展示3个图，但是我在<a class="ae hv" href="http://ee4d" rel="noopener ugc nofollow" target="_blank"> Github </a>中有其他实现。</p><p id="163e" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="jg ii">观看次数最多的10个视频</strong></p><p id="c3e2" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">下面的代码将计算所有具有相同标题(相同视频)的记录，并将绘制前10个记录。</p><figure class="md me mf mg fd hk"><div class="bz dy l di"><div class="mh mi l"/></div></figure><p id="95d1" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我真的很喜欢麦克米勒的上一张专辑。</p><figure class="md me mf mg fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mj"><img src="../Images/ab03ae8463289fa7225d639b93a1baa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n5c6d8pCZwb-2TCczlDDSA.jpeg"/></div></div></figure><p id="8402" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="jg ii">按星期几查看</strong></p><p id="e052" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">为了创建这个图，我们将使用在上一步中创建的列，并按一周中的某一天对数据进行分组。</p><figure class="md me mf mg fd hk"><div class="bz dy l di"><div class="mh mi l"/></div></figure><figure class="md me mf mg fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mj"><img src="../Images/aabd9fd0f24fb87063f1a7decd236853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iy5CtQ2u-MZtCs5rTg617Q.jpeg"/></div></div></figure><p id="3f70" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="jg ii">花费时间最多的前20个视频<br/> </strong>对于这个情节，我们将使用由函数<em class="kl"> create_duration_col(df)创建的列。</em>如果没有这些栏目，<em class="kl">就放过这个栏目。</em> <br/>这个剧情给我们展示了消耗我们大部分时间的前20个视频。</p><figure class="md me mf mg fd hk"><div class="bz dy l di"><div class="mh mi l"/></div></figure><p id="2c6d" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">获奖视频恰好是双耳节拍的视频。当我在写论文的时候，我喜欢听双耳的节拍:)当然，Mac在Tiny desk中的Miller表演也在讲台上。</p><figure class="md me mf mg fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mj"><img src="../Images/59266134fff7bed5a707db89e4460c9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BryMlpB_WLE0p0vNl0JT-w.jpeg"/></div></div></figure><p id="87e1" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">你可以创建许多不同的情节，或者你可以使用我在Github repo中的代码来为你创建情节。</p><p id="ee4d" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">如果你只想运行这个项目，你可以从这里下载:<a class="ae hv" href="https://github.com/FilipeGood/Youtube-Most-Viewed/" rel="noopener ugc nofollow" target="_blank">https://github.com/FilipeGood/Youtube-Most-Viewed/</a></p><p id="15dd" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">下载项目后，您有3个主要命令:</p><pre class="md me mf mg fd mk ml mm mn aw mo bi"><span id="27b1" class="mp lb hy ml b fi mq mr l ms mt"><strong class="ml ii">python3 main.py -f convert -d *&lt;file_name.json&gt;*</strong> - converts from json to csv (Step 2)</span><span id="0e36" class="mp lb hy ml b fi mu mr l ms mt"><strong class="ml ii">python3 main.py -f create - </strong>creates the excel files and the plots</span><span id="6463" class="mp lb hy ml b fi mu mr l ms mt"><strong class="ml ii">python3 main.py -f join -d *&lt;new_file_name.csv&gt;* - </strong>join previous historica data with new one. If you have a new historica data file, you can join the old one with the new one</span></pre><p id="8347" class="pw-post-body-paragraph je jf hy jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">感谢阅读:)</p></div></div>    
</body>
</html>