<html>
<head>
<title>The Math Required for Android Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android开发所需的数学知识</h1>
<blockquote>原文：<a href="https://medium.com/codex/the-math-required-for-android-development-558c706aa97?source=collection_archive---------2-----------------------#2022-06-29">https://medium.com/codex/the-math-required-for-android-development-558c706aa97?source=collection_archive---------2-----------------------#2022-06-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="9f26" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">轻松掌握Android中复杂的用户界面</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/5b493cb21a72c49b96d87ebc4bb4ee0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fjE77qHeiMtvioDa"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><a class="ae jn" href="https://unsplash.com/@homajob?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">斯科特·格雷厄姆</a>在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="d2c5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果你去问某人数学对于android开发有多重要，他们很可能会告诉你没有<em class="kk">那么</em>重要。这个回答多少有些道理，因为并不是android开发的所有部分都需要复杂的数学。但是我不敢苟同。</p><h1 id="0303" class="kl km hi bd kn ko kp kq kr ks kt ku kv io kw ip kx ir ky is kz iu la iv lb lc bi translated">介绍</h1><p id="4221" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated"><strong class="jq hj">我开始用Java开发Android应用的时候才14岁。</strong>我对Android非常陌生，刚刚开始学习Java代码和XML布局的基础知识。我做得很好。随着我的进步，我想学习如何创建自己的<code class="du li lj lk ll b">View</code>而不是使用谷歌提供给我们的。我被卡住了。我不知道该怎么做。我没有接触过笛卡尔平面，x轴和y轴。我别无选择，只能放弃这个。</p><p id="ba1b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">快进3年——我学会了Kotlin，并用Firebase构建了一些令人惊叹的应用程序。我喜欢数学，微积分之类的题目都得了a。现在，我计划在Android中重新创建自定义视图，猜猜会发生什么？我做到了。我知道如何为吸引人的UI和令人惊叹的UX创建复杂的视图。</p><blockquote class="lm"><p id="4474" class="ln lo hi bd lp lq lr ls lt lu lv kj dx translated">的确，有些概念只有通过年龄和经历才能学会。如果你现在不能做某事，你可以在适当的时候再试一次。</p></blockquote><h1 id="2419" class="kl km hi bd kn ko kp kq kr ks kt ku kv io lw ip kx ir lx is kz iu ly iv lb lc bi translated">我需要什么数学？</h1><p id="3607" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated">大多数自定义视图由矩形、圆形和曲线(如路径和Beizer)组成。它们在视图中的位置也很重要。让我们从创建一个循环计时器开始。对于这种应用，不需要非常苛刻的数学知识。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lz"><img src="../Images/13164334ad055fe6df548a37424e11ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/1*swKg7gH4u78jjvPnwJEY7g.gif"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">绿色轮廓<strong class="bd kn">仅</strong>用于视觉</figcaption></figure><p id="44ff" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><a class="ae jn" href="https://gist.github.com/cybercoder-naj/9cd0ad288745555ca96f3f4c7be36de9" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj">这里的</strong> </a>是我创建的定时器视图的链接。我将分解已完成的工作。</p><h2 id="5262" class="ma km hi bd kn mb mc md kr me mf mg kv jx mh mi kx kb mj mk kz kf ml mm lb mn bi translated">#1 —我们需要找到屏幕的中心。</h2><p id="2f4b" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated">我们将视图的宽度和高度设置为<code class="du li lj lk ll b">match_parent</code>。我们可以通过将<em class="kk">宽度</em>和<em class="kk">高度</em>除以2来找到中心坐标。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mo mp l"/></div></figure><p id="ad17" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们还需要一个盒子，在这里我们需要<strong class="jq hj">来绑定</strong>定时器的弧线。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mo mp l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">64.dp取一个64dp，转换成像素。</figcaption></figure><h2 id="85bb" class="ma km hi bd kn mb mc md kr me mf mg kv jx mh mi kx kb mj mk kz kf ml mm lb mn bi translated">#2 —声明了一些重要的变量</h2><p id="b11b" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated">这个视图需要3个变量:</p><ol class=""><li id="94ff" class="mq mr hi jq b jr js ju jv jx ms kb mt kf mu kj mv mw mx my bi translated"><code class="du li lj lk ll b">seconds</code> —这个计时器应该持续的秒数。</li><li id="687c" class="mq mr hi jq b jr mz ju na jx nb kb nc kf nd kj mv mw mx my bi translated"><code class="du li lj lk ll b">elapsed</code> —计时器启动后经过的秒数。</li><li id="32ac" class="mq mr hi jq b jr mz ju na jx nb kb nc kf nd kj mv mw mx my bi translated"><code class="du li lj lk ll b">isRunning</code> —保存定时器状态的布尔值</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mo mp l"/></div></figure><h2 id="493c" class="ma km hi bd kn mb mc md kr me mf mg kv jx mh mi kx kb mj mk kz kf ml mm lb mn bi translated">#3 —为计时器绘制弧线。</h2><p id="8407" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated"><code class="du li lj lk ll b">drawArc</code>函数接受5个参数来画出我们喜欢的弧线。</p><ol class=""><li id="f158" class="mq mr hi jq b jr js ju jv jx ms kb mt kf mu kj mv mw mx my bi translated"><code class="du li lj lk ll b">RectF oval</code>-指定圆弧的<em class="kk">边界</em>。</li><li id="fa99" class="mq mr hi jq b jr mz ju na jx nb kb nc kf nd kj mv mw mx my bi translated"><code class="du li lj lk ll b">float startAngle</code> —在边界内，圆弧的起始位置。</li><li id="a19b" class="mq mr hi jq b jr mz ju na jx nb kb nc kf nd kj mv mw mx my bi translated"><code class="du li lj lk ll b">float sweepAngle</code> —从起始位置开始的圆弧角度。</li><li id="b4f1" class="mq mr hi jq b jr mz ju na jx nb kb nc kf nd kj mv mw mx my bi translated"><code class="du li lj lk ll b">boolean useCenter</code> —真，如果你想将弧的两端连接到中心。</li><li id="98d5" class="mq mr hi jq b jr mz ju na jx nb kb nc kf nd kj mv mw mx my bi translated"><code class="du li lj lk ll b">Paint paint</code> —指定弧线的外观(颜色、宽度、样式等)</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mo mp l"/></div></figure><p id="08b4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们需要圆弧从我们定义的正方形的顶部开始；所以我们选择了<code class="du li lj lk ll b">-90f</code>。现在，当没有时间流逝时，<code class="du li lj lk ll b">sweepAngle</code>应该是<em class="kk"> -360 </em>。而当<code class="du li lj lk ll b">elapsed == seconds</code>时，那么<code class="du li lj lk ll b">sweepAngle</code>必须是<em class="kk"> 0 </em>。</p><p id="10f6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">推导一个满足给定约束的线性方程，我们最终得到这个方程。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ne"><img src="../Images/ccf7e68e6f6632dbc7125cc766d9f613.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MFY5HygoJCewYXsJ-9fcwA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用X=15秒的示例</figcaption></figure><p id="d3d1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这就是为什么用<code class="du li lj lk ll b">(elapsed / seconds -1) * 360f</code>作为<code class="du li lj lk ll b">sweepAngle</code>的原因。随着经过时间从0°增加到15°，扫描角将线性减小。</p><h2 id="0a7c" class="ma km hi bd kn mb mc md kr me mf mg kv jx mh mi kx kb mj mk kz kf ml mm lb mn bi translated">#4 —动画显示经过的时间值</h2><p id="726d" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated">在自定义视图中，这是一件相当简单的事情。关于功能和属性的一点知识将帮助你相当容易地掌握Android中的动画。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mo mp l"/></div></figure><h2 id="fe98" class="ma km hi bd kn mb mc md kr me mf mg kv jx mh mi kx kb mj mk kz kf ml mm lb mn bi translated">#5 —添加文本</h2><p id="cd79" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated">我们已经完成了绘制圆弧的代码。这篇课文相对容易些。</p><p id="0fca" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">当<code class="du li lj lk ll b">canvas</code>对象在<em class="kk"> (x，y) </em>绘制文本时，该点将是整个文本的左下角。换句话说，如果发送到<code class="du li lj lk ll b">drawText</code>的位置是<em class="kk"> (center.x，center.y) </em>，那么文本将向右上方移动。为了进行修正，我们添加了一些额外的代码。</p><ol class=""><li id="b1d2" class="mq mr hi jq b jr js ju jv jx ms kb mt kf mu kj mv mw mx my bi translated">首先，我们得到文本的尺寸，即它的宽度和高度。</li><li id="b8d3" class="mq mr hi jq b jr mz ju na jx nb kb nc kf nd kj mv mw mx my bi translated">其次，用<strong class="jq hj">位置校正</strong>将文本置于屏幕中央。</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mo mp l"/></div></figure><p id="785c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">位置校正</strong> —这里，我们需要将文本向左移动，移动的幅度是文本宽度的一半。类似地，我们把它向下移动，移动的幅度是高度的一半。</p><h2 id="786e" class="ma km hi bd kn mb mc md kr me mf mg kv jx mh mi kx kb mj mk kz kf ml mm lb mn bi translated">瞧啊。</h2><p id="8e87" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated">您已经成功地创建了一个循环计时器的复杂UI。请尝试将此视图添加到XML文件中。在您的<code class="du li lj lk ll b">MainActivity.kt</code>中，获取视图的实例，并将其<code class="du li lj lk ll b">isRunning</code>更改为<code class="du li lj lk ll b">true</code>。启动定时器前，不要忘记设置<code class="du li lj lk ll b">seconds</code>的值。</p><h1 id="b40b" class="kl km hi bd kn ko kp kq kr ks kt ku kv io kw ip kx ir ky is kz iu la iv lb lc bi translated">结论</h1><blockquote class="nf ng nh"><p id="40cb" class="jo jp kk jq b jr js ij jt ju jv im jw ni jy jz ka nj kc kd ke nk kg kh ki kj hb bi translated">安卓需要大量的数学吗？不完全是。</p><p id="ac5b" class="jo jp kk jq b jr js ij jt ju jv im jw ni jy jz ka nj kc kd ke nk kg kh ki kj hb bi translated">拥有令人惊叹的UI 的安卓<strong class="jq hj">需要大量的数学吗？是啊！</strong></p></blockquote><p id="d4a8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">谷歌图书馆并不总是足够的。你的想象力和创造力是你个人的，只属于你自己。就此而言，谷歌或任何其他第三方图书馆都不会总是满足你的需求。有时候，你需要迈出第一步，从零开始建立自己的生活。这样做，你将需要数学和知识。</p></div><div class="ab cl nl nm gp nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="hb hc hd he hf"><p id="9945" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这篇文章花了我大约3天的时间，在家里经历了很多压力之后，才仔细地完成的。我希望你喜欢读我的文章，并学到了一些东西。非常感谢！✌️</p><pre class="iy iz ja jb fd ns ll nt nu aw nv bi"><span id="0a86" class="ma km hi ll b fi nw nx l ny nz"><strong class="ll hj">Want to conncet?</strong></span><span id="6b13" class="ma km hi ll b fi oa nx l ny nz">My <a class="ae jn" href="https://github.com/cybercoder-naj" rel="noopener ugc nofollow" target="_blank">GitHub</a> profile.<br/>My <a class="ae jn" href="https://cybercoder-naj.github.io" rel="noopener ugc nofollow" target="_blank">Portfolio</a> website.</span></pre></div></div>    
</body>
</html>