<html>
<head>
<title>Picking a Disneyland with Data Science. Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用数据科学挑选迪士尼乐园。第一部分</h1>
<blockquote>原文：<a href="https://medium.com/codex/picking-a-disneyland-with-data-science-part-1-cbd24dc46dee?source=collection_archive---------9-----------------------#2022-04-07">https://medium.com/codex/picking-a-disneyland-with-data-science-part-1-cbd24dc46dee?source=collection_archive---------9-----------------------#2022-04-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0328" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我非常喜欢迪士尼的任何东西。商品、公园、人物——我愿意接受任何提议，所以我找不到比分析迪士尼乐园评论更好的第一个数据科学项目了。</p><p id="c18d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我将比较三个迪士尼乐园(香港、加州和巴黎)的排名，并找出哪一个名列榜首。在第二部分，我将使用情感分析来看看哪个迪斯尼乐园在正面评论的数量上排名第一。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/8c5bc5225fbdbd14862d6dcf2aa4c56f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0K_LQ5WZuqKBZD8S"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://unsplash.com/@capricorn_song?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">摩羯宋</a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="4136" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始摇滚吧！</p><p id="5b8c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">有什么计划？</strong></p><ol class=""><li id="5212" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">从Kaggle中查找数据集并将其下载到Jupyter中，以及获取关于该数据集的基本信息。</li><li id="2dea" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">清理数据—删除不必要的列，使数据类型正确等等。</li><li id="68c6" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">按分支机构对迪士尼乐园进行分组，并找出它们的平均评分。</li><li id="4d96" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">比较结果评分并庆祝</li></ol><p id="6dc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步:导入包</strong></p><p id="0682" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了启动这个项目，我已经导入了以下库:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="0581" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤2:连接到Kaggle </strong></p><p id="b60f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Kaggle是一个非常棒的平台，可以举办数据科学竞赛，并且有大量的数据库供您使用。它也很容易连接到你的Jupyter笔记本上，就像这样:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="4236" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是一些关于如何将Kaggle连接到您的笔记本电脑的附加信息:</p><p id="4eb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jt" href="http://How to connect Kaggle" rel="noopener ugc nofollow" target="_blank">https://www . analyticsvidhya . com/blog/2021/06/how-to-load-ka ggle-datasets-directly-into-Google-colab/</a></p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="94fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们的例子中，我们将使用以下数据库:</p><div class="kr ks ez fb kt ku"><a href="https://www.kaggle.com/datasets/arushchillar/disneyland-reviews" rel="noopener  ugc nofollow" target="_blank"><div class="kv ab dw"><div class="kw ab kx cl cj ky"><h2 class="bd hj fi z dy kz ea eb la ed ef hh bi translated">迪士尼乐园评论</h2><div class="lb l"><h3 class="bd b fi z dy kz ea eb la ed ef dx translated">对3个迪士尼乐园分支机构-加州、香港和巴黎的评论和评级</h3></div><div class="lc l"><p class="bd b fp z dy kz ea eb la ed ef dx translated">www.kaggle.com</p></div></div><div class="ld l"><div class="le l lf lg lh ld li jn ku"/></div></div></a></div><p id="e260" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">列描述:</p><ol class=""><li id="02e8" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">Review_ID:给予每个评论的唯一ID</li><li id="02aa" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">评级:从1(不满意)到5(满意)</li><li id="5911" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">年_月:评论者参观主题公园的时间</li><li id="d64a" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">审查者_地点:访问者的原籍国</li><li id="537d" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">评论_正文:访问者的评论</li><li id="9bb9" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">迪士尼乐园_分店:迪士尼乐园的位置</li></ol><p id="4d13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们将这个数据库上传到笔记本中:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="7d63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个文件是一个.<strong class="ih hj"> zip </strong>文件，所以我在第二行解压了它。这种方法并不总是有效，因此如果对您来说失败了，请将<strong class="ih hj"> DisneylandReviews.csv </strong>文件放入“文件”选项卡(见下图)，然后运行第三行。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lj"><img src="../Images/22cdbdb316c07b5b4c7fc2cd78dceb5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kjkinX5_ZDxJhN_472DZ3A.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">上传后，您应该会在“文件”部分看到<strong class="bd lk"> csv </strong>文件</figcaption></figure><blockquote class="ll lm ln"><p id="9587" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">请记住，每次关闭程序时，您都需要重新上传所有文件，因为它们会在运行结束后被删除。</p></blockquote><p id="5ee9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三步:获取基本信息</strong></p><p id="d4b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们快速看一下我们面临的情况。在运行<em class="lo"> df.head()，</em>之后，我们得到如下结果:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ls"><img src="../Images/a4c18843fb55829ec67c1b1fb65ea395.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rMvDIDnxPuWCpKFZMwVRdQ.png"/></div></div></figure><p id="e3c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快速浏览一下，我们可以看到评级以数字的形式呈现，我们在“Review_Text”部分有一些看起来非常干净的文本，这意味着预处理应该很容易。仅仅看一眼，很明显评论发表的年份和评论者的位置不会显著影响他们的评级。因此，我们稍后将删除这些列。</p><p id="9b32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看这个数据帧的组成部分的数据类型，我们可以通过使用<em class="lo"> df.info() </em>命令来完成。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lt"><img src="../Images/a958b546f4d893864b2e906b0ae5af4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1ZfWEyfSWdfWYRBfi8-oTw.png"/></div></div></figure><p id="9733" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是我们得到的结果——总共42656行，评论id和评级是整数类型，其他的都是一个<strong class="ih hj">对象</strong>，这些有时很难处理，所以我们应该考虑以后把它改成一个字符串。</p><p id="4caa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们检查我们最感兴趣的列中的唯一值——<strong class="ih hj">分支</strong>列和<strong class="ih hj">评级</strong>列，我们执行以下操作:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/0b6ee94feb53a9c7d01a2b44afd452cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nafKuV6uYcQMKmWP_bs8Dw.png"/></div></div></figure><p id="3ea0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到，评级范围为1-5，我们正好有3个分支。当我们希望按分支机构对评级进行分组时，这将派上用场</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lv"><img src="../Images/0bc0bd6364f1e5db7c15469b33fca155.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tRlxwNu1bcoxSADVcFPdlw.png"/></div></div></figure><p id="dfd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第四步:数据清理</strong></p><p id="cf28" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从删除不必要的列开始，正如我们在上面讨论的，它们是审阅者位置、审阅出版年份和审阅者ID。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="1e76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们知道分支列对象属于<strong class="ih hj">对象</strong>类型，我们需要将它们转换成字符串:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="f622" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第五步:计算平均分</strong></p><p id="9efe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后也是最激动人心的一步！我们将每个迪士尼乐园的总评分除以该迪士尼乐园的评论数，得出每个迪士尼乐园的平均排名。</p><p id="39aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们先来获取每个迪士尼乐园的记录数量:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/5b9c33787d14131ce06f6e1d6a9890a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZKowIHj_4SPzuy-stsnSiw.png"/></div></div></figure><p id="465f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们按分支对迪士尼乐园进行了分组，并找到了每个分支的评论总数。太好了！</p><p id="abcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们需要遍历各个列，找到每个迪士尼世界的总评分，我们可以使用以下命令来完成:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="e0b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结果揭晓……</strong></p><ol class=""><li id="83ae" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">加州迪斯尼乐园:4。59860 . 48686868686</li><li id="707c" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">香港迪士尼乐园:4 . 54867 . 48686868661</li><li id="b823" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">巴黎迪士尼乐园:3 . 46867 . 38868686861</li></ol><p id="f066" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事实证明，加州迪士尼乐园拥有最高的数字平均评分！</p><h2 id="38b3" class="lx ly hi bd lk lz ma mb mc md me mf mg iq mh mi mj iu mk ml mm iy mn mo mp mq bi translated">源代码</h2><p id="f638" class="pw-post-body-paragraph if ig hi ih b ii mr ik il im ms io ip iq mt is it iu mu iw ix iy mv ja jb jc hb bi translated">在我的GitHub上查看Jupyter笔记本:</p><div class="kr ks ez fb kt ku"><a href="https://github.com/sashakorovkina123/disneyland_ranks.git" rel="noopener  ugc nofollow" target="_blank"><div class="kv ab dw"><div class="kw ab kx cl cj ky"><h2 class="bd hj fi z dy kz ea eb la ed ef hh bi translated">GitHub:选择一个disn并根据他们的排名使用…</h2><div class="lb l"><h3 class="bd b fi z dy kz ea eb la ed ef dx translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者</h3></div><div class="lc l"><p class="bd b fp z dy kz ea eb la ed ef dx translated">github.com</p></div></div><div class="ld l"><div class="mw l lf lg lh ld li jn ku"/></div></div></a></div><blockquote class="ll lm ln"><p id="8bed" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">请继续关注第2部分，我们将涉足自然语言处理，看看迪士尼加州是否也在评论中获得第一名。与此同时，<strong class="ih hj">请在评论区留下任何意见/更正或明智的话，作为一名初学数据科学家，您的意见对我来说非常宝贵！</strong></p></blockquote></div></div>    
</body>
</html>