<html>
<head>
<title>Google Login in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌在Flutter的登录</h1>
<blockquote>原文：<a href="https://medium.com/codex/google-login-in-flutter-e420cca06635?source=collection_archive---------6-----------------------#2022-06-27">https://medium.com/codex/google-login-in-flutter-e420cca06635?source=collection_archive---------6-----------------------#2022-06-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0664" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Google登录是让用户进入应用程序的方法之一。在本文中，我们将讨论如何通过创建一个如下工作的示例应用程序在flutter应用程序中登录google:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/a0d885ef7451f4e790c3fde0be104b95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*cXS5oy49NkoSa7H32Qx1yg.gif"/></div></figure><p id="887c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在编码之前，我们需要在<a class="ae jl" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase控制台</a>中创建一个应用程序。</p><h2 id="5328" class="jm jn hi bd jo jp jq jr js jt ju jv jw iq jx jy jz iu ka kb kc iy kd ke kf kg bi translated"><strong class="ak"> 1。注册安卓应用</strong></h2><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kh"><img src="../Images/17f9a6e9f269e5c55e25a5a8b6e96755.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*p18hQgkCl0XusyUGyv8dlQ.png"/></div></figure><p id="2f69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输入您的包名。</p><p id="a65e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要获取<strong class="ih hj"> SHA1 </strong>密钥，从终端进入<strong class="ih hj"> android </strong>文件夹，如下所示:</p><pre class="je jf jg jh fd ki kj kk kl aw km bi"><span id="69df" class="jm jn hi kj b fi kn ko l kp kq">cd android</span></pre><p id="8295" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后运行下面的代码。</p><pre class="je jf jg jh fd ki kj kk kl aw km bi"><span id="d40d" class="jm jn hi kj b fi kn ko l kp kq">gradlew signingReport</span></pre><p id="20a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果这不起作用</p><pre class="je jf jg jh fd ki kj kk kl aw km bi"><span id="9e5e" class="jm jn hi kj b fi kn ko l kp kq">./gradlew signingReport</span></pre><p id="302c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">等待编译完成，您的SHA密钥将会打印出来。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="er es kr"><img src="../Images/7e3c2e79b14d9cec8fb7f79c1c0e86f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mu243a81COOKg33COGBVOQ.png"/></div></div></figure><p id="f665" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">找到<strong class="ih hj"> SHA1 </strong>并将其粘贴到您的<strong class="ih hj"> Firebase申请表中。</strong></p><p id="1c4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后你在你的<strong class="ih hj"> android/build.gradle </strong>文件中添加依赖项。</p><pre class="je jf jg jh fd ki kj kk kl aw km bi"><span id="1229" class="jm jn hi kj b fi kn ko l kp kq">dependencies {<br/>classpath 'com.google.gms:google-services:4.3.12'<br/>}</span></pre><p id="90f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">再次在你的<strong class="ih hj">Android/app/build . gradle</strong>文件中。添加下列依赖项。</p><pre class="je jf jg jh fd ki kj kk kl aw km bi"><span id="f76f" class="jm jn hi kj b fi kn ko l kp kq">implementation platform('com.google.firebase:firebase-bom:30.2.0')<br/>implementation 'com.google.firebase:firebase-analytics'</span></pre><p id="6343" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后下载<strong class="ih hj"> google-services.json </strong>文件。放在<strong class="ih hj">安卓/app </strong>文件夹里面。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kw"><img src="../Images/a7ac10534dc58a96c410b681117acce0.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*Cxn712SowpNoJtNfXeMrwQ.jpeg"/></div></figure><h2 id="2f2c" class="jm jn hi bd jo jp jq jr js jt ju jv jw iq jx jy jz iu ka kb kc iy kd ke kf kg bi translated">2.适用于IOS应用程序</h2><p id="14c5" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">请转到Firebase控制台应用程序仪表板，点击添加iOS图标来设置iOS应用程序，并填写与Android步骤几乎相似的配置。</p><p id="ee13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下载<code class="du lc ld le kj b">GoogleService-Info.plist</code>文件，放入<code class="du lc ld le kj b">Runner</code>文件夹。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lf"><img src="../Images/3bf52e4696cbb246a91052157798e7b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*EfSc_iEvgwE1pe8pfzJaiQ.jpeg"/></div></figure><p id="ca1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj"> Info.plist </strong>中添加以下代码。</p><pre class="je jf jg jh fd ki kj kk kl aw km bi"><span id="2faf" class="jm jn hi kj b fi kn ko l kp kq">&lt;key&gt;CFBundleURLTypes&lt;/key&gt;</span><span id="246e" class="jm jn hi kj b fi lg ko l kp kq">&lt;array&gt;</span><span id="5e88" class="jm jn hi kj b fi lg ko l kp kq">&lt;dict&gt;</span><span id="81c5" class="jm jn hi kj b fi lg ko l kp kq">&lt;key&gt;CFBundleTypeRole&lt;/key&gt;</span><span id="9cef" class="jm jn hi kj b fi lg ko l kp kq">&lt;string&gt;Editor&lt;/string&gt;</span><span id="141f" class="jm jn hi kj b fi lg ko l kp kq">&lt;key&gt;CFBundleURLSchemes&lt;/key&gt;</span><span id="de0a" class="jm jn hi kj b fi lg ko l kp kq">&lt;array&gt;</span><span id="31f9" class="jm jn hi kj b fi lg ko l kp kq">&lt;string&gt;{YOUR REVERSE CLIENT ID}&lt;/string&gt;</span><span id="b7b3" class="jm jn hi kj b fi lg ko l kp kq">&lt;/array&gt;</span><span id="c12b" class="jm jn hi kj b fi lg ko l kp kq">&lt;/dict&gt;</span><span id="bcf9" class="jm jn hi kj b fi lg ko l kp kq">&lt;/array&gt;</span></pre><p id="30ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的反向客户ID <em class="lh"> : </em> <code class="du lc ld le kj b">REVERSED_CLIENT_ID from GoogleService-Info.plist</code></p><p id="5301" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一步，您需要填写<a class="ae jl" href="https://console.cloud.google.com/apis/credentials/consent" rel="noopener ugc nofollow" target="_blank"> OAuth同意书</a>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es li"><img src="../Images/820b038b86c1bbb71755aa1209157603.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*BwEvYd-jvKihngLaRp4G3g.jpeg"/></div></figure><p id="e568" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">应用名称:{您的应用名称} </strong></p><p id="f032" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">用户支持电子邮件:{您与此控制台关联的电子邮件地址} </strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lj"><img src="../Images/788a127c2ec98468d9ad15655e103153.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*ZqegbrA8lMxbTw6Qca8YBg.jpeg"/></div></figure><p id="c54c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="lh">申请首页:</em> </strong> <code class="du lc ld le kj b"><em class="lh"> https://&lt;Your Authorized domains&gt;</em></code></p><p id="fefe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="lh">应用隐私政策链接:</em> </strong> <em class="lh"> </em> <code class="du lc ld le kj b">https://&lt;Your Authorized domains&gt;</code></p><p id="5d10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="lh">应用服务条款链接:</em> </strong> <code class="du lc ld le kj b">https://&lt;Your Authorized domains&gt;</code></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lk"><img src="../Images/4596ec6f90388d64a7f4f456be768db5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*VhvYcLNNpMTR1cAraSx55Q.jpeg"/></div></figure><p id="bd9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，你需要从你的控制台激活<strong class="ih hj">谷歌登录认证</strong>。</p><p id="91ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为此，您需要从项目仪表板内的菜单中点击<strong class="ih hj">认证</strong>。</p><p id="5304" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择<strong class="ih hj">签到方式</strong>选项卡。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="er es ll"><img src="../Images/5ff0d2d4e91015eda72e8b0feec1ebaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mhZcnMB_EiRY6Q5dIZAR3A.jpeg"/></div></div></figure><p id="c786" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后选择<strong class="ih hj">谷歌。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="er es lm"><img src="../Images/a9ea47f5806ff922b1210c0e437fcfb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qfbfy9AKGCmlP57jRG04DA.jpeg"/></div></div></figure><p id="01b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">启用</strong>然后点击<strong class="ih hj">保存。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="er es ln"><img src="../Images/3f65cb7da7b9597dd05a805871865e57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bVea80q3tsqbGndF"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">照片由<a class="ae jl" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae jl" href="https://unsplash.com/@krakenimages?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> krakenimages </a>拍摄</figcaption></figure><p id="b4a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完成所有配置后，让我们来看代码。</p><p id="664f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们需要在<strong class="ih hj"> pubsec.yaml </strong>文件中添加包。</p><pre class="je jf jg jh fd ki kj kk kl aw km bi"><span id="9400" class="jm jn hi kj b fi kn ko l kp kq">google_sign_in: ^5.3.3<br/>fluttertoast: ^8.0.9</span></pre><p id="7574" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们实现google登录方法。</p><pre class="je jf jg jh fd ki kj kk kl aw km bi"><span id="8760" class="jm jn hi kj b fi kn ko l kp kq">Future&lt;GoogleSignInModel&gt; googleSignInProcess(BuildContext context) async {</span><span id="a4d6" class="jm jn hi kj b fi lg ko l kp kq">GoogleSignIn googleSignIn = GoogleSignIn();</span><span id="a8d1" class="jm jn hi kj b fi lg ko l kp kq">GoogleSignInAccount? googleUser = await googleSignIn.signIn();</span><span id="5c2f" class="jm jn hi kj b fi lg ko l kp kq">GoogleSignInAuthentication? googleAuth = await googleUser?.authentication;</span><span id="9204" class="jm jn hi kj b fi lg ko l kp kq">String? token = googleAuth?.idToken;</span><span id="f41c" class="jm jn hi kj b fi lg ko l kp kq">GoogleSignInModel socialGoogleUser = GoogleSignInModel(</span><span id="ddfb" class="jm jn hi kj b fi lg ko l kp kq">displayName: googleUser?.displayName,</span><span id="5845" class="jm jn hi kj b fi lg ko l kp kq">email: googleUser?.email,</span><span id="e0ae" class="jm jn hi kj b fi lg ko l kp kq">photoUrl: googleUser?.photoUrl,</span><span id="651e" class="jm jn hi kj b fi lg ko l kp kq">id: googleUser?.id,</span><span id="d818" class="jm jn hi kj b fi lg ko l kp kq">token: token);</span><span id="904c" class="jm jn hi kj b fi lg ko l kp kq">Fluttertoast.showToast(</span><span id="5f56" class="jm jn hi kj b fi lg ko l kp kq">msg: "Welcome",</span><span id="559a" class="jm jn hi kj b fi lg ko l kp kq">backgroundColor: Colors.green,</span><span id="52de" class="jm jn hi kj b fi lg ko l kp kq">textColor: Colors.white);</span><span id="de00" class="jm jn hi kj b fi lg ko l kp kq">return socialGoogleUser;</span><span id="f53a" class="jm jn hi kj b fi lg ko l kp kq">}</span></pre><p id="4324" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个方法负责登录google，它返回未来。</p><p id="5ab0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该方法从<strong class="ih hj">登录屏幕</strong>调用，如下所示:</p><pre class="je jf jg jh fd ki kj kk kl aw km bi"><span id="6e87" class="jm jn hi kj b fi kn ko l kp kq">onPressed: () {</span><span id="a41f" class="jm jn hi kj b fi lg ko l kp kq">googleSignInProcess(context);</span><span id="d316" class="jm jn hi kj b fi lg ko l kp kq">}</span></pre><h1 id="204d" class="ls jn hi bd jo lt lu lv js lw lx ly jw lz ma mb jz mc md me kc mf mg mh kf mi bi translated">让我们连接起来</h1><p id="6b3b" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">我们可以成为朋友。在<a class="ae jl" href="https://www.facebook.com/nabin.dhakal.714/" rel="noopener ugc nofollow" target="_blank">脸书</a>、<a class="ae jl" href="https://www.linkedin.com/in/nabindhakal/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>、<a class="ae jl" href="https://github.com/nbnD" rel="noopener ugc nofollow" target="_blank"> Github </a>、<a class="ae jl" href="https://www.youtube.com/channel/UCW6oYt_3QSl7J2HSHNqwXWw" rel="noopener ugc nofollow" target="_blank"> Youtube </a>、<a class="ae jl" href="https://www.buymeacoffee.com/nabindhakal" rel="noopener ugc nofollow" target="_blank"> BuyMeACoffee </a>和<a class="ae jl" href="https://www.instagram.com/nbn_d_/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上查找。</p><p id="64cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">访:<a class="ae jl" href="https://flutterjunction.com/" rel="noopener ugc nofollow" target="_blank">颤振结</a></p><p id="4f73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">投稿:</strong> <a class="ae jl" href="https://www.buymeacoffee.com/nabindhakal" rel="noopener ugc nofollow" target="_blank"> BuyMeACoffee </a></p><h1 id="8542" class="ls jn hi bd jo lt lu lv js lw lx ly jw lz ma mb jz mc md me kc mf mg mh kf mi bi translated">结论</h1><p id="b1d5" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">希望这篇文章对你有所帮助，让你学到新的东西。我在这篇文章中使用了一些对你们中的一些人来说可能是新的东西。</p><p id="d5a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你学到了新的东西或者想提出一些建议，请在评论中告诉我。</p><p id="ef69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这篇文章，请点击👏图标，它为您提供了传递所有新事物的动力。</p><p id="300c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，关注令人兴奋的文章和项目的更新。</p><p id="478d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过分享学习对学习过程产生了巨大的影响，并使社区越来越大。</p><p id="d75f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">分享是吸引其他爱好者的磁石。</p><p id="face" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，让我们朝着扩大我们的学习社区迈出一小步。</p><p id="3b08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与你的朋友分享这篇文章，或者如果你喜欢这篇文章，就在推特上发表评论。</p><h2 id="6599" class="jm jn hi bd jo jp jq jr js jt ju jv jw iq jx jy jz iu ka kb kc iy kd ke kf kg bi translated">在以下时间吃饱:</h2><div class="mj mk ez fb ml mm"><a href="https://github.com/nbnD/google_login" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab dw"><div class="mo ab mp cl cj mq"><h2 class="bd hj fi z dy mr ea eb ms ed ef hh bi translated">GitHub-nbnD/google _ log in:flutter中的Google登录</h2><div class="mt l"><h3 class="bd b fi z dy mr ea eb ms ed ef dx translated">一个新的颤振项目。这个项目是颤振应用的起点。一些帮助您入门的资源…</h3></div><div class="mu l"><p class="bd b fp z dy mr ea eb ms ed ef dx translated">github.com</p></div></div><div class="mv l"><div class="mw l mx my mz mv na jj mm"/></div></div></a></div></div></div>    
</body>
</html>