<html>
<head>
<title>Access 1Password using Python — Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python访问1密码—第3部分</h1>
<blockquote>原文：<a href="https://medium.com/codex/access-1password-using-python-part-3-365fcf66670?source=collection_archive---------6-----------------------#2022-12-20">https://medium.com/codex/access-1password-using-python-part-3-365fcf66670?source=collection_archive---------6-----------------------#2022-12-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5652" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们创建一个保险库时，Secret Automation工作流环境和连接服务器。</p><p id="ad55" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，最后一步是编写python脚本，从1密码帐户中提取数据，即保险库的内容。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/adc0b917b6e373b66f143b6fde55ef1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*fPN-FQsxamvbUsNSl5O6Xg.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><strong class="bd jp">1密码标志</strong></figcaption></figure><p id="2692" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将演示1密码Python SDK代码的部分代码。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jq"><img src="../Images/27c745ad63e6ca0e9bea7514142282af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*PPIp7twJJUknfohZqtL8pQ.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><strong class="bd jp">蟒蛇标志</strong></figcaption></figure><p id="925f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">部署连接服务器后，您将开始编写Python脚本。</p><p id="7100" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将安装1密码Python包</p><pre class="je jf jg jh fd jr js jt bn ju jv bi"><span id="2ec8" class="jw jx hi js b be jy jz l ka kb">pip install onepasswordconnectsdk</span></pre><p id="8a7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们编写一个脚本来提取我们的存储库列表。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kc kd l"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ke"><img src="../Images/714fe9673d73c4f80352bbe87bc313a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*rZtXLDiiStqU62cyz7Hx5A.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><strong class="bd jp">上面代码的输出:金库列表</strong></figcaption></figure><p id="3499" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们可以看到上述代码的输出，我们可以看到Vault的名称，它出现在我的1密码帐户中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kf"><img src="../Images/0ef79255f060706b6c334bebcd0eadbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*v4A08ZyJsvAEYq_UVoPRcw.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><strong class="bd jp">1密码账户上的金库</strong></figcaption></figure><p id="c906" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我已经在Vault中创建了一个名为“测试登录”的项目</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kg"><img src="../Images/f6ea8d0d3aa967114112d8bfa72766cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z5vgYvAO76VcWrT4_EuGCA.jpeg"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><strong class="bd jp">我的金库</strong></figcaption></figure><p id="8e99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将通过书写提取所有项目。</p><pre class="je jf jg jh fd jr js jt bn ju jv bi"><span id="9403" class="jw jx hi js b be jy jz l ka kb">Client.get_items(vault_id ='my_vault_id')<br/>#Client.get_items(vault_id ='cnwahxvch3urz5f5nvlm5qfdwa')</span></pre><p id="c603" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在上面代码的输出图“<strong class="ih hj">中看到保险库id:保险库列表</strong>”，其中提到了字段id。</p><p id="2c40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将获得项目名称和项目id，在项目id的帮助下，我将提取用户名和密码。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kl"><img src="../Images/9d31e32557b1a0bb6b5c36af57f99be2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*WqJPYOxbv6YWds1O8WpKcA.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><strong class="bd jp">项目清单</strong></figcaption></figure><pre class="je jf jg jh fd jr js jt bn ju jv bi"><span id="1d01" class="jw jx hi js b be jy jz l ka kb">#Command to extract the Credential from item -&gt; Test_Login<br/>Client.get_item("{item_id}", "{vault_id}")<br/>#credentials = Client.get_item("unku7mks7zazeq6it4kt2gvhba", "cnwahxvch3urz5f5nvlm5qfdwa")</span></pre><p id="d761" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行上述代码后，我们可以看到下面给出的输出:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es km"><img src="../Images/458eb1bb7feec558f36457dfb2c79c55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*FeCvQAwESI_m5PFa2eaTrw.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><strong class="bd jp">项目结果的输出。</strong></figcaption></figure><p id="852d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将提取用户名和密码</p><pre class="je jf jg jh fd jr js jt bn ju jv bi"><span id="e0d7" class="jw jx hi js b be jy jz l ka kb">#USERNAME<br/>username = credentials.fields[0].value<br/>#PASSWORD<br/>password = credentials.fields[1].value<br/>print("Username is: ", username)<br/>print("Password is: ", password)</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kn"><img src="../Images/16452fb9d9064aa285ae5d9e96745303.png" data-original-src="https://miro.medium.com/v2/resize:fit:422/format:webp/1*8nYYnpHQivpy_uvnO2R52A.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated"><strong class="bd jp">凭证输出</strong></figcaption></figure></div></div>    
</body>
</html>