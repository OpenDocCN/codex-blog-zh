<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/adding-authentication-to-full-stack-mern-web-application-4974543c3e66?source=collection_archive---------5-----------------------#2022-09-14">https://medium.com/codex/adding-authentication-to-full-stack-mern-web-application-4974543c3e66?source=collection_archive---------5-----------------------#2022-09-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/2d53f59bd5f4330cda750e08ecd4b3e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JHFbF6I52AD_Zn6j5CLF1Q.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">å‘å…¨æ ˆMERN webåº”ç”¨ç¨‹åºæ·»åŠ èº«ä»½éªŒè¯</figcaption></figure><p id="0c21" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">æœ¬æ–‡æ˜¯â€œè®©æˆ‘ä»¬æ„å»ºå’Œéƒ¨ç½²ä¸€ä¸ªå…¨æ ˆMERN webåº”ç”¨ç¨‹åºâ€çš„ç¬¬2éƒ¨åˆ†ã€‚åœ¨é‚£ç¯‡æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º<strong class="hy iv">ç”Ÿäº§åŠ›è·Ÿè¸ªå™¨</strong>çš„åº”ç”¨ç¨‹åºï¼Œå®ƒå…è®¸ä½ è®°å½•ä½ çš„æ—¥å¸¸æ´»åŠ¨ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ªé—®é¢˜ã€‚ä½ èƒ½æƒ³å‡ºæ¥å—ğŸ‘€ï¼Ÿä½ çš„æç¤ºå°±åœ¨è¿™ç¯‡æ–‡ç« çš„æ ‡é¢˜é‡Œã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªé—®é¢˜ä»¥åŠå¦‚ä½•è§£å†³å®ƒã€‚</p><h2 id="ae3c" class="iw ix hx bd iy iz ja jb jc jd je jf jg ih jh ji jj il jk jl jm ip jn jo jp jq bi translated">æˆ‘ä»¬å¼€å§‹å§</h2><p id="1c62" class="pw-post-body-paragraph hv hw hx hy b hz jr ib ic id js if ig ih jt ij ik il ju in io ip jv ir is it hb bi translated">âš ï¸ <em class="jw"> </em> <strong class="hy iv">è­¦å‘Š:</strong> <em class="jw">æœ¬æ•™ç¨‹ä½¿ç”¨çš„è®¤è¯æ˜¯ä¸å®‰å…¨çš„ã€‚æˆ‘ä¸å»ºè®®åœ¨çœŸå®é¡¹ç›®ä¸­ä½¿ç”¨è¿™ç§è®¤è¯æ–¹å¼ã€‚</em></p><h2 id="cc2c" class="iw ix hx bd iy iz ja jb jc jd je jf jg ih jh ji jj il jk jl jm ip jn jo jp jq bi translated">é—®é¢˜æ˜¯</h2><p id="d3f0" class="pw-post-body-paragraph hv hw hx hy b hz jr ib ic id js if ig ih jt ij ik il ju in io ip jv ir is it hb bi translated">ç”±äºæ‚¨çš„åº”ç”¨ç¨‹åºç›®å‰åœ¨çº¿å¯ç”¨ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨å®ƒå¹¶å‘æ‚¨çš„æ•°æ®åº“æ·»åŠ æ´»åŠ¨ã€‚è¿™ä¸å¤ªå¥½ï¼Œæ˜¯å—ï¼Ÿåœ¨è¿™é‡Œï¼Œèº«ä»½éªŒè¯ä»‹å…¥ä»¥æŒ½æ•‘å±€é¢ã€‚è‹¥è¦é˜²æ­¢æœªç»æˆæƒè®¿é—®æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œè¯·æ·»åŠ èº«ä»½éªŒè¯ã€‚</p><figure class="jy jz ka kb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jx"><img src="../Images/33aca294a678f2c92ae4a394c1c618f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_ZwmfaSTScNZi9_f.png"/></div></div></figure><h2 id="ac97" class="iw ix hx bd iy iz ja jb jc jd je jf jg ih jh ji jj il jk jl jm ip jn jo jp jq bi translated">æ·»åŠ èº«ä»½éªŒè¯</h2><p id="3dd0" class="pw-post-body-paragraph hv hw hx hy b hz jr ib ic id js if ig ih jt ij ik il ju in io ip jv ir is it hb bi translated">æˆ‘ä»¬å¿…é¡»åˆ†åˆ«å¼€å‘å‰ç«¯å’Œåç«¯èº«ä»½éªŒè¯ï¼Œå› ä¸ºæˆ‘ä»¬å°†ä¸¤è€…åˆ†å¼€äº†ã€‚åŒæ ·ï¼Œä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†åœ¨ä¸ä½¿ç”¨ä»»ä½•åº“çš„æƒ…å†µä¸‹æ„å»ºåŸºæœ¬èº«ä»½éªŒè¯ã€‚</p><h2 id="3c7e" class="iw ix hx bd iy iz ja jb jc jd je jf jg ih jh ji jj il jk jl jm ip jn jo jp jq bi translated">åç«¯è®¤è¯</h2><p id="f1cf" class="pw-post-body-paragraph hv hw hx hy b hz jr ib ic id js if ig ih jt ij ik il ju in io ip jv ir is it hb bi translated">æˆ‘ä»¬éœ€è¦å®ç°åç«¯è®¤è¯å¹¶æˆæƒä¸€äº›è·¯ç”±ã€‚</p><h2 id="3bcb" class="iw ix hx bd iy iz ja jb jc jd je jf jg ih jh ji jj il jk jl jm ip jn jo jp jq bi translated">èº«ä»½éªŒè¯ä¸æˆæƒ</h2><p id="c601" class="pw-post-body-paragraph hv hw hx hy b hz jr ib ic id js if ig ih jt ij ik il ju in io ip jv ir is it hb bi translated">è¿™ä¸¤ä¸ªè¯å¯èƒ½ä¼šè®©ä½ æ„Ÿåˆ°å›°æƒ‘ã€‚<strong class="hy iv">è®¤è¯</strong>æ˜¯å…è®¸æœ‰å‡­è¯çš„äººè®¿é—®æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œè€Œ<strong class="hy iv">æˆæƒ</strong>æ˜¯æˆæƒçš„äººè®¿é—®èµ„æºã€‚</p><figure class="jy jz ka kb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jx"><img src="../Images/80f67b1dc086d2be4df2b285295e5066.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QxHQ3PFlmKn_E7MD.png"/></div></div></figure><p id="49e7" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸­ï¼Œæˆæƒæˆäºˆå¯¹èµ„æºçš„è®¿é—®æƒï¼Œæ¯”å¦‚åˆ›å»ºæ´»åŠ¨å’Œè·å–æ´»åŠ¨ï¼Œè€Œèº«ä»½éªŒè¯åˆ™éœ€è¦ç™»å½•åˆ°åº”ç”¨ç¨‹åºã€‚</p><h2 id="d695" class="iw ix hx bd iy iz ja jb jc jd je jf jg ih jh ji jj il jk jl jm ip jn jo jp jq bi translated">JWTç®€ä»‹</h2><blockquote class="kc kd ke"><p id="82f0" class="hv hw jw hy b hz ia ib ic id ie if ig kf ii ij ik kg im in io kh iq ir is it hb bi translated">JSON Web Token (JWT)æ˜¯ä¸€ç§ç®€æ´çš„ã€URLå®‰å…¨çš„æ–¹å¼ï¼Œç”¨äºè¡¨ç¤ºè¦åœ¨åŒæ–¹ä¹‹é—´ä¼ è¾“çš„å£°æ˜ã€‚JWTä¸­çš„å£°æ˜è¢«ç¼–ç ä¸ºJSONå¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¢«ç”¨ä½œJSON Webç­¾å(JWS)ç»“æ„çš„æœ‰æ•ˆè½½è·ï¼Œæˆ–è€…è¢«ç”¨ä½œJSON WebåŠ å¯†(JWE)ç»“æ„çš„æ˜æ–‡ï¼Œä»è€Œèƒ½å¤Ÿå¯¹å£°æ˜è¿›è¡Œæ•°å­—ç­¾åæˆ–ä½¿ç”¨æ¶ˆæ¯è®¤è¯ç (MAC)è¿›è¡Œå®Œæ•´æ€§ä¿æŠ¤å’Œ/æˆ–åŠ å¯†ã€‚</p></blockquote><p id="548a" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">ç®€å•æ¥è¯´ï¼ŒJWTç”¨äºéªŒè¯ç”¨æˆ·æ˜¯å¦æœ‰æƒé™æ‰§è¡ŒæŸä¸ªæ“ä½œã€‚</p><p id="793c" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">è®©æˆ‘ä»¬ç”¨JWTå®ç°<strong class="hy iv">ç™»å½•è®¤è¯</strong>ã€‚</p><p id="cff1" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">å› ä¸ºä½ æ˜¯å”¯ä¸€ä½¿ç”¨ä½ çš„åº”ç”¨ç¨‹åºçš„äººï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦æ³¨å†ŒåŠŸèƒ½ï¼Œä½ å¯ä»¥å°†<code class="du ki kj kk kl b">EMAIL</code>å’Œ<code class="du ki kj kk kl b">PASSWORD</code>å­˜å‚¨åœ¨<code class="du ki kj kk kl b">.env</code>æ–‡ä»¶ä¸­ã€‚</p><ul class=""><li id="83ae" class="km kn hx hy b hz ia id ie ih ko il kp ip kq it kr ks kt ku bi translated">æ‰“å¼€<code class="du ki kj kk kl b">.env</code>æ–‡ä»¶ï¼Œæ·»åŠ è¿™ä¸‰ä¸ªå˜é‡ã€‚</li></ul><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="0d95" class="iw ix hx kl b fi kz la l lb lc">TOKEN_KEY=somesecrettoken<br/>EMAIL=youremail<br/>PASSWORD=yourpassword</span></pre><p id="93d4" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">è¿™é‡Œçš„<em class="jw"/><code class="du ki kj kk kl b"><em class="jw">TOKEN_KEY</em></code><em class="jw">å¯ä»¥æ˜¯ä»»æ„éšæœºçš„å­—ç¬¦ä¸²ã€‚å®ƒè¢«JWTä½¿ç”¨ã€‚</em></p><ul class=""><li id="d8ae" class="km kn hx hy b hz ia id ie ih ko il kp ip kq it kr ks kt ku bi translated">æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œå®‰è£…<code class="du ki kj kk kl b">jsonwebtoken</code>åŒ…ã€‚</li></ul><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="7dd9" class="iw ix hx kl b fi kz la l lb lc">npm i jsonwebtoken</span></pre><ul class=""><li id="1bee" class="km kn hx hy b hz ia id ie ih ko il kp ip kq it kr ks kt ku bi translated">æ‰“å¼€<code class="du ki kj kk kl b">controllers</code>æ–‡ä»¶å¤¹ï¼Œåˆ›å»º<code class="du ki kj kk kl b">auth.controller.js</code>æ–‡ä»¶ã€‚å¤åˆ¶å¹¶ç²˜è´´ä¸‹é¢çš„ä»£ç ã€‚</li></ul><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="29c8" class="iw ix hx kl b fi kz la l lb lc">const jwt = require("jsonwebtoken");<br/><br/>require("dotenv").config();<br/><br/>const EMAIL = process.env.EMAIL;<br/>const PASSWORD = process.env.PASSWORD;<br/><br/>/* If the email and password are correct, then return a token. */<br/>const login = (req, res) =&gt; {<br/>  /* Destructuring the email and password from the request body. */<br/>  const { email, password } = req.body;<br/><br/>  if (email === EMAIL &amp;&amp; password === PASSWORD) {<br/>    /* Creating a token. */<br/>    const token = jwt.sign({ email }, process.env.TOKEN_KEY, {<br/>      expiresIn: "2h",<br/>    });<br/>    return res.status(200).json({<br/>      statusCode: 200,<br/>      msg: "Login successful",<br/>      token,<br/>    });<br/>  }<br/>  return res.status(401).json({<br/>    statusCode: 401,<br/>    msg: "Invalid Credentials",<br/>  });<br/>};<br/><br/>module.exports = {<br/>  login,<br/>};</span></pre><p id="5969" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">ä¸Šé¢çš„ä»£ç æ£€æŸ¥é‚®ä»¶åœ°å€å’Œå¯†ç æ˜¯å¦åŒ¹é…ï¼Œå¦‚æœåŒ¹é…ï¼Œå°±ç”Ÿæˆä¸€ä¸ªä»¤ç‰Œå¹¶å‘é€åˆ°å‰ç«¯ï¼Œå®ç°å‰ç«¯è®¤è¯ã€‚</p><ul class=""><li id="075e" class="km kn hx hy b hz ia id ie ih ko il kp ip kq it kr ks kt ku bi translated">æ‰“å¼€<code class="du ki kj kk kl b">routes</code>æ–‡ä»¶å¤¹åˆ›å»º<code class="du ki kj kk kl b">auth.routes.js</code>å¹¶æ³¨å†Œä¸€æ¡æ–°è·¯çº¿ç™»å½•ã€‚</li></ul><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="8886" class="iw ix hx kl b fi kz la l lb lc">const express = require("express");<br/><br/>const { login } = require("../controllers/auth.controller");<br/><br/>const router = express.Router();<br/><br/>router.post("/login", login);<br/><br/>module.exports = router;</span></pre><ul class=""><li id="b312" class="km kn hx hy b hz ia id ie ih ko il kp ip kq it kr ks kt ku bi translated">æœ€åï¼Œåœ¨<code class="du ki kj kk kl b">server.js</code>ä¸­ï¼Œä½¿ç”¨æ³¨å†Œçš„è·¯çº¿ã€‚</li></ul><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="bf12" class="iw ix hx kl b fi kz la l lb lc">...<br/>const AuthRouter = require("./routes/auth.route");<br/>...<br/><br/>...<br/>app.use("/api/auth", AuthRouter);<br/>...</span></pre><p id="119b" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">æˆ‘ä»¬æˆåŠŸåœ°å®ç°äº†è®¤è¯ã€‚ç°åœ¨åªæœ‰ç»è¿‡è®¤è¯çš„äººæ‰èƒ½è®¿é—®æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ä½†æ˜¯ç»è¿‡è®¤è¯çš„äººä»ç„¶å¯ä»¥è®¿é—®æˆ‘ä»¬çš„èµ„æºå’Œæ·»åŠ æ´»åŠ¨ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰æˆæƒè¿™äº›è·¯çº¿ã€‚</p><p id="f0ba" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä¸­é—´ä»¶æ¥æˆæƒè¿™äº›è·¯ç”±ã€‚</p><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="9d76" class="iw ix hx kl b fi kz la l lb lc">GET /api/activities<br/><br/>POST /api/activity</span></pre><ul class=""><li id="8e6c" class="km kn hx hy b hz ia id ie ih ko il kp ip kq it kr ks kt ku bi translated">åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º<code class="du ki kj kk kl b">middleware</code>çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­åˆ›å»º<code class="du ki kj kk kl b">auth.js</code>æ–‡ä»¶ã€‚å¤åˆ¶å¹¶ç²˜è´´ä¸‹é¢çš„ä»£ç ã€‚</li></ul><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="af3a" class="iw ix hx kl b fi kz la l lb lc">const jwt = require("jsonwebtoken");<br/><br/>require("dotenv").config();<br/><br/>/* It checks if the token is valid and if it is, it decodes it and attaches the decoded token to the request object */<br/>const verifyToken = (req, res, next) =&gt; {<br/>  const token = String(req.headers.authorization)<br/>    .replace(/^bearer|^jwt/i, "")<br/>    .replace(/^\s+|\s+$/gi, "");<br/><br/>  try {<br/>    if (!token) {<br/>      return res.status(403).json({<br/>        statusCode: 403,<br/>        msg: "A token is required for authentication",<br/>      });<br/>    }<br/>    /* Verifying the token. */<br/>    const decoded = jwt.verify(token, process.env.TOKEN_KEY);<br/>    req.userData = decoded;<br/>  } catch (err) {<br/>    return res.status(401).json({<br/>      statusCode: 401,<br/>      msg: "Invalid Token",<br/>    });<br/>  }<br/>  return next();<br/>};<br/><br/>module.exports = verifyToken;</span></pre><p id="8017" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code class="du ki kj kk kl b">verifyToken()</code>çš„ä¸­é—´ä»¶å‡½æ•°æ¥éªŒè¯å‰ç«¯é€šè¿‡å¤´å‘é€çš„ä»¤ç‰Œã€‚å¦‚æœéªŒè¯æˆåŠŸï¼Œåˆ™ç”¨æˆ·å¯ä»¥è®¿é—®ä¸Šè¿°è·¯çº¿ã€‚</p><ul class=""><li id="db79" class="km kn hx hy b hz ia id ie ih ko il kp ip kq it kr ks kt ku bi translated">ç°åœ¨æ‰“å¼€<code class="du ki kj kk kl b">activity.route.js</code>ï¼Œè¿™æ ·ä¿®æ”¹ä»£ç ã€‚</li></ul><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="6338" class="iw ix hx kl b fi kz la l lb lc">...<br/>router.get("/activities", auth, getActivities);<br/><br/>router.post("/activity", auth, addActivity);<br/>...</span></pre><p id="f377" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">å°±æ˜¯è¿™æ ·ï¼åç«¯è®¤è¯å·²å®ŒæˆğŸ‰ã€‚</p><h2 id="30a9" class="iw ix hx bd iy iz ja jb jc jd je jf jg ih jh ji jj il jk jl jm ip jn jo jp jq bi translated">å‰ç«¯è®¤è¯</h2><p id="ad0d" class="pw-post-body-paragraph hv hw hx hy b hz jr ib ic id js if ig ih jt ij ik il ju in io ip jv ir is it hb bi translated">æ˜¯æ—¶å€™å®ç°å‰ç«¯è®¤è¯äº†ã€‚</p><ul class=""><li id="cbad" class="km kn hx hy b hz ia id ie ih ko il kp ip kq it kr ks kt ku bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç™»å½•é¡µé¢ã€‚</li><li id="7f06" class="km kn hx hy b hz ld id le ih lf il lg ip lh it kr ks kt ku bi translated">åœ¨<code class="du ki kj kk kl b">src</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»º<code class="du ki kj kk kl b">Login.jsx</code>å’Œ<code class="du ki kj kk kl b">Login.css</code>æ–‡ä»¶ã€‚å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶ç²˜è´´åˆ°<code class="du ki kj kk kl b">Login.jsx</code>æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨<code class="du ki kj kk kl b">Login.css</code>ä¸­ä½¿ç”¨<a class="ae iu" href="https://github.com/itsrakeshhq/productivity-app/blob/main/client/src/Login.css" rel="noopener ugc nofollow" target="_blank">è¿™ä¸ª</a>ã€‚</li></ul><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="3dd9" class="iw ix hx kl b fi kz la l lb lc">import React from "react";<br/><br/>import "./Login.css";<br/><br/>const Login = () =&gt; {<br/>  /* When the user submits the form, prevent the default action, grab the email and password from the form, send a POST request to the backend with the email and password, and if the response is successful, store the token in local storage and reload the page. */<br/>  const handleSubmit = async (event) =&gt; {<br/>    event.preventDefault();<br/>    const { email, password } = event.target;<br/><br/>    const response = await fetch(<br/>      `${process.env.REACT_APP_BACKEND_URL}/auth/login`,<br/>      {<br/>        method: "POST",<br/>        headers: {<br/>          "Content-Type": "application/json",<br/>        },<br/>        body: JSON.stringify({<br/>          email: email.value,<br/>          password: password.value,<br/>        }),<br/>      }<br/>    );<br/><br/>    const data = await response.json();<br/>    localStorage.setItem("token", data.token);<br/>    window.location.reload();<br/>  };<br/><br/>  return (<br/>    &lt;div className="login"&gt;<br/>      &lt;h1&gt;Login&lt;/h1&gt;<br/>      &lt;form onSubmit={handleSubmit}&gt;<br/>        &lt;span&gt;<br/>          &lt;label htmlFor="email"&gt;Email:&lt;/label&gt;<br/>          &lt;input type="email" id="email" name="email" /&gt;<br/>        &lt;/span&gt;<br/>        &lt;span&gt;<br/>          &lt;label htmlFor="password"&gt;Password:&lt;/label&gt;<br/>          &lt;input type="password" id="password" name="password" /&gt;<br/>        &lt;/span&gt;<br/>        &lt;button type="submit"&gt;Login&lt;/button&gt;<br/>      &lt;/form&gt;<br/>    &lt;/div&gt;<br/>  );<br/>};<br/><br/>export default Login;</span></pre><p id="41f4" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">è¿™å°†å‘ˆç°ç™»å½•é¡µé¢ã€‚</p><figure class="jy jz ka kb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jx"><img src="../Images/dcdb8b1e4c435d6c98096dde0c36f514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jj_Sir4uj_oMFiQd.png"/></div></div></figure><p id="44ad" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated"><code class="du ki kj kk kl b">handleSubmit()</code>ä»è¡¨å•ä¸­è·å–ç”µå­é‚®ä»¶å’Œå¯†ç ï¼Œå‘å‡º<code class="du ki kj kk kl b">POST</code>è¯·æ±‚ï¼Œå¹¶å‘é€ç”µå­é‚®ä»¶å’Œå¯†ç å€¼è¿›è¡ŒéªŒè¯ã€‚ä¹‹åï¼ŒæœåŠ¡å™¨éªŒè¯å¹¶å‘å›ä¸€ä¸ªæˆ‘ä»¬å¯ä»¥ç”¨æ¥è®¿é—®èµ„æºçš„ä»¤ç‰Œã€‚</p><p id="bd1b" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code class="du ki kj kk kl b"><a class="ae iu" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" rel="noopener ugc nofollow" target="_blank">localStorage</a></code>å°†å€¼æ°¸ä¹…ä¿å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ä¼šåœ¨å…³é—­åº”ç”¨ç¨‹åºæˆ–æµè§ˆå™¨åè¢«æ³¨é”€ã€‚</p><ul class=""><li id="9d72" class="km kn hx hy b hz ia id ie ih ko il kp ip kq it kr ks kt ku bi translated">æ‰“å¼€<code class="du ki kj kk kl b">index.js</code>æ–‡ä»¶å¹¶æ·»åŠ è¿™ä¸ªé€»è¾‘ã€‚å¦‚æœ<code class="du ki kj kk kl b">localStorage</code>ä¸­æœ‰ä»¤ç‰Œåˆ™æ¸²æŸ“<code class="du ki kj kk kl b">App.jsx</code>å¦åˆ™æ¸²æŸ“<code class="du ki kj kk kl b">Login.jsx</code>ã€‚</li></ul><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="5878" class="iw ix hx kl b fi kz la l lb lc">...<br/>const token = localStorage?.getItem("token");<br/><br/>root.render(<br/>    &lt;React.StrictMode&gt;<br/>    {token ? &lt;App /&gt; : &lt;Login /&gt;}<br/>    &lt;/React.StrictMode&gt;<br/>);<br/>...</span></pre><ul class=""><li id="0aa7" class="km kn hx hy b hz ia id ie ih ko il kp ip kq it kr ks kt ku bi translated">ç°åœ¨åœ¨<code class="du ki kj kk kl b">App.jsx</code>æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡å¤´éƒ¨å‘é€<code class="du ki kj kk kl b">token</code>ï¼Œè¿™æ ·åç«¯å°†éªŒè¯å®ƒå¹¶æä¾›å¯¹è·¯ç”±çš„è®¿é—®ã€‚</li></ul><pre class="jy jz ka kb fd kv kl kw kx aw ky bi"><span id="0087" class="iw ix hx kl b fi kz la l lb lc">...<br/>useEffect(() =&gt; {<br/>    const fetchData = async () =&gt; {<br/>      const result = await fetch(<br/>        `${process.env.REACT_APP_BACKEND_URL}/activities`,<br/>        {<br/>          headers: {<br/>            Authorization: `Bearer ${token}`, // &lt;----------- HERE<br/>          },<br/>        }<br/>      );<br/>      const data = await result.json();<br/>      setActivities(data);<br/>    };<br/>    fetchData();<br/>}, [token]);<br/>...<br/><br/>...<br/>const addActivity = async (event) =&gt; {<br/>    event.preventDefault();<br/><br/>    const newActivity = {<br/>      name: event.target.activity.value,<br/>      time: event.target.time.value,<br/>    };<br/><br/>    await fetch(`${process.env.REACT_APP_BACKEND_URL}/activity`, {<br/>      method: "POST",<br/>      headers: {<br/>        "Content-Type": "application/json",<br/>        Authorization: `Bearer ${token}`, // &lt;---------- HERE<br/>      },<br/>      body: JSON.stringify(newActivity),<br/>    });<br/><br/>    event.target.activity.value = "";<br/>    event.target.time.value = "";<br/>    window.location.reload();<br/>};<br/>...</span></pre><p id="811f" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">æå®šâœ…ã€‚æˆ‘ä»¬å®ç°äº†å‰ç«¯å’Œåç«¯è®¤è¯ã€‚ç°åœ¨åªæœ‰æ‚¨å¯ä»¥è®¿é—®æ‚¨çš„åº”ç”¨ç¨‹åºğŸ¥³(åªè¦æ‚¨ä¸å…±äº«æ‚¨çš„å‡­æ®ğŸ‘€).</p><p id="d4e8" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">æºä»£ç :<a class="ae iu" href="https://github.com/itsrakeshhq/productivity-app" rel="noopener ugc nofollow" target="_blank">ç”Ÿäº§åŠ›åº”ç”¨</a></p></div><div class="ab cl li lj gp lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hb hc hd he hf"><p id="a31e" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä¸ºå‰ç«¯å’Œåç«¯ç¼–å†™æµ‹è¯•ğŸ˜ã€‚</p></div><div class="ab cl li lj gp lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hb hc hd he hf"><p id="7781" class="pw-post-body-paragraph hv hw hx hy b hz ia ib ic id ie if ig ih ii ij ik il im in io ip iq ir is it hb bi translated">å…³æ³¨æ›´å¤šğŸ’¯ã€‚</p></div></div>    
</body>
</html>