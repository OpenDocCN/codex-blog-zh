<html>
<head>
<title>Restaurant Recommendation in Marrakech, Morocco, Using K-means Algorithm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用K-means算法推荐摩洛哥马拉喀什的餐馆</h1>
<blockquote>原文：<a href="https://medium.com/codex/ibm-applied-data-science-capstone-project-the-restaurant-battle-of-neighborhoods-in-marrakech-b521fa1ad747?source=collection_archive---------18-----------------------#2021-07-12">https://medium.com/codex/ibm-applied-data-science-capstone-project-the-restaurant-battle-of-neighborhoods-in-marrakech-b521fa1ad747?source=collection_archive---------18-----------------------#2021-07-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/e81f981413b4eacd646fe11c5fe6aac4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qjfZF2Fojqm8haxUc1qMyw.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated">图片来自devidia.net</figcaption></figure><blockquote class="iq ir is"><p id="e07f" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是IBM数据科学专业证书的最后一个项目——IBM数据科学顶点项目。</p><p id="f3bc" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae js" href="https://github.com/joseph-josh/Coursera_Capstone" rel="noopener ugc nofollow" target="_blank">在Github上访问项目。</a></p></blockquote><h1 id="29d0" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">1.介绍</h1><p id="facb" class="pw-post-body-paragraph it iu hi iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hb bi translated">一年前，当冠状病毒来袭时，我决定通过提升我在供应链管理和数据科学等领域的技能和理解来利用我的时间。我参加的课程之一是IBM数据科学专业证书。它由9门单独的课程组成，即数据科学方向、数据科学方法论、用于数据科学和人工智能的Python、用于数据科学的开源工具、用于Python的数据可视化、用于数据科学的数据库和SQL、用于Python的数据分析、用于Python的机器学习以及应用数据科学顶点。</p><p id="bf9f" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">平衡IBM项目与我的大学培训、目前的实习和其他职责一直是一个巨大的挑战。通过努力工作和决心，我终于走到了最后一步:应用数据科学的顶峰。本课程的期末作业是一个项目，在这个项目中，学习者被引导使用他们在整个项目中获得的许多技能。虽然每个学生都可以选择题目，但是这个项目应该是关于使用位置数据来解决商业问题。我选择在摩洛哥的马拉喀什进行研究。这篇文章是可交付成果的一部分，还有一个<a class="ae js" href="https://github.com/joseph-josh/Coursera_Capstone/blob/main/Capstone%20project/script.ipynb" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a>和一份报告。</p><p id="3c9d" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">我强烈推荐IBM数据科学专业证书。来看看:<a class="ae js" href="https://www.coursera.org/professional-certificates/ibm-data-science" rel="noopener ugc nofollow" target="_blank">https://www . coursera . org/professional-certificates/IBM-data-science</a>。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="223e" class="jt ju hi bd jv jw lg jy jz ka lh kc kd ke li kg kh ki lj kk kl km lk ko kp kq bi translated">2.商业问题</h1><p id="6174" class="pw-post-body-paragraph it iu hi iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hb bi translated">马拉喀什也被称为红色城市，是仅次于卡萨布兰卡、非斯和丹吉尔的第四大城市，拥有100多万居民，它仍然是这个国家的旅游首都，拥有无数的市场、花园、博物馆、宫殿和清真寺。对于游客来说，考虑到喜欢的菜肴类型和距离，找到最佳位置是一个挑战。这促使人们根据游客的口味，开发一种推荐最佳餐厅的工具。</p><p id="eb94" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">我的目标是为到访马拉喀什的外国游客提供简单的建议，比如去哪里吃当地菜肴，去哪里吃地中海食品或快餐。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="6b8d" class="jt ju hi bd jv jw lg jy jz ka lh kc kd ke li kg kh ki lj kk kl km lk ko kp kq bi translated">3.数据的描述</h1><p id="53dd" class="pw-post-body-paragraph it iu hi iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hb bi translated">为了完成这个项目，我需要两套数据。首先，我将使用Foursquare API来检索马拉喀什市内餐馆的位置数据。对于每个餐馆，检索的信息包括餐馆名称、ID、位置和食物类别。作为一个例子，这里有一个马拉喀什浪漫晚餐的餐馆列表。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es ll"><img src="../Images/abbe9a27046fa937cf3669be6b87675f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wbxc68RGEpVIohEJI8FPvw.png"/></div></div></figure><p id="a69b" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">第二，我将在地理编码器工具和维基百科中的<a class="ae js" href="https://fr.wikipedia.org/wiki/Cat%C3%A9gorie:Arrondissement_de_Marrakech" rel="noopener ugc nofollow" target="_blank">列表的帮助下，使用马拉喀什行政区的地理坐标。</a></p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lu"><img src="../Images/02bb92839dabd2e9ef28c61279b5c37e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PoJvxsW4QlhbMsqwuV284A.png"/></div></div></figure></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="a69e" class="jt ju hi bd jv jw lg jy jz ka lh kc kd ke li kg kh ki lj kk kl km lk ko kp kq bi translated">4.方法学</h1><p id="fa02" class="pw-post-body-paragraph it iu hi iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hb bi translated">在这一部分，我将描述探索性的数据分析和产生最终结果的所有过程。</p><p id="242c" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">在安装了项目中需要的所有必要的包之后(下图)，我开始获取马拉喀什的街区列表和它们的地理坐标。为了做到这一点，我使用了library BeautifulSoup从描述马拉喀什市的维基百科页面中删除了<a class="ae js" href="https://fr.wikipedia.org/wiki/Cat%C3%A9gorie:Arrondissement_de_Marrakech" rel="noopener ugc nofollow" target="_blank">列表。下面的数据框显示马拉喀什有5个街区。然后，使用geopy包获取列表中每个邻域的纬度和经度。</a></p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lv"><img src="../Images/45cfd3abd909d245a15f01befd13a274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wW9Qj5HQe3KEVtq7W6e6nA.png"/></div></div></figure><p id="ae8c" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">之后，我使用库leav创建了一个地图来可视化社区。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lw"><img src="../Images/c512770e6634ad37694d05e98f480d20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WpnPWtffrrchGi6XonrcwQ.png"/></div></div></figure><p id="acfb" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">检索完街区及其坐标后，下一步将使用Foursquare API检索每个地区的所有场馆。马拉喀什总共有105个场馆，包括酒店、餐厅、咖啡馆、市场等。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es lx"><img src="../Images/d1e02ae0f69ddc5d5e27f10e07f6892f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U1-6bWFRSsJZu2OlR6ZGRg.png"/></div></div></figure><p id="3295" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">但是由于我们只对餐馆场所感兴趣，所以我根据它们的类别过滤了场所。将被保留用于进一步分析的地点将是那些在其类别中包括单词“餐馆”的地点。有33个这样的餐馆和10个不同类型的餐馆，它们的频率如下。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es ly"><img src="../Images/d28a99decab10ac5747a643dba1bd079.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nzZXVCINwpwnKSAH2WlkVQ.png"/></div></div></figure><p id="112f" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">为了更好地了解这10类餐馆的排名，我使用seaborn/matplotlib包绘制了一个条形图。从图中可以看出，摩洛哥餐厅、法国餐厅和意大利餐厅是马拉喀什最常见的3种餐厅。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/a38cece179a0853fb0b5083f1379a41d.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*sjpI_My6wFbk5PtzIWrqeA.png"/></div></figure><p id="9909" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">现在工作的最重要的部分来了:根据包含的餐馆类型对区域进行聚类。在使用K-means算法创建聚类之前，我首先使用one-hot编码转换了包含邻近地区的餐馆场所的数据帧，然后我按邻近地区对频率进行了分组。结果如下。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es ma"><img src="../Images/d0bbf82f58e1dff121f5d4cfd5131b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*INI6HsSaxGf9wqRpnZmP2w.png"/></div></div></figure><p id="9e7c" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">我们可以注意到，在马拉喀什的Ennkhil附近没有找到餐厅。</p><p id="5dfb" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">先前的数据框已用于创建新的时间，在该时间中可以看到每个地区最常见的餐馆类型。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mb"><img src="../Images/d68b05ca35f97305ff5e5283a385ae0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PLyvm6Q8rNGYpiujzhWytA.png"/></div></div></figure><p id="b8d7" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">最后，我启用了无监督机器学习算法K-means来创建聚类。为了找到代表聚类数的K的最佳值，使用了诸如剪影法和肘形法的方法。在我的例子中，创建集群的地区数量很少(4个地区)，在我看来，k=3是一个合理的选择。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="4e99" class="jt ju hi bd jv jw lg jy jz ka lh kc kd ke li kg kh ki lj kk kl km lk ko kp kq bi translated">5.结果</h1><p id="1669" class="pw-post-body-paragraph it iu hi iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hb bi translated">每个街区都被贴上了标签。总共有3个标签(0、1和2)代表创建的3个聚类。从下面的数据框中可以明显看出，马拉喀什的Ennkhil区未被分类到任何聚类中。原因是，正如我们在上面已经注意到的，在那个街区没有发现餐馆。聚类的结果如下所示。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mc"><img src="../Images/ce5b744c6f533b173834279bdc0621b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pjH8GqcYPClt8fkoj_tjHQ.png"/></div></div></figure><p id="9b8d" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">我们还可以通过给每个聚类的邻域赋予特定的颜色，并使用flour在地图上绘制区域来可视化结果。</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es md"><img src="../Images/19fb7434f743f62caeddcf49c9c311a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DQI7kylhnboDFmYzZSPtEg.png"/></div></div></figure><p id="71c2" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">将邻近区域分组后，现在我们可以检查每个聚类，并确定区分每个聚类的不同餐馆场所类别。根据定义的类别，我们可以为每个集群指定一个名称。</p><p id="4198" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated"><strong class="iw hj">集群1:法国/摩洛哥美食集群</strong></p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es me"><img src="../Images/a5012c4140194b9ad3ecca789ff6859d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LSJgmknp3qEE5Vsq2x-tOg.png"/></div></div></figure><p id="e8e8" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated"><strong class="iw hj">集群2:非洲美食集群</strong></p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mf"><img src="../Images/9c9da8569c07c7e18a0d95a1a332d73d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Bw0DIbxFiijqfOW4kNnbA.png"/></div></div></figure><p id="9763" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated"><strong class="iw hj">集群3:亚洲美食集群</strong></p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es mg"><img src="../Images/5ba235725357cd99eccb41b6990c381d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YNPtQKjjoVJlxYCfI5odjQ.png"/></div></div></figure></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="d0c5" class="jt ju hi bd jv jw lg jy jz ka lh kc kd ke li kg kh ki lj kk kl km lk ko kp kq bi translated">6.讨论</h1><p id="af4a" class="pw-post-body-paragraph it iu hi iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hb bi translated">该聚类研究可以总结为3个部分。首先，我使用BeautifulSoup从维基百科中抓取数据并使用Geopy库创建了一个包含马拉喀什街区列表的数据框。随后，使用Foursquare API和地区坐标检索餐馆的位置。在最后阶段，餐馆场所数据已经被用于执行探索性数据分析和基于餐馆类别的邻居聚类。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="a93c" class="jt ju hi bd jv jw lg jy jz ka lh kc kd ke li kg kh ki lj kk kl km lk ko kp kq bi translated">7.结论</h1><p id="c196" class="pw-post-body-paragraph it iu hi iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hb bi translated">在这个项目中，我使用了Foursquare API和不同的数据科学和机器学习方法来获得关于在马拉喀什哪里可以买到什么类型的食物的最终建议。这项研究的结果可能对参观摩洛哥第一旅游城市马拉喀什的游客有用，因为他们可能会发现找到吃他们最喜欢的菜肴的最佳位置是一项挑战。</p><p id="0ae5" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je kt jg jh ji kv jk jl jm kx jo jp jq jr hb bi translated">总之，这个项目是一个利用数据技术找到现实世界问题解决方案的绝佳机会。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><h1 id="aa91" class="jt ju hi bd jv jw lg jy jz ka lh kc kd ke li kg kh ki lj kk kl km lk ko kp kq bi translated">8.参考文献和致谢</h1><p id="14ea" class="pw-post-body-paragraph it iu hi iw b ix kr iz ja jb ks jd je kt ku jh ji kv kw jl jm kx ky jp jq jr hb bi translated">我从其他完成顶点项目的人的出版物中获得了宝贵的灵感和深刻的见解，对此我感激不尽。我还要感谢IBM让我在这个专业证书中学习到了与数据科学和数据技术相关的技能，尤其是这个capstone项目。如果没有这些资源，这个项目会更加困难。仅举几个例子:</p><ul class=""><li id="e78b" class="mh mi hi iw b ix iy jb jc kt mj kv mk kx ml jr mm mn mo mp bi translated"><a class="ae js" href="https://www.linkedin.com/pulse/applied-data-science-capstone-project-restaurant-wagner-mba/" rel="noopener ugc nofollow" target="_blank">https://www . LinkedIn . com/pulse/applied-data-science-capstone-project-restaurant-Wagner-MBA/</a></li><li id="427c" class="mh mi hi iw b ix mq jb mr kt ms kv mt kx mu jr mm mn mo mp bi translated"><a class="ae js" href="https://www.linkedin.com/pulse/housing-sales-prices-venues-data-analysis-ofistanbul-sercan-y%C4%B1ld%C4%B1z/" rel="noopener ugc nofollow" target="_blank">https://www . LinkedIn . com/pulse/housing-sales-prices-venies-data-analysis-ofistanbul-ser can-y % C4 % B1ld % C4 % B1z/</a></li><li id="e380" class="mh mi hi iw b ix mq jb mr kt ms kv mt kx mu jr mm mn mo mp bi translated"><a class="ae js" href="https://towardsdatascience.com/ibm-data-science-capstone-project-battle-of-the-neighborhoods-c90648a0dbab" rel="noopener" target="_blank">https://towards data science . com/IBM-data-science-capstone-project-battle-of-the-neighborhood-c 90648 a 0 dbab</a>。</li></ul></div></div>    
</body>
</html>