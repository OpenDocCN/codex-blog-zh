<html>
<head>
<title>I See the Next Phase of Enterprise Application Delivery</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我看到了企业应用交付的下一个阶段</h1>
<blockquote>原文：<a href="https://medium.com/codex/ive-seen-the-next-phase-of-enterprise-application-delivery-d3ad62ad09e3?source=collection_archive---------9-----------------------#2021-09-06">https://medium.com/codex/ive-seen-the-next-phase-of-enterprise-application-delivery-d3ad62ad09e3?source=collection_archive---------9-----------------------#2021-09-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c3e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在过去的4-5年里，我们都学到了很多关于容器的知识。技术专家已经接受了它们的可移植性、固有的安全性优势，以及容器编排带来的最棒的旋转、拆卸和伸缩能力。还有什么比这更好的呢？</p><p id="bd89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我回答这个问题之前，让我提供一些背景。我在疫情的爱好是为餐馆建立一个网络平台来创建二维码。我非常想帮助过渡到非接触式菜单，因为我一直对餐饮业固有的缩放问题感到焦虑。我几乎总是宁愿在网上订餐/通过电话付款，而不是等着有人来为我服务。现在让我们来看看这个应用程序:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/bc63ec1b1e70da16d4835687f1bcfb3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QWAFezK_LUtXNM0Y"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">应用架构</figcaption></figure><p id="a1b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该设计由React前端、Node.js中间件API服务器和Mongo/Firestore后端数据库组成。我开始使用的架构是基于Kubernetes的。我想创建一个架构，它允许我拥抱开源技术，同时提供如果这个产品成功了可以轻松扩展的方法。我创建了我的CI/CD工作流，以便在我的集群中自动发布新的容器，生成SSL证书，甚至托管我自己的Mongo DB。延迟低，自动化程度高，一切都很好！</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ju"><img src="../Images/c251c17ec3bab9f3a20052041597a41d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dsgBAlPbbUCzDca8"/></div></div></figure><p id="556e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，还有一个问题，我没有顾客。运行这个演示系统每月花费我大约100美元，虽然这并不多，但是当我有0个用户时，这就有点烦人了。这促使我重新思考我的设置是如何架构的，如果你浏览这篇文章，这里是它变好的地方。我的应用程序只需要在特定的时间窗口内快速加载。它是为餐馆设计的，这些餐馆的营业时间很正常，而且顾客流量高峰期是可以预测的。我的应用程序没有理由需要在凌晨4点有低延迟。这让我想到了一种新技术，我坚信在不久的将来，世界将会使用这种新技术，在可预测的成本结构中，根据用户需求周期进一步调整应用交付。这项技术被称为<a class="ae jd" href="https://cloud.google.com/run" rel="noopener ugc nofollow" target="_blank">云运行</a>，基于谷歌开创的用于无服务器应用的开源<a class="ae jd" href="https://knative.dev/docs/" rel="noopener ugc nofollow" target="_blank"> Knative </a>框架。</p><p id="2e59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Cloud Run允许我在通过我的站点URL收到请求时唤醒我的容器。这个容器可以有一个可配置的生命周期，允许它在缩减到0之前保持一段时间不被使用。我不再需要让某个东西一直运行。在一段时间的不活动之后，对我的站点的第一个请求可能会经历几秒钟的延迟，但是在此之后，后续的请求通常会从同一个容器得到响应。如果在指定的时间间隔内没有请求进入，容器将缩小到0。如果发生相反的情况，它将水平扩展，就像启用了水平自动扩展的常规Kubernetes部署一样。使用云运行的托管版本将我的运营成本降低了约90%,这对于我所处的引导模式来说是完美的。</p><h1 id="f5d9" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">这在企业环境中变得更加有趣</h1><p id="9a1a" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">作为Kubernetes领域的产品经理，以及之前在该领域多年的销售工程师，我知道Lambda(或云/Azure功能)蔓延是一个问题。除了明显的CI/CD挑战之外，Lambda型管道还会带来不可预测的成本问题。公司很少提前知道他们的无服务器功能要花多少钱，有时根据服务的不同，它可能不比其他选择便宜。这些问题的解决方案是在您已经付费的Kubernetes集群中部署无服务器应用程序或容器。这是应用交付的未来。</p><p id="ab0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">云运行可以在您的GKE Kubernetes集群中执行。这意味着，您可以限制Kubernetes集群的规模，以固定您的成本，同时利用该集群内您已经购买的额外计算能力，通过云运行中托管的容器构建无服务器应用程序或功能。您的Kubernetes部署规格将与您现在已经使用的类似，好处是当它们不活动时，pod将扩展到0。您可以通过URL web hook或消息总线触发器来唤醒这些pod，更多方法正在开发中。</p><h1 id="f877" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">还不服气？</strong></h1><p id="4b17" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">这里有3个要点:</p><ul class=""><li id="6bf8" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated">Cloud Run允许容器扩展到0，这意味着您可以使用现有的基于容器的CI/CD管道和DevOps /DevSecOps工具集来开始。</li><li id="114e" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">如果您在自己的K8s集群中使用Cloud Run，您可以利用现有的容量和治理，更不用说按存储容量使用计费模式了。</li><li id="f631" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">Cloud Run可以通过<a class="ae jd" href="https://cloud.google.com/anthos" rel="noopener ugc nofollow" target="_blank"> Anthos </a>部署在GKE的Prem、GCP、AWS或Azure上，为您提供云内外的无服务器功能。</li><li id="8ea4" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">如果您的需求发生变化，您可以在同一个Kubernetes集群中转移到非无服务器模式，而无需重新架构您的应用程序。</li></ul><h1 id="c957" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">终于</strong></h1><p id="d4c0" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">我们正在竞相降低服务交付的边际成本。我们所做的一切都是为了优化和自动化。我认为，应用交付的下一个阶段是使用可预测和可控制的成本模型关闭应用并在需要时唤醒它们的概念。不要让您的交付决策成为您的下一个遗留瓶颈。</p><p id="0432" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Cloud Run是一项托管服务，或者是GCP上的GKE集群的一部分，或者是在<a class="ae jd" href="https://cloud.google.com/anthos" rel="noopener ugc nofollow" target="_blank"> AWS和Azure Q4 2021 </a>上。如果您正在Kubernetes上标准化，那么是时候在无服务器应用程序部署框架上标准化了。</p></div></div>    
</body>
</html>