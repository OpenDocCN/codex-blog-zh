# å¦‚ä½•ä½¿ç”¨ Sendbird UIKit åœ¨ iOS ä¸Šå®šåˆ¶åº”ç”¨å†…èŠå¤©

> åŸæ–‡ï¼š<https://medium.com/codex/how-to-customize-in-app-chat-on-ios-with-the-sendbird-uikit-33e2188e3897?source=collection_archive---------17----------------------->

![](img/e2f93a4ddd0e74be11bac39768e8097f.png)

ä»™é¸Ÿ 2022

## è‡ªå®šä¹‰ Sendbird iOS èŠå¤© UIKit çš„é¢‘é“åˆ—è¡¨è§†å›¾å’Œæ¶ˆæ¯è§†å›¾ã€‚

æ°æ£®Â·å¥¥å°”è‚–æ©
è§£å†³æ–¹æ¡ˆå·¥ç¨‹å¸ˆ| [ä»™é¸Ÿ](https://www.sendbird.com/)

*ä½ å¯èƒ½ä¼šå‘ç°æŸ¥çœ‹ iOS èŠå¤© UIKit* [*æ ·æœ¬*](https://github.com/sendbird/sendbird-uikit-ios) *å¾ˆæœ‰ç”¨ã€‚æœ‰å…³æœ¬æ•™ç¨‹ä¸­ææ–™çš„å…¶ä»–æŒ‡å¯¼ï¼Œè¯·å‚è§* [*æ–‡æ¡£*](https://sendbird.com/docs/uikit/v2/ios/quickstart/send-first-message) *ã€‚è¦æŸ¥çœ‹ä»™é¸ŸèŠå¤©çš„è¿è¡Œæƒ…å†µï¼Œè¯·æŸ¥çœ‹è¿™ä¸ª* [*æ¼”ç¤º*](https://sendbird.com/demos/in-app-chat) *ã€‚æ‚¨ä¹Ÿå¯ä»¥è®¿é—®æˆ‘ä»¬çš„* [*ç½‘ç«™*](https://sendbird.com/features/chat-messaging/uikit) *äº†è§£æ›´å¤šå…³äº UIKit çš„ä¿¡æ¯ã€‚*

# ä»‹ç»

æœ¬æ•™ç¨‹å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•å®šåˆ¶ iOS Sendbird èŠå¤©å·¥å…·åŒ…ã€‚æˆ‘ä»¬å°†å®šåˆ¶ä¸¤ä¸ªç»„ä»¶:

*   é¢‘é“åˆ—è¡¨è§†å›¾
*   é‚®ä»¶åˆ—è¡¨è§†å›¾

åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œæ‚¨éœ€è¦å®‰è£… Sendbird UIKitã€‚ä¸ºæ­¤ï¼Œè¯·éµå¾ª Sendbird [**æ–‡æ¡£**](https://sendbird.com/docs/uikit/v1/ios/quickstart/send-first-message) ä¸­çš„è¯´æ˜ã€‚

æ—¢ç„¶ä½ å·²ç»å‡†å¤‡å¥½äº†ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚

# å¦‚ä½•è‡ªå®šä¹‰èŠå¤©é¢‘é“åˆ—è¡¨

è¦æ›´æ”¹é¢‘é“åˆ—è¡¨çš„å¤–è§‚ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–° SBUChannelListViewControllerã€‚ä»¥ä¸‹è¦ç‚¹åŒ…å«è¦å®šåˆ¶çš„ä»£ç :

é¦–å…ˆï¼Œè®©æˆ‘ä»¬:

*   åˆå§‹åŒ– UIKit é¢‘é“åˆ—è¡¨è§†å›¾æ§åˆ¶å™¨
*   å¹¶è¦†ç›–å…¶åŠŸèƒ½å’Œå±æ€§

è¿™æ˜¯ä¸º iOS å®šåˆ¶ Sendbird Chat UIKit çš„ä»»ä½•ç»„ä»¶çš„ç›¸åŒè¿‡ç¨‹ã€‚

ä¸‹é¢æ˜¯åˆå§‹åŒ–è‡ªå®šä¹‰ UIKit é¢‘é“åˆ—è¡¨è§†å›¾ç±»çš„åŸºæœ¬æ¨¡å¼ã€‚IBAction openChat æ˜¯è§†å›¾æ§åˆ¶å™¨ä¸­çš„ä¸€ä¸ªæŒ‰é’®ï¼Œç”¨äºæ˜¾ç¤º UIKit é¢‘é“åˆ—è¡¨ã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ”¹å˜çš„å¤–è§‚:

1.  å·¦è¾¹çš„æŒ‰é’®
2.  æ ‡é¢˜è§†å›¾
3.  å³ä¾§æŒ‰é’®
4.  é€šé“ç»†èƒ
5.  è‡ªå®šä¹‰é¢‘é“åˆ—è¡¨æŸ¥è¯¢

![](img/3b22f60fabe3625f2e0f2762d3f80159.png)

å›¾ä¸€ã€‚èŠå¤©é¢‘é“åˆ—è¡¨å®šåˆ¶å‰å

## è‡ªå®šä¹‰å·¦è¾¹çš„æŒ‰é’®

è¦è‡ªå®šä¹‰ leftBarButtonï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ä»£ç :

## è‡ªå®šä¹‰æ ‡é¢˜è§†å›¾

è¦è‡ªå®šä¹‰æ ‡é¢˜è§†å›¾ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ä»£ç :

## è‡ªå®šä¹‰ channelListVC.rightBarButton

è¦è‡ªå®šä¹‰[**channelistvc . rightbarbutton**](https://gist.github.com/supertopoz/c3b266f8da04cb5a8aab60a9d587460c#file-channellistviewcontroller-swift-L21)ä½¿ç”¨ä»¥ä¸‹ä»£ç :

## è‡ªå®šä¹‰ channelistvc . register(channel cell:customchannelistcell())

è¦è‡ªå®šä¹‰ channelistvc . register(channel cell:customchannelistcell())ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ä»£ç :

å¯¹äº**customchannelistcell**ç±»ï¼Œä»£ç ä¾§é‡äºå•å…ƒæ ¼è§†å›¾çš„ç¼–ç¨‹å‘ˆç°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå·¥ä½œç¤ºä¾‹ä»£ç :

## å®šåˆ¶é¢‘é“åˆ—è¡¨æŸ¥è¯¢

*   åˆ›å»ºé¢‘é“åˆ—è¡¨è§†å›¾æ—¶ï¼Œåœ¨åˆå§‹åŒ–æ—¶åŒ…å«æ‚¨çš„è‡ªå®šä¹‰æŸ¥è¯¢ï¼Œå¹¶å°†å…¶ä¼ é€’åˆ°**è¶…çº§**ã€‚ **init** ()æ–¹æ³•ã€‚
*   è‡ªå®šä¹‰é¢‘é“åˆ—è¡¨æŸ¥è¯¢åˆ©ç”¨äº† Sendbird core SDK çš„é¢‘é“åˆ—è¡¨ [**æŸ¥è¯¢**](https://sendbird.com/docs/chat/v3/ios/guides/group-channel-advanced#2-search-channels-by-name-url-or-other-filters) ã€‚Sendbird æ ¸å¿ƒ SDK æ˜¯ Sendbird UIKit åº“çš„ä¸€éƒ¨åˆ†ã€‚

# å¦‚ä½•å®šåˆ¶é¢‘é“æ¶ˆæ¯åˆ—è¡¨

è¿™ä¸ª viewController æ˜¾ç¤ºç‰¹å®šé€šé“ä¸­çš„æ‰€æœ‰æ¶ˆæ¯ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†æ›´æ”¹:

1.  å·¦è¾¹çš„æŒ‰é’®
2.  æ ‡é¢˜è§†å›¾
3.  å³ä¾§æŒ‰é’®
4.  register(channel cell:CustomUserMessageCell())
5.  è‡ªå®šä¹‰æ¶ˆæ¯å‘é€

![](img/e60eb8437adbca6a77efa11fc1b5a7da.png)

å›¾äºŒã€‚é¢‘é“æ¶ˆæ¯åˆ—è¡¨å®šåˆ¶å‰å

æ‚¨éœ€è¦ç”¨é€šé“ URL æˆ–é€šé“å¯¹è±¡åˆå§‹åŒ– channelViewControllerï¼Œä»¥è‡ªå®šä¹‰å•ä¸ªé€šé“ã€‚ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•é‡å†™ SBUChannelListViewController çš„ didSelectRowAt å§”æ‰˜ã€‚è¦†ç›–å…è®¸æ‚¨æ”¶å¬åœ¨ channelListViewController ä¸­é€‰æ‹©çš„é¢‘é“ï¼Œç„¶åæ˜¾ç¤º channelViewControllerã€‚

ViewController.swift

## è‡ªå®šä¹‰å·¦è¾¹çš„æŒ‰é’®

è¦è‡ªå®šä¹‰ leftBarButtonï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ä»£ç :

## è‡ªå®šä¹‰æ ‡é¢˜è§†å›¾

è¦è‡ªå®šä¹‰æ ‡é¢˜è§†å›¾ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ä»£ç :

## è‡ªå®šä¹‰å³è¾¹çš„æŒ‰é’®

è¦è‡ªå®šä¹‰ rightBarButtonï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ä»£ç :

## è‡ªå®šä¹‰å¯„å­˜å™¨(channel cell:CustomUserMessageCell())

è¦è‡ªå®šä¹‰å¯„å­˜å™¨(channel cell:CustomUserMessageCell())ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ä»£ç :

## è‡ªå®šä¹‰æ¶ˆæ¯å‘é€

è¦è‡ªå®šä¹‰æ¶ˆæ¯å‘é€ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ä»£ç :

# é¢œè‰²è®¾ç½®

é»˜è®¤æƒ…å†µä¸‹ï¼ŒSendbird æä¾›äº†ä¸€ä¸ªæ¼‚äº®çš„ç”¨æˆ·ç•Œé¢ï¼Œå¸¦æœ‰æµ…è‰²æˆ–æ·±è‰²çš„ä¸»é¢˜ã€‚è¦è¿›ä¸€æ­¥å®šåˆ¶å’ŒæŒ‡å®šç”¨äºæµ…è‰²å’Œæ·±è‰²ä¸»é¢˜çš„ç¡®åˆ‡é¢œè‰²ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„ UIKit [**é¢œè‰²è®¾ç½®æŒ‡å—**](https://sendbird.com/wp-content/uploads/SB_UIKit_colorSet_guide.pdf) ã€‚è¿™ä¸ªæ–‡æ¡£å°†å¸®åŠ©ä½ åœ¨èƒŒæ™¯å’ŒèŠå¤©ç•Œé¢ç»„ä»¶ä¹‹é—´è®¾ç½®å’Œè°çš„é¢œè‰²å’Œå¯¹æ¯”åº¦ã€‚

# ç»“è®º

æœ¬æ•™ç¨‹å‘æ‚¨ä»‹ç»äº†å®šåˆ¶ iOS Sendbird èŠå¤© UIKit çš„ä¸¤ä¸ªç»„ä»¶çš„æ­¥éª¤ã€‚å¯¹äºé¢å¤–çš„ UI ä¿®æ”¹ï¼Œè¯·æŸ¥çœ‹æ–‡æ¡£ä»¥è·å¾—å¯å®šåˆ¶çš„ [**ä¸»é¢˜**](https://sendbird.com/docs/uikit/v1/ios/guides/themes#1-themes) ä»¥åŠå¦‚ä½•æ›´æ”¹ [**å…¬å…±èµ„æº**](https://sendbird.com/docs/uikit/v1/ios/guides/common-resources#1-common-resources) å¦‚å­—ç¬¦ä¸²ã€å›¾æ ‡å’Œå…¶ä»–æ ·å¼çš„å®Œæ•´åˆ—è¡¨ã€‚

æ‚¨æ­£åœ¨åˆ›å»ºä¸€ä¸ªç¾ä¸½è€Œä¸ªæ€§åŒ–çš„èŠå¤©ä½“éªŒï¼ä¿æŒä¸‹å»ï¼Œå¿«ä¹èŠå¤©å»ºè®¾ï¼ğŸ™‚