<html>
<head>
<title>Creating an ML Model and Serving it as a RESTful API: Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åˆ›å»ºMLæ¨¡å‹å¹¶å°†å…¶ä½œä¸ºRESTful API:ç¬¬2éƒ¨åˆ†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/creating-an-ml-model-and-serving-it-as-a-restful-api-part-2-450bd49dd17?source=collection_archive---------3-----------------------#2021-01-30">https://medium.com/codex/creating-an-ml-model-and-serving-it-as-a-restful-api-part-2-450bd49dd17?source=collection_archive---------3-----------------------#2021-01-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0ec9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™ç¯‡æ–‡ç« æ˜¯<a class="ae jd" href="https://notesandcodes.medium.com/creating-an-ml-model-and-serving-it-as-a-restful-api-part-1-4c8f7ed5e6ba" rel="noopener">æ¨¡å‹å’ŒAPIåˆ›å»º</a>çš„å»¶ç»­ï¼Œæ‰€ä»¥ä¸€å®šè¦å…ˆçœ‹çœ‹æœ¬ç³»åˆ—çš„ç¬¬1éƒ¨åˆ†ï¼</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/3cebe8a819049807049472149410730e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XaJ0bPHrko_RNPrktt0PLQ.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">å›¾ç‰‡æ¥æº:ã€https://pixabay.com/images/id-4968987/ T2ã€‘</figcaption></figure><p id="bfdc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ¬ç³»åˆ—çš„ç¬¬2éƒ¨åˆ†å°†ç€é‡äºåˆ›å»ºä¸€ä¸ªéå¸¸ç®€å•çš„webåº”ç”¨ç¨‹åºï¼Œå®ƒè¦æ±‚Irisçš„èŠ±ç“£å’Œè¼ç‰‡çš„å®½åº¦å’Œé•¿åº¦ã€‚ç„¶åï¼Œå®ƒå°†è°ƒç”¨è™¹è†œåˆ†ç±»æ¨¡å‹APIï¼Œæ ¹æ®ç»™å®šçš„ç”¨æˆ·æ•°æ®å¯¹è™¹è†œèŠ±çš„ç±»å‹è¿›è¡Œåˆ†ç±»ã€‚webåº”ç”¨ç¨‹åºå°†ä½¿ç”¨PHPå’ŒHTMLåˆ›å»ºï¼Œæ‰˜ç®¡åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Šã€‚</p><h1 id="645f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">ç¼–å†™Webåº”ç”¨ç¨‹åºğŸ–¥ï¸</h1><p id="54c6" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">webåº”ç”¨ç¨‹åºåŒ…å«å››ä¸ªè¾“å…¥å­—æ®µæ¥æ¥å—ç”¨æˆ·æ•°æ®ã€‚ä¸€æ—¦ç”¨æˆ·ç‚¹å‡»æäº¤ï¼Œå®ƒå°†è°ƒç”¨APIå¹¶ä»¥JSONæ ¼å¼è¿”å›é¢„æµ‹çš„åˆ†ç±»ã€‚</p><p id="99b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸ºiris-app.phpçš„æ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­è¾“å…¥ä»¥ä¸‹PHPå’ŒHTMLä»£ç :</p><pre class="jf jg jh ji fd kx ky kz la aw lb bi"><span id="fc53" class="lc jv hi ky b fi ld le l lf lg">&lt;?php<br/> $form = â€œ<br/> &lt;!DOCTYPE html&gt;<br/> &lt;html&gt;<br/> &lt;body&gt;<br/> &lt;h1&gt;Iris Classification&lt;/h1&gt;<br/> &lt;form action=â€™iris-app.phpâ€™ method=â€™GETâ€™&gt;<br/> &lt;p&gt;Enter Sepal Length&lt;/p&gt;<br/> &lt;input type=â€™textâ€™ name=â€™slengthâ€™/&gt;<br/> &lt;br/&gt;<br/> &lt;p&gt;Enter Sepal Width&lt;/p&gt;<br/> &lt;input type=â€™textâ€™ name=â€™swidthâ€™/&gt;<br/> &lt;br/&gt;<br/> &lt;p&gt;Enter Petal Length&lt;/p&gt;<br/> &lt;input type=â€™textâ€™ name=â€™plengthâ€™/&gt;<br/> &lt;br/&gt;<br/> &lt;p&gt;Enter Petal Width&lt;/p&gt;<br/> &lt;input type=â€™textâ€™ name=â€™pwidthâ€™/&gt;<br/> &lt;br/&gt;<br/> &lt;input type=â€™submitâ€™ name=â€™Submitâ€™/&gt;<br/> &lt;input type=â€™hiddenâ€™ name=â€™submittedâ€™ value=â€™trueâ€™/&gt;<br/> &lt;/form&gt;</span><span id="c334" class="lc jv hi ky b fi lh le l lf lg">&lt;/body&gt;<br/> &lt;/html&gt;â€;</span><span id="71a0" class="lc jv hi ky b fi lh le l lf lg">echo $form;</span></pre><p id="a869" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ³¨æ„Submitä¸‹é¢çš„é¢å¤–è¾“å…¥æ ‡è®°ã€‚å®ƒå°†ç”¨äºé€šçŸ¥ç¨‹åºè¡¨å•å·²ç»æäº¤ã€‚</p><p id="499f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å®ƒåº”è¯¥æ˜¯è¿™æ ·çš„:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es li"><img src="../Images/dec2cf5cfe69ce7c56c1a2a0285a3d1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*TCl-HQbonzJ5Q8kxE27ZJQ.png"/></div></figure><p id="e86f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å½“ç”¨æˆ·å•å‡»submitæ—¶ï¼Œå®ƒå°†é‡å®šå‘å›åŒä¸€ä¸ªæ–‡ä»¶ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬æ‰§è¡ŒAPIè¯·æ±‚çš„åœ°æ–¹ã€‚ç„¶åï¼Œæˆ‘ä»¬å¿…é¡»å°†è¡¨å•åŒ…å«åœ¨if-elseè¯­å¥ä¸­ï¼Œè¿™æ ·ï¼Œåªæœ‰å½“ç”¨æˆ·å•å‡»submitæ—¶ï¼Œè¯·æ±‚æ‰ä¼šå‘ç”Ÿã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆè¡¨å•å°±ä¼šä¸€ç›´æ˜¾ç¤ºå‡ºæ¥ã€‚</p><p id="f554" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä»£ç å°†ä¼šæ˜¯:</p><pre class="jf jg jh ji fd kx ky kz la aw lb bi"><span id="66d8" class="lc jv hi ky b fi ld le l lf lg">&lt;?php<br/> if(isset($_GET[â€˜submittedâ€™])){<br/> //API Request Goes Here<br/> }<br/> else{<br/>   $form = â€œ<br/>   &lt;!DOCTYPE html&gt;<br/>   &lt;html&gt;<br/>    &lt;body&gt;</span><span id="be1d" class="lc jv hi ky b fi lh le l lf lg">      &lt;h1&gt;Iris Classification&lt;/h1&gt;<br/>      &lt;form action=â€™home.phpâ€™ method=â€™GETâ€™&gt;<br/>        &lt;p&gt;Enter Sepal Length&lt;/p&gt;<br/>        &lt;input type=â€™textâ€™ name=â€™slengthâ€™/&gt;<br/>        &lt;br/&gt;<br/>        &lt;p&gt;Enter Sepal Width&lt;/p&gt;<br/>        &lt;input type=â€™textâ€™ name=â€™swidthâ€™/&gt;<br/>        &lt;br/&gt;<br/>        &lt;p&gt;Enter Petal Length&lt;/p&gt;<br/>        &lt;input type=â€™textâ€™ name=â€™plengthâ€™/&gt;<br/>        &lt;br/&gt;<br/>        &lt;p&gt;Enter Petal Width&lt;/p&gt;<br/>        &lt;input type=â€™textâ€™ name=â€™pwidthâ€™/&gt;<br/>        &lt;br/&gt;<br/>        &lt;input type=â€™submitâ€™ name=â€™Submitâ€™/&gt;<br/>        &lt;input type=â€™hiddenâ€™ name=â€™submittedâ€™ value=â€™trueâ€™/&gt;<br/>      &lt;/form&gt;</span><span id="fedb" class="lc jv hi ky b fi lh le l lf lg">    &lt;/body&gt;<br/>  &lt;/html&gt;â€;</span><span id="6f16" class="lc jv hi ky b fi lh le l lf lg">  echo $form;<br/>}</span></pre><p id="127d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">cURLåº“å¯ä»¥ç”¨æ¥åœ¨PHPä¸­å‘å‡ºHTTPè¯·æ±‚ã€‚æˆ‘ä»¬é¦–å…ˆä½¿ç”¨curl_init()åˆå§‹åŒ–ä¸€ä¸ªcurlä¼šè¯ï¼Œç„¶ååªä½¿ç”¨curl_setopt()å‘å‡ºAPIè¯·æ±‚ï¼Œå…¶ä¸­æœ‰ä¸‰ä¸ªå‚æ•°:</p><p id="8109" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">* cURL_handler â€”ä½¿ç”¨` curl_init()` <br/> *é€‰é¡¹åˆå§‹åŒ–cURLæ—¶è¿”å›â€”è¦æ›´æ”¹çš„è®¾ç½®çš„å¸¸æ•°å€¼ã€‚å¯¹äºè¿™ä¸ªç¨‹åºï¼Œæˆ‘ä»¬ä½¿ç”¨â€œCURLOPT_URL â€,å› ä¸ºæˆ‘ä»¬æƒ³è¦ä¼ é€’ä¸€ä¸ªURLä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°<br/> * Valueä¸­çš„å€¼â€”â€”ç”¨äºè®¾ç½®çš„å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è°ƒç”¨APIä»¥åŠç”¨æˆ·çš„è¾“å…¥ä½œä¸ºæŸ¥è¯¢ã€‚</p><p id="a435" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸€æ—¦è®¾ç½®å¥½ï¼Œæˆ‘ä»¬å°±ç”¨â€œcurl_exec()â€å‘å‡ºè¯·æ±‚ï¼Œæœ€åç”¨â€œcurl_closeâ€å…³é—­curlä¼šè¯ã€‚</p><p id="580d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å®Œæ•´ä»£ç å†™åœ¨ä¸‹é¢:</p><pre class="jf jg jh ji fd kx ky kz la aw lb bi"><span id="df51" class="lc jv hi ky b fi ld le l lf lg">$swidth = $_GET[â€˜swidthâ€™];<br/>$slength = $_GET[â€˜slengthâ€™];<br/>$pwidth = $_GET[â€˜pwidthâ€™];<br/>$plength = $_GET[â€˜plengthâ€™];<br/>$ch = curl_init();<br/>curl_setopt($ch, CURLOPT_URL, â€œ<a class="ae jd" href="https://iris-classification-model.herokuapp.com/classify?swidth=" rel="noopener ugc nofollow" target="_blank">https://iris-classification-model.herokuapp.com/classify?swidth=</a>".$swidth."&amp;slength=".$slength."&amp;pwidth=".$pwidth."&amp;plength=".$plength);<br/>$result = curl_exec($ch);<br/>curl_close($ch);</span></pre><p id="ab88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä»¬å®Œäº‹äº†ã€‚å¦‚æœæˆ‘ä»¬ç”¨è¿™äº›å€¼è¿è¡Œç¨‹åº:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lj"><img src="../Images/909cf2e3b83d3f61daa93cdd0ad331d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*xTxIShNemL_z1IazyiTzrg.png"/></div></div></figure><p id="0ff3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä»¬å¾—åˆ°è™¹è†œåˆ†ç±»ä¸º:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lk"><img src="../Images/4c266afbf3c6fc84e2f0779d0fcc79f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/1*8Qxshijmxbyg3-bEnYscQA.png"/></div></figure><p id="e0a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸‡å²ï¼ç°åœ¨æˆ‘ä»¬æœ‰äº†æ¨¡å‹APIå’Œæ¥å£ğŸ‰ï¼</p></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><p id="1b25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å˜¿ï¼Œä½ å¥½ï¼å¦‚æœä½ å–œæ¬¢è¯»æˆ‘çš„æ–‡ç« ï¼Œå¹¶ä¸”æƒ³è¯·æˆ‘å–æ¯èŒ¶ğŸµï¼Œ<em class="ls">æˆ‘å°†éå¸¸æ„Ÿè°¢æ‚¨åœ¨</em><a class="ae jd" href="https://www.buymeacoffee.com/andreagon" rel="noopener ugc nofollow" target="_blank">https://www.buymeacoffee.com/andreagon</a>çš„æ”¯æŒ</p><p id="41de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ls">ç¥æ‚¨åº¦è¿‡æ„‰å¿«çš„ä¸€å¤©ï¼</em></p></div></div>    
</body>
</html>