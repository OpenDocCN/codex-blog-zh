# 2022 年移动设备管理指南:定制移动设备管理的 AOSP

> 原文：<https://medium.com/codex/mobile-device-management-guide-2022-aosp-for-custom-mdm-6b9758aee4a8?source=collection_archive---------10----------------------->

![](img/c9602d31fdc7bcd89fb03c72280f1501.png)

**移动设备管理**或 **MDM** 是一个管理领域，处理企业移动设备的安全和监控。MDM 软件建议快速部署、集成和监控特定智能手机或平板电脑网络的方法。

MDM 的主要关注点之一是安全性。由于企业移动设备可以访问关键业务数据，它们可能会威胁到企业数据库。通过 MDM 管理设备提供了分发软件包、设置权限和优化设备功能的方法。但是，理想情况下，MDM 必须提供一种像桌面计算机一样容易监管移动设备的方法。

所有移动操作系统都有 MDM 系统，包括跨平台的。但是今天我们将关注 [Android](https://mobidev.biz/services/android-app-development) 作为唯一一个在 MDM 方面提供完全定制的操作系统。凭借最大的市场份额和开源特性，让我们看看如何为 Android 设备构建移动设备管理。

# 移动设备管理特性和功能

在分析实际的 Android 解决方案之前，我们需要清楚地了解 MDM 的能力。移动设备管理系统在市场上提供了非常相似的功能。一些最常见的功能是:

*   **注册** —在移动设备上安装 MDM 的过程。大多数 MDM 软件都支持*批量注册*，以便一次在多个设备上安装软件包。*无线(OTA)* 注册建议通过专用网页或应用程序分发和安装 MDM。
*   **配置文件管理** —一旦我们安装了 MDM 包，我们现在就可以为设备用户分配工作配置文件。
*   **策略管理** —策略是为给定设备设置的一组规则或权限。通过提供策略，我们可以锁定或解锁某些软件或硬件功能，指明访问公司数据的规则等。
*   **设备管理和故障排除** —此外，所有策略都可以远程更新。这部分 MDM 功能实现了对设备的监控和故障排除。
*   **设备位置跟踪** —通过 GPS 检测设备位置。
*   **远程擦除** —一旦我们在设备上注册了 MDM，所有通过它访问的公司数据都将存储在一个受保护的配置文件中。这些数据和 MDM 本身可以远程擦除到工厂设置，以防止数据从被盗、丢失或受损的设备中泄漏。

MDM 是一个复杂的解决方案。然而，它由模块化的小部件组成，经过仔细检查，只要有熟练的团队参与，实际上实现起来并不困难。通常，这些部分可以分为一个管理面板，其中包括一个设备策略控制器(DPC)和中间件来协调注册的设备。对于中间件，我们指的是执行所有策略更新并在 MDM 服务器和智能手机之间传输数据的 API 接口。

因此，MDM 解决方案基本上提供了对 WiFi、蓝牙、NFC、USB 文件传输、位置跟踪、电话、短信等功能的管理，或者只是允许用户访问设备上的一些设置，否则这些设置是不可用的。如果需要任何额外的功能，最好的办法是通过添加方法、管理器和服务来扩展现有的 API。它是通过后端的特定策略完成的，这些策略稍后会被推送到设备上。然后，创建一个系统服务，作为跨设备共享这些设置的简单方式。

根据[我们的经验](https://mobidev.biz/case-studies/mobile-device-management-software-development)，这种系统可能会扩展到数千台设备，并需要大量定制策略。市场上可用的 MDM 解决方案涵盖了大部分安全需求。然而，一些系统可能需要操作系统提供商增强的安全性和独立性。这将带来一个挑战，即构建一个定制的 Android MDM，可以在设备上部署任何策略。

所以首先，让我们看看 Android MDM 的标准解决方案，然后再谈谈可定制的选项。

# Android 管理 API:开箱即用的 MDM

[Android 管理 API](https://developers.google.com/android/management) 是为 Android 构建移动设备管理系统的托管解决方案。Google 基于他们的云平台、设备策略控制器和开箱即用的管理企业设备的用户界面，提供了包括后端在内的整套 MDM 软件。所有这些组件在我们稍后将描述的注册的几个步骤之后变得可用。

Android API 本身需要构建您自己的 [MDM 解决方案](https://www.android.com/enterprise/management/)并创建自定义策略。目前，除了创建一个[自定义 DPC](https://developer.android.com/work/dpc/build-dpc) 之外，新解决方案的[注册](https://developers.google.com/android/work/play/emm-api/register)是开放的。这意味着，可以开发一个基于 Android 管理 API 的 MDM 平台，但是您不能应用自定义策略。

要使用托管 MDM，您必须创建一个专用的 Google 帐户来登录 [Google Workspaces](https://workspace.google.com/) 。该帐户不能与现有的企业帐户关联。谷歌为 80 多种 Android 智能手机提供设备政策，三星 KNOX 除外。我们可以通过三种方式使用 Android 管理 API 实现 MDM:

1.  *工作简介*。设备上存储和传输公司数据而不影响个人数据的专用帐户。MDM 策略也仅适用于配置文件数据。
2.  *托管设备*，注册了 MDM 的智能手机或平板电脑。
3.  *专用设备*，使用受限功能的独立设备。例如，这可以是用作公告板的平板电脑。

该系统允许无线注册目标设备，这意味着不需要电缆。您可以使用无线连接在 Android 上注册和管理移动设备。

可用策略列表包括 Android 设备的几乎所有原生功能。虽然现有的策略是不可定制的，但易于部署和无需 Android 开发胜过了这一缺陷。所以现在让我们看看如何接近 Google MDM。

# 如何设置 ANDROID 管理 API MDM

Google MDM 平台的注册程序有几个要求:

*   Android 设备版本 6.0 或更高版本
*   访问谷歌云平台
*   在 Google 云平台中启用 Android 管理 API

完成所有要求后，有两种方法注册您的设备。最简单的是谷歌建议的[快速启动](https://developers.google.com/android/management/quickstart)程序。这需要几个步骤来创建一个谷歌云项目，生成一个二维码，并用默认策略注册设备。请注意，一个设备一次只能有一个策略。

完成[设置](https://developers.google.com/android/work/dev-options)的更高级的方法是基于 Google 的 API 创建自己的 MDM 解决方案。有关完整的设置过程，请查看文章 PDF，其中描述了所有相应的步骤。

现在，让我们继续，总结一下 Google 的 MDM 的优缺点。

# ANDROID 管理 API 的优势和局限性

就移动设备管理平台而言，谷歌建议建立一个坚实的基础，要么部署现成的生态系统，要么使用其 API 来构建自己的生态系统。因此，这里我们将强调选择解决方案类型时的一些重要因素:

**现成的解决方案**。谷歌的 MDM 只需要几个步骤就可以注册你的第一台设备。此后，用户可以使用设备管理的所有功能。它不需要任何额外的 Android 开发，所以我们可以说它是一个低代码的解决方案。因为在服务器端只需要最少的操作。

**支持设备的大列表**。通常，组织中可以使用不同类型的 Android 设备。集成不同的设备和编写定制的注册方法可能会非常痛苦，除非你的公司使用单一类型的 Android 设备。Android 管理 API 通过默认提供对 80 多种 Android 设备的支持来解决这个问题。

**DPC 更新安卓**。设备策略控制器是位于目标设备上的一个模块，用于实施从服务器发送的策略。这部分软件依赖于操作系统，这意味着操作系统中的更新需要重写 DPC。

Google 的默认 DPC 更新为 Android 版本，因为它是一个托管解决方案。所以这里唯一可能的瑕疵就是谷歌未来会抛弃一些旧的 Android 版本。

如果您在 Google 的解决方案中缺乏灵活性，或者想要另一套策略，这将非常有益。或者，您可以使用 Android 管理 API 作为您自己解决方案的基础。所有使用 Google DPC 开发的解决方案都必须经过 Google 的注册和认证。因此，在这里，你需要一个经验丰富的工程团队，他们在移动应用程序开发和移动设备管理系统方面具有专业知识。

除了这些优势，还有两个重要因素你要牢记在心。

**没有定制选项。就谷歌的托管平台而言，你无法定制现有的软件。基于 Android 管理 API 构建自己的解决方案允许您自定义后端部分，但策略集保持不变。**

**供应商锁定**。另一个问题是安全性。由于系统的后端运行在谷歌云服务器上，你所有的公司数据都将通过它。这并不一定意味着您的敏感数据受到威胁。但是，一些组织希望保护他们的信息并将其保存在内部。

为了克服这些限制，可以使用 Android 移动设备管理的另一个选项。

# Android 开源项目(AOSP):定制移动设备管理

**Android 开源项目**或 **AOSP** 是一个面向广泛移动设备的开源软件栈，也是由 Google 牵头的相应开源项目。它可以用来创建您自己的 Android OC 和移动应用程序的自定义变体，并将其与您的自定义后端设备管理平台连接。AOSP 为定制 Android 开发提供了许多好处:

**主动开源解决方案**。一些必要的特性要么已经实现了，有些可能在不久的将来就可以使用了。一旦安全补丁被提交到 AOSP，它就可以被应用并推送给用户。

**完全控制产品生命周期**。产品负责人决定何时交付新功能或安全更新。产品需求可以被优先考虑，而不是等待供应商可能永远不会推出的东西，供应商自然会优先考虑他们自己的需求。

**任何级别的定制**。Linux 内核包含了所有必要的硬件驱动程序，比如相机、键盘、显示器等等。在它的上面，有一组库，包括一个开源的 Web 浏览器引擎 WebKit，libc 库，SQLite 数据库，这是一个存储和共享应用程序数据的有用的存储库，播放和录制音频和视频的库，负责互联网安全的 SSL 库，等等。

然后，Android 框架层以 Java 类的形式给应用提供了很多更高层的服务。

应用层是 Android 开发者通常工作的地方。Android 应用程序扩展了核心的 Android 操作系统。应用程序有两个主要来源:

*   *预装应用* : Android 有一套预装应用，包括电话、邮件、日历、网页浏览器、联系人。这些功能相当于用户应用程序以及可由其他应用程序访问的关键设备功能的提供者。预装的应用程序可能是开源 Android 平台的一部分，也可能是由 OEM 为特定设备开发的。
*   *用户安装的应用* : Android 提供了一个开放的开发环境，支持任何第三方应用。我们的设备管理应用程序就属于这一类，我们的主要工作将主要在框架和应用程序级别完成。这些层的应用程序都是用 Java 编写的，所以一个普通的 Android 团队使用它们会感觉很舒服。

作为使用移动设备管理的企业的解决方案，AOSP 有助于解决功能限制和产品所有权的安全性问题。因为可以创建一个 Android 堆栈，提供他们可能需要的任何功能和设备管理方式。所以让我们快速列举一下这种方法的利弊。

# 定制 MDM 的优势和局限性

**灵活性**。正如我们提到的，定制开发允许您为移动设备管理选择任何您想要的架构和解决方案类型。这意味着您可以使用自己选择的策略部署自定义后端。您可以提供任何注册方法、安全管理和报告。

**数据收集的独立性**。虽然 AOSP 是由谷歌领导的开源项目，但基于它的解决方案不依赖于他们的基础设施。这意味着，您的移动设备管理系统将受到保护，不会被第三方组织收集数据。

**操作系统定制**。此外，操作系统本身可以定制，以提供额外的功能并增强系统的安全性。这里唯一的限制是目标设备的硬件能力。

**复杂度**。定制操作系统、创建您自己的应用程序和后端管理平台的方法是一个复杂且耗时的项目。此外，定制 Android OC core 不仅需要经验丰富和熟练的开发团队，还需要广泛的质量保证。

# 如何选择最佳方案？

给定描述的选项，你如何选择？以下是关键点的快速浏览:

Google 移动设备管理平台能够满足移动设备管理系统的大部分需求。这里唯一的实际限制是开发定制设备策略控制器的封闭注册，因此无法实现定制策略。另一个解决方案是使用谷歌云平台作为后端，这可能是一些组织的安全或架构问题。

使用 Android 管理 API 作为系统的基础允许一些定制，但仍然依赖于 Google 的基础设施。因此，如果您需要高度的定制，那么接近位于 AOSP 的 MDM 可能是最佳选择。根据我们的经验，与 AOSP 合作可能是一项耗时的任务。但是最终，它在与原生 Android MDM 解决方案相同的水平上实现了项目目标。

# 面向 iOS 的移动设备管理解决方案

企业只在 Android 上使用设备的情况很少见。所以首先蹦出来的是问题，iOS 呢？苹果设备有一个内置的框架，用于注册和管理 iOS 智能手机和平板电脑。这些功能类似于 Android 管理 API，包括注册选项和管理灵活性。因为这是一个巨大的主题，我们将在一篇专门的文章中描述用于 iOS 的 MDM。请继续关注，在未来的材料中了解 iOS 框架的实现，或者如果您对 Android MDM 解决方案感兴趣，请联系我们。

由 [MobiDev](https://mobidev.biz/services/web-application-development) 的 JavaScript 小组组长[安东·洛格维年科](https://mobidev.biz/our-team/anton-logvinenko)撰写。

*全文原载于*[*https://mobidev . biz*](https://mobidev.biz/blog/mobile-device-management-guide-android-ios)*，基于 mobi dev 技术研究。*