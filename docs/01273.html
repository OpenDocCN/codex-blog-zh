<html>
<head>
<title>Switch Statements to the Rescue</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将陈述转换为救援</h1>
<blockquote>原文：<a href="https://medium.com/codex/switch-statements-to-the-rescue-2da680de7207?source=collection_archive---------10-----------------------#2021-04-15">https://medium.com/codex/switch-statements-to-the-rescue-2da680de7207?source=collection_archive---------10-----------------------#2021-04-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="00e2" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">在前一篇文章中，我们已经创建了一个<a class="ae je" rel="noopener" href="/codex/creating-modular-powerup-systems-dad9d8b41721">模块化系统</a>。多亏了<strong class="ii hj"> If-Else </strong>语句，这个系统才成为可能。但是，如果我们希望增加更多的功率，那么这些条件语句会给我们的代码增加一点混乱。<strong class="ii hj"> If-Else </strong>语句确实很有帮助，但有时看起来会有点乱。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/4268a0596a2b5836728998818206fd3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*to4wekmjvW6mybxMKe0RjA.png"/></div></div></figure><p id="7a5b" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">这就是<strong class="ii hj"> Switch </strong>语句发挥作用的地方，也称为case语句，它们是对<strong class="ii hj"> if </strong>条件的可行替代。它们使用简单，易于阅读。尽管在实现它们时需要注意某些条件，</p><p id="910f" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">→传递到switch语句中的条件必须是一个常数值。比如_powerUpId，在这种情况下，它始终是一个0到3之间的常量整数。</p><p id="15a1" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">switch语句中的每个选项都以一个<strong class="ii hj">案例</strong>开始，后面是可能的常数值，在我们的例子中是范围从0到3的值。</p><p id="3ddf" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">→每个<strong class="ii hj">案例</strong>必须包含一个<strong class="ii hj">中断</strong>语句，以便在所需条件完成时退出开关语句。</p><p id="ad25" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">switch语句语法如下所示，</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jr"><img src="../Images/b8329f3c8eed334486319f50244950dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1oeYSI69PwuqxU6opnwJ-A.png"/></div></div></figure><p id="85ea" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">这里，基本上Expression与所有情况(x，y，z)进行比较，如果发现匹配，它执行相关的代码块并退出switch语句。</p><p id="2edf" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">因此，如果我们要使用switch语句重写我们的模块化系统，这就是我们将得到的结果，</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es js"><img src="../Images/abd31f25be724a3a813f7a044d63a6d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7GQK38hfxNeLpYG8HH2aw.png"/></div></div></figure><p id="aedd" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">其中案例2是我们新的能量提升，它为玩家提供了一个盾牌，为玩家承受一次打击。</p><p id="6ea1" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">这里，<strong class="ii hj"> SetShieldActive() </strong>如下:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jt"><img src="../Images/cd561cb9d691cd7ac9abd282b8738435.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTmmhjlVuiRvqWVH7iSp4Q.png"/></div></div></figure><p id="69d4" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">这里我们设置一个布尔值为真，表示盾牌能量已经被玩家拿起，并实例化盾牌预设，它是我们的<strong class="ii hj">玩家</strong>游戏对象的子对象。这样做是为了确保盾牌总是随着玩家移动。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ju"><img src="../Images/282894bc44f272cc119b7d2a99c6b934.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1IUlwp6C--4IyNaJoNnA7w.png"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx translated">屏蔽预制件</figcaption></figure><p id="a47a" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">现在我们有了一个布尔函数，它可以检查玩家是否已经启动了护盾，我们可以给<strong class="ii hj">伤害()</strong>添加一个检查，其中，如果布尔函数为<strong class="ii hj">真</strong>(意味着护盾处于活动状态)<strong class="ii hj">玩家</strong>没有受到伤害，意味着生命值保持不变。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jz"><img src="../Images/6ff6aab1c4b8588b5de18f4d0bf637dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z4GgoblPWAebjKiICfFHqA.png"/></div></div></figure><p id="003d" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">所以我们检查护盾是否激活，如果是，我们首先关闭护盾，同时关闭<strong class="ii hj">预置</strong>。这里，return基本上退出了函数。这个功能与使用if-else是一样的，在if-else中，您将执行其中一个，而不是两个。</p><p id="aa69" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">这给了我们以下结果，</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ka"><img src="../Images/574cca7d5228af531370b986cadbfcd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*m5-kLS2QTgry3X_ze9uHRg.gif"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx translated">在这里，我在死之前撞上了四个敌人，这意味着这个盾牌起了作用，因为玩家有3点生命值，每个敌人造成1点伤害。</figcaption></figure><p id="6d90" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">感谢您的阅读。更多即将推出！！！</p></div></div>    
</body>
</html>