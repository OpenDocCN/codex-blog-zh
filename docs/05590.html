<html>
<head>
<title>What are API Keys and Why are they so important?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是API键，为什么它们如此重要？</h1>
<blockquote>原文：<a href="https://medium.com/codex/what-are-api-keys-and-why-are-they-so-important-7fb4307575e?source=collection_archive---------2-----------------------#2022-03-14">https://medium.com/codex/what-are-api-keys-and-why-are-they-so-important-7fb4307575e?source=collection_archive---------2-----------------------#2022-03-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="7318" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">系统设计</h2><div class=""/><div class=""><h2 id="5a8c" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">API密钥是一种允许API服务器识别客户端应用程序的机制。这开启了一些意想不到的安全功能…</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/b02439ddca566535b356571bb85bbef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zKbPETV-JSbI8bNR91W4IQ.png"/></div></div></figure><p id="977c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">作为一名计算机科学学生或软件工程师，您可能已经在开发一些应用程序时遇到过几次API键。</p><p id="8c35" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果你想访问一些API，你需要发送这个很长的加密字符串和你的API请求。</p><p id="ba48" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为什么会这样？为什么API键如此重要？</p><p id="55fe" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">API密钥身份验证是一种技术，发明这种技术是为了克服共享凭证的弱点，而共享凭证是HTTP基本身份验证中的一个大问题。当多个客户端使用相同的有效凭证时，服务器不可能区分不同的客户端应用程序。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ko"><img src="../Images/5f9af3c0c3799b5312d15430e5d500dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2M49xtXq9NdyyvoLIcWjGA.png"/></div></div></figure><p id="f60c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">用技术术语来说，API键提供了:</p><ul class=""><li id="a85c" class="kp kq hi ju b jv jw jy jz kb kr kf ks kj kt kn ku kv kw kx bi translated">客户端应用程序识别—识别调用后端API的应用程序。</li><li id="70f9" class="kp kq hi ju b jv ky jy kz kb la kf lb kj lc kn ku kv kw kx bi translated">客户端应用程序授权—检查调用应用程序是否已被授予调用API的权限。</li></ul><p id="07d2" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">让我们讨论几个场景…</p><p id="9ac8" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果API密钥无效，服务器可以简单地阻止对API的访问。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ld"><img src="../Images/412bd7539711a043857c10fa0b943275.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iAgS637b6Wo16FeHI9p8xw.png"/></div></div></figure><p id="769c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果API密钥可以被服务器验证，则该密钥还可以作为唯一的标识符，允许记录所有活动，并发现和应对恶意行为。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ld"><img src="../Images/d05a2f6cd52c061d71a58bfc3c399374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mbpv2CG9Y49HxB2vy_sg9w.png"/></div></div></figure><p id="04d7" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">例如，API提供者可以设置一个速率限制，限制每分钟允许的请求数量。因此，api key可以帮助您建立针对拒绝服务攻击的第一道防线。</p><p id="1465" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">再来回答几个动手问题。</p><h2 id="d8a3" class="le lf hi bd lg lh li lj lk ll lm ln lo kb lp lq lr kf ls lt lu kj lv lw lx ho bi translated"><strong class="ak">从哪里获得这样的API密匙？</strong></h2><p id="41c6" class="pw-post-body-paragraph js jt hi ju b jv ly is jx jy lz iv ka kb ma kd ke kf mb kh ki kj mc kl km kn hb bi translated">API提供商通常有一个web应用程序来管理您对他们服务的访问。在那里，您通常可以找到一个可以生成API密钥的部分。然后将API键添加到每个请求的头或URL中。</p><p id="3d23" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后“瞧”你就可以访问API了。</p></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><p id="3533" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果您使用API密钥，有两个新手错误会破坏您的应用程序安全性。但是一旦你意识到它们，就很容易避开它们！</p><h2 id="0298" class="le lf hi bd lg lh li lj lk ll lm ln lo kb lp lq lr kf ls lt lu kj lv lw lx ho bi translated">1.不安全的API密钥存储</h2><ol class=""><li id="ac8e" class="kp kq hi ju b jv ly jy lz kb mk kf ml kj mm kn mn kv kw kx bi translated">不要在代码中直接嵌入API键。</li><li id="bee8" class="kp kq hi ju b jv ky jy kz kb la kf lb kj lc kn mn kv kw kx bi translated">不要将API键存储在应用程序源代码树内的文件中。</li></ol><p id="2b71" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这两者都非常重要，否则你几乎可以肯定，在某一点上，你或你团队中的某个人会把它推到github上，最终它会公开。</p><p id="65c0" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">不要把你的API密匙嵌入到你的应用程序中，而是把它们存储在环境变量中！</strong></p><h2 id="b475" class="le lf hi bd lg lh li lj lk ll lm ln lo kb lp lq lr kf ls lt lu kj lv lw lx ho bi translated"><strong class="ak"> 2。API键！=用户认证</strong></h2><p id="feb7" class="pw-post-body-paragraph js jt hi ju b jv ly is jx jy lz iv ka kb ma kd ke kf mb kh ki kj mc kl km kn hb bi translated">永远不要混淆用户认证的API键，API键只识别应用程序！对于用户认证来说，它们完全没有用。</p><ul class=""><li id="933c" class="kp kq hi ju b jv jw jy jz kb kr kf ks kj kt kn ku kv kw kx bi translated">API密钥可以很容易地直接从开发控制台复制和粘贴，或者从未加密的网络流量中嗅探。</li><li id="374d" class="kp kq hi ju b jv ky jy kz kb la kf lb kj lc kn ku kv kw kx bi translated">一旦密钥被盗，它就可以无限期地使用，因为它没有过期时间。</li><li id="6918" class="kp kq hi ju b jv ky jy kz kb la kf lb kj lc kn ku kv kw kx bi translated">API提供者可以采取一些对策来缓解这个问题，但是还有更有效的方法来认证用户！</li></ul><figure class="jh ji jj jk fd jl"><div class="bz dy l di"><div class="mo mp l"/></div></figure></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><p id="a677" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">感谢阅读这篇文章！如果你想和我联系，就在<a class="ae mq" href="https://www.linkedin.com/in/fabianhinsenkamp/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae mq" href="https://twitter.com/hinsencamp" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上和我联系。</p><p id="ce5d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果你想用我在文章中用到的元素来练习你的系统设计技巧，你可以<strong class="ju hs">下载我的免费系统设计元素库</strong>，它是一个天才草图工具Excalidraw。</p><div class="mr ms ez fb mt mu"><a href="https://bigtechcoach.gumroad.com/l/excalidraw-system-design-symbols" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hs fi z dy mz ea eb na ed ef hr bi translated">Excalidraw系统设计库</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">要通过FAANG系统设计面试，你需要准备和练习！为了帮助你，我创建了一个…</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">bigtechcoach.gumroad.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni jq mu"/></div></div></a></div></div></div>    
</body>
</html>