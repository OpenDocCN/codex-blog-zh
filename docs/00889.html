<html>
<head>
<title>OMONP#2: Image Lazy Loading With LazySizes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OMONP#2:用LazySizes进行图像延迟加载</h1>
<blockquote>原文：<a href="https://medium.com/codex/1-minute-to-become-a-better-developer-20-a6f93db2c180?source=collection_archive---------11-----------------------#2021-03-23">https://medium.com/codex/1-minute-to-become-a-better-developer-20-a6f93db2c180?source=collection_archive---------11-----------------------#2021-03-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="86ee" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">法典</a></h2><div class=""/><div class=""><h2 id="405a" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">一个比loading="lazy "属性具有更好浏览器支持的库的快速介绍。</h2></div><p id="78a7" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">欢迎来到问题#1 <strong class="ji hs"> O </strong> ne <strong class="ji hs"> M </strong> inute，<strong class="ji hs">O</strong>ne<strong class="ji hs">N</strong>PM<strong class="ji hs">P</strong>package，在这里你会发现很酷的NPM软件包，以及如何在一分钟内使用它们。</p><h2 id="9f23" class="kc kd hi bd ke kf kg kh ki kj kk kl km jp kn ko kp jt kq kr ks jx kt ku kv ho bi translated"><a class="ae kw" href="https://jportella93.medium.com/1-minute-to-become-a-better-developer-14-a2ff85046b8c" rel="noopener">⏮️ </a> <a class="ae kw" href="https://jportella93.medium.com/omonp-one-minute-one-npm-package-bea2c9c3636" rel="noopener">🔛</a>T19】⏭</h2><figure class="ky kz la lb fd lc er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es kx"><img src="../Images/f1e8ea84161550677cf05672a363549c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7K3tLNt0_1iIs8OAGNmIZA.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated"><a class="ae kw" href="https://codepen.io/jportella93/pen/MWJYeLj" rel="noopener ugc nofollow" target="_blank">我们将建造什么</a></figcaption></figure></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><h2 id="1fd6" class="kc kd hi bd ke kf kg kh ki kj kk kl km jp kn ko kp jt kq kr ks jx kt ku kv ho bi translated">问题是</h2><p id="05a5" class="pw-post-body-paragraph jg jh hi ji b jj lu is jl jm lv iv jo jp lw jr js jt lx jv jw jx ly jz ka kb hb bi translated">我们网站上的图像同时加载，包括那些不在视图中的图像，阻止了其他资源的下载。</p><p id="781b" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">这使得我们的网站需要更长的时间来加载，<strong class="ji hs">对我们的UX </strong>产生了不好的影响。</p><h2 id="a2dd" class="kc kd hi bd ke kf kg kh ki kj kk kl km jp kn ko kp jt kq kr ks jx kt ku kv ho bi translated">一个解决方案</h2><p id="93fc" class="pw-post-body-paragraph jg jh hi ji b jj lu is jl jm lv iv jo jp lw jr js jt lx jv jw jx ly jz ka kb hb bi translated">我们将使用一个叫做<a class="ae kw" href="https://github.com/aFarkas/lazysizes" rel="noopener ugc nofollow" target="_blank"> LazySizes </a>的漂亮的小软件包，使图像只在滚动到视图中时才加载。</p><p id="1956" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">为此，我们只需:</p><ol class=""><li id="d851" class="lz ma hi ji b jj jk jm jn jp mb jt mc jx md kb me mf mg mh bi translated">用一个<code class="du mi mj mk ml b">data-src</code>属性替换图片上的<code class="du mi mj mk ml b">src</code>属性，这样浏览器就不会自动下载它们。此外，这允许LazySizes获取图像源，以便在滚动到视图中时请求它。</li><li id="4687" class="lz ma hi ji b jj mm jm mn jp mo jt mp jx mq kb me mf mg mh bi translated">给图像添加一个<code class="du mi mj mk ml b">lazyload</code>类，这样LazySizes就知道它必须作用于那个元素。</li></ol><p id="0942" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">这里有一个快速演示，滚动以使图像出现。你可以在浏览器的DevTools上查看网络标签，当你滚动的时候，你会看到图像请求正在完成！</p><figure class="ky kz la lb fd lc"><div class="bz dy l di"><div class="mr ms l"/></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">简单的图像lazyloading与LazySizes。</figcaption></figure></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><h2 id="365a" class="kc kd hi bd ke kf kg kh ki kj kk kl km jp kn ko kp jt kq kr ks jx kt ku kv ho bi translated">如果你喜欢这个故事，你可能也会喜欢:</h2><div class="mt mu ez fb mv mw"><a href="https://jportella93.medium.com/1-minute-to-become-a-better-developer-14-a2ff85046b8c" rel="noopener follow" target="_blank"><div class="mx ab dw"><div class="my ab mz cl cj na"><h2 class="bd hs fi z dy nb ea eb nc ed ef hr bi translated">OMONP#1</h2><div class="nd l"><h3 class="bd b fi z dy nb ea eb nc ed ef dx translated">了解如何在一分钟内制作一张3D银行卡。</h3></div><div class="ne l"><p class="bd b fp z dy nb ea eb nc ed ef dx translated">jportella93.medium.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk lh mw"/></div></div></a></div><div class="mt mu ez fb mv mw"><a rel="noopener follow" target="_blank" href="/codex/omonp-3-building-a-carousel-with-swiper-36d6d92d159a"><div class="mx ab dw"><div class="my ab mz cl cj na"><h2 class="bd hs fi z dy nb ea eb nc ed ef hr bi translated">OMONP#3:用Swiper构建一个旋转木马</h2><div class="nd l"><h3 class="bd b fi z dy nb ea eb nc ed ef dx translated">让我们在一分钟内构建一个具有延迟加载、导航和分页的触摸触发的图像滑块。</h3></div><div class="ne l"><p class="bd b fp z dy nb ea eb nc ed ef dx translated">medium.com</p></div></div><div class="nf l"><div class="nl l nh ni nj nf nk lh mw"/></div></div></a></div><h2 id="0438" class="kc kd hi bd ke kf kg kh ki kj kk kl km jp kn ko kp jt kq kr ks jx kt ku kv ho bi translated"><a class="ae kw" href="https://jportella93.medium.com/1-minute-to-become-a-better-developer-14-a2ff85046b8c" rel="noopener">⏮️ </a> <a class="ae kw" href="https://jportella93.medium.com/omonp-one-minute-one-npm-package-bea2c9c3636" rel="noopener">🔛</a> <a class="ae kw" rel="noopener" href="/codex/omonp-3-building-a-carousel-with-swiper-36d6d92d159a">⏭</a></h2></div></div>    
</body>
</html>