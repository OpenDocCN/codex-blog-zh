<html>
<head>
<title>What is Java Database Connectivity (JDBC)?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是Java数据库连接(JDBC)？</h1>
<blockquote>原文：<a href="https://medium.com/codex/what-is-java-database-connectivity-jdbc-efd72a7817ce?source=collection_archive---------5-----------------------#2022-11-09">https://medium.com/codex/what-is-java-database-connectivity-jdbc-efd72a7817ce?source=collection_archive---------5-----------------------#2022-11-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/2a3c092766346734fd0590e264cb0f82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jMQQ-Z5qls69Hacw"/></div></div></figure><div class=""/><p id="a576" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">JDBC代表Java数据库连接，它是一个标准的<a class="ae jo" href="https://docs.oracle.com/javase/7/docs/api/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu"> Java API </strong> </a>，用于Java编程语言和各种数据库之间独立于数据库的连接。</p><p id="b0dd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">JDBC是一种规范，它提供了一套完整的接口，允许对底层数据库进行可移植的访问。</p><h1 id="fa28" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">数据库服务器和客户端概述</h1><p id="cfb0" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">一个<a class="ae jo" href="https://www.oracle.com/in/database/what-is-database/#:~:text=A%20database%20is%20an%20organized,database%20management%20system%20(DBMS)." rel="noopener ugc nofollow" target="_blank"> <strong class="is hu">数据库</strong> </a>是一个数据仓库。数据被永久地存储在数据库中，我们可以在以后需要的时候使用查询命令来检索它。数据库客户端用于从表中检索数据并提供给用户。</p><h1 id="4426" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">JDBC的使用</h1><p id="f21b" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">Java可用于编写不同类型的可执行文件，例如:</p><ul class=""><li id="ad21" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">Java应用程序</li><li id="1b3e" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">Java小程序</li><li id="9f58" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">Java Servlets</li><li id="bcdd" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">Java服务器页面(JSP)</li><li id="61c1" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">企业JavaBean s(EJB)</li></ul><p id="5123" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有这些不同的可执行文件都能够使用JDBC驱动程序来访问数据库并利用存储的数据。</p><p id="cf90" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">JDBC提供了与ODBC相同的功能，允许Java程序包含独立于数据库的代码。</p><h1 id="c77b" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">JDBC图书馆</h1><p id="5cd1" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">JDBC库包括与数据库使用相关的每个任务的API:</p><ul class=""><li id="1f6b" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">与数据库建立连接</li><li id="6ed7" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">创建SQL语句</li><li id="158f" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">在数据库中执行SQL查询</li><li id="b3ad" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">查看和修改结果记录</li></ul><h1 id="91dc" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">JDBC建筑</h1><p id="2ab5" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">在<a class="ae jo" href="https://www.scaler.com/topics/java/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu"> Java </strong> </a>中，应用程序有两种类型，CUI也称为命令界面，GUI也称为图形用户界面。java应用程序连接到JDBC API，该API是用于存储和检索用户信息的java-SQL。</p><p id="3082" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个JDBC API由JDBC驱动管理器管理，驱动管理器又分为三种类型。第一个JDBC驱动程序由oracle组成，第二个由SQL server组成，第三个JDBC驱动程序由ODBC数据源组成。</p><p id="5cf8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">JDBC架构由两层组成:</p><p id="d8d2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> JDBC空气污染指数:</strong></p><ul class=""><li id="2f73" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">它提供应用程序到JDBC管理器的连接。</li><li id="6c66" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">JDBC API使用驱动程序管理器和特定于数据库的驱动程序来提供到异构数据库的透明连接。</li></ul><p id="d24f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> JDBC驱动程序API: </strong></p><ul class=""><li id="8ef5" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">这支持JDBC管理器到驱动程序的连接。</li><li id="5b9f" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">JDBC驱动程序管理器确保使用正确的驱动程序来访问每个数据源。驱动程序管理器能够支持连接到多个异构数据库的多个并发驱动程序。</li></ul><h1 id="1752" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">JDBC司机</h1><p id="5734" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">JDBC驱动程序实现了在<a class="ae jo" href="https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/" rel="noopener ugc nofollow" target="_blank"> JDBC API </a>中定义的接口，用于与数据库服务器交互。</p><ul class=""><li id="24e7" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">类型1: JDBC-ODBC桥驱动程序——用于开发和测试目的</li><li id="0ef0" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">类型2:JDBC-本地API-当类型3和4不可用时使用</li><li id="f126" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">类型3: JDBC-net纯java-当一个程序需要访问多个数据库时使用</li><li id="7b65" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">类型4: 100%纯Java——当我们需要访问多个数据库时使用</li></ul><h1 id="8f8c" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">JDBC声明</h1><p id="109c" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">一旦获得连接，我们就可以与数据库进行交互。</p><p id="4844" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">JDBC语句、CallableStatement和PreparedStatement接口定义了使您能够发送SQL或Pl/SQL命令以及从数据库接收数据的方法和属性。</p><figure class="lh li lj lk fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lg"><img src="../Images/2859871df427b26417a4212fe6711e8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*thXx9WPGD4tUpk0A-dfX5g.png"/></div></div></figure><p id="b72f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">声明</strong>:</p><ul class=""><li id="e341" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">语句用于执行静态SQL语句并返回其产生的结果。</li><li id="d220" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">在使用statement对象执行SQL语句之前，需要使用connection对象的createStatement()方法创建一个对象。</li><li id="a5db" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">语句createStatement9)引发SQLException。</li><li id="e356" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">创建一个语句对象，用于向数据库发送SQL语句。</li><li id="91f5" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">不带参数的SQL语句通常使用对象来执行。</li><li id="511a" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">如果多次执行同一个SQL语句，使用PreparedStatement对象可能会更有效。</li></ul><p id="016c" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">程序</strong>:</p><blockquote class="ll lm ln"><p id="4560" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">Statement stmt = con . create Statement()；//每次解析和执行</em></p><p id="e020" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">long t1 = system . current time millis()；</em></p><p id="ed8c" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">for(int I = 1；I&lt;= 1000；i++){ </em></p><p id="b93d" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">stmt . execute update(" INSERT INTO table 1 VALUES("+I+"，"+I * 10+")；</em></p><p id="72d3" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht"> } </em></p><p id="e926" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">long T2 = system . current time millis()；</em></p><p id="ec97" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">system . out . println(" Time = "+(T2-t1))；</em></p></blockquote><p id="9b24" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">产量:</strong> 1500</p><p id="b40d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">准备报表:</strong></p><ul class=""><li id="c91b" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">SQL语句被预编译并存储在对象中。</li><li id="6558" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">然后，可以使用该对象多次有效地执行该语句。</li><li id="780e" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">在使用PreparedStatement对象执行SQL语句之前，需要使用connection对象的prepareStatement()方法创建一个对象。</li><li id="4095" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">prepared statement prepare statement(字符串sql)引发SQLException。</li><li id="c268" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">创建用于向数据库发送参数化SQL语句的PreparedStatement对象。</li><li id="edcd" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">带有或不带有IN参数的SQL语句可以预编译并存储在PreparedStatement对象中。然后，可以使用该对象多次有效地执行该语句。</li></ul><p id="03b3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">程序:</strong></p><blockquote class="ll lm ln"><p id="cff1" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">prepared statement stmt = con . prepare statement(" INSERT INTO table 2 VALUES(？,?)");</em></p><p id="e0ae" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">long t1 = system . current time millis()；</em></p><p id="a667" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">for(int I = 1；I&lt;= 1000；i++){ </em></p><p id="d340" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht"> stmt.setInt(1，I)；</em></p><p id="9244" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht"> stmt.setInt(2，I * 10)；</em></p><p id="3ad2" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">stmt . execute update()；</em></p><p id="999a" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht"> } //解析一次，执行多次</em></p><p id="85a6" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">long T2 = system . current time millis()；</em></p><p id="a187" class="iq ir lo is b it iu iv iw ix iy iz ja lp jc jd je lq jg jh ji lr jk jl jm jn hb bi translated"><em class="ht">system . out . println(" Time = "+(T2-t1))；</em></p></blockquote><p id="8370" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">输出:</strong> 718</p><h2 id="3cf1" class="ls jq ht bd jr lt lu lv jv lw lx ly jz jb lz ma kd jf mb mc kh jj md me kl mf bi translated"><strong class="ak">可调用语句</strong></h2><ul class=""><li id="e755" class="ks kt ht is b it kn ix ko jb mg jf mh jj mi jn kx ky kz la bi translated">用于执行SQL存储过程的接口。</li><li id="02b6" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">存储过程是一组使用PL/SQL编写并存储在数据库中的语句。</li><li id="22f8" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">当客户端联系服务器时，存储过程被执行，结果被发送到客户端。</li><li id="bd52" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">CallableStatement prepareCall(字符串sql)引发SQLException</li><li id="e94c" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">创建用于调用数据库存储过程的对象。</li><li id="d382" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">对象提供了设置其输入和输出参数的方法，以及执行对存储过程的调用的方法。</li></ul><h1 id="c1fc" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">JDBC交易</h1><p id="252e" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">如果您的JDBC连接处于默认的自动提交模式，那么每个SQL语句都会在完成后提交给数据库。这对于简单的应用程序来说可能没问题，但是有三个原因可以解释为什么您可能想要关闭自动提交并管理自己的事务:</p><ul class=""><li id="e29b" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">为了提高性能</li><li id="284d" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">维护业务流程的完整性</li><li id="643f" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">使用分布式事务</li></ul><p id="94d9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">交易:</strong></p><ul class=""><li id="b177" class="ks kt ht is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">事务使您能够控制是否以及何时将更改应用于数据库。它将单个SQL语句或一组SQL语句视为一个逻辑单元，如果任何语句失败，整个事务都会失败。</li><li id="fdd4" class="ks kt ht is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">要启用手动事务支持，而不是JDBC驱动程序默认使用的自动提交模式，请使用connection对象的setAutoCommit()方法。如果向setAutoCommit()方法传递一个布尔值false，则关闭自动提交。您可以传递一个布尔值true来再次打开它。</li></ul><h1 id="adae" class="jp jq ht bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">结论</h1><p id="9f3f" class="pw-post-body-paragraph iq ir ht is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">希望这篇关于JDBC的文章对您理解Java数据库连接有所帮助。</p><p id="080f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">阅读更多—</strong><a class="ae jo" rel="noopener" href="/codex/shardingsphere-jdbc-driver-released-a-jdbc-driver-that-requires-no-code-modifications-5464c30bcd64"><strong class="is hu">sharding sphere—JDBC驱动</strong> </a></p></div></div>    
</body>
</html>