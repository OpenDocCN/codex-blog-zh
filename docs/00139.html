<html>
<head>
<title>How unit regression tests could have spotted a bug in the NHS COVID-19 App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">单元回归测试是如何发现NHS新冠肺炎应用程序中的漏洞的</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-unit-regression-tests-could-have-spotted-a-bug-in-the-nhs-covid-19-app-18952a0ebc1a?source=collection_archive---------1-----------------------#2020-11-03">https://medium.com/codex/how-unit-regression-tests-could-have-spotted-a-bug-in-the-nhs-covid-19-app-18952a0ebc1a?source=collection_archive---------1-----------------------#2020-11-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="7555" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">法典</a></h2><div class=""/><figure class="ev ex ip iq ir is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es io"><img src="../Images/40a6addef6784716d9e8e46aa2da78f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qk8Rssz_2Zi2QlOO.png"/></div></div></figure><p id="5f03" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><a class="ae jx" href="https://www.diffblue.com/documents/eBooks/Diffblue-Unit-Regression-Tests.pdf" rel="noopener ugc nofollow" target="_blank">单元回归测试</a>是在开发过程的早期运行的测试，并且发现破坏过去工作的编码错误(即回归)。像<a class="ae jx" href="https://www.diffblue.com/products/" rel="noopener ugc nofollow" target="_blank"> Diffblue Cover </a>这样的工具可以自动编写这样的单元回归测试。</p><p id="b266" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">软件中普遍存在回归问题的一个很好的例子出现在本周，当时NHS的新冠肺炎应用程序出现了一个错误(现已修复),导致它无法通知一些人他们应该自我隔离。</p><p id="44f7" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">最初，该软件完全按照它应该的那样工作，但后来一个旨在改善该应用程序的软件更改破坏了它——直到几周后才有人注意到。</p><p id="f806" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">在怀特岛和伦敦纽汉区的测试中，该应用程序使用的统计模型得到了正确实施，用户也得到了适当的警告。但在更广泛地向公众发布之前，该模型得到了增强，以考虑到“传染性”——病毒携带者在最初出现症状时最具传染性的事实。</p><p id="5fad" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">这提高了模型的准确性，这意味着可以降低风险阈值(用户可能具有传染性的“分数”),以捕捉更多的COVID病例，而不会导致更多的假阳性。在这种情况下，假阳性将是告诉用户在他们没有传播疾病的重大风险时进行自我隔离。</p><p id="452f" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">鉴于新的评分方法，风险阈值本应降低。但这一变化并没有被纳入已发布的应用程序中(从<a class="ae jx" href="https://healthtech.blog.gov.uk/2020/10/29/how-the-nhs-covid-19-app-is-making-the-most-of-cutting-edge-global-technology/" rel="noopener ugc nofollow" target="_blank">政府健康技术博客帖子</a>中还不清楚原因)。</p><h2 id="3b41" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jk kj kk kl jo km kn ko js kp kq kr ho bi translated">单元回归测试有什么帮助？</h2><p id="1148" class="pw-post-body-paragraph iz ja hi jb b jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js kw ju jv jw hb bi translated">单元回归测试可以帮助软件开发人员在开发时发现这类错误。在这种情况下，像<a class="ae jx" href="https://www.diffblue.com/products/" rel="noopener ugc nofollow" target="_blank"> Diffblue Cover </a>这样的工具将编写两个测试来触发控制流的两端——一个是应该发送通知的情况，另一个是没有达到风险阈值的情况(没有发送通知)。有两种方法可以帮助开发人员在对代码进行新的更改时发现潜在的问题:</p><ol class=""><li id="b09a" class="kx ky hi jb b jc jd jg jh jk kz jo la js lb jw lc ld le lf bi translated">单元测试失败，标志着一些以前没有发生的新行为(当代码工作时)。</li><li id="a05d" class="kx ky hi jb b jc lg jg lh jk li jo lj js lk jw lc ld le lf bi translated">当Cover为新代码编写新测试时，比较旧测试和新测试会突出风险函数返回的值的变化。即使前面的测试没有发现这一点——单元测试并不是万无一失的——测试之间的差异突出了代码中的行为变化。简单地标记这种差异就足以提醒开发人员了。</li></ol><p id="603d" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">单元回归测试可以提高开发团队在问题交付给用户之前发现问题的能力。</p></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><h2 id="33c7" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jk kj kk kl jo km kn ko js kp kq kr ho bi translated">您可能还会对以下内容感兴趣:</h2><ul class=""><li id="6eb4" class="kx ky hi jb b jc ks jg kt jk ls jo lt js lu jw lv ld le lf bi translated"><a class="ae jx" href="https://diffbluehq.medium.com/how-to-write-better-unit-test-assertions-15c7349a4b3a" rel="noopener">如何写出更好的单元测试断言</a></li><li id="9ffd" class="kx ky hi jb b jc lg jg lh jk li jo lj js lk jw lv ld le lf bi translated"><a class="ae jx" href="https://diffbluehq.medium.com/improving-software-delivery-with-unit-regression-tests-b5a47abe9a8b" rel="noopener">用单元回归测试改进软件交付</a></li><li id="ef1a" class="kx ky hi jb b jc lg jg lh jk li jo lj js lk jw lv ld le lf bi translated"><a class="ae jx" href="https://diffbluehq.medium.com/why-do-regression-bugs-matter-so-much-f5fd931c1670" rel="noopener">为什么回归错误如此重要？</a></li><li id="b938" class="kx ky hi jb b jc lg jg lh jk li jo lj js lk jw lv ld le lf bi translated"><a class="ae jx" href="https://diffbluehq.medium.com/how-to-shorten-your-change-lead-time-and-improve-your-change-failure-rate-f920365be14c" rel="noopener">如何缩短变更提前期，提高变更失败率</a></li></ul></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><p id="da47" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><em class="lw">原载于2020年11月3日https://www.diffblue.com</em><em class="lw">的</em> <a class="ae jx" href="https://www.diffblue.com/blog/testing/software%20development/how-unit-regression-tests-could-have-spotted-a-bug-in-the-nhs-covid-19-app/" rel="noopener ugc nofollow" target="_blank"> <em class="lw">。</em></a></p></div></div>    
</body>
</html>