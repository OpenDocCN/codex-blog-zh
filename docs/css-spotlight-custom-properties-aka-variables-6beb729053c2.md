# CSS 聚光灯:自定义属性(又名变量)

> 原文：<https://medium.com/codex/css-spotlight-custom-properties-aka-variables-6beb729053c2?source=collection_archive---------25----------------------->

![](img/d070e99c0165281726b78663ca840fcc.png)

自定义属性，也称为变量，在 CSS 中用于减少重复代码和增加清晰度。这些变量包含可以在整个文档中重用的特定值。更复杂的网站通常会有大量的 CSS，因此可能会有很多重复的值。在这个复杂的网站中，相同的颜色值可能会在许多地方使用——如果需要更改颜色，就需要进行全局搜索和替换。使用自定义属性允许将值存储在一个位置，并在许多其他位置引用。这也有助于明确自定义属性名称(例如`--text-color`)可以比 CSS 颜色值(例如#F0FFFF)。

## 如何合并自定义属性

学会混合一些自定义属性！

要声明一个定制属性，您可以使用一个定制属性名，并在它前面加上一个双连字符(`--`)，这个属性名的值可以是任何有效的 CSS 值。自定义属性通常被称为 CSS 变量，因为它们以相同的方式使用。要访问文档中其他地方的自定义属性，可以使用`var()`函数(例如`color: var(--text-color);`)。

像任何其他 CSS 属性一样，自定义属性写在规则集内—

```
element {
   --text-color: #F0FFFF;
}
```

与任何其他 CSS 属性一样，定义自定义属性的选择器决定了该属性的使用范围。通常在`:root`伪类上定义定制属性，因为这允许您在整个文档中全局使用定制属性。

```
:root {
   --text-color: #F0FFFF;
}
```

虽然这是一种常见的做法，但并不一定要遵守，因为有时限制自定义属性的范围是有效的。

要访问自定义属性，请使用以下语法—

```
h1 {
   color: var(--text-color);
}
```

如果您要在多个元素上使用这个`--text-color`属性，但随后想要将该值更改为不同的颜色，您可以通过简单地更改自定义属性的值来轻松实现，并且该更改将反映在您已经应用了自定义属性的所有元素中。

## 自定义属性继承

自定义属性继承，这意味着如果没有为元素的自定义属性设置值，则使用该元素的父元素的值。

比如说—

```
<div className="first">
  <div className="second">
    <div className="third"></div>
    <div className="fourth"></div>
  </div>
</div>
```

以及相应的 CSS —

```
.second {
  --size: 100px;
}

.third {
  --size: 7em;
}
```

由于该元素将从其父元素(`className="second"`)继承，`var(--size)`的结果将是`100px``7em``className="third"``100px``className="fourth"`，以及*无效值*用于`className="first"`，因为该元素没有父元素可继承，并且任何自定义属性的默认值都是*无效值*。自定义属性只为匹配的选择器及其后代设置，就像其他 CSS 中的任何属性一样。

## 后备值

在`var()`功能中，您可以定义多个*回退值*，以便在变量尚未定义时使用。如果您熟悉 JavaScript 语法，这可以与默认参数进行比较。

提供给`var()`的第一个参数是自定义属性的名称，第二个(可选)参数是一个后备值，如果它导致*无效值*，它将作为自定义属性的替代。`var()`只接受两个参数，第一个逗号之后的所有内容都被视为第二个参数。如果第二个参数无效，回退将失败。

```
.second {
  color: var(--text-color, red); 
}
```

在上面的代码片段中，如果`--text-color`尚未定义(即无效),那么元素的颜色将默认为红色。如果向`var()`提供了无效的自定义属性，并且没有提供有效的回退，则浏览器会将继承的或初始的属性应用于该元素。