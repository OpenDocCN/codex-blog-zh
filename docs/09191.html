<html>
<head>
<title>Early return in TypeScript explained, along with how I use it in React apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解释了TypeScript中的早期返回，以及我如何在React应用程序中使用它</h1>
<blockquote>原文：<a href="https://medium.com/codex/early-return-in-typescript-explained-along-with-how-i-use-it-in-react-apps-92c0694a8356?source=collection_archive---------4-----------------------#2022-10-02">https://medium.com/codex/early-return-in-typescript-explained-along-with-how-i-use-it-in-react-apps-92c0694a8356?source=collection_archive---------4-----------------------#2022-10-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="31cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">条件是最基本的编程概念。现在，由于有了可用的模式，我们不需要总是使用基本的<code class="du jd je jf jg b">if… else…</code>块来声明它们。其中一个模式，也是我个人最喜欢的，是提前回报。我将在本文中解释它，并提供React示例。</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jh"><img src="../Images/e5815db6b9e0420ac500faf6fdb51436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9o_FzHfLJpK-HCs0GwjLqA.png"/></div></div></figure><p id="b379" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">TypeScript React应用程序中的基本条件如下</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="b36c" class="jx jy hi jg b fi jz ka l kb kc">🗿 <strong class="jg hj">A BASIC CONDITION IN REACT</strong><br/>const handleValueChange = (value: number | null) =&gt; {<br/>  <strong class="jg hj">if (!value || value &gt; 0)</strong> {<br/>    setState(value)<br/>    ...<br/>  } <strong class="jg hj">else</strong> {<br/>    return<br/>  }<br/>}</span></pre><p id="1bf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这意味着如果<code class="du jd je jf jg b">value</code>大于<code class="du jd je jf jg b">0</code>，我们将<code class="du jd je jf jg b">state</code>设置为它和一些其他操作，否则我们什么也不做。</p><p id="52a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当然，我们可以通过简单地离开<code class="du jd je jf jg b">else</code>来缩短它</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="b2f3" class="jx jy hi jg b fi jz ka l kb kc">🪵 <strong class="jg hj">LEAVING THE </strong><strong class="jg hj">else</strong><strong class="jg hj"> BRANCH IS MUCH NICER</strong><br/>const handleValueChange = (value: number | null) =&gt; {<br/>  <strong class="jg hj">if (!value || value &gt; 0)</strong> {<br/>    setState(value)<br/>    ...<br/>  }<br/>}</span></pre><p id="e12f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者，如果有必要，我们可以使用带有反转条件的早期返回来退出函数</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="cda2" class="jx jy hi jg b fi jz ka l kb kc">🔥 <strong class="jg hj">USING EARLY RETURN IS THE BEST</strong><br/>const handleValueChange = (value: number | null) =&gt; {<br/>  <strong class="jg hj">if (!value || value === 0) return</strong><br/>  setState(value)<br/>  ...<br/>}</span></pre><p id="4438" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以这种方式在TypeScript中编写函数会使它们更加清晰易读。让我们来看一些实际的React示例:</p><h2 id="5f02" class="jx jy hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated">呈现空荡的JSX</h2><div class="kw kx ez fb ky kz"><a rel="noopener follow" target="_blank" href="/codex/how-i-use-conditional-rendering-in-react-252dba391b55"><div class="la ab dw"><div class="lb ab lc cl cj ld"><h2 class="bd hj fi z dy le ea eb lf ed ef hh bi translated">我如何在React中使用条件渲染</h2><div class="lg l"><h3 class="bd b fi z dy le ea eb lf ed ef dx translated">如果使用得当，条件渲染是一个非常有用的React概念。您可以决定渲染哪些组件或…</h3></div><div class="lh l"><p class="bd b fp z dy le ea eb lf ed ef dx translated">medium.com</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jr kz"/></div></div></a></div><p id="5623" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我在上一篇文章中提到的，您可以在React中使用early return来呈现组件中的空JSX。此方法防止应用程序在用户界面上呈现没有必要数据但有填充、垂直线和背景色的空组件。</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="bc27" class="jx jy hi jg b fi jz ka l kb kc">🩹 <strong class="jg hj">IF SPECIFIC DATA IS MISSING, EARLY RETURN AN EMPTY JSX</strong><br/>const UserProfile = (props: <br/>  { name: string | null, email: string | null, age: number | null }<br/>) =&gt; {<br/>  <strong class="jg hj">if (!props?.name &amp;&amp; !props?.email &amp;&amp; !props?.age) return &lt;&gt;&lt;/&gt;</strong><br/>  return (<br/>    ...<br/>  )<br/>}</span></pre><h2 id="7785" class="jx jy hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated">表单提交处理</h2><p id="0599" class="pw-post-body-paragraph if ig hi ih b ii lo ik il im lp io ip iq lq is it iu lr iw ix iy ls ja jb jc hb bi translated">通常，当我们使用web应用程序时，用户数据是可修改的。为了更新它，我们必须开发一个表单UI和一些逻辑。稍后我将解释我用来管理React组件中任何类型数据的方法；现在，我将只关注<code class="du jd je jf jg b">submit</code>功能</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="cc51" class="jx jy hi jg b fi jz ka l kb kc">⭕️ <strong class="jg hj">EARLY RETURN FROM A SUBMIT FUNCTION WHEN ESSENTIAL DATA IS MISSING</strong><br/>// these can be updated somewhere on the UI<br/>const [name, setName] = useState&lt;string | null&gt;(null)<br/>const [email, setEmail] = useState&lt;string | null&gt;(null)<br/>// this function submits the form<br/>const submit = () =&gt; {<br/>  <strong class="jg hj">if (!name || !email) return window.alert('Missing fields!')</strong><br/>  // API or service call to update or create data<br/>}</span></pre><h2 id="dfb4" class="jx jy hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated">删除确认</h2><p id="1a6d" class="pw-post-body-paragraph if ig hi ih b ii lo ik il im lp io ip iq lq is it iu lr iw ix iy ls ja jb jc hb bi translated">带有确认窗口的提前返回对于从数据库中删除数据的函数来说是一个很好的工具</p><pre class="ji jj jk jl fd jt jg ju jv aw jw bi"><span id="32ec" class="jx jy hi jg b fi jz ka l kb kc">🤔 <strong class="jg hj">EARLY RETURN WITH A CONFIRMATION WINDOW</strong><br/>const handleRemove = (id: string) =&gt; {<br/>  <strong class="jg hj">if (!window.confirm('Are you sure?')) return</strong><br/>  // API or service call to delete the item by id<br/>}</span></pre><p id="ea63" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这意味着如果用户点击确认窗口上的“取消”按钮，<code class="du jd je jf jg b">confirm</code>将变为<code class="du jd je jf jg b">false</code>，并且<code class="du jd je jf jg b">handleRemove</code>函数返回。</p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="7632" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">👋我希望这在你寻找新的学习材料时对你有用。感谢您花时间阅读这篇文章！如果你想在未来读到更多这样的故事，请订阅我的电子邮件列表！</p></div></div>    
</body>
</html>