<html>
<head>
<title>Powershell Test-Path does not Filter on AWS Storage Gateway File Shares</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Powershell测试路径不过滤AWS存储网关文件共享</h1>
<blockquote>原文：<a href="https://medium.com/codex/powershell-test-path-does-not-filter-on-aws-storage-gateway-file-shares-20f260033a1a?source=collection_archive---------11-----------------------#2022-11-28">https://medium.com/codex/powershell-test-path-does-not-filter-on-aws-storage-gateway-file-shares-20f260033a1a?source=collection_archive---------11-----------------------#2022-11-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9a1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">相反，测试完整路径，因为它也接受GLOB模式。</p><p id="6aee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi jd translated">微软的Powershell是在微软视窗系统上进行开发的必备软件。最近，微软也让Powershell在Linux和Unix (MacOS)上运行。</p><p id="ce0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Powershell可以做的许多事情之一是移动文件。在我们告诉它移动任何东西之前，我们要确保文件存在。Powershell允许我们使用它的Test-Path commandlet来完成这项工作。</p><p id="9641" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Windows服务器上Test-Path的优点是它的过滤器属性。这使得Powershell通过匹配文件名模式来测试文件。这些模式可以包含GLOB模式，如*。过滤发生在包含文件的服务器上。这使得文件检测速度非常快。</p><blockquote class="jm"><p id="e514" class="jn jo hi bd jp jq jr js jt ju jv jc dx translated">$ does _ exist = Test-Path \ \ server \ folder-Filter name-*。pdf-路径类型叶</p></blockquote><p id="9477" class="pw-post-body-paragraph if ig hi ih b ii jw ik il im jx io ip iq jy is it iu jz iw ix iy ka ja jb jc hb bi translated">遗憾是，当文件通过AWS文件存储网关托管在文件共享上时，过滤属性不起作用。我们艰难地发现了这一点:通过反复试验。我们只能猜测原因:可能是由于运行Linux的存储服务器，或者可能是特定的发行版没有安装完整的Powershell核心。不管什么原因:过滤器不起作用。</p><p id="1286" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">幸运的是，Test-Path允许我们将进入其过滤器属性的值放入其默认属性(路径，文件位置)。它也接受GLOB文件名模式。唯一的缺点是它会慢很多，因为Powershell必须在客户端完成所有的匹配，因此必须首先列出所有可用的文件。</p><blockquote class="jm"><p id="54de" class="jn jo hi bd jp jq jr js jt ju jv jc dx translated">$ does _ exist = Test-Path \ \ server \ folder \ name-*。pdf-路径类型叶</p></blockquote><p id="cd93" class="pw-post-body-paragraph if ig hi ih b ii jw ik il im jx io ip iq jy is it iu jz iw ix iy ka ja jb jc hb bi translated">这变得很明显，因为我们发现有必要开始使用AWS文件存储网关。这是一个很棒的工具，它将AWS S3桶中的对象带到任何需要访问文件的工具的指尖。这意味着我们可以让供应商使用公共REST API上传他们的文件，将文件放入S3，在AWS Lambda中运行检查和验证，并将接受的文件放在存储网关服务器获取它们并使它们可用于后端处理的位置。</p><p id="d4af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">听起来像是一项任务？我们同意。但是它速度快，价格合理，而且可靠。</p><h1 id="3003" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">关于作者</h1><p id="f0b2" class="pw-post-body-paragraph if ig hi ih b ii kz ik il im la io ip iq lb is it iu lc iw ix iy ld ja jb jc hb bi translated">Veltstra是一名专业的软件工程师和解决方案架构师，已经工作了近25年，在过去的7年中，他一直专注于集成数据和信息系统。</p><blockquote class="le lf lg"><p id="2de8" class="if ig lh ih b ii ij ik il im in io ip li ir is it lj iv iw ix lk iz ja jb jc hb bi translated">总有办法的。有时候，这条路比想象的要难走。</p></blockquote></div></div>    
</body>
</html>