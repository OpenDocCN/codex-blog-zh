<html>
<head>
<title>How do you determine lodging price on Airbnb Seattle</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你如何决定Airbnb西雅图的住宿价格</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-do-you-determine-lodging-price-on-seattle-airbnb-820897532c7e?source=collection_archive---------28-----------------------#2021-03-22">https://medium.com/codex/how-do-you-determine-lodging-price-on-seattle-airbnb-820897532c7e?source=collection_archive---------28-----------------------#2021-03-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="ae89" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">法典</a></h2><div class=""/><h1 id="6871" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">介绍</h1><p id="13bc" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">你呆在家里太久了？从2021年开始，自从我们得知病毒的消息以来，这是艰难的一年。据新闻媒体报道，随着经济开始复苏，旅游和休闲业正在复苏。</p><p id="e8c9" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">你可能想知道，“现在的旅行费用是多少？”或者“当地城市的旅游和休闲业务如何？”。</p><figure class="kq kr ks kt fd ku er es paragraph-image"><div class="er es kp"><img src="../Images/8807ca6e5c027c27ea786f0966051ba2.png" data-original-src="https://miro.medium.com/v2/resize:fit:542/format:webp/1*SyZwU7unoAQO11gh95KEwg.jpeg"/></div></figure><p id="1145" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">今天，我们从各种来源接收各种信息。如果我们能看到真实的数据并让数据与我们对话，这不是很酷吗？我从Airbnb内部下载了Airbnb西雅图的最新数据，这是一个非商业网站，提供描述Airbnb房源活动的数据集。</p><p id="ce26" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我使用的数据集是包含3356个不同房源信息的房源数据集，以及包含数据收集日期(即2021年2月21日)房源价格和可用性的日历数据集。</p></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><h1 id="beda" class="io ip hi bd iq ir le it iu iv lf ix iy iz lg jb jc jd lh jf jg jh li jj jk jl bi translated">第1部分:位置对价格有影响吗？</h1><p id="3e43" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">挑Airbnb的时候我们问的第一个问题通常是地点。在这里，我们通过散点绘制经度和纬度来研究列表数据集，从而得到一个粗略的西雅图地图。圆圈的颜色代表价格差异，圆圈越大，一个楼盘能容纳的人就越多。</p><figure class="kq kr ks kt fd ku er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lj"><img src="../Images/44bf50a3f063acbdcf6a9bd07ddb9b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lto8L_eCe1-7doIpQLTdiA.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated"><em class="ls">注:颜色栏实际显示的是log_price。来自列表数据集的价格数据是重尾分布的(一小部分价格比其余部分高得多)。因此，我对价格取了以10为底的对数，这样可视化显示了明显的价格差异。</em></figcaption></figure><p id="dd3a" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们可以看到市中心区房源密集，但没有明显的模式显示密集区的房源相对昂贵。高价的Airbnb实际上洒在地图上，用橙色和红色的圆圈表示。事实上，大圆通常比小圆贵，所以当主人决定住宿价格时，房产大小确实很重要。</p></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><h1 id="5a8a" class="io ip hi bd iq ir le it iu iv lf ix iy iz lg jb jc jd lh jf jg jh li jj jk jl bi translated">第二部分:来年价格是否存在季节性？</h1><p id="7c44" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们转向日历数据集，看看未来一年的价格和可用性。这是另一个以日期为x轴，价格为y轴的散点图。每个点都显示了Airbnb房源在特定日期的价格。每种颜色代表一个不同的列表。</p><figure class="kq kr ks kt fd ku er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lj"><img src="../Images/87121912f53bca39788bb44f64d0ed9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*THy7bqeuQmWBMWCzzDblpw.png"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx translated">日历数据集中有4196个唯一的Airbnb房源。</figcaption></figure><p id="ccf4" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">一份清单清楚地显示了季节性，比如它的价格在夏季达到峰值，在冬季假期飙升，但一份清单不足以得出季节性也适用于其他清单的结论。让我们放大来看看2000美元以下的物品。</p><figure class="kq kr ks kt fd ku er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lj"><img src="../Images/acb59e375337c48375e170f5cf203fa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hD9JXi9ith7aL3cU3MnoCQ.png"/></div></div></figure><p id="1d99" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">基本上，该图显示了两组列表——一组是全年价格稳定的直线，另一组是我们在上面看到的类似的季节性模式。虽然没有明确的界限，但直线组通常更接近价格范围的低端，季节性组相对更贵。</p></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><h1 id="b126" class="io ip hi bd iq ir le it iu iv lf ix iy iz lg jb jc jd lh jf jg jh li jj jk jl bi translated">第3部分:构建预测价格的模型</h1><p id="dcc2" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">既然我们已经看了一些关于数据的探索，让我们试着建立预测模型。在我们对数据集做任何事情之前，重要的是将数据集分成训练集和测试集，并确保我们的模型在我们完成模型构建之前不会“看到”测试集。我们将使用测试集来评估我们的模型的性能。</p><p id="5f1a" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">对于这一部分，使用列表数据。我通过清理、聚集和编码特征来准备列表数据集，以便将它们输入到我们的模型中。</p><p id="f55a" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">然后，我在线性回归和随机森林模型上使用10倍交叉验证，均方根误差(RMSE)结果分别为94.24和87.66。RMSE越低，性能越好。随机森林看起来在这里表现更好。</p><p id="5432" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们可以使用Scikit-Learn工具中的RandomizedSearchCV进一步优化随机森林模型，以微调超参数。结果如下:</p><pre class="kq kr ks kt fd lt lu lv lw aw lx bi"><span id="2398" class="ly ip hi lu b fi lz ma l mb mc">RMSE: 92.44 <br/>Parameters: {'max_depth': 44, 'max_features': 18, 'min_samples_leaf': 18, 'n_estimators': 141}</span></pre><p id="1fda" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">现在，我们已经完成了模型的构建，我们来看看它们在测试集上的表现。线性回归得出RMSE为63.73，随机森林得出RMSE为62.04。令人惊讶的是，两个结果相差不远。线性回归等简单模型也适用于该数据集。</p></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><h1 id="5291" class="io ip hi bd iq ir le it iu iv lf ix iy iz lg jb jc jd lh jf jg jh li jj jk jl bi translated">特征重要性</h1><p id="5394" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在让我们来看看影响这两个模型价格预测的主要特性。列表是经过排序的，所以最上面的功能更有影响力。</p><figure class="kq kr ks kt fd ku er es paragraph-image"><div class="er es md"><img src="../Images/c796657ae6b0e2f173e7969ee567ed34.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*iyVxjqKpMDDuVJPRB2w4Gw.jpeg"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated"><strong class="bd iq">线性回归模型</strong>的系数。这里我们将系数视为特征重要性。</figcaption></figure><p id="c4e0" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">“住宿”、“卧室”和“浴室”出现在顶部。它们都与房产大小有关，这证实了我们在上面西雅图地图中的发现。</p><figure class="kq kr ks kt fd ku er es paragraph-image"><div class="er es me"><img src="../Images/ce413d477074db5dacf61ba70284bf7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*9UhbM2ECgepVE_XQgRBfBw.jpeg"/></div><figcaption class="lo lp et er es lq lr bd b be z dx translated"><strong class="bd iq">随机森林模型</strong>的特征重要性</figcaption></figure><p id="8891" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">亚军的特点是可用性和评论，所以长期或受欢迎的小屋可能会更贵。在这里看到经度和纬度很有意思，但是它们没有上面讨论的特性那么有影响力。</p></div><div class="ab cl kx ky gp kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hb hc hd he hf"><h1 id="f356" class="io ip hi bd iq ir le it iu iv lf ix iy iz lg jb jc jd lh jf jg jh li jj jk jl bi translated">结论</h1><p id="3f8d" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们对2021个Airbnb西雅图数据集进行了探索性的数据分析和建模。</p><ol class=""><li id="1cab" class="mf mg hi jo b jp kk jt kl jx mh kb mi kf mj kj mk ml mm mn bi translated">当游客或居民选择Airbnb时，物业位置是一个重要的考虑因素，但在其他因素中，<strong class="jo hs">位置</strong>与价格没有很大关系。</li><li id="ba2e" class="mf mg hi jo b jp mo jt mp jx mq kb mr kf ms kj mk ml mm mn bi translated">季节性是一些高价Airbnb的明显模式。价格适中的酒店全年价格稳定。</li><li id="224a" class="mf mg hi jo b jp mo jt mp jx mq kb mr kf ms kj mk ml mm mn bi translated"><strong class="jo hs">Airbnb房产的大小</strong>是价格的首要决定因素。从本质上来说，多少人的财产可以容纳影响住宿价格最大。</li></ol><p id="543a" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们可以从Airbnb的数据中获得更多见解，比如评论。如果你对Airbnb的数据感兴趣，这里是Airbnb内部的链接:<a class="ae mt" href="http://insideairbnb.com/index.html" rel="noopener ugc nofollow" target="_blank">http://insideairbnb.com/index.html</a></p><p id="faea" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">要了解本文中的数据准备和建模，请点击这里查看我在GitHub上的代码。</p></div></div>    
</body>
</html>