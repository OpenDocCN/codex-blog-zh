<html>
<head>
<title>Introduction to Azure Synapse Analytics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure Synapse分析简介</h1>
<blockquote>原文：<a href="https://medium.com/codex/introduction-to-azure-synapse-analytics-ff317e782f7b?source=collection_archive---------9-----------------------#2021-03-25">https://medium.com/codex/introduction-to-azure-synapse-analytics-ff317e782f7b?source=collection_archive---------9-----------------------#2021-03-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="12af" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">法典</a></h2><div class=""/><figure class="ev ex ip iq ir is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es io"><img src="../Images/d6938c581ceeb29455bce48d2273b528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o9hq1yI5WnjV2cA1"/></div></div><figcaption class="iz ja et er es jb jc bd b be z dx translated">照片由<a class="ae jd" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> CHUTTERSNAP </a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="2704" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><em class="kc">本文由Betacom分析和创新团队撰写。Betacom是一家总部位于意大利和德国的公司，在IT领域使用创新技术、数字解决方案和尖端编程方法开展业务。你可以在我们的</em> <a class="ae jd" href="https://betacom.eu/" rel="noopener ugc nofollow" target="_blank"> <em class="kc">网站</em> </a> <em class="kc">了解更多。</em></p><h1 id="5350" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">介绍</h1><p id="35ee" class="pw-post-body-paragraph je jf hi jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hb bi translated">欢迎阅读Azure Synapse Analytics及其特性系列的第一篇文章。今天，我们将介绍这一新的微软服务，并解释其主要特性。</p><p id="2909" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">首先，我们将了解一些历史和术语。然后，在第三部分，我们将讨论Azure Synapse的主要属性。</p><h1 id="9533" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">历史</h1><blockquote class="lg lh li"><p id="0b5f" class="je jf kc jg b jh ji jj jk jl jm jn jo lj jq jr js lk ju jv jw ll jy jz ka kb hb bi translated">今天，我们宣布推出Azure Synapse Analytics，这是一项无限的分析服务，将企业数据仓库和大数据分析结合在一起。</p></blockquote><p id="ad7e" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">2019年11月，Azure Data的企业副总裁Rohan Kumar展示了Azure Synapse Analytics，作为一种统一的体验，用于摄取、准备、管理和提供数据，以满足即时的商业智能和机器学习需求。</p><p id="266e" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">它是作为Azure SQL数据仓库(SQL DW)的扩展而诞生的，该数据仓库于2015年首次发布，并于2018年升级到第2代。</p><h1 id="d41e" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">术语</h1><p id="c879" class="pw-post-body-paragraph je jf hi jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hb bi translated">在探索Azure Synapse Analytics及其功能之前，我们需要了解一些术语。如果您已经熟悉了，请直接进入下一节。</p><p id="9bba" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">Azure <strong class="jg hs">数据湖存储</strong> (ADLS) Gen2是一套专用于大数据分析的功能，建立在微软的云对象存储解决方案Azure Blob storage之上。ADLS第二代帐户可以与Synapse <strong class="jg hs">工作区</strong>相关联，以在Azure中执行基于云的企业分析。工作区还有一个相关的文件系统，用于存储临时数据，位于<strong class="jg hs">资源组</strong>下，允许您使用SQL和Apache spark执行分析。</p><p id="21c2" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">一个工作区可以包含任意数量的<strong class="jg hs">链接服务</strong>，它们是定义工作区连接到外部资源所需的连接信息的连接字符串。</p><p id="9b47" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="jg hs"> Synapse SQL </strong>能够在Synapse workspace中进行基于T-SQL的分析。Synapse SQL有两种消费模式:专用和无服务器。第一个是指<strong class="jg hs">专用的SQL池</strong>，在一个工作区中可以是无限的。而第二个是指<strong class="jg hs">无服务器SQL池</strong>，它在每个工作区都可用。在Synapse Studio中，您可以通过创建和运行SQL脚本来使用SQL池。</p><p id="f38b" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">要使用Spark analytics，您可以在Synapse工作区中创建和使用无服务器的<strong class="jg hs"> Apache Spark pools </strong>。当您开始使用spark池时，工作区会自动创建一个Spark会话来处理与该会话相关的资源。</p><p id="e9b0" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">管道是Azure Synapse提供数据集成的方式，允许您在服务之间移动数据并处理活动。让我们来看看一些细节:</p><ul class=""><li id="2702" class="lm ln hi jg b jh ji jl jm jp lo jt lp jx lq kb lr ls lt lu bi translated"><strong class="jg hs">管道</strong>是一起执行任务的活动的逻辑分组。</li><li id="c2d7" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb lr ls lt lu bi translated"><strong class="jg hs">活动</strong>被定义为管道内对数据执行的动作。一些例子是复制数据、运行笔记本或SQL脚本。</li><li id="3f2d" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb lr ls lt lu bi translated"><strong class="jg hs">数据流</strong>是一种特殊的活动，用于通过使用Synapse Spark的无代码体验来转换数据。</li><li id="5fbf" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb lr ls lt lu bi translated"><strong class="jg hs">触发器</strong>执行流水线。它可以手动或自动运行(计划、滚动窗口或基于事件)。</li><li id="f432" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb lr ls lt lu bi translated"><strong class="jg hs">集成数据集</strong>是属于链接服务的数据的命名视图，它简单地指向或引用在活动中作为输入和输出使用的数据。</li></ul><h1 id="259e" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">体系结构</h1><p id="a018" class="pw-post-body-paragraph je jf hi jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hb bi translated">如前所述，Azure Synapse Analytics是一种新的分析服务，它在一个共享空间中结合了数据集成、数据仓库、业务功能和大数据分析。</p><p id="a4cd" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">您可能想知道为什么云中的数据仓库(DW)是一个好的选择。我们来看一些原因。</p><ul class=""><li id="7590" class="lm ln hi jg b jh ji jl jm jp lo jt lp jx lq kb lr ls lt lu bi translated">不需要大的资本支出。</li><li id="fdfc" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb lr ls lt lu bi translated">不需要硬件维护。</li><li id="f97e" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb lr ls lt lu bi translated">由于可扩展性，扩展云数据仓库比本地系统更快、更便宜，因为它不需要购买新的硬件，并且可以根据需要自动进行扩展。</li><li id="979c" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb lr ls lt lu bi translated">成本非常低，因为存储和计算是分开支付的，并且仅在需要时支付。</li><li id="3619" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb lr ls lt lu bi translated">它允许与其他可用的服务集成。</li><li id="761b" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb lr ls lt lu bi translated">大规模并行处理(将在下一篇文章中解释)提高了查询速度。</li><li id="a937" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb lr ls lt lu bi translated">上市时间比其他数据仓库解决方案所需的时间短，而且没有“版本”或软件升级的概念。</li></ul><p id="044e" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">传统的内部数据仓库体系结构过去看起来像下图。</p><figure class="mb mc md me fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es ma"><img src="../Images/fac4468088508665025a9b71910d806c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sAF26hg-VEpsNkhf"/></div></div><figcaption class="iz ja et er es jb jc bd b be z dx translated"><em class="mf">来源:微软</em></figcaption></figure><p id="4c48" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">如您所见，有许多不同格式的不同数据源，例如关系数据库、CSV文件、excel文件、结构化或非结构化数据。然后，您必须通过通常位于内存中的ETL过程提取、转换和加载这些数据。这个过程对数据进行标准化、整合和清理，最终将它们和一些描述它们的元数据一起发送到数据仓库。注意，在后台也有一些管理和监控数据库的工作。</p><p id="657c" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">然后是分析，在那里你可以查询API服务器。这里需要注意的重要一点是，在分析中，服务器计算和存储紧密结合在一起。</p><p id="7dc4" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">然后，您运行查询并再次进行分析。将会有一些服务器，您最终会使用Power BI或其他报告工具向业务用户发布某种类型的报告。</p><p id="5728" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">现代数据仓库体系结构可以概括如下:</p><figure class="mb mc md me fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es mg"><img src="../Images/addbfb16d324cfc951086afee8cdc096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uawQ9q3-iesfWIyO"/></div></div><figcaption class="iz ja et er es jb jc bd b be z dx translated"><em class="mf">来源:</em> <a class="ae jd" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-overview-what-is" rel="noopener ugc nofollow" target="_blank"> <em class="mf">什么是专用SQL池(原SQL DW)？— Azure Synapse Analytics </em> </a></figcaption></figure><p id="3c10" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">同样，首先要做的是从各种来源获取数据。Azure中有很多服务可以做到这一点。其中一个就是<strong class="jg hs">数据工厂</strong>。该服务可以从不同来源获取数据，并将其接收到存储中。对于存储，越来越多的客户正在使用<strong class="jg hs">数据湖</strong>架构，该架构提供了一种存储数据并决定以后如何处理数据的便捷方式。</p><p id="9a89" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">那么这些数据就可以由数据科学家或者数据工程师去探索。所以他们去查看这些数据，然后通常他们会准备和收集这些数据。由于数据可能来自不同的来源，可能是结构化的，也可能是非结构化的，当我们将它们组合在一起时，我们经常会遇到许多质量问题。因此，数据质量在现代数据仓库系统中至关重要，人们花费的大部分时间都是在清理和准备数据。</p><p id="a826" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">准备好数据后，我们可以将这些数据建模给业务部门，以便业务部门可以提出问题。这意味着创建一个数据的结构模型和一个业务可以依赖的单一事实来源。最后，在该解决方案的基础上还有BI、报告和高级分析。</p><p id="7b28" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">这里需要注意的一件非常重要的事情是，在现代数据仓库解决方案中<strong class="jg hs">计算和存储是分开的</strong>。这意味着它们是分开充电的，只有在使用时才打开。因此，对于存储，您只需为存储量付费，存储交易没有任何成本，而计算能力是按照数据仓库单位(DWU)付费的，它由CPU、内存和IO提供。</p><p id="1297" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">例如，让我们说你的DW在周末没有用。然后，您可以完全暂停它，为自己节省成本。请注意，当您暂停计算能力时，您仍将收取存储费用，但非常便宜。</p><p id="257a" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">上面描述的架构模式是实现现代数据仓库解决方案的一种非常常见的方式，这就是为什么许多客户正在将他们的数据仓库解决方案迁移到云中。</p><p id="12c7" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">现在，让我们更多地从服务的角度来看这个体系结构。</p><figure class="mb mc md me fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es mh"><img src="../Images/be2c03b29f9424d1a7d8ba1ac0abcbec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GgjJFrGn6abdpf1H"/></div></div><figcaption class="iz ja et er es jb jc bd b be z dx translated">来源:<a class="ae jd" href="https://docs.microsoft.com/en-us/azure/architecture/solution-ideas/articles/modern-data-warehouse" rel="noopener ugc nofollow" target="_blank">现代数据仓库架构— Azure解决方案理念</a></figcaption></figure><p id="f326" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">你可能知道，Azure中有许多服务，它们都提供了强大的功能。如果我们深入研究现代数据仓库解决方案，就会发现我们确实可以将一系列服务整合在一起。</p><ol class=""><li id="011e" class="lm ln hi jg b jh ji jl jm jp lo jt lp jx lq kb mi ls lt lu bi translated">第一个是<strong class="jg hs"> Azure Data Factory </strong>，无服务器集成产品。它已经进入市场很多年了，这些年来已经非常成熟，可以在混合场景中实现数据集成。数据工厂可以从内部、情景应用程序或几乎任何类型的来源获取数据。它可以处理大规模的数据，巨大的速度和数据量，它有很多组件(超过90个内置插件)。它提供了对数据流的完全控制，数据流是数据在生命周期中所经过的部分(创建、接收、转换)。</li><li id="4591" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb mi ls lt lu bi translated">引入数据后，您可以将其放入存储解决方案中，进行数据准备和清理。这是一个数据汇集、合并和清理的地方，各种各样的转换都在这里发生。<strong class="jg hs"> Azure </strong> <strong class="jg hs">数据湖存储</strong>是最便宜的存储，因为没有真正的处理在进行。</li><li id="592f" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb mi ls lt lu bi translated">当数据在数据湖中时，也有用于探索该数据的服务。DW本身具有基于SQL池的功能，允许您查询数据湖或DW本身中的数据。另一种方法是使用PolyBase直接从数据湖中获取数据，并将其存储到DW中。Databricks 是另一个我们可以用来探索数据的服务，它支持多种语言来查询和利用数据湖中的数据:Python、Scala、SQL等。</li><li id="d641" class="lm ln hi jg b jh lv jl lw jp lx jt ly jx lz kb mi ls lt lu bi translated">Databricks可以将这些数据写入到Azure Synapse Analytics中，也可以与您的分析服务协同工作。因此，在将数据引入大数据存储并做了一些准备和探索之后，现在他们终于准备好有效地发布数据了。正如我们所讨论的，云数据仓库将计算和存储分开，因此当您有更多用户和更多工作负载时，您可以扩大计算能力，当您空闲时，您可以缩小计算能力。</li></ol><p id="23cf" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我们刚刚介绍的四项服务，除了可以单独使用之外，还可以归入Azure Synapse分析服务。</p><p id="92b9" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">Azure Synapse分析核心是<strong class="jg hs"> SQL池</strong>(以前的Azure SQL数据仓库)，一个大规模并行处理数据库。我们将在下一篇文章中讨论它的架构。现在，您应该知道有<strong class="jg hs">专用的</strong>和<strong class="jg hs">无服务器的</strong> SQL池。在第一种情况下，资源专用于您的数据，并且随时准备就绪，无论您是否在使用它们。而在第二种情况下，资源仅在必要时才被激活，并且您通常将它们用于特定的操作。</p><h1 id="dabf" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">结论</h1><p id="eab8" class="pw-post-body-paragraph je jf hi jg b jh lb jj jk jl lc jn jo jp ld jr js jt le jv jw jx lf jz ka kb hb bi translated">您现在应该了解Azure Synapse分析架构和主要属性。在下一篇文章中，我们将探索SQL池架构和引擎。</p><p id="8077" class="pw-post-body-paragraph je jf hi jg b jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">两周后见！👋</p></div></div>    
</body>
</html>