<html>
<head>
<title>Web App Development: Java Spring &amp; Postgres REST API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Web应用程序开发:Java Spring &amp; Postgres REST API</h1>
<blockquote>原文：<a href="https://medium.com/codex/web-app-development-java-spring-postgres-rest-api-3c302e28d571?source=collection_archive---------5-----------------------#2021-11-22">https://medium.com/codex/web-app-development-java-spring-postgres-rest-api-3c302e28d571?source=collection_archive---------5-----------------------#2021-11-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/4a1dd781577e2d0e0e252b535f0cf23d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZblgjbjaHbsg04aW"/></div></div></figure><p id="c1f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在与我可能实习的公司的人交谈后，我不断听到我几乎不熟悉的web开发概念。其中一家公司强烈建议我学习Java Spring，因为他们用它来开发他们的web应用程序。我认为学习它会很棒，因为我想更多地接触web开发，因为它是软件工程的一个重要分支。今年秋天，我在锡耶纳学院学习软件开发课程，到目前为止，我对Java编程语言有了基本的了解。</p><p id="0eb7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到目前为止，我只把VS代码用于个人用途，把BlueJ用于我的软件开发课程。虽然我真的很喜欢VS Code，但我发现当谈到Java Spring时，尽管有Spring附加组件的选项，它的功能还是比较有限。经过研究，我发现IntelliJ是这个项目最好的选择，也是目前需求最大的Java IDEs之一。与我之前使用的相比，我发现IntelliJ有很多突出的地方，比如它提供的一些独特的<a class="ae jo" href="https://tomgregory.com/top-5-intellij-idea-2020-1-features-for-java-developers/" rel="noopener ugc nofollow" target="_blank">特性</a>。我发现IDE的效率和智能更胜一筹，比如能够随心所欲地生成所有的getters和setters，而不是只能一个接一个地创建它们。除此之外，我非常喜欢标签特性，它根据我创建的构造函数指定了我输入的属性类型。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/791db5ac79199c46ce238c2bdbecf4fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/0*25zHSU4HqeIviVBs"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图A</figcaption></figure><h2 id="da54" class="jy jz hi bd ka kb kc kd ke kf kg kh ki jb kj kk kl jf km kn ko jj kp kq kr ks bi translated">项目创建的主要过程:</h2><p id="0124" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">我需要做的第一件事是连接到PostgreSQL，我决定通过psql(interactive SQL shell)来完成。在IntelliJ中，我使用Java Spring，设置连接数据库所需的配置。对于本地开发，用户名和密码为空，否则需要信息。Create-drop使得每次应用程序运行时都有一个干净的状态。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/313bb253cdb54dfe604e0309f5713a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YxCnOM4y-oy1VTXf"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图B</figcaption></figure><p id="68bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我一开始用PostgreSQL shell连接数据库时遇到了麻烦，因为我输入的密码没有显示出来。我了解到，出于安全原因，当我输入密码时，密码不会被回显，甚至星号(****)也不会被看到。我意识到我只需要试着正确地输入，完成后按回车键就可以了。</p><p id="a82d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">图C给出了一个例子，展示了一个成功输入的密码，以及使用“\l”命令查看数据库的<a class="ae jo" href="https://chartio.com/resources/tutorials/how-to-list-databases-and-tables-in-postgresql-using-psql/" rel="noopener ugc nofollow" target="_blank">列表的能力。所示的每个数据库分别存储在服务器的数据目录中它们自己的目录中。</a></p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kz"><img src="../Images/f70684094d22b0d626feec40cc54e572.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*U6gG6Ln4xpn0ARvY"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图C</figcaption></figure><p id="abd6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是一个示例，显示了如何创建一个新的数据库，并为指定的用户名分配访问权限，以便能够对数据库进行更改。现在，当我使用“\l”命令时，会显示附加的数据库，并且特权现在会更新，以显示用户postgres可以访问多个数据库。为了使用数据库，我将使用“\c”后跟数据库的名称来连接它。使用“\d”命令相当于使用<a class="ae jo" href="https://www.geeksforgeeks.org/sql-describe-statement/" rel="noopener ugc nofollow" target="_blank"> DESCRIBE </a>命令，只有当数据库不为空时才会显示附加信息。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/9eca788e8297cc6e67d64cedb4a9ec44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rxc2tESiZt1UbJmh"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图D</figcaption></figure><p id="99c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我在IntelliJ for Java spring中连接到数据库时遇到了一个问题。我一直在下面得到这个错误。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ad518ae6a88b0241e15b20dbd0841efb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*n9xUF6EqHCcrOfr3"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图E</figcaption></figure><p id="960c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，我意识到这是一个非常简单的问题。为了解决这个问题，我需要更新我的application.properties文件。由于Spring要求输入数据源用户名和密码，现在它与psql相关联，所以我需要在application.properties文件中提供用户名和密码。因此，Java Spring控制台现在显示Spring已经成功连接到数据库。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6fdcb26ecdfda9e5401d911f7f6a200a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xUnjAcSJ9vcMj_8C"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图F</figcaption></figure><p id="9849" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了将student类映射到数据库中的一个表，我创建了这个序列生成器。这意味着每个学生的ID自动增加1，从第一个输入数据库的学生开始。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es la"><img src="../Images/b7daa2cf58a6293eafdff889bcdc0195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/0*61cIWYWyaUdtnr_J"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图G</figcaption></figure><p id="f9e9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Java Spring console现在显示了它与数据库的连接，并为student类排序，并在运行应用程序时创建student表。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/c17be37efcdaff0beda0f80e3245a512.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/0*1RltpajWe9FORwOH"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图H</figcaption></figure><p id="4b61" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了将IntelliJ连接到我们的Postgres数据库，我需要更改数据库的名称，并插入用户名和密码。然后，我测试了连接，这条消息显示我已成功连接。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/ee10d3e204c2fc039029783cab7fb34e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0erwpelOr4PqrPsT"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图一</figcaption></figure><p id="ade2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这样做的结果是，我能够访问我在IntelliJ中创建的表和序列。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/e2eb30a3197b9435cfeaf08845fe0c8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/0*vVbkva470FZubbA0"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图J</figcaption></figure><p id="2f29" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另外，在psql中，我可以看到当使用“\d”命令时，我的数据库包含了我之前创建的表和序列。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es le"><img src="../Images/a0630e65f451be0a846127be7c9f4dc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/0*VNkiNBx_amIctsWg"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图K</figcaption></figure><p id="b79a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我需要为数据库创建一个数据访问层，以便与Java Spring一起充分发挥作用。为此，我创建了一个Java持久性API存储库。它包含一个API，用于基本的数据库操作以及记录的排序和编号。除此之外，对象的类型及其ID需要在方法头中指定。添加注释<a class="ae jo" href="https://www.baeldung.com/spring-component-repository-service" rel="noopener ugc nofollow" target="_blank"> @Repository </a>，作为元数据，向用户解释存储库用于搜索、存储和检索对象。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/2680ddaeb3ddb77dfd4b6b5bb3bdf1be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*E4N1xKTvAIOSdF0u"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图一</figcaption></figure><p id="2661" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">student service类现在已经修改为支持依赖注入，这意味着Java Spring容器将对象注入到其他对象中。每个对象都不依赖于其他对象，并且可以随着时间的推移而被替换。容器用于管理对象从创建到销毁的生命周期。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/d631725394fcb1d38c5f3e3c48e83cff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tKfpVzrtyNxNg9s4"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图M</figcaption></figure><p id="3d55" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这之后，需要<a class="ae jo" href="https://howtodoinjava.com/spring-core/spring-configuration-annotation/" rel="noopener ugc nofollow" target="_blank">@配置</a>类。这代表了Java Spring容器如何组装应用程序中的对象。在这个类中，定义了最少一个bean，并且经常由Spring容器管理更多的bean。由Spring容器创建的对象被称为beans，并通过它们的依赖注入来实现。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lh"><img src="../Images/b267226ab25b253ca06f2a5947e27765.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aM0hXVebuEPHoE4Q"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图N</figcaption></figure><p id="2031" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，由于调用saveAll方法，当服务器在Java Spring上运行时，会有额外的数据记录。这表示Hibernate正在运行的SQL，用于使Java应用程序开发与Postgres的交互更加简化，以便在服务器开始运行时实例化对象。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es li"><img src="../Images/9b75e14ec75a01b6c03ea73a5f40c823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/0*qVsfWBNNuQk601Cq"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图O</figcaption></figure><p id="4255" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我发现非常有用的一点是，我能够在IntelliJ中拥有一个Postgres控制台。所以这意味着我可以在Java Spring内部执行查询，而不是使用psql。除此之外，我还发现查询输出的格式可以更改为多种选项。这包括能够以CSV、HTML、JSON等文件格式导出数据。对于查看数据本身，我发现表格选项是我最喜欢的，特别是由于我过去使用MySQL和MS Access的经验。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/147f0a9e94f1c87ba027bb60740a2365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LlGTbTOsU2vcVuR7"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图P</figcaption></figure><p id="c161" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了从每个记录的DOB中自动计算年龄，必须使用注释<a class="ae jo" href="https://www.educative.io/edpresso/what-is-the-transient-keyword-in-java" rel="noopener ugc nofollow" target="_blank"> @Transient </a>。使用它的原因是为了避免序列化，这意味着年龄属性将改为从DOB属性计算。否则，每次有人变老时，年龄都必须更新，并且很容易出现数据输入错误。为了正确计算年龄，必须从创建对象的参数中删除年龄，并且必须更新get方法。这样做还会从图P(显示了查询的表输出)中删除age列，因为年龄不再序列化。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es lj"><img src="../Images/e8ef4a13ae048c5110136737fd903cde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/0*xa745SzkQTrt8nSz"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图Q</figcaption></figure><p id="d41b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了能够生成POST请求，可以将新对象保存到我们的数据库中，使用了注释<a class="ae jo" href="https://www.sourcecodeexamples.net/2019/10/postmapping-spring-boot-example.html" rel="noopener ugc nofollow" target="_blank"> @PostMapping </a>。在方法内部，需要注释<a class="ae jo" href="https://www.baeldung.com/spring-request-response-body" rel="noopener ugc nofollow" target="_blank"> @RequestBody </a>来将HTTP请求体映射到一个新的对象。总的来说，这些注释支持根据发送的HTTP POST请求创建一个新对象。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/58f771ed128bdd61c7ebd60016494f98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VwVqhgnBKMb53zCn"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图R</figcaption></figure><p id="2aa6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在图5中，有一个POST请求的例子。当成功运行时，它会被记录到Java Spring控制台。为了确定这一点，响应代码200应该出现在下面。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/dbe00527c4e4a8a2f7845419e4b2a5b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*78PTPEpp0jBpaSfd"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图S</figcaption></figure><p id="9c59" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">与此同时，需要创建业务逻辑。这表示对用户界面和数据库之间交换的信息的处理。在这种情况下，我们要确保没有两个学生有相同的电子邮件，这样当新用户添加到数据库中时，同一个电子邮件不会意外地分配给多个人。为此，我需要创建一个可选的容器对象。这将检查电子邮件是否存在，如果存在，它将返回描述电子邮件的可选内容。将它添加到学生类存储库之后，我需要在服务类方法中创建这个逻辑来添加新学生。如果该选项包含为新学生输入的特定电子邮件，将会返回一条消息，说明该电子邮件已被占用。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7d935345235203005d34297bc70581f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T7pgbACzyLVFalsg"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图T</figcaption></figure><p id="cb19" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在POST请求方法拥有了它需要的所有特性，在测试它时，我只能运行这个请求一次，然后就会得到一个状态代码500，这意味着存在一个内部服务器错误。我不得不手动向应用程序属性添加以下行:</p><pre class="jq jr js jt fd lm ln lo lp aw lq bi"><span id="e53e" class="jy jz hi ln b fi lr ls l lt lu">server.error.include-message=always</span></pre><p id="83f2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这样做是为了显示“电子邮件被占用”异常消息，并且我将来创建的任何其他服务器错误异常消息也将显示在它们各自的状态代码中。</p><p id="5d9d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了创建删除请求方法，我需要使用注释<a class="ae jo" href="https://zetcode.com/spring/deletemapping/#:~:text=%40DeleteMapping%20annotation%20maps%20HTTP%20DELETE,DELETE%29%20." rel="noopener ugc nofollow" target="_blank"> @DeleteMapping </a>，并将路径设置为学生ID。为此，我在学生服务类中创建了如下所示的逻辑。这将检查学生ID是否已经存在于数据库中，如果不存在，将抛出一个异常。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/67fb9528a263c27b87100c45fcaed5e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*INPl5829yxxWdarc"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图U</figcaption></figure><p id="241e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这意味着，为了删除一个特定的对象，我将在本地web服务器地址后键入我希望删除的学生ID。例如，删除我要输入的第一个ID号</p><pre class="jq jr js jt fd lm ln lo lp aw lq bi"><span id="e0bd" class="jy jz hi ln b fi lr ls l lt lu">DELETE http://localhost:8080/api/v1/student/1.</span></pre><p id="d29b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，服务器现在看起来像这样:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/326bcfe8a0f6900c1b6c17d781baefb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mQPmy7XViGgGjV0t"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图五</figcaption></figure><p id="a3c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个Java Spring API中创建的最后一个请求方法是PUT方法。使用注释<a class="ae jo" href="https://www.sourcecodeexamples.net/2019/10/putmapping-spring-boot-example.html" rel="noopener ugc nofollow" target="_blank"> @PutMapping </a>，就像删除方法一样，设置一个指定给学生ID的文件路径。在学生服务类中的更新学生方法中，使用了注释<a class="ae jo" href="https://docs.oracle.com/javaee/7/api/javax/transaction/Transactional.html" rel="noopener ugc nofollow" target="_blank"> @Transactional </a>。这使得API能够在生成的对象上以声明方式管理事务边界。除此之外，我还创建了异常消息来检查数据库中是否存在学生ID和电子邮件。学生ID的例外情况与DELETE方法相同，它会查看学生ID是否不存在，而电子邮件例外情况会查看用户希望更改的电子邮件是否已被接收，否则他们无法更改他们的电子邮件。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1c2438daddb593f665165c24bd67c857.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7rJzPpS8-Ix28Jjb"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图W</figcaption></figure><p id="cecb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我刚才所做的步骤中最令人困惑的部分是→操作符，因为我以前从未使用过，甚至从未见过。我只能找到一个使用这个操作符的例子来说明我需要为这个步骤做些什么。查了一下，发现这是一个lambda表达式，箭头左边包含参数，右边包含表达式体。所以在我的情况下，实际上没有参数，然后表达式体包含了抛出的异常。我发现<a class="ae jo" href="https://stackoverflow.com/questions/15146052/what-does-the-arrow-operator-do-in-java" rel="noopener ugc nofollow" target="_blank">这一页</a>，以及<a class="ae jo" href="https://www.w3schools.com/java/java_lambda.asp" rel="noopener ugc nofollow" target="_blank">这一页</a>非常有助于更深入地解释什么是箭头操作符。</p><p id="ce07" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了测试这一点，我运行了HTTP请求:</p><pre class="jq jr js jt fd lm ln lo lp aw lq bi"><span id="23cd" class="jy jz hi ln b fi lr ls l lt lu">PUT http://localhost:8080/api/v1/student/4?email=liverpoolfan11@gmail.com </span></pre><p id="7f77" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这导致电子邮件在本地web服务器上相应地更新。第一个数字指定正在更新的学生ID，问号后面的内容解释正在更改的对象的特定属性。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c751a337387c56d30c888e6e80a53e3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CDThSL1L8PMAc85d"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图十</figcaption></figure><p id="ec73" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我需要做的最后一件事是将应用程序打包成一个. jar文件，以便在Java Spring中运行。为了做到这一点，我需要在IntelliJ中清理和安装应用程序，并使用jar命令。现在我可以部署。jar文件加载到服务器，并可以通过改变web服务器端口来测试应用程序的不同实例。例如，如果我想测试端口8081，我会运行:</p><pre class="jq jr js jt fd lm ln lo lp aw lq bi"><span id="43c7" class="jy jz hi ln b fi lr ls l lt lu">java -jar demo-0.0.1-SNAPSHOT.jar — server.port=8081</span></pre><p id="5700" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将导致本地服务器下的那个端口号发生变化。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/efeec075afff78d2914fbc64bea371bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s6k6qK1jKBoBeuNNYHv9hA.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">图Y</figcaption></figure><p id="9563" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> TLDR版本:</strong>在构建一个执行HTTP请求的简单web应用程序的过程中，我学习了很多关于Java Spring、Postgres、Rest APIs以及web开发和编程的知识。这包括管理大学生联系信息的GET、POST、PUT和DELETE方法。</p><p id="55ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">本项目最有用的来源:</strong></p><ul class=""><li id="2eed" class="lw lx hi is b it iu ix iy jb ly jf lz jj ma jn mb mc md me bi translated">【https://www.youtube.com/c/amigoscode T4】</li><li id="42e2" class="lw lx hi is b it mf ix mg jb mh jf mi jj mj jn mb mc md me bi translated"><a class="ae jo" href="https://www.baeldung.com/" rel="noopener ugc nofollow" target="_blank">https://www.baeldung.com/</a></li><li id="5919" class="lw lx hi is b it mf ix mg jb mh jf mi jj mj jn mb mc md me bi translated"><a class="ae jo" href="https://www.freecodecamp.org/news/learn-these-4-things-and-working-with-lambda-expressions-b0ab36e0fffc/" rel="noopener ugc nofollow" target="_blank">https://www . freecodecamp . org/news/learn-things-4-things-and-working-with-lambda-expressions-b0ab 36 e 0 fffc/</a></li><li id="12de" class="lw lx hi is b it mf ix mg jb mh jf mi jj mj jn mb mc md me bi translated"><a class="ae jo" href="https://www.redhat.com/en/topics/api/what-is-a-rest-api" rel="noopener ugc nofollow" target="_blank">https://www.redhat.com/en/topics/api/what-is-a-rest-api</a></li><li id="26bb" class="lw lx hi is b it mf ix mg jb mh jf mi jj mj jn mb mc md me bi translated"><a class="ae jo" href="https://www.jamesshore.com/v2/blog/2006/dependency-injection-demystified" rel="noopener ugc nofollow" target="_blank">https://www . jamesshore . com/v2/blog/2006/dependency-injection-demystified</a></li></ul></div></div>    
</body>
</html>