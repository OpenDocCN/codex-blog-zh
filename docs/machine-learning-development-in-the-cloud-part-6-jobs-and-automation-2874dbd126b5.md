# 云中的机器学习开发—第 6 部分:作业和自动化

> 原文：<https://medium.com/codex/machine-learning-development-in-the-cloud-part-6-jobs-and-automation-2874dbd126b5?source=collection_archive---------26----------------------->

![](img/7cd8dd737426099c36314faad00a2e63.png)

乔恩·泰森在 [Unsplash](https://unsplash.com/s/photos/clock?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上的照片

> 如果你错过了，[请访问这个系列的第一部分](/@s.kirmer/machine-learning-development-in-the-cloud-part-1-e60920725af0)来了解我的项目概况。

这是我的关于基于云的 ML 开发系列的最后一篇文章，它更深入地探讨了企业 ML 实践。**生产数据科学的很大一部分，与研发或实验相反，是建立各种自动化的任务**，这将允许我们的模型对真实数据进行操作，或者我们的分析按计划更新，等等。

如果您的数据科学实践完全是探索性的，并且部署到生产中完全不在您的掌控之中，这可能看起来有点离题。然而，我认为至少有一些工作可以自动化来节省时间，或者你可以用一些小任务来产生价值，比如提供仪表板或 web 应用程序，所以要考虑一下。此外，如果将来出现这样的用例，理解作业调度的可能性将使您做好更充分的准备。

# 自动化什么？

我们到底在说什么？**简而言之，我们希望工作流的一部分在预定时间或由事件触发时自动运行，并产生某种结果。**例子可能包括:

*   每天早上，数据从位置 A 移动到位置 B
*   模型每小时从一个表中读取数据，然后重新训练自己或生成预测
*   如果模型的预测超过某个值，就会向用户或维护者发出警告
*   当代码被推送到我们基于 git 的存储空间时，会运行测试以确保它符合标准

有各种各样的工具可用于这些目的；有些很具体，有些很宽泛，可以用于很多事情。更广泛的工具往往有更高的学习曲线，但是一旦你学会了这个工具，你就可以在任何地方使用它。

# 本地 cron？号码

当我谈到 scheduled stuff 时，一些用户可能会想到 local cron 本地计算机上的一个简单系统，用于调度代码稍后运行。(暂且把云托管的 cron 放在一边——那是不同的。)这是我们正在谈论的一个非常小规模的版本，就其本质而言，它有许多其他本地解决方案和工具带来的风险(与云解决方案和工具相反)。

如果您的笔记本电脑损坏了，那么计划的工作将无法工作——当您在笔记本电脑上使用 cron 时，没有备份、错误处理或应急计划。这种基本形式的 cron 还具有有限的用于捕获错误或问题的内置工具，因此如果事情失败了，您将面临无法判断或者肯定不知道为什么会发生的风险。此外，因为工作是在你的笔记本电脑上，如果你去度假，或生病，或任何类似的事情，没有人能真正帮助你管理自动化。

简而言之，不要将您的生产系统放在本地 cron 上，因为它对于这个职责来说不够可靠。

# 云调度

相比之下，基于云的调度和自动化工具提供了一些巨大的优势。你可以和其他人合作，让别人在你不在的时候管理工作。如果您的笔记本电脑坏了，计划的工作不会受到影响。有更复杂的工具来管理错误、复杂的时间表、重试失败的任务等等。我们将在下面讨论的一些作业调度器实际上有在本地笔记本电脑上运行的选项，但它们都有在云基础设施上运行的方法，从而降低风险并让您分散工作。

# 电动工具

**Airflow** :如果你和你的团队熟悉面向对象编程，并且很好地理解了有向无环图，Airflow 就像是调度程序的火箭。它几乎可以做任何事情(除了轻松地在任务之间传输数据，但这只是你所有气流用户的一个内部笑话)。如果这些概念对你来说像希腊语，我建议你跳过气流，给自己省点压力。此外，为了在云上运行气流，您有一些繁重的 DevOps 工作要做，并且需要提供自己的计算资源(如 AWS EC2)。

# 功耗略低(但用户更开心)

**提督/提督云**:权力下降了一步，但使用起来更容易、更友好，我们找到了提督。这个工具也使用了有向无环图(任务图)的概念，但是用户界面比气流简单很多，你不需要成为一个复杂的面向对象的程序员就可以充分利用它，只要精通 Python 就可以了。通过托管的完美云服务，在云上使用它是轻而易举的事情，这是 Airflow 无法比拟的。

# 荣誉奖

## **AWS**

*   **Lambda** :在不启动服务器的情况下运行特定代码。与大多数 AWS 工具一样，学习曲线是一种痛苦，但当您需要触发任务时，它很方便。
*   Glue**Glue**:数据管道化的专业工具，Glue 只有在你的其他数据存储也在 AWS 中时才有用。例如，如果您想定期将数据从 S3 移至红移，这是一种方法。

Google Cloud Scheduler :这是一个非常简单、低复杂度的代码调度工具。它不是为超级用户准备的，但是如果你在谷歌做其他事情，那么，它就在那里。https://cloud.google.com/scheduler

**Azure Logic Apps** :比 Google Cloud Scheduler 复杂得多，这个工具试图像气流一样，但你可以用 GUI 或通过编写 JSON 来设计工作流。[https://docs . Microsoft . com/en-us/azure/logic-apps/logic-apps-overview](https://docs.microsoft.com/en-us/azure/logic-apps/logic-apps-overview)

Jenkins，CircleCI :这些工具专门用于所谓的持续集成，或者管理代码的测试套件。如果您的团队在版本控制的代码系统中合作，这些工具可以自动测试每个人的贡献，以确保他们满足最低质量标准。当投稿数量开始变高时，它节省了时间和精力。

# 土星部署和工作

Saturn Cloud 与 Prefect 协同工作，支持预定的作业，并从产品中提供 API 等部署服务。[在我们的网站](https://saturncloud.io/docs/examples/prefect/)上了解更多这方面的信息。