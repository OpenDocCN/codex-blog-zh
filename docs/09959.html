<html>
<head>
<title>Matplotlib Tutorial — 4</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Matplotlib教程— 4</h1>
<blockquote>原文：<a href="https://medium.com/codex/matplotlib-tutorial-4-825c5837add7?source=collection_archive---------11-----------------------#2022-11-22">https://medium.com/codex/matplotlib-tutorial-4-825c5837add7?source=collection_archive---------11-----------------------#2022-11-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9767" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本教程将涵盖使用Matplotlib的股票图。</p><p id="d86f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">堆栈图显示了一段时间内“部分到整体”的情况；基本上，它就像一个饼图，只是随着时间的推移。堆栈图主要用于查看特定时间段内变量的各种趋势。Matplotlib有一个用于创建堆栈图的内置函数，称为stackplot()。</p><p id="91bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来理解一下我们将用于堆栈图的示例。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="59f9" class="jm jn hi ji b be jo jp l jq jr">from matplotlib import pyplot as plt<br/><br/>plt.style.use("fivethirtyeight")<br/><br/><br/>minutes = [1, 2, 3, 4, 5, 6, 7, 8, 9]<br/><br/>player1 = [1, 2, 3, 3, 4, 4, 4, 4, 5]<br/>player2 = [1, 1, 1, 1, 2, 2, 2, 3, 4]<br/>player3 = [1, 1, 1, 2, 2, 2, 3, 3, 3]<br/><br/><br/>plt.title("Stack Plot")<br/>plt.tight_layout()<br/>plt.show()</span></pre><p id="2b49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，我们有一个代表x轴的分钟列表。此外，我们有三名球员，每个球员名单代表他们每一分钟的表现。比如第二分钟，玩家1得2分，玩家2和玩家3得1分。</p><p id="8011" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，如果我们对相同的数据执行股票绘图，我们将看到每个玩家根据时间的进展。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="39e1" class="jm jn hi ji b be jo jp l jq jr">from matplotlib import pyplot as plt<br/><br/>plt.style.use("fivethirtyeight")<br/><br/><br/>minutes = [1, 2, 3, 4, 5, 6, 7, 8, 9]<br/><br/>player1 = [1, 2, 3, 3, 4, 4, 4, 4, 5]<br/>player2 = [1, 1, 1, 1, 2, 2, 2, 3, 4]<br/>player3 = [1, 1, 1, 2, 2, 2, 3, 3, 3]<br/><br/>plt.stackplot(minutes,player1,player2,player3)<br/>plt.title("Stack Plot")<br/>plt.tight_layout()<br/>plt.show()</span></pre><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es js"><img src="../Images/0690b0e22f1c84e1148039bdd7048dc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5af5tM1PqbzH05k3I7YKVg.png"/></div></div></figure><p id="b5b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们可以看到每个球员在每分钟的贡献，蓝色的球员在整个比赛中贡献更多。</p><p id="effc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以通过传递label参数来添加标签，并传递label的列表值。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="5e08" class="jm jn hi ji b be jo jp l jq jr">labels = ['Player1','Player2','Player3']<br/>plt.stackplot(minutes,player1,player2,player3,labels=labels)<br/>plt.legend()</span></pre><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es ka"><img src="../Images/bbe23583b81bed99a4756335b1e2a23b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*upf3dPHPMtAzASa_O0AtWw.png"/></div></div></figure><p id="3dd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下，legend()为标签选择最佳位置，但是如果您想要更改，我们可以将位置作为参数传递，它将相应地更新，因此我将这里的标签位置更新为左上角而不是右上角。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="909c" class="jm jn hi ji b be jo jp l jq jr">plt.legend(loc = 'upper left')</span></pre><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kb"><img src="../Images/de04052e0a811bb698b1709f6b5a7d45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*abMOC1i51g95zmuGyqaWXg.png"/></div></div></figure><p id="446d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们也可以定义自定义颜色，作为一个自定义参数来改变股票图的颜色。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="cc70" class="jm jn hi ji b be jo jp l jq jr">colors = ['#008fd5','#fc4f30','#e5ae37']<br/>plt.stackplot(minutes,player1,player2,player3,labels=labels,colors=colors)</span></pre><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kc"><img src="../Images/369c57c12b718454e1e4e688716c3401.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EwZ3hPYqssxz7Ftw15n9gQ.png"/></div></div></figure></div></div>    
</body>
</html>