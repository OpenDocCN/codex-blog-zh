<html>
<head>
<title>Associative links</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关联链接</h1>
<blockquote>原文：<a href="https://medium.com/codex/associative-links-e13abc5251af?source=collection_archive---------12-----------------------#2021-09-05">https://medium.com/codex/associative-links-e13abc5251af?source=collection_archive---------12-----------------------#2021-09-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/82fc3fdf4f82dcb2797b65111803a602.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mNEpXgl0m38UCAiO"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@urielsc26?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">乌列尔SC </a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="e678" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">什么是理想的“信息量”或“最小意义单位”，为什么要问这样的问题？与此相关的痛苦很多，甚至常常没有意识到。我们提供了一个解决方案，但首先你需要弄清楚它的用途。我们推荐你阅读<a class="ae iu" rel="noopener" href="/@ivansglazunov/code-is-dependent-on-data-and-models-and-therefore-on-the-abstractions-used-in-them-so-603e083b3434">系列的第一篇文章</a>。</p><h1 id="5a35" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">回顾的</h1><p id="46b5" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">关系表、面向文档的数据库、jsonb存储…我们经常使用表/集合中的模型作为最小的意义单位。该模型由具有不同结构的列/字段组成，并反映作者定义的一些真实对象或抽象概念。</p><p id="6ff4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这种方法会产生问题:</p><ul class=""><li id="8abb" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated">很多地址空间。(如果你不认为这是一个问题，那么很快就会有一篇关于这个主题的文章，你会明白为什么这个问题是真实的)。</li><li id="0848" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">数据结构的许多控制点改变起来很昂贵。</li><li id="58e7" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">仅在作者定义的级别上兼容。</li><li id="6f89" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">如果不创建另一个表/集合，就无法完全描述新的事物。</li><li id="9b47" class="kw kx hi ix b iy lf jc lg jg lh jk li jo lj js lb lc ld le bi translated">无法将对象与它们之间的关系分开。</li></ul><p id="9dbc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所有这些问题都在深层解决。数据的事例关联模型。</p><blockquote class="lk ll lm"><p id="f311" class="iv iw ln ix b iy iz ja jb jc jd je jf lo jh ji jj lp jl jm jn lq jp jq jr js hb bi translated"><em class="hi">如果您对优化感兴趣，或者对图表中的范围感兴趣，这里会有一个到该文章的链接。</em></p></blockquote><h1 id="2885" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">让我们深入研究一下</h1><p id="db33" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">很深。格与链接概念一起运作，作为意义/信息量的最小单位。</p><h1 id="9a9e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">链接表</h1><p id="4390" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">链接(链接的网络)非常类似于图，但是，图分为节点和仅指节点的边。链接不会划分这些地址空间。这允许链接引用链接，并携带数据模型作者可以放入其中的任何含义。</p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/3b2a267cf14831d6c0c784c38050c3bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O65V9IoWIOz6GHZeZsq9xQ.png"/></div></div></figure><h1 id="457b" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">链接结构</h1><p id="a6c6" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">链接结构由所需的唯一<code class="du lw lx ly lz b">id</code>和<code class="du lw lx ly lz b">type_id</code>组成，用作该链接的类型。可选的<code class="du lw lx ly lz b">from_id</code>和<code class="du lw lx ly lz b">to_id</code>字段只能一起指定。</p><p id="90a2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">用于创建链接的类型很容易由用户自己在项目模型中创建，或者由导入的模型包提供。</p><p id="a514" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">指定的<code class="du lw lx ly lz b">from_id</code>和<code class="du lw lx ly lz b">to_id</code>字段指的是其他链接。任何关系都可以用这样的链接来描述。</p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/fce5f4ccbd0b2628a9b22edc2be92927.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KsXmfa_guTb_ZErommO9Gw.png"/></div></div></figure><pre class="ls lt lu lv fd mb lz mc md aw me bi"><span id="8761" class="mf ju hi lz b fi mg mh l mi mj">{<br/>  links(where: { id: { _eq: 74  } }) {<br/>    id<br/>    type_id<br/>    from_id<br/>    to_id<br/>  }<br/>}</span><span id="9db1" class="mf ju hi lz b fi mk mh l mi mj">{<br/>  "data": {<br/>    "links": [<br/>      {<br/>        "id": 74,<br/>        "type_id": 70,<br/>        "from_id": 72,<br/>        "to_id": 73,<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><h1 id="771b" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">作为节点链接</h1><p id="5843" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">您可以将链接中的<code class="du lw lx ly lz b">from_id</code>和<code class="du lw lx ly lz b">to_id</code>字段留空。这种联系起着一个节点、一个点、一个关系对象的作用。</p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/fd16c8b7c9ec4f1419b552b867315e33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2MnhsoqgAdyBPeq8063E4Q.png"/></div></div></figure><pre class="ls lt lu lv fd mb lz mc md aw me bi"><span id="99a1" class="mf ju hi lz b fi mg mh l mi mj">{<br/>  links(where: { id: { _eq: 28 } }) {<br/>    id<br/>    type_id<br/>    from_id<br/>    to_id<br/>  }<br/>}</span><span id="f8f8" class="mf ju hi lz b fi mk mh l mi mj">{<br/>  "data": {<br/>    "links": [<br/>      {<br/>        "id": 28,<br/>        "type_id": 6,<br/>        "from_id": 0,<br/>        "to_id": 0<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><h1 id="3f63" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">作为链接的链接</h1><p id="1207" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">如果指定了<code class="du lw lx ly lz b">from_id</code>和<code class="du lw lx ly lz b">to_id</code>，则链接扮演节点或链接之间关系的角色。它可以使用<code class="du lw lx ly lz b">type_id</code>来回答它们是如何关联的问题。具有链接的节点的环境可以回答关于其含义、关系、目的、值和状态的许多问题。</p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/a74ab8a0dba9495734762a4f7a0635fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_xidDJsmeRwH5okSy-mwUw.png"/></div></div></figure><pre class="ls lt lu lv fd mb lz mc md aw me bi"><span id="fdf8" class="mf ju hi lz b fi mg mh l mi mj">{<br/>	links(where: { id: { _in: [6,7,8] } }) {<br/>    id<br/>    type_id<br/>    from_id<br/>    to_id<br/>  }<br/>}</span><span id="b6c8" class="mf ju hi lz b fi mk mh l mi mj">{<br/>  "data": {<br/>    "links": [<br/>      {<br/>        "id": 6,<br/>        "type_id": 1,<br/>        "from_id": 0,<br/>        "to_id": 0<br/>      },<br/>      {<br/>        "id": 7,<br/>        "type_id": 1,<br/>        "from_id": 0,<br/>        "to_id": 0<br/>      },<br/>      {<br/>        "id": 8,<br/>        "type_id": 1,<br/>        "from_id": 7,<br/>        "to_id": 6<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><h1 id="abc7" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">统一GraphQL API</h1><blockquote class="lk ll lm"><p id="b840" class="iv iw ln ix b iy iz ja jb jc jd je jf lo jh ji jj lp jl jm jn lq jp jq jr js hb bi translated"><em class="hi">这个API允许做很多事情，比如使用index遍历某些子树中的所有子树/父树。但是关于这个会有单独的文章。</em></p></blockquote><p id="fc60" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">显然，链接本身的结构在那里是可用的，并且从一个链接你可以通过它的链接(<code class="du lw lx ly lz b">from_id</code>和<code class="du lw lx ly lz b">to_id</code>)和从其他链接的向后引用(输出和输入)转到其他链接。例如，您可以使用关系<code class="du lw lx ly lz b">out</code>通过<code class="du lw lx ly lz b">from_id</code>(这些链接来自它)或者使用关系<code class="du lw lx ly lz b">in</code>通过<code class="du lw lx ly lz b">to_id</code>(这些链接指向它)转到引用该链接的所有链接。</p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/b63dadaf4eacf14506cf4112d0c35aba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jkul0GLIMSD7JbYLNB7ccQ.png"/></div></div></figure><pre class="ls lt lu lv fd mb lz mc md aw me bi"><span id="66af" class="mf ju hi lz b fi mg mh l mi mj">{<br/>  links(where: {id: {_eq: 8}}) {<br/>    id<br/>    type {<br/>      id<br/>    }<br/>    from {<br/>      id<br/>      type_id<br/>      from_id<br/>      to_id<br/>      out {<br/>        id<br/>        type_id<br/>        from_id<br/>        to_id<br/>      }<br/>    }<br/>    to {<br/>      id<br/>      type_id<br/>      from_id<br/>      to_id<br/>      in {<br/>        id<br/>        type_id<br/>        from_id<br/>        to_id<br/>      }<br/>    }<br/>  }<br/>}</span><span id="bfec" class="mf ju hi lz b fi mk mh l mi mj">{<br/>  "data": {<br/>    "links": [<br/>      {<br/>        "id": 8,<br/>        "type": {<br/>          "id": 1<br/>        },<br/>        "from": {<br/>          "id": 7,<br/>          "type_id": 1,<br/>          "from_id": 0,<br/>          "to_id": 0,<br/>          "out": [<br/>            {<br/>              "id": 8,<br/>              "type_id": 1,<br/>              "from_id": 7,<br/>              "to_id": 6<br/>            }<br/>          ]<br/>        },<br/>        "to": {<br/>          "id": 6,<br/>          "type_id": 1,<br/>          "from_id": 0,<br/>          "to_id": 0,<br/>          "in": [<br/>            {<br/>              "id": 8,<br/>              "type_id": 1,<br/>              "from_id": 7,<br/>              "to_id": 6<br/>            },<br/>            {<br/>              "id": 13,<br/>              "type_id": 1,<br/>              "from_id": 6,<br/>              "to_id": 6<br/>            },<br/>            {<br/>              "id": 24,<br/>              "type_id": 22,<br/>              "from_id": 23,<br/>              "to_id": 6<br/>            }<br/>          ]<br/>        }<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><h1 id="807e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">类似SQL的查询</h1><p id="5c7a" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">我们不仅能接收到上述结构的数据。我们可以使用类似sql的<code class="du lw lx ly lz b">where</code>谓词在每个级别执行各种复杂的过滤。</p><pre class="ls lt lu lv fd mb lz mc md aw me bi"><span id="3456" class="mf ju hi lz b fi mg mh l mi mj">{<br/>  links(where: {id: { _eq: 6 } }) {<br/>    id<br/>    type { id }<br/>    from { id }<br/>    to { id }<br/>    out(where: { from_id: { _eq: 6} }) {<br/>      id<br/>      type_id<br/>      from_id<br/>      to_id<br/>    }<br/>    in(where: { type_id: { _eq: 1} }, limit: 1) {<br/>      id<br/>      type_id<br/>      from_id<br/>      to_id<br/>    }<br/>  }<br/>}</span><span id="e939" class="mf ju hi lz b fi mk mh l mi mj">{<br/>  "data": {<br/>    "links": [<br/>      {<br/>        "id": 6,<br/>        "type": {<br/>          "id": 1<br/>        },<br/>        "from": null,<br/>        "to": null,<br/>        "out": [<br/>          {<br/>            "id": 13,<br/>            "type_id": 1,<br/>            "from_id": 6,<br/>            "to_id": 6<br/>          }<br/>        ],<br/>        "in": [<br/>          {<br/>            "id": 8,<br/>            "type_id": 1,<br/>            "from_id": 7,<br/>            "to_id": 6<br/>          }<br/>        ]<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><h1 id="5e2d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">捐款</h1><p id="126d" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">所有这些都已经支持订阅。您可以简单地描述您想要订阅哪个结构——您将实时收到查询结果的更新。</p><pre class="ls lt lu lv fd mb lz mc md aw me bi"><span id="6d59" class="mf ju hi lz b fi mg mh l mi mj">subscription {<br/>  links(where: { from_id: { _eq: 7 }, to_id: { _eq: 6 } }) {<br/>    id<br/>    type_id<br/>  }<br/>}</span></pre><h1 id="ec6f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">支持关联技术</h1><p id="b768" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">我们创建了一个开发环境(盒装CE / EE版本和SaaS版本)，它允许您使用数据存储来解决您的业务问题，并能够使用关联方法来适应任何业务变化。我们将在一个单一的关联空间中创建一个服务器集群的分布式网络，这样在创建项目时就不必考虑地区法规。我们创造了一种发布可重用数据模型及其行为的文化。</p><p id="4447" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在<a class="ae iu" href="https://discord.com/invite/vNJCTK4nZB" rel="noopener ugc nofollow" target="_blank"> Discord </a>上加入我们的社区。在我们的等待名单上注册提前访问或在<a class="ae iu" href="https://www.patreon.com/deepfoundation?fan_landing=true" rel="noopener ugc nofollow" target="_blank"> Patreon </a>上支持我们。</p><p id="4708" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://deep.foundation/?utm_source=medium&amp;utm_medium=article&amp;utm_content=article2" rel="noopener ugc nofollow" target="_blank">在我们的网站</a>上，您可以找到开发中的未来文章草稿的链接、代码源的链接、项目和产品管理计划以及invest演示文稿的链接。</p></div></div>    
</body>
</html>