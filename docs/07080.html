<html>
<head>
<title>How to Use DiffUtils in RecyclerView in Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•åœ¨Kotlinçš„RecyclerViewä¸­ä½¿ç”¨DiffUtils</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/how-to-use-diffutils-in-recyclerview-in-kotlin-2b5d1f01abe2?source=collection_archive---------0-----------------------#2022-05-29">https://medium.com/codex/how-to-use-diffutils-in-recyclerview-in-kotlin-2b5d1f01abe2?source=collection_archive---------0-----------------------#2022-05-29</a></blockquote><div><div class="dt gx gy gz ha hb"/><div class="hc hd he hf hg"><div class=""/><figure class="ew ey ih ii ij ik es et paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="es et ig"><img src="../Images/a23cc8ac3025a9264954a7f819063ecd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BNhlKfWq3nXoG_eCYMaxDA.jpeg"/></div></div></figure><h2 id="7edd" class="ir is hj bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated">ä½ åœ¨Androidä¸­åˆ›è¿‡åˆ—è¡¨å—ï¼ŸğŸ¤”</h2><h2 id="f787" class="ir is hj bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated">ä½ ç”¨ä»€ä¹ˆåšçš„ï¼ŸğŸ¤”</h2><p id="69fb" class="pw-post-body-paragraph jp jq hj jr b js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj hc bi translated">ListViewæˆ–RecyclerViewæ˜¯ä¸¤ç§ç±»å‹çš„è§†å›¾ã€‚</p><p id="15e4" class="pw-post-body-paragraph jp jq hj jr b js kk ju jv jw kl jy jz jc km kb kc jg kn ke kf jk ko kh ki kj hc bi translated">å¦‚æœä½ æ˜¯ä¸€åAndroidå¼€å‘è€…ï¼Œä½ è‚¯å®šåœ¨æŸä¸ªæ—¶å€™ç”¨è¿‡RecyclerViewã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨DiffUtilsæ›´æ–°RecyclerViewã€‚</p><p id="85d0" class="pw-post-body-paragraph jp jq hj jr b js kk ju jv jw kl jy jz jc km kb kc jg kn ke kf jk ko kh ki kj hc bi translated">ä¹‹å‰æˆ‘ä»¬æœ‰ä¸€ç¯‡æ–‡ç« (<a class="ae kp" rel="noopener" href="/@ezatpanah/recyclerview-in-android-with-example-in-depth-guide-94462a6b573b"> Here </a>)æ˜¯å…³äºä½¿ç”¨recyclerviewå’Œå®ƒæœ‰å¤šç®€å•çš„ï¼Œç°åœ¨æˆ‘æƒ³å‘ä½ å±•ç¤ºä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•æ¥ç®¡ç†ä½ çš„åˆ—è¡¨ã€‚</p><p id="8e71" class="pw-post-body-paragraph jp jq hj jr b js kk ju jv jw kl jy jz jc km kb kc jg kn ke kf jk ko kh ki kj hc bi translated">å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬çš„åˆ—è¡¨ä¼šå®Œå…¨æ”¹å˜ï¼Œæˆ‘ä»¬ä¼šä¸ºRecyclerView Adapterè®¾ç½®ä¸€ä¸ªæ–°åˆ—è¡¨ã€‚ä¸ºäº†æ›´æ–°é€‚é…å™¨ï¼Œæˆ‘ä»¬ä½¿ç”¨notifyDataSetChangedã€‚è¿™ä¸ªæ‰‹æœ¯å¾ˆè´µã€‚DiffUtilç±»ç°åœ¨å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚å®ƒåšå¾—å¾ˆå¥½ï¼</p><h2 id="6804" class="ir is hj bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated">ä»€ä¹ˆæ˜¯å›°éš¾</h2><p id="06bc" class="pw-post-body-paragraph jp jq hj jr b js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj hc bi translated">è¿™ä¸ªç±»æ‰¾å‡ºä¸¤ä¸ªåˆ—è¡¨ä¹‹é—´çš„å·®å¼‚ï¼Œå¹¶æä¾›æ›´æ–°åçš„åˆ—è¡¨ä½œä¸ºè¾“å‡ºã€‚æ­¤ç±»ç”¨äºé€šçŸ¥RecyclerViewé€‚é…å™¨çš„æ›´æ–°ã€‚</p><p id="30e8" class="pw-post-body-paragraph jp jq hj jr b js kk ju jv jw kl jy jz jc km kb kc jg kn ke kf jk ko kh ki kj hc bi translated">æˆ‘ä»¬å¼€å§‹å§ğŸ‘©ğŸ»â€ğŸ’»</p></div><div class="ab cl kq kr gq ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hc hd he hf hg"><h2 id="79ae" class="ir is hj bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated">é€æ­¥å®æ–½</h2><h2 id="5867" class="ir is hj bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated">æ­¥éª¤1-å‡†å¤‡æ¯è¡Œçš„ç”¨æˆ·ç•Œé¢</h2><p id="d0a9" class="pw-post-body-paragraph jp jq hj jr b js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj hc bi translated">åœ¨èµ„æºå¸ƒå±€ä¸­ä¸ºRecyclerViewåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰å¸ƒå±€æ–‡ä»¶ï¼Œåä¸ºitem_row.xmlã€‚</p><pre class="kx ky kz la fe lb lc ld le aw lf bi"><span id="b771" class="ir is hj lc b fj lg lh l li lj">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br/>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="wrap_content"<br/>    android:background="#B3E5FC"<br/>    android:layout_margin="5dp"<br/>    android:padding="5dp"&gt;<br/><br/>    &lt;TextView<br/>        android:id="@+id/tvId"<br/>        android:text="Id"<br/>        android:layout_width="wrap_content"<br/>        android:layout_height="wrap_content"<br/>        app:layout_constraintStart_toStartOf="parent"<br/>        app:layout_constraintTop_toTopOf="parent" /&gt;<br/><br/>    &lt;TextView<br/>        android:id="@+id/tvName"<br/>        android:text="Name"<br/>        android:layout_marginTop="5dp"<br/>        android:layout_width="wrap_content"<br/>        android:layout_height="wrap_content"<br/>        app:layout_constraintStart_toStartOf="parent"<br/>        app:layout_constraintTop_toBottomOf="@id/tvId" /&gt;<br/>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span></pre><h2 id="8541" class="ir is hj bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated">æ­¥éª¤2 â€”åœ¨æ´»åŠ¨æˆ–ç‰‡æ®µå¸ƒå±€ä¸­æ·»åŠ RecyclerView</h2><p id="b87d" class="pw-post-body-paragraph jp jq hj jr b js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj hc bi translated">åœ¨æ´»åŠ¨å¸ƒå±€<strong class="jr hk"> activity_main.xml </strong>å¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ RecyclerViewï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ã€‚</p><pre class="kx ky kz la fe lb lc ld le aw lf bi"><span id="0152" class="ir is hj lc b fj lg lh l li lj">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br/>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    xmlns:tools="http://schemas.android.com/tools"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="match_parent"<br/>    tools:context=".MainActivity"&gt;<br/><br/>    &lt;androidx.recyclerview.widget.RecyclerView<br/>        android:id="@+id/rvMain"<br/>        android:layout_height="match_parent"<br/>        android:layout_width="match_parent"<br/>        app:layout_constraintTop_toTopOf="parent"<br/>        app:layout_constraintStart_toStartOf="parent"/&gt;<br/><br/>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span></pre><h2 id="f8ba" class="ir is hj bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated">æ­¥éª¤3-åˆ›å»ºæ•°æ®èµ„æºç±»</h2><p id="bcf9" class="pw-post-body-paragraph jp jq hj jr b js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj hc bi translated">æ ·æœ¬æ¨¡å‹. kt</p><pre class="kx ky kz la fe lb lc ld le aw lf bi"><span id="2a40" class="ir is hj lc b fj lg lh l li lj">class SampleModel(val id:Int,val name : String)</span></pre><h2 id="76a3" class="ir is hj bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated">æ­¥éª¤4-åˆ›å»ºé€‚é…å™¨ç±»</h2><p id="277e" class="pw-post-body-paragraph jp jq hj jr b js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj hc bi translated">ä¸ºè§†å›¾é¡¹åˆ›å»ºè§†å›¾å®¹å™¨ï¼Œè¿æ¥recycle viewçš„æ•°æ®æºï¼Œå¹¶é€šè¿‡åˆ›å»ºrecycle viewé€‚é…å™¨æ¥å¤„ç†è§†å›¾é€»è¾‘ã€‚</p><pre class="kx ky kz la fe lb lc ld le aw lf bi"><span id="2c95" class="ir is hj lc b fj lg lh l li lj">class SampleAdapter  : RecyclerView.Adapter&lt;SampleAdapter.ViewHolder&gt;(){<br/>    private lateinit var binding: ItemRowBinding<br/>    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): SampleAdapter.ViewHolder {<br/>        binding= ItemRowBinding.inflate(LayoutInflater.from(parent.context),parent,false)<br/>        return ViewHolder()<br/>    }<br/><br/>    override fun onBindViewHolder(holder: SampleAdapter.ViewHolder, position: Int) {<br/>        holder.setData(differ.currentList[position])<br/>        holder.setIsRecyclable(false)<br/>    }<br/><br/>    override fun getItemCount()=differ.currentList.size<br/><br/>    inner class ViewHolder : RecyclerView.ViewHolder(binding.root){<br/>        fun setData(item : SampleModel){<br/>            binding.apply {<br/>                tvId.text=item.id.toString()<br/>                tvName.text = item.name<br/>            }<br/>        }<br/><br/>    }<br/><br/>    private val differCallback = object : DiffUtil.ItemCallback&lt;SampleModel&gt;(){<br/>        override fun areItemsTheSame(oldItem: SampleModel, newItem: SampleModel): Boolean {<br/>            return  oldItem.id == newItem.id<br/>        }<br/><br/>        @SuppressLint("DiffUtilEquals")<br/>        override fun areContentsTheSame(oldItem: SampleModel, newItem: SampleModel): Boolean {<br/>            return oldItem == newItem<br/>        }<br/><br/>    }<br/><br/>    val differ = AsyncListDiffer(this,differCallback)<br/><br/>}</span></pre><h2 id="2c96" class="ir is hj bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated">æ­¥éª¤5 â€”ä½¿ç”¨MainActivity.kt</h2><p id="990b" class="pw-post-body-paragraph jp jq hj jr b js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj hc bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿éƒ½æœ‰äº†ã€‚<br/>å°†é€‚é…å™¨è¿æ¥åˆ°RecyclerViewã€‚æ¥ä¸‹æ¥ï¼Œå°†RecyclerViewé™„åŠ åˆ°MainActivityçš„é€‚é…å™¨ç±»ã€‚</p><pre class="kx ky kz la fe lb lc ld le aw lf bi"><span id="af62" class="ir is hj lc b fj lg lh l li lj">class MainActivity : AppCompatActivity() {<br/>    private lateinit var binding: ActivityMainBinding<br/>    private val sampleAdapter by lazy{ SampleAdapter() }<br/><br/>    override fun onCreate(savedInstanceState: Bundle?) {<br/>        super.onCreate(savedInstanceState)<br/>        binding= ActivityMainBinding.inflate(layoutInflater)<br/>        setContentView(binding.root)<br/><br/>        sampleAdapter.differ.submitList(loadData())<br/><br/>        binding.apply {<br/>            rvMain.apply {<br/>                layoutManager=LinearLayoutManager(this@MainActivity)<br/>                adapter=sampleAdapter<br/>            }<br/>        }<br/>    }<br/>    fun loadData() : MutableList&lt;SampleModel&gt;{<br/>        val nameList : MutableList&lt;SampleModel&gt; = mutableListOf()<br/>        nameList.add(SampleModel(1,"Sample 1"))<br/>        nameList.add(SampleModel(2,"Sample 2"))<br/>        nameList.add(SampleModel(3,"Sample 3"))<br/>        nameList.add(SampleModel(4,"Sample 4"))<br/>        nameList.add(SampleModel(5,"Sample 5"))<br/>        nameList.add(SampleModel(6,"Sample 6"))<br/>        nameList.add(SampleModel(7,"Sample 7"))<br/>        nameList.add(SampleModel(8,"Sample 8"))<br/>        nameList.add(SampleModel(9,"Sample 9"))<br/>        nameList.add(SampleModel(10,"Sample 10"))<br/>        nameList.add(SampleModel(11,"Sample 11"))<br/>        nameList.add(SampleModel(12,"Sample 12"))<br/><br/>        return nameList<br/>    }<br/>}</span></pre><p id="504b" class="pw-post-body-paragraph jp jq hj jr b js kk ju jv jw kl jy jz jc km kb kc jg kn ke kf jk ko kh ki kj hc bi translated">æå®šäº†:)</p></div><div class="ab cl kq kr gq ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hc hd he hf hg"><p id="1c1c" class="pw-post-body-paragraph jp jq hj jr b js kk ju jv jw kl jy jz jc km kb kc jg kn ke kf jk ko kh ki kj hc bi translated">Githubæ¥æº:</p><div class="lk ll fa fc lm ln"><a href="https://github.com/ezatpanah/DiffUtils-Youtube" rel="noopener  ugc nofollow" target="_blank"><div class="lo ab dx"><div class="lp ab lq cl cj lr"><h2 class="bd hk fj z dz ls eb ec lt ee eg hi bi translated">GitHub-ezatpanah/DiffUtils-Youtube</h2><div class="lu l"><h3 class="bd b fj z dz ls eb ec lt ee eg dy translated">æ­¤æ—¶æ‚¨ä¸èƒ½æ‰§è¡Œè¯¥æ“ä½œã€‚æ‚¨å·²ä½¿ç”¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæˆ–çª—å£ç™»å½•ã€‚æ‚¨å·²åœ¨å¦ä¸€ä¸ªé€‰é¡¹å¡ä¸­æ³¨é”€ï¼Œæˆ–è€…â€¦</h3></div><div class="lv l"><p class="bd b fq z dz ls eb ec lt ee eg dy translated">github.com</p></div></div><div class="lw l"><div class="lx l ly lz ma lw mb ip ln"/></div></div></a></div><p id="4723" class="pw-post-body-paragraph jp jq hj jr b js kk ju jv jw kl jy jz jc km kb kc jg kn ke kf jk ko kh ki kj hc bi translated">å¦å¤–ï¼Œä½ å¯ä»¥åœ¨Youtubeä¸ŠæŸ¥çœ‹æˆ‘å…³äºè¿™ç¯‡æ–‡ç« çš„androidè§†é¢‘:</p><figure class="kx ky kz la fe ik"><div class="bz dz l di"><div class="mc md l"/></div></figure><p id="0481" class="pw-post-body-paragraph jp jq hj jr b js kk ju jv jw kl jy jz jc km kb kc jg kn ke kf jk ko kh ki kj hc bi translated">æ„Ÿè°¢æ‚¨çš„é˜…è¯»å’Œå¿«ä¹ç¼–ç ï¼</p><p id="c173" class="pw-post-body-paragraph jp jq hj jr b js kk ju jv jw kl jy jz jc km kb kc jg kn ke kf jk ko kh ki kj hc bi translated"><em class="me">åˆ«å¿˜äº†</em>ğŸ‘</p></div></div>    
</body>
</html>