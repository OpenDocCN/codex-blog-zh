<html>
<head>
<title>Rapid iteration using Stable Diffusion</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用稳定扩散的快速迭代</h1>
<blockquote>原文：<a href="https://medium.com/codex/rapid-iteration-in-digital-art-using-stable-diffusion-1294e39883d9?source=collection_archive---------1-----------------------#2022-08-31">https://medium.com/codex/rapid-iteration-in-digital-art-using-stable-diffusion-1294e39883d9?source=collection_archive---------1-----------------------#2022-08-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div class="er es hg"><img src="../Images/4570e7f1684c16bb6ffa0bebf8c1d234.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*Kp-jPiYr56ohWamrMPTD3Q.png"/></div></figure><div class=""/><p id="7133" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae jk" href="https://github.com/CompVis/stable-diffusion#stable-diffusion-v1" rel="noopener ugc nofollow" target="_blank">稳定扩散</a>是一种潜在的文本到图像扩散模型。该模型接受文本输入，并将文本转换为底层概念的抽象表示，通过大量数据学习。然后，它使用这些抽象表示产生图像。也支持图像到图像的生成，正是这个特性让我们在创建数字艺术时能够快速迭代。</p><p id="c903" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">使用类似方法进行稳定扩散的技术已经存在，如Google的Imagen或OpenAI的DALL-E。然而，这些模型不具有与稳定扩散相同的公共可用性水平，稳定扩散可以通过使用云计算或模型的本地副本在家中运行。要在本地运行该模型，需要一个具有数千兆字节内存的GPU。作为背景，我用的是GTX 1660超级6GB的VRAM。如果你的VRAM预算有限，你可以使用<a class="ae jk" href="https://github.com/basujindal/stable-diffusion" rel="noopener ugc nofollow" target="_blank">优化的SD </a>。</p><p id="7789" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">稳定扩散的内部工作非常有趣，也非常重要，但是它们超出了本文的范围，本文是对该技术具体应用的高级概述和演示。关于该型号的更多详细信息可以在<a class="ae jk" href="https://towardsdatascience.com/stable-diffusion-best-open-source-version-of-dall-e-2-ebcdf1cb64bc" rel="noopener" target="_blank">和</a>等文章中找到。同样，如果您正在寻找如何在本地运行模型的说明，我推荐<a class="ae jk" rel="noopener" href="/geekculture/run-stable-diffusion-in-your-local-computer-heres-a-step-by-step-guide-af128397d424">这篇文章</a>。</p><h1 id="a6c3" class="jl jm hp bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">在创作过程中使用稳定扩散</h1><p id="cd66" class="pw-post-body-paragraph im in hp io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">首先，坦白说:我不是艺术家。我缺乏将我的想法提炼为视觉形式所需的经验和创造技能。事实上，如果你让我画一幅带有提示“从月球表面看地球”的图像，我会很自豪地呈现给你以下内容:</p><figure class="ko kp kq kr fd hk er es paragraph-image"><div class="er es hg"><img src="../Images/bf98bab6967b0b5343a29f8c9166f0d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*3nDB7QMGFJiBdFUZcDbprw.png"/></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">“从月球表面看地球”[人类生成]</figcaption></figure><p id="971d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">诚然，必要的高层次的组成部分出现在图像中:一个流星坑景观，太空中的星空和我们称之为家园的小蓝点。事实上，这个图像包含了表示输入提示所需的最少量的信息。然而，它缺乏更精细的细节，如阴影或对地球的准确描绘。这是缺乏任何波兰或美丽，使它甚至模糊的艺术。</p><p id="fa81" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就是稳定扩散真正发光的地方:我们可以使用我们的低质量绘图作为模型的输入，它不仅可以为我们填充细节，还可以让我们为我们的图像添加新元素，产生无数新想法的排列，并以任何风格重新创建它。</p><p id="4aeb" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">通常在使用图像生成工具时，大量的思考都集中在提示工程上:选择一个文本输入来提供您期望的输出。相比之下，图像对图像的方法意味着几乎不需要笨拙地将我们的想象力转化为文字。</p><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kw"><img src="../Images/0153d07ddbaa05ce0a66936c3c63a099.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tTD9ML6xJmrquTXm3VV6KA.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">“月球表面。超逼真"[强度=0.8，ddim_steps=30]</figcaption></figure><p id="731e" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">上面的图像是由我们输入的稳定扩散生成的。在启用turbo和30个时间步长的情况下使用OptimizedSD，这个输出是在我相当普通的GPU上在一分多钟内生成的。</p><h1 id="6154" class="jl jm hp bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">对生成的输出进行调整</h1><p id="5f63" class="pw-post-body-paragraph im in hp io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">上图中月球表面的细节非常奇妙，然而你会注意到在大多数的例子中，地球已经变成了另一个月球！这是由于稳定扩散的创造性自由，由“强度”参数控制。减小强度值将产生更接近输入图像的输出，而较大的强度值将允许模型引入新的想法并以令人惊讶的方式修改输入。在创作过程的早期，我会鼓励使用较大的力量值。</p><p id="6354" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了修复生成的图像，我将输出图像加载到我的图像编辑器中，并删除了无关的月亮。然后我画了一个非常简单的从太空看地球的视图，并把它传递到稳定扩散中以产生一个输出。</p><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lb"><img src="../Images/092f1c40a5f2c79348be721b88e6b5dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KQj_-M8j68OyPlLEdh_I-Q.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">“从太空拍摄的地球照片”[强度=0.6，ddim_steps=30]</figcaption></figure><p id="b012" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这看起来更像我想的那样。对图像中的关键组件执行此操作将使您对最终结果有更多的控制，并允许高水平的细节，否则将需要大量的即时工程来实现。</p><p id="de53" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">用模型生成的更加详细的地球，我再次打开我的图像编辑器，把它叠加到我的月球风景上。其结果是，这幅图像与我最初创作草图时脑海中的景象完全吻合，其细节程度远远超出了我的能力。</p><figure class="ko kp kq kr fd hk er es paragraph-image"><div class="er es hg"><img src="../Images/565a53412b9ee9b0e2ae4f4adcd6c28f.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*wb92Ye-IBLiisyO5YnLvFw.png"/></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">生成的地球覆盖了我们生成的月球地形</figcaption></figure><h1 id="1cd4" class="jl jm hp bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">无休止地迭代</h1><p id="ace8" class="pw-post-body-paragraph im in hp io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">我们现在已经创建了一个背景场景，我们可以在其上添加尽可能多的细节，方法是重复生成图像的循环，将其叠加到我们的场景上，并通过低强度的稳定扩散和描述性提示运行叠加的图像，以消除任何不一致。</p><p id="cf1d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这种情况下，我想在月球表面增加一把孤独的躺椅和遮阳伞。像以前一样，我画我的基本草图，这次是在我现有的场景上。然后，我导出草图，并将其输入到稳定扩散中，给出统一的风格和细节层次。在最左边的图像中，你会注意到地球被突然切掉了。通过稳定扩散运行图像以类似于如何将细节添加到我们的草图元素的方式解决了这个问题，允许我们粗略地粘贴新内容，而不用浪费时间整理更小的细节。</p><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lb"><img src="../Images/61d1c6a0275a73c947a128a964f234ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y97pjZSHcDlG-_KZlBjKDg.png"/></div></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">“月球上一把红白相间的躺椅在遮阳伞下的详细照片。行星地球在背景中”[强度=0.7，ddim_steps=50]</figcaption></figure><p id="8a26" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">结果是一件独特的艺术作品，以视觉形式表现了我的想象，艺术能力极低。我可以继续下去，加入新的元素，调整风格——我可以把这幅图像重建成文艺复兴时期的绘画或蜡笔插图。可能性是无限的。</p><p id="b60e" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">自从Stable Diffusion发布以来，创建本文中使用的图像所需的工具已由社区在过去一周内开发完成。有了这样的势头，模型的应用前景是光明的，例如在利基计算机科学和机器学习社区之外的稳定扩散。随着这些工具变得越来越容易获得，他们会接触到具有新观点、新想法和才华的人。这种模型的普遍可用性是进步和创新的催化剂，也是稳定扩散如此令人兴奋的原因。</p><figure class="ko kp kq kr fd hk er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lc"><img src="../Images/8cab91809e876248d5c61e0b9fd7ed11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uKfhllQbbsWYu0oRkDHiOw.png"/></div></div></figure></div></div>    
</body>
</html>