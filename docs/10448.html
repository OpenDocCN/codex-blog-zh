<html>
<head>
<title>Unique Paths III</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">独特的道路III</h1>
<blockquote>原文：<a href="https://medium.com/codex/unique-paths-iii-b0feb87ebe6b?source=collection_archive---------9-----------------------#2022-12-31">https://medium.com/codex/unique-paths-iii-b0feb87ebe6b?source=collection_archive---------9-----------------------#2022-12-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="c4d0" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">今日问题[2022年12月31日]</h2></div><p id="f6ff" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">给你一个<code class="du jt ju jv jw b">m x n</code>整数数组<code class="du jt ju jv jw b">grid</code>，其中<code class="du jt ju jv jw b">grid[i][j]</code>可能是:</p><ul class=""><li id="b9f7" class="jx jy hi iz b ja jb jd je jg jz jk ka jo kb js kc kd ke kf bi translated"><code class="du jt ju jv jw b">1</code>代表出发方块。恰好有一个起始方块。</li><li id="214f" class="jx jy hi iz b ja kg jd kh jg ki jk kj jo kk js kc kd ke kf bi translated"><code class="du jt ju jv jw b">2</code>代表结束方块。恰好有一个结束方块。</li><li id="c673" class="jx jy hi iz b ja kg jd kh jg ki jk kj jo kk js kc kd ke kf bi translated"><code class="du jt ju jv jw b">0</code>代表我们可以走过的空方块。</li><li id="5dde" class="jx jy hi iz b ja kg jd kh jg ki jk kj jo kk js kc kd ke kf bi translated">代表我们无法跨越的障碍。</li></ul><p id="22ad" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">返回从起点方块到终点方块的4向行走的次数，该次数正好经过每个非障碍方块一次。</p><p id="0e67" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">例1: </strong></p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es km"><img src="../Images/e9329829115c0a7b057c10be9890e4fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/0*rFetJAdfrnAXub01.jpg"/></div></figure><pre class="kn ko kp kq fd ku jw kv bn kw kx bi"><span id="660b" class="ky kz hi jw b be la lb l lc ld">Input: grid = [[1,0,0,0],[0,0,0,0],[0,0,2,-1]]<br/>Output: 2<br/>Explanation: We have the following two paths: <br/>1. (0,0),(0,1),(0,2),(0,3),(1,3),(1,2),(1,1),(1,0),(2,0),(2,1),(2,2)<br/>2. (0,0),(1,0),(2,0),(2,1),(1,1),(0,1),(0,2),(0,3),(1,3),(1,2),(2,2)</span></pre><p id="981d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">例2: </strong></p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es km"><img src="../Images/9016d6d05f218f6daa987f2178994ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/0*4hCqsMCW6n_pW58X.jpg"/></div></figure><pre class="kn ko kp kq fd ku jw kv bn kw kx bi"><span id="56b0" class="ky kz hi jw b be la lb l lc ld">Input: grid = [[1,0,0,0],[0,0,0,0],[0,0,0,2]]<br/>Output: 4<br/>Explanation: We have the following four paths: <br/>1. (0,0),(0,1),(0,2),(0,3),(1,3),(1,2),(1,1),(1,0),(2,0),(2,1),(2,2),(2,3)<br/>2. (0,0),(0,1),(1,1),(1,0),(2,0),(2,1),(2,2),(1,2),(0,2),(0,3),(1,3),(2,3)<br/>3. (0,0),(1,0),(2,0),(2,1),(2,2),(1,2),(1,1),(0,1),(0,2),(0,3),(1,3),(2,3)<br/>4. (0,0),(1,0),(2,0),(2,1),(1,1),(0,1),(0,2),(0,3),(1,3),(1,2),(2,2),(2,3)</span></pre><p id="6fa0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">例3: </strong></p><figure class="kn ko kp kq fd kr er es paragraph-image"><div class="er es le"><img src="../Images/1cef485efd351769ce000eccf80f8d14.png" data-original-src="https://miro.medium.com/v2/resize:fit:328/format:webp/0*bX3CgHnZq1zs7HZk.jpg"/></div></figure><pre class="kn ko kp kq fd ku jw kv bn kw kx bi"><span id="6f8c" class="ky kz hi jw b be la lb l lc ld">Input: grid = [[0,1],[2,0]]<br/>Output: 0<br/>Explanation: There is no path that walks over every empty square exactly once.<br/>Note that the starting and ending square can be anywhere in the grid.</span></pre></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><h1 id="4570" class="lm kz hi bd ln lo lp lq lr ls lt lu lv io lw ip lx ir ly is lz iu ma iv mb mc bi translated">解决办法</h1><p id="3867" class="pw-post-body-paragraph ix iy hi iz b ja md ij jc jd me im jf jg mf ji jj jk mg jm jn jo mh jq jr js hb bi translated">这个问题与使用DFS(深度优先搜索)找到唯一路径是一样的。但是只有一个转折，那就是我们应该遍历所有的空单元格。</p><p id="ea34" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，首先我们对空单元进行计数，当我们到达最终目的地时，我们检查空单元计数是否等于0。</p><p id="ea93" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一旦我们离开该单元，我们将其标记为未访问，并将空单元加1。</p><pre class="kn ko kp kq fd ku jw kv bn kw kx bi"><span id="3543" class="ky kz hi jw b be la lb l lc ld">class Solution {<br/>    public int uniquePathsIII(int[][] grid) {<br/>        int totalEmptyCells = 0;<br/>        int startRow = -1;<br/>        int startCol = -1;<br/>        for(int i=0;i&lt;grid.length;i++) {<br/>            for(int j=0;j&lt;grid[0].length;j++) {<br/>                if(grid[i][j] == 1) {<br/>                    startRow = i;<br/>                    startCol = j;<br/>                } else if(grid[i][j] == 0)<br/>                    totalEmptyCells++;<br/>            }<br/>        }<br/>        <br/>        return countPaths(grid, startRow, startCol, totalEmptyCells);<br/>    }<br/><br/>    public int countPaths(int[][] grid, int startRow, int startCol, int totalEmptyCells) {<br/>        int m = grid.length;<br/>        int n = grid[0].length;<br/>        boolean[][] visited = new boolean[m][n];<br/><br/>        return dfs(grid, startRow, startCol, m, n, visited, totalEmptyCells+1);<br/>    }<br/><br/>    public int dfs(int[][] grid, int i, int j, int m, int n, boolean[][] visited, int totalEmptyCells) {<br/><br/>        if(i &lt; 0 || j &lt; 0 || i &gt;= m || j &gt;= n) return 0;<br/><br/>        if(grid[i][j] == -1) return 0; // blocker<br/><br/>        if(visited[i][j]) return 0; // already visited<br/><br/>        if(grid[i][j] == 2) { // reached finish state<br/>            if(totalEmptyCells == 0) return 1;<br/>            return 0;<br/>        }<br/><br/>        visited[i][j] = true;<br/>        totalEmptyCells--;<br/><br/>        int ans = 0;<br/>        ans += dfs(grid, i+1, j, m, n, visited, totalEmptyCells);<br/>        ans += dfs(grid, i-1, j, m, n, visited, totalEmptyCells);<br/>        ans += dfs(grid, i, j+1, m, n, visited, totalEmptyCells);<br/>        ans += dfs(grid, i, j-1, m, n, visited, totalEmptyCells);<br/><br/>        totalEmptyCells++;<br/>        visited[i][j] = false;<br/>        return ans;<br/>    }<br/>}</span></pre></div><div class="ab cl lf lg gp lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hb hc hd he hf"><p id="3cc7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">加入我的电报频道，获取每日Leetcode挑战解决方案。</p><div class="mi mj ez fb mk ml"><a href="https://t.me/sole_master_coding" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab dw"><div class="mn ab mo cl cj mp"><h2 class="bd hj fi z dy mq ea eb mr ed ef hh bi translated">唯一主|编码</h2><div class="ms l"><h3 class="bd b fi z dy mq ea eb mr ed ef dx translated">编码#编程# leet code # code chef # hacker rank # interview bit # gfg</h3></div><div class="mt l"><p class="bd b fp z dy mq ea eb mr ed ef dx translated">t.me</p></div></div></div></a></div><p id="3beb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">谢谢大家！！！</strong></p><p id="6957" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">2023 #新年快乐</strong></p></div></div>    
</body>
</html>