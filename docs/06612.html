<html>
<head>
<title>Splunk: Creating Analytical Dashboards with Splunk Enterprise</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Splunk:使用Splunk Enterprise创建分析仪表板</h1>
<blockquote>原文：<a href="https://medium.com/codex/splunk-creating-analytical-dashboards-with-splunk-enterprise-7b2f14ce1ed7?source=collection_archive---------7-----------------------#2022-05-04">https://medium.com/codex/splunk-creating-analytical-dashboards-with-splunk-enterprise-7b2f14ce1ed7?source=collection_archive---------7-----------------------#2022-05-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="b7a4" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用CSV数据在Splunk中执行快速EDA和构建优雅仪表板的初学者指南</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/7959f7233511880801ec2312e5e5a69a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2hUOuAiPXZE5Xa7G"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">杰斯·贝利在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="fe44" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这是商业世界中分析仪表板的全盛时期，每个正式或非正式的演示都从令人愉悦的视觉效果中受益匪浅。然而，处理大量的数据，甚至从统计学的角度探索数据，都是一件费时费力的事情——更不用说从数据中创建可视化了。尽管有其他更受欢迎的替代产品，Splunk为那些不希望浪费时间学习新框架或编程语言的人提供了一个体面而简单的工具，因为他们可以制作漂亮的仪表板并获得令人印象深刻的见解。</p><p id="e6cb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Splunk在日常使用中并不是很多人熟悉的东西。然而，在使用它之后，很容易看到它的数据连接性、简单易用的UI和基本的分析工具对于一些快速的数据分析是多么有用。</p><h2 id="8111" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">为什么选择Splunk？</h2><p id="fc9c" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">在创建正式报告或在数据分析和可视化方面具有更大灵活性时，Python和Tableau肯定更受欢迎。Tableau提供了快速的数据处理和交互式ui，而Python中的Seaborn或Plotly等库在图形实用程序方面提供了更多的灵活性。另外，后者可以很容易地与基于Python的web应用程序集成。</p><p id="7051" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">然而，对于许多人来说，如果您还没有在几个项目中使用过这两种工具，那么它们都需要大量的反复试验。此外，Splunk是希望有更多选项直接从TCP/UDP端口、云平台、本地数据库或API加载数据集的企业的理想选择。除此之外，它支持大量的文件格式直接上传。这些功能有助于简化数据管理过程，而不会占用昂贵的内存资源。</p><h1 id="bb3c" class="lk kl hi bd km ll lm ln kq lo lp lq ku io lr ip kx ir ls is la iu lt iv ld lu bi translated">Splunk企业版</h1><p id="5787" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">开始使用Splunk的最简单方法之一是使用Splunk Enterprise。Splunk Enterprise是Splunk提供的产品之一，用于加载、搜索、分析和可视化个人数据。使用Enterprise的一个主要优点是它支持从各种资源加载数据，并且对于一些业余分析和仪表板生成来说很简单。</p><p id="873f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><a class="ae jn" href="https://www.splunk.com/en_us/download/splunk-enterprise.html" rel="noopener ugc nofollow" target="_blank">从此链接安装Splunk Enterprise】。在此页面上，您必须:</a></p><ol class=""><li id="b1a0" class="lv lw hi jq b jr js ju jv jx lx kb ly kf lz kj ma mb mc md bi translated">创建Splunk帐户</li><li id="cab1" class="lv lw hi jq b jr me ju mf jx mg kb mh kf mi kj ma mb mc md bi translated">根据您的操作系统下载软件包</li></ol><p id="5e04" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">对于本教程，我们使用<strong class="jq hj"> Splunk 8.2.6 </strong>。在Windows 10操作系统上。</p><p id="437d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">值得注意的是，Splunk Enterprise是一项付费服务。虽然不建议为这样的服务付费，除非对你的组织绝对必要，但经历试用期以完成你的短期项目是值得的。默认情况下，激活期间会激活免费试用选项，但是安装Splunk后，您可以将其更改为免费层。</p><p id="067c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">接下来，默认安装可能会要求您为web服务器创建登录凭证。对于Splunk企业版(非Splunk免费版)，您将在每次打开Splunk企业版时使用它登录到Splunk本地服务器。正如Splunk免费网页上提到的，Splunk免费不会创建不同的用户，因此它不需要个性化的凭据来访问本地服务器。</p><p id="9c16" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">安装完成后，您可以直接启动Splunk web服务器。或者，对于Windows，您可以从“开始”菜单转到“服务”，查找“Splunkd服务”并从那里启动它。该服务通常运行在本地主机8000上。</p><h1 id="8daf" class="lk kl hi bd km ll lm ln kq lo lp lq ku io lr ip kx ir ls is la iu lt iv ld lu bi translated">使用Splunk企业版</h1><p id="b98b" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">主页看起来会像这样</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mk"><img src="../Images/b8d8e06aff1db1e34d780429799a5fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LI_Kl-gNDwzxWywDm2FIkw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者图片</figcaption></figure><p id="a660" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">任何数据分析项目的第一步总是加载和探索数据。</p><p id="3b10" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了简单起见，我们将只探索从您的计算机上传数据文件的选项。或者，为了熟悉Splunk，您也可以使用Splunk提供的许多默认数据集之一。</p><h2 id="6c06" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">使用默认数据集</h2><p id="212b" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">从登录页面转到“搜索和报告”窗口。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ml"><img src="../Images/3bb65e33eba767d45feec5465fbf4557.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*Pn8BtBNhgl8oqKA_ZUheuQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者图片</figcaption></figure><p id="60c6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">切换到<em class="mj">数据集</em>选项卡，查看可用的数据集。这个版本的Splunk有33个数据集，我们将从中选择芝加哥犯罪数据集(<em class="mj"> chicago-crime.csv </em>)。选择它将加载数据集的预览，如下所示。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mm"><img src="../Images/690d4ee151803bf9bbf754cab26fad03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hMFzBmK1JncjpQmLaqme1g.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者图片</figcaption></figure><p id="3431" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从右上角开始，进入搜索中的探索-&gt;调查，开始分析过程。</p><h2 id="e56c" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">从您的计算机加载数据集</h2><p id="6aa4" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">您可以从登录页面的“添加数据”部分访问此选项。</p><p id="abef" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了保持这个博客的一致性，我从官方网站下载了更大的芝加哥犯罪数据集:<a class="ae jn" href="https://data.cityofchicago.org/Public-Safety/Crimes-2001-to-Present/ijzp-q8t2" rel="noopener ugc nofollow" target="_blank"> Crimes — 2001年至今</a>。你可以去data.cityofchicago.org<a class="ae jn" href="https://data.cityofchicago.org" rel="noopener ugc nofollow" target="_blank">网站</a>找到“公共与安全”下的犯罪数据集。前一个数据集的CSV文件大小约为39MB。根据您选择的数据，我建议删除列标题中的空格，以使查询更容易。</p><ol class=""><li id="4914" class="lv lw hi jq b jr js ju jv jx lx kb ly kf lz kj ma mb mc md bi translated">上传文件，然后点击“下一步”。</li><li id="7393" class="lv lw hi jq b jr me ju mf jx mg kb mh kf mi kj ma mb mc md bi translated">在“设置源类型”部分，将源类型设置为“csv ”(如果尚未设置)并在“时间戳”下将提取设置为“当前”。确保“另存为”并设置任意名称。</li><li id="bf2d" class="lv lw hi jq b jr me ju mf jx mg kb mh kf mi kj ma mb mc md bi translated">在下一节中，通过设置一个简单的索引名(如“chicagocrime ”)来创建一个新索引。</li><li id="7e53" class="lv lw hi jq b jr me ju mf jx mg kb mh kf mi kj ma mb mc md bi translated">审核并提交。</li></ol><h1 id="fd91" class="lk kl hi bd km ll lm ln kq lo lp lq ku io lr ip kx ir ls is la iu lt iv ld lu bi translated">查询数据集</h1><p id="ef10" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">从现在开始，我们将使用Splunk中提供的默认<em class="mj"> chicago-crime </em>数据集。选择“在搜索中调查”后，我们会看到如下所示的搜索&amp;报告屏幕。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mn"><img src="../Images/8395ef85e5f0a59afbcab79abf1266a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jndnN2YkGvQ4KwqOrOhzcQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者图片</figcaption></figure><p id="ba11" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这个屏幕上，有一个搜索栏来编写查询，下面的一组窗格显示结果。用于聚合、选择、过滤等搜索查询。结果将显示在统计窗格中。为了简单起见，我们不要探究事件或模式窗格。</p><p id="a9da" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">关于查询关键字的快速指南，请参考这里的<a class="ae jn" href="https://docs.splunk.com/Documentation/SplunkLight/7.3.6/References/Listofsearchcommands" rel="noopener ugc nofollow" target="_blank">文档页面</a>。我们现在将探索一些基本的查询。</p><p id="d299" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">显示整个数据表</strong></p><p id="212d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">对于默认数据集(注意开头的管道“|”):</p><pre class="iy iz ja jb fd mo mp mq mr aw ms bi"><span id="7aba" class="kk kl hi mp b fi mt mu l mv mw">| from inputlookup:”chicago-crime.csv”</span></pre><p id="c97e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">对于上传的数据集，只需提及您在数据加载阶段设置的索引的名称:</p><pre class="iy iz ja jb fd mo mp mq mr aw ms bi"><span id="a254" class="kk kl hi mp b fi mt mu l mv mw">index="chicagocrime"</span></pre><p id="65a0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这两个查询都将以表格形式显示全部数据:</p><p id="12b0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">选择子集</strong></p><pre class="iy iz ja jb fd mo mp mq mr aw ms bi"><span id="0af9" class="kk kl hi mp b fi mt mu l mv mw">| from inputlookup:"chicago-crime.csv" | table description, primary_type | head 500</span></pre><p id="846c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> table </strong>关键字将获取一个列名列表，并从整个集合中选择那些列。同样，使用<strong class="jq hj"> head n </strong>将选择集合中的前n行。在添加管道“|”之后，需要追加每个新的命令或实用程序。</p><p id="01d0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">获取统计数据</strong></p><p id="87bb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">让我们看几个基本查询来探索数据集，并了解如何编写它们。</p><p id="3a5d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在写查询之前，我们必须清楚我们想要产生的结果。例如，如果我们想要查看在每个唯一的位置报告了多少起犯罪，我们可以简单地计算在<em class="mj"> location_description </em>列中每个唯一值的出现次数。</p><p id="2f6c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">对于sum、count、mean、<em class="mj"> first </em>或range等聚合操作，我们在Splunk查询中使用<strong class="jq hj"> stats </strong>关键字。<strong class="jq hj"> stats </strong>后跟操作的关键字(在我们的例子中，<strong class="jq hj"> <em class="mj"> count by </em> </strong>)，列名将创建一个名为“count”的列，它将对应于location_description列中的每个惟一值。</p><p id="6608" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">此外，我们将<em class="mj">按照计数的降序对</em>结果进行排序，并使用<strong class="jq hj"> <em class="mj"> head </em> </strong>显示前10个值。查询如下所示:</p><pre class="iy iz ja jb fd mo mp mq mr aw ms bi"><span id="2776" class="kk kl hi mp b fi mt mu l mv mw">| from inputlookup:"chicago-crime.csv" | stats count by location_description | sort - count | head 10</span></pre><p id="8431" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这是结果表:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mx"><img src="../Images/21c9713e08dcf2ebb90d70b74d4f2ba9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*6lA8jh_gFPwDXYB9c0ALng.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者图片</figcaption></figure><p id="38de" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在该数据集中，位置“街道”的犯罪数量最多。</p><p id="f8b9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">由于我们已经执行了聚合操作，并且有两个相关的列(位置描述对应于指示计数的数值)，我们可以查看当前统计窗格旁边的可视化窗格。它将根据当前结果生成一个快速图表。</p><p id="8af4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">例如，饼图</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es my"><img src="../Images/000bf31616d7951999fe3d0067f0f66d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1faGjJ5PEC4XAoR0PD9L8A.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者图片</figcaption></figure><p id="b40c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">您也可以将图表类型更改为其他类型，如水平条形图或折线图。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mz"><img src="../Images/e05a6d57e92ab71927717ff058730c64.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*Vyo-HXaQFMGJH0kgI-25IA.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者图片</figcaption></figure><p id="024b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">接下来，让我们深入了解“街道”这个位置，看看那里最常见的犯罪类型。为此，我们需要选择location_description下包含STREET的行，然后统计primary_type列的唯一值的出现次数。</p><p id="4683" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">因此，与前面的查询相比，我们需要做的所有结构性改变就是添加使用<strong class="jq hj"> search </strong>关键字的过滤操作。</p><pre class="iy iz ja jb fd mo mp mq mr aw ms bi"><span id="5859" class="kk kl hi mp b fi mt mu l mv mw">| from inputlookup:"chicago-crime.csv" | search location_description="STREET" |stats count by primary_type | sort - count | head 10</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es na"><img src="../Images/d009db8a9decdff12bd867acb252d936.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*bwq38geXf5zEk4wAy1LIdA.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者图片</figcaption></figure><p id="64a3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">盗窃是街上最常见的犯罪。</p><p id="98a3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">同样，我们可以绘制结果，因为我们有相关的列</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nb"><img src="../Images/e5c9cd17ce323b047ff7dccd48e03166.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*bN5fn2riu19rzPi4iflGBw.png"/></div></figure><p id="4d38" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这些将是我们将包含在仪表板中的图表类型。</p><p id="8a34" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">通过这种方式，您需要在表视图阶段查看数据集和浏览要素，以确定可以从其列中提取哪些类型的信息。</p><p id="cd04" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">另一个直观的问题是，特定的犯罪通常发生在什么样的地方？考虑犯罪描述“国产电池简单”。根据描述，我们应该预计最常见的位置包括家庭或室内空间。</p><pre class="iy iz ja jb fd mo mp mq mr aw ms bi"><span id="4521" class="kk kl hi mp b fi mt mu l mv mw">| from inputlookup:"chicago-crime.csv" | search description="DOMESTIC BATTERY SIMPLE" | stats count by location_description | sort - count | head 10</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es nc"><img src="../Images/636250d1b6709f549923c7423f33ab10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*lL9fqSrN4b5kTEOc8zsg7A.png"/></div></figure><p id="d9b4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">是的，我们的假设是正确的，数据也支持它。你可以回答类似的问题，并使用数据分析来支持或反驳你的假设。</p><h1 id="cf5c" class="lk kl hi bd km ll lm ln kq lo lp lq ku io lr ip kx ir ls is la iu lt iv ld lu bi translated">创建地图</h1><p id="30ea" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">我们的数据集中有两列包含这些犯罪的位置坐标，这些数值作为数字无法用于数据分析，但是Splunk提供了附加应用程序来在地图上绘制这些坐标！</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nd"><img src="../Images/69b584a1db57a98e2e998b7de089fdf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OfGlVB1i9romVuehxuajJA.png"/></div></div></figure><p id="f3d7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Splunk应用程序的Maps+对位置坐标进行聚类，并显示该聚类中的实例数量。基本上，我们可以看到芝加哥大多数犯罪发生的地区。放大这张地图，随着我们越来越近，星团变得越来越细，并分成多个部分。</p><p id="a48d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">要安装Maps+ for Splunk，请转到应用-&gt;查找更多应用并搜索此附加工具。输入您为splunk.com<strong class="jq hj">创建的凭证(不是本地主机登录)并安装它。</strong></p><p id="c422" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">安装后，返回搜索并输入以下查询。<strong class="jq hj">表</strong>关键字从当前表中创建一个子表。</p><pre class="iy iz ja jb fd mo mp mq mr aw ms bi"><span id="d5d0" class="kk kl hi mp b fi mt mu l mv mw">| from inputlookup:"chicago-crime.csv" | table latitude, longitude</span></pre><p id="debd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Maps+只需要表中有两个分别名为纬度和经度的列。我们的表只有这两列，所以Maps+将只显示计数作为它的分类。</p><p id="8340" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">进入可视化面板，从选择可视化菜单中选择地图+选项，一幅地图将会出现！</p><h1 id="b7cc" class="lk kl hi bd km ll lm ln kq lo lp lq ku io lr ip kx ir ls is la iu lt iv ld lu bi translated">创建仪表板</h1><p id="b446" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">一旦您形成并测试了所有的查询并预览了它们的可视化效果，请从搜索上方的菜单栏转到仪表板栏。</p><p id="c105" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">选择<em class="mj">创建新仪表板</em>，设置标题，并继续经典仪表板选项。</p><p id="3b75" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，您可以添加面板，选择要在该面板中显示的图表，并添加仪表板将执行以生成所需图表的查询。例如，在饼图选项中输入我们创建的第一个查询:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ne"><img src="../Images/13cf0cf8074fb5100a61b69baccf170c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kKoHBL0uQbIjDG7LLklkqQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者图片</figcaption></figure><p id="e506" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">单击<em class="mj"> Add to Dashboard </em>，您会看到一旦查询执行完成，图表就被添加了。</p><p id="8ad8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">类似地，您可以添加我们在这里讨论的所有查询，并生成相应的图表。</p><p id="cd08" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">您也可以拖动和移动图表，将它们并排放置。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nf"><img src="../Images/256819ab3eff5fed39ca2809b01bb2fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VEXxHlsB5bjEXcjebWlcUQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者图片</figcaption></figure><p id="de4c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，您终于可以使用Splunk快速制作美观的仪表盘了！保存仪表板后，您可以将其导出为PDF格式，以便与同事共享。</p><p id="da70" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">但是，要将此交互式仪表板作为Splunk源共享，您可以在仪表板屏幕上切换到“源”而不是“UI”。在这里，您将看到这个仪表板的HTML源代码。将此代码与数据集共享(默认情况下不需要)将允许其他人在其Splunk企业应用程序中复制图表。这是我们今天创建的图表的代码。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ng nh l"/></div></figure><h2 id="c426" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">结论</h2><p id="8924" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">在本文中，我们了解了Splunk如何使用基本的查询语言和Splunk自动生成的其他统计数据来执行基本的数据分析。我们还了解了如何根据这些查询的结果快速创建仪表板，以便从大量数据中获得洞察力。</p><p id="0d8f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">非常感谢您的阅读！</p></div></div>    
</body>
</html>