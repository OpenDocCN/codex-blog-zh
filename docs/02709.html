<html>
<head>
<title>Java Keywords You Might Not Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你可能不知道的Java关键词</h1>
<blockquote>原文：<a href="https://medium.com/codex/java-keywords-you-might-not-know-e96fe5b3333b?source=collection_archive---------13-----------------------#2021-08-01">https://medium.com/codex/java-keywords-you-might-not-know-e96fe5b3333b?source=collection_archive---------13-----------------------#2021-08-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/9c1cc69bc074de5d350151663c6c9c7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZwQ3ZKff44MesgyrNOoA0w.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来自<a class="ae hv" href="https://unsplash.com/photos/9SoCnyQmkzI" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>的Jefferson Santos </figcaption></figure><div class=""/><p id="a0af" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Java语言提供了许多不同的关键字。关键字是具有预定义含义的保留字。因此，它不能用作变量、方法或类的名称。然而，有一个例外，这篇文章中涉及了一些不为人知的关键字。</p><h1 id="1858" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">例外情况</h1><h2 id="19ff" class="kr ju hy bd jv ks kt ku jz kv kw kx kd jg ky kz kh jk la lb kl jo lc ld kp le bi translated">转到</h2><p id="e653" class="pw-post-body-paragraph iv iw hy ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">如果你是Windows用户或C/C++开发人员，那么你可能会遇到一次“<strong class="ix hz"> goto </strong>关键字。您可以使用goto定义的标识符跳转到批处理脚本或C/C++代码中的特定位置。</p><p id="1570" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">虽然在许多情况下，关键字使代码更难阅读，但它值得存在。许多开发人员仍然不时地在他们的代码中使用它，至少在Java中不再使用了。在Java中，“goto”是一个没有任何功能的关键字。甲骨文前段时间把它去掉了。</p><blockquote class="lk"><p id="4166" class="ll lm hy bd ln lo lp lq lr ls lt js dx translated"><em class="lu"> Java没有goto语句。研究表明，goto经常被(错误地)使用，而不仅仅是“因为它在那里”。取消goto导致了语言的简化——例如，没有关于在for语句中间goto的效果的规则。对大约100，000行C代码的研究确定，大约90%的goto语句纯粹用于获得跳出嵌套循环的效果。如上所述，多级break和continue删除了大部分goto语句。</em></p></blockquote><p id="232b" class="pw-post-body-paragraph iv iw hy ix b iy lv ja jb jc lw je jf jg lx ji jj jk ly jm jn jo lz jq jr js hb bi translated">Goto是多余的，会引发难以辨认、不可维护的代码。这就是为什么它在Java中是一个保留的关键字，但没有赋予它任何功能的原因之一——现在你不应该在任何地方使用它。</p><h2 id="7f34" class="kr ju hy bd jv ks kt ku jz kv kw kx kd jg ky kz kh jk la lb kl jo lc ld kp le bi translated">常数</h2><p id="4b17" class="pw-post-body-paragraph iv iw hy ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">在Java中，这仍然是一个关键字，用它可以定义常量。但是，由于“<strong class="ix hz"> goto </strong>”关键字不再使用，开发人员应该使用“<strong class="ix hz"> final </strong>”关键字。</p><p id="e94e" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Oracle无法在不破坏兼容性的情况下实现"<strong class="ix hz"> const </strong>"关键字。如果许多Java程序仅仅因为一个关键字而失败，那将是一场噩梦。</p><blockquote class="lk"><p id="87d9" class="ll lm hy bd ln lo lp lq lr ls lt js dx translated">兼容性是JDK的一个非常重要的特点。可以说，应该修改集合类以表明元素是常量。这将要求所有现有的实现以同样的方式更新，有效地打破了集合接口的所有现有的非JDK实现。类似地，hashCode必须是const，打破了String的当前实现。"</p></blockquote><h1 id="3847" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke ma kg kh ki mb kk kl km mc ko kp kq bi translated">断言</h1><p id="7bca" class="pw-post-body-paragraph iv iw hy ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">Java有函数断言，比如带有“<strong class="ix hz"> assert </strong>”关键字的编程语言Dart，这对于调试来说是极好的。</p><figure class="md me mf mg fd hk"><div class="bz dy l di"><div class="mh mi l"/></div></figure><p id="df5a" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">提供一个布尔值，当该布尔值为假时，将引发AssertionError。</p><p id="d0db" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从理论上讲，您可以捕获断言错误，但是有一个很好的理由不这样做。Java中的错误是不应该被捕获的，因为它们代表了某件事情的严重失败。<br/>另一个例子是，当你的程序耗尽内存时，它应该崩溃并告诉用户有问题。所以，如果一个程序最终不需要工作，就不要捕捉错误。</p><p id="aa20" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一般来说，断言是保证程序正常工作的一种很好的方式，但是在Java中，它们只有在您选择使用启动参数“-ea”时才有效，该参数代表“启用断言”。如果您不这样做，那么断言将不起作用，并将被忽略。</p><h1 id="4dae" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">同步的</h1><p id="6587" class="pw-post-body-paragraph iv iw hy ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">当编写一个关键的程序时，比如对一个用户的账户进行交易或计算视图数，你的程序可能会遇到问题，这取决于你如何实现某些事情。</p><p id="747f" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设您同时收到两个请求。例如，两个用户同时查看一个页面，后端现在将更新计数。您的方法被调用，获取当前视图计数，加1，并将该数字存储在数据库中。<br/>因为请求是同时到来的，所以两种方法获取相同的视图计数，加1，并在数据库中存储相同的数量。换句话说，一个视图丢失了。</p><ol class=""><li id="21b9" class="mj mk hy ix b iy iz jc jd jg ml jk mm jo mn js mo mp mq mr bi translated">线程A:检索视图；获得值0</li><li id="5dc1" class="mj mk hy ix b iy ms jc mt jg mu jk mv jo mw js mo mp mq mr bi translated">线程B:检索视图；获得值0</li><li id="ce3b" class="mj mk hy ix b iy ms jc mt jg mu jk mv jo mw js mo mp mq mr bi translated">线程A:递增检索到的值；结果是1。</li><li id="cdf7" class="mj mk hy ix b iy ms jc mt jg mu jk mv jo mw js mo mp mq mr bi translated">线程B:递增检索值；结果是1。</li><li id="9497" class="mj mk hy ix b iy ms jc mt jg mu jk mv jo mw js mo mp mq mr bi translated">线程A:将结果存储在视图中；视图现在为1。</li><li id="2ff9" class="mj mk hy ix b iy ms jc mt jg mu jk mv jo mw js mo mp mq mr bi translated">线程B:将结果存储在视图中；视图现在为1。</li></ol><p id="bdae" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“<strong class="ix hz"> synchronized </strong>”关键字可以防止这种情况的发生，它让对视图进行计数的方法不要一次运行多次。如果一个线程试图运行它，而另一个线程执行该方法，JRE将阻塞该调用，直到另一个线程完成执行。对于较小的页面，这是合适的解决方案，直到它们获得巨大的访问量。然后，“队列”一次只能处理一个请求，这可能是一个弱点。想象一下每分钟获得数百万次浏览——队列无法满足要求。</p><figure class="md me mf mg fd hk"><div class="bz dy l di"><div class="mh mi l"/></div></figure><h1 id="3fdf" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">短暂的</h1><p id="cb6d" class="pw-post-body-paragraph iv iw hy ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">“<strong class="ix hz"> transient </strong>”关键字用于类中的字段。它定义了一个字段不属于对象持久化的状态，因此不应该被序列化。换句话说，瞬态场被忽略，例如使用GSON。</p><figure class="md me mf mg fd hk"><div class="bz dy l di"><div class="mh mi l"/></div></figure><p id="7206" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们使用GSON将这个类转换成JSON，那么字段<code class="du mx my mz na b">ignored</code>将不会包含在我们的JSON字符串中。</p><p id="c675" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了说明问题，持久数据是指在程序完成执行后，别有用心地存在的数据。例如，如果你玩一个视频游戏，并创建一个保存游戏，你写了一些东西到硬盘上。这些数据是持久的，在你关闭游戏后还会继续“活着”。你只关心你的保存游戏中的某些事情，例如，玩家位置，库存等。调试信息或短期数据并不重要，所以这些字段是暂时的，不会被保存。</p><h1 id="c637" class="jt ju hy bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="a96a" class="pw-post-body-paragraph iv iw hy ix b iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo lj jq jr js hb bi translated">本文讨论了为什么<strong class="ix hz"> goto </strong>和<strong class="ix hz"> const </strong>在Java中只作为保留关键字存在的原因。除此之外，你还学习了一些关于<strong class="ix hz">同步</strong>和<strong class="ix hz">瞬态</strong>以及如何使用它们的知识。</p></div></div>    
</body>
</html>