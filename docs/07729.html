<html>
<head>
<title>New language for creating full-stack apps with a single config file — Wasp</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用一个配置文件创建全栈应用的新语言——Wasp</h1>
<blockquote>原文：<a href="https://medium.com/codex/new-language-for-creating-full-stack-apps-with-a-single-config-file-wasp-c65748ed1d6b?source=collection_archive---------4-----------------------#2022-06-24">https://medium.com/codex/new-language-for-creating-full-stack-apps-with-a-single-config-file-wasp-c65748ed1d6b?source=collection_archive---------4-----------------------#2022-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/9a6cf32ebaf13316e1e668fa376f8d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JRK9BaCu79mB1VWx.png"/></div></figure><p id="8f4f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Wasp是一种新的编程语言，用于开发没有样板文件的全栈web应用。它是一种简单的声明性语言，使得开发web应用程序变得极其容易。同时仍然允许您使用React、Node.js和Prisma等最新技术。</p><p id="f185" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们将与您分享为什么我们相信Wasp对web开发来说是一件大事，它是如何工作的，我们现在在哪里，以及未来的计划是什么！</p><h1 id="0803" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">我们试图解决的是什么？</h1><p id="2fbf" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">如果你知道如何使用React，可以用HTML/CSS制作一个UI，熟悉在后端编写业务逻辑(例如在Node中)。但是，当您想要构建一个实际的web应用程序并部署它供其他人使用时，您会淹没在所有的细节和额外的工作中—响应的UI、适当的错误处理、安全性、构建、部署、身份验证、管理客户端上的服务器状态、管理数据库、不同的环境。诸如此类。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es ko"><img src="../Images/ebb2c84e1cf3d1056c2200252fd7d3b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*CrS5HlYnlTQi_gg7.png"/></div></figure><p id="0734" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">六年前，Jose Aguinaga在他的博客文章<a class="ae jk" href="https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f" rel="noopener ugc nofollow" target="_blank">“2016年学习JavaScript的感觉如何”</a>中用一种有趣的方式描述了这一点:web应用开发意想不到的复杂性。</p><p id="249b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们正在开发Wasp，因为尽管我们都是经验丰富的开发人员，并且使用各种技术开发过多个复杂的web应用程序(JQuery-&gt; Backbone-&gt; Angular-&gt; React，own scripts/makefile-&gt; Grunt-&gt; Gulp-&gt; web pack，PHP -&gt; Java -&gt; Node.js)。我们仍然觉得构建web应用程序比它应该的要难，因为在这个过程中涉及到许多样板文件和重复的工作。</p><p id="768e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们的主要见解是，虽然技术不断快速发展，但应用的核心需求大多保持不变(身份验证、路由、数据模型CRUD、ACL等)。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es kt"><img src="../Images/e042e797d24273f405f8644e99adfbbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Sn8rMpvJXKkvHvR2.jpeg"/></div></div></figure><p id="279f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就是为什么大约两年前我们开始考虑将web应用规范(它应该做什么)从它的实现(它应该如何做)中分离出来。</p><p id="6898" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这让我们想到了将常见的web应用功能和概念提取到一种特殊的规范语言(Wasp)中，而实现细节仍然通过现代堆栈(现在是React、Node.js、Prisma)来描述。</p><p id="0927" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们对Wasp的愿景是创建一种强大而简单的语言，在这种语言中，您可以尽可能人性化地描述您的web应用程序。我们想让上面图片中的冰山顶部尽可能的令人愉快，同时让底部变得更小。</p><p id="cdb1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这种语言中，只需几个词，您就可以指定页面及其路由，指定您想要的身份验证类型，定义基本实体/数据模型，描述基本数据流，选择您想要部署的位置，在React/Node中实现特定的细节，并让Wasp负责连接、构建和部署所有这些内容。</p><p id="62e7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">描述部分简单全栈web应用的wasp代码示例:</p><pre class="kp kq kr ks fd ky kz la lb aw lc bi"><span id="0bac" class="ld jm hi kz b fi le lf l lg lh">app todoApp {<br/>  title: "ToDo App" /* visible in tab */<br/>}</span><span id="ae84" class="ld jm hi kz b fi li lf l lg lh">route "/" -&gt; page Main<br/>page Main {<br/>  component: import Main from "<a class="ae jk" href="http://twitter.com/ext/Main" rel="noopener ugc nofollow" target="_blank">@ext/Main</a>.js"  /* Import your React code. */<br/>}</span><span id="70c4" class="ld jm hi kz b fi li lf l lg lh">auth { /* full-stack auth out-of-the-box */<br/>  userEntity: User,<br/>  methods: [ EmailAndPassword ],<br/>}</span><span id="367d" class="ld jm hi kz b fi li lf l lg lh">entity User {=psl<br/>  id          Int     <a class="ae jk" href="http://twitter.com/id" rel="noopener ugc nofollow" target="_blank">@id</a> <a class="ae jk" href="http://twitter.com/default" rel="noopener ugc nofollow" target="_blank">@default</a>(autoincrement())<br/>  email       String  <a class="ae jk" href="http://twitter.com/unique" rel="noopener ugc nofollow" target="_blank">@unique</a><br/>  password    String<br/>psl=}</span></pre><p id="85e9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">查看<a class="ae jk" href="https://github.com/wasp-lang/wasp/blob/main/examples/tutorials/TodoApp/main.wasp" rel="noopener ugc nofollow" target="_blank">此处</a>的完整示例。</p><h1 id="ce2a" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">框架不是已经解决这个问题了吗？为什么需要DSL？</h1><p id="2b31" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">框架(比如Ruby on Rails或Meteor)对我们来说是一个很大的启发。然而，我们想更进一步——通过设计一种专门用于web应用领域的语言(一种<a class="ae jk" href="https://en.wikipedia.org/wiki/Domain-specific_language" rel="noopener ugc nofollow" target="_blank"> DSL </a>),我们可以摆脱大量的样板文件，提供更干净&amp;更简单的开发者体验。</p><p id="828f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">另一方面，我们并不试图用Wasp取代一切，也不认为这有意义——恰恰相反，Wasp充当React和Node.js代码之间的“粘合剂”,使您从繁重的工作中解脱出来，同时允许您灵活地编写自己的代码。大部分代码仍然是用React和Node.js编写的，Wasp是整个应用程序的主干。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es ko"><img src="../Images/eee53599bbd785892888f2a8a1d828b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*K6tmTHdpFC40h6pY.png"/></div></figure><p id="8767" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">DSL的另一个好处是，它允许Wasp在构建期间理解web应用程序的需求，并在生成最终代码之前进行推理，这是我们特别兴奋的地方。</p><p id="bbf5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">例如，当生成要部署到生产中的代码时，它可以根据对web应用程序的理解选择最合适的架构，并将其部署到无服务器或其他类型的架构(甚至是组合)。另一个例子是在Wasp中定义一次数据模型逻辑，然后在栈的所有部分重用它。</p><p id="fd98" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">DSL开启了优化、静态分析、可扩展性和无与伦比的人体工程学的潜力。</p><h1 id="85f9" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">Wasp是如何工作的？</h1><p id="9666" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">Wasp编译器编译。wasp/React/Node.js源代码转换成React/Node.js目标代码。</p><p id="370f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">目前，Wasp只支持Javascript，但我们计划很快添加Typescript。<br/>技术说明:Wasp编译器是用Haskell实现的。</p><p id="e65b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">虽然目前只支持React和Node.js，但我们计划在未来支持多种其他技术。</p><p id="5220" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">生成的代码是人类可读的，并且可以很容易地被检查，甚至在Wasp变得过于受限时被抛弃。如果没有弹出，您就不需要查看生成的代码——它是由Wasp在后台生成的。</p><p id="df6b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Wasp是通过<code class="du lj lk ll kz b">wasp</code> CLI使用的——要在开发中运行Wasp项目，您需要做的就是运行<code class="du lj lk ll kz b">wasp start</code>。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es if"><img src="../Images/e0081d49c033dab8c47e1d08f691bc88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*M1lo5_2be9-0EYBq.png"/></div></figure><h1 id="d0c3" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">Wasp现在在哪里，要去哪里？</h1><p id="38c7" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">我们的大愿景是将尽可能多的web应用领域知识移植到Wasp语言中，赋予Wasp更多的能力和灵活性。</p><p id="c749" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最终，由于Wasp对web应用程序的需求有如此深刻的理解，我们可以在它的基础上生成一个可视化编辑器——允许非开发人员与开发人员一起参与开发。</p><p id="e08d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">此外，Wasp不会局限于特定的技术，而是支持多种技术(React/Angular/…、Node/Go/…**。</p><p id="f190" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Wasp目前处于Alpha阶段，一些功能仍然粗糙或缺失，有些事情我们还没有解决，有些事情可能会随着我们的进展而改变，但您可以尝试一下，并构建和部署web应用程序！</p><h1 id="02da" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">Wasp目前支持什么:</h1><ul class=""><li id="cfd2" class="lm ln hi io b ip kj it kk ix lo jb lp jf lq jj lr ls lt lu bi translated">✅全栈认证(电子邮件和密码)</li><li id="c5ea" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">✅页面和路由</li><li id="395b" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">✅模糊了客户机和服务器之间的界限——定义你的服务器动作和查询，并在你的客户机代码(RPC)中直接调用它们！</li><li id="20d7" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">服务器操作和查询的✅智能缓存(自动缓存失效)</li><li id="b27b" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">用Prisma.io定义✅实体(数据模型)</li><li id="f5fe" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">前端的✅ ACL</li><li id="444b" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">✅导入NPM依赖项</li></ul><h1 id="3b69" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">即将到来的是:</h1><ul class=""><li id="9d5a" class="lm ln hi io b ip kj it kk ix lo jb lp jf lq jj lr ls lt lu bi translated">⏳后端的ACL</li><li id="89e6" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳一键式部署</li><li id="3dc5" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳更多认证方法(谷歌、Linkedin、…*)</li><li id="ecd4" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳实体与其他功能的紧密集成</li><li id="a0ca" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳主题和布局</li><li id="3924" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳支持显式定义的服务器API</li><li id="2b94" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳内联JS——混合JS代码和Wasp代码的能力！</li><li id="6097" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳类型脚本支持</li><li id="b954" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳服务器端渲染</li><li id="069d" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳可视化编辑器</li><li id="9103" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳后端对不同语言的支持</li><li id="3ae8" class="lm ln hi io b ip lv it lw ix lx jb ly jf lz jj lr ls lt lu bi translated">⏳更丰富的wasp语言和更好的工具</li></ul><p id="382f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">您可以在<a class="ae jk" href="https://github.com/wasp-lang/wasp" rel="noopener ugc nofollow" target="_blank">https://github.com/wasp-lang/wasp</a>查看我们的回购，并在<a class="ae jk" href="https://wasp-lang.dev/docs" rel="noopener ugc nofollow" target="_blank">https://wasp-lang.dev/docs</a>-&gt;尝试一下。我们一直在寻找关于如何塑造Wasp的反馈和建议！</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es ma"><img src="../Images/48b87c00b5a701077db2d5072890d761.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/0*2C-EtJDZZuwu_J0w.png"/></div></figure><p id="82e4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们在<a class="ae jk" href="https://discord.com/invite/rzdnErX" rel="noopener ugc nofollow" target="_blank"> Discord </a>上也有一个社区，我们在那里谈论与Wasp相关的事情——加入我们，看看我们在做什么，分享你的观点，或者在你的Wasp项目上获得帮助。</p><p id="fc72" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><a class="ae jk" href="https://bit.ly/3Mo0Gu6" rel="noopener ugc nofollow" target="_blank"> <strong class="io hj">我们在Alpha(试用)！</strong> </a> → <a class="ae jk" href="https://discord.gg/rzdnErX" rel="noopener ugc nofollow" target="_blank"> <strong class="io hj">加入我们的社区</strong> </a> → <a class="ae jk" href="https://wasp-lang.notion.site/Founding-Engineer-at-Wasp-402274568afa4d7eb7f428f8fa2c0816" rel="noopener ugc nofollow" target="_blank"> <strong class="io hj">与我们一起工作</strong> </a></p><p id="82f7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">关注我们，订阅我们的更新，见证我们将如何努力改变现代web应用程序开发的面貌！</p></div></div>    
</body>
</html>