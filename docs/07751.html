<html>
<head>
<title>LeetCode 33. Search in Rotated Sorted Array — Python Solution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">LeetCode 33。在旋转排序数组中搜索Python解决方案</h1>
<blockquote>原文：<a href="https://medium.com/codex/leetcode-33-search-in-rotated-sorted-array-python-solution-428e6bd56182?source=collection_archive---------8-----------------------#2022-06-25">https://medium.com/codex/leetcode-33-search-in-rotated-sorted-array-python-solution-428e6bd56182?source=collection_archive---------8-----------------------#2022-06-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="bb43" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">盲75 —编程和技术面试问题—解释系列</h2></div><h2 id="fa5c" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">问题是:</h2><p id="19e3" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">有一个按升序排序的整数数组<code class="du ko kp kq kr b">nums</code>(带有<strong class="jx hj">个不同的</strong>值)。</p><p id="96cf" class="pw-post-body-paragraph jv jw hi jx b jy ks ij ka kb kt im kd ji ku kf kg jm kv ki kj jq kw kl km kn hb bi translated">在传递给你的函数之前，<code class="du ko kp kq kr b">nums</code>可能被<strong class="jx hj">旋转</strong>到一个未知的旋转索引<code class="du ko kp kq kr b">k</code> ( <code class="du ko kp kq kr b">1 &lt;= k &lt; nums.length</code>，这样得到的数组就是<code class="du ko kp kq kr b">[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]</code>(<strong class="jx hj">0-索引</strong>)。例如，<code class="du ko kp kq kr b">[0,1,2,4,5,6,7]</code>可能在旋转索引<code class="du ko kp kq kr b">3</code>处旋转，变成<code class="du ko kp kq kr b">[4,5,6,7,0,1,2]</code>。</p><p id="802a" class="pw-post-body-paragraph jv jw hi jx b jy ks ij ka kb kt im kd ji ku kf kg jm kv ki kj jq kw kl km kn hb bi translated">给定数组<code class="du ko kp kq kr b">nums</code><strong class="jx hj"/>后可能的旋转和一个整数<code class="du ko kp kq kr b">target</code>，如果在 <code class="du ko kp kq kr b">nums</code> <em class="kx">中则返回<em class="kx"/><code class="du ko kp kq kr b">target</code><em class="kx">的索引，如果不在</em> <code class="du ko kp kq kr b">nums</code>中则返回</em> <code class="du ko kp kq kr b">-1</code> <em class="kx">。</em></p><p id="14c0" class="pw-post-body-paragraph jv jw hi jx b jy ks ij ka kb kt im kd ji ku kf kg jm kv ki kj jq kw kl km kn hb bi translated">你必须写一个运行时复杂的算法。</p><figure class="kz la lb lc fd ld er es paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="er es ky"><img src="../Images/aec62b3eb77d2873dee75ac150b24fdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Qdyudq56kjGlkRRQ.png"/></div></div></figure><h2 id="3905" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">示例:</h2><p id="fa04" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated"><strong class="jx hj">例1: </strong></p><pre class="kz la lb lc fd lk kr ll lm aw ln bi"><span id="7b64" class="ix iy hi kr b fi lo lp l lq lr"><strong class="kr hj">Input:</strong> nums = [4,5,6,7,0,1,2], target = 0<br/><strong class="kr hj">Output:</strong> 4</span></pre><p id="e0e7" class="pw-post-body-paragraph jv jw hi jx b jy ks ij ka kb kt im kd ji ku kf kg jm kv ki kj jq kw kl km kn hb bi translated"><strong class="jx hj">例2: </strong></p><pre class="kz la lb lc fd lk kr ll lm aw ln bi"><span id="0385" class="ix iy hi kr b fi lo lp l lq lr"><strong class="kr hj">Input:</strong> nums = [4,5,6,7,0,1,2], target = 3<br/><strong class="kr hj">Output:</strong> -1</span></pre><p id="af59" class="pw-post-body-paragraph jv jw hi jx b jy ks ij ka kb kt im kd ji ku kf kg jm kv ki kj jq kw kl km kn hb bi translated"><strong class="jx hj">例3: </strong></p><pre class="kz la lb lc fd lk kr ll lm aw ln bi"><span id="0a0c" class="ix iy hi kr b fi lo lp l lq lr"><strong class="kr hj">Input:</strong> nums = [1], target = 0<br/><strong class="kr hj">Output:</strong> -1</span></pre><h2 id="4d59" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">制约因素:</h2><ul class=""><li id="fee1" class="ls lt hi jx b jy jz kb kc ji lu jm lv jq lw kn lx ly lz ma bi translated"><code class="du ko kp kq kr b">1 &lt;= nums.length &lt;= 5000</code></li><li id="4196" class="ls lt hi jx b jy mb kb mc ji md jm me jq mf kn lx ly lz ma bi translated"><code class="du ko kp kq kr b">-104 &lt;= nums[i] &lt;= 104</code></li><li id="6007" class="ls lt hi jx b jy mb kb mc ji md jm me jq mf kn lx ly lz ma bi translated"><code class="du ko kp kq kr b">nums</code>的所有值都是<strong class="jx hj">唯一的</strong>。</li><li id="56d2" class="ls lt hi jx b jy mb kb mc ji md jm me jq mf kn lx ly lz ma bi translated"><code class="du ko kp kq kr b">nums</code>是一个可能旋转的升序数组。</li><li id="c7fc" class="ls lt hi jx b jy mb kb mc ji md jm me jq mf kn lx ly lz ma bi translated"><code class="du ko kp kq kr b">-104 &lt;= target &lt;= 104</code></li></ul><h2 id="cea8" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">解释是:</h2><p id="e58e" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">这类似于<a class="ae mg" rel="noopener" href="/codex/leetcode-153-find-minimum-in-rotated-sorted-array-python-solution-8e3c6818b0e7?source=your_stories_page-------------------------------------">在旋转排序数组</a>中查找最小值，除了你不是在查找最小值，而是在搜索一个目标元素。这就是一些额外的if-else语句发挥作用的地方。同样，这个解决方案将使用二分搜索法，因此设置变量和while循环是非常标准的。所以在这个数组中，我们不知道左右指针的中点是大于还是小于左指针。因此，我们的第一个if语句将检查这一点。那么在这个if语句内部，我们不知道目标是大于还是小于中间元素，但是我们也不知道目标是小于还是大于左指针。所以我们必须检查这两种情况是否属实。如果目标大于中间元素或者目标小于左指针，那么我们必须将左指针设置为中间加一。记住我们可以检查目标是否小于左指针，因为我们已经知道左指针小于中间元素。这是大量的if-else和检查，它肯定会变得混乱和难以记忆，所以我建议只需编码并绘制它，并真正考虑每一种边缘情况，以提出这种解决方案。所以现在如果目标不大于中间元素，目标大于等于左指针，我们可以把右指针设置为中间减一。现在，在第一个if语句之外，如果左边的指针大于中间的元素，我们做类似的检查。在这个else语句中，我们检查目标是否小于中间的元素，或者目标是否大于右边的指针，如果是，那么我们将右边的指针设置为中间减一。否则，将左指针设置为中间加1。这将确保您能够找到目标(如果它存在于数组中)。</p><h2 id="14bf" class="ix iy hi bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated">二分搜索法解— O(logn):</h2><p id="730c" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">首先将左右指针初始化为零，并将<strong class="jx hj">的长度<em class="kx"> nums </em>的长度</strong>减一。现在，当left小于或等于right指针时，我们停留在这个for循环中。我们计算这些左边和右边的中间。这个while循环中的第一个检查是我们是否找到了目标，然后当然根据请求返回索引。现在进入if-else的网络。我这里不打算再解释了，你可以看解决方案了解这些。如果我们没有找到目标就退出这个while循环，我们返回-1。</p><pre class="kz la lb lc fd lk kr ll lm aw ln bi"><span id="1961" class="ix iy hi kr b fi lo lp l lq lr">class Solution:<br/> def search(self, nums: List[int], target: int) -&gt; int:<br/>  l, r = 0, len(nums) — 1<br/> <br/>  while l &lt;= r:<br/>   mid = (l + r) // 2<br/> <br/>   if nums[mid] == target:<br/>    return mid<br/> <br/>   if nums[l] &lt;= nums[mid]:<br/>    if target &gt; nums[mid] or target &lt; nums[l]:<br/>     l = mid + 1<br/>    else:<br/>     r = mid — 1<br/>   else:<br/>    if target &lt; nums[mid] or target &gt; nums[r]:<br/>     r = mid — 1<br/>    else:<br/>     l = mid + 1<br/> <br/>  return -1</span></pre><figure class="kz la lb lc fd ld er es paragraph-image"><div class="er es mh"><img src="../Images/f67813bf9ae74b186a499a7303e65c3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/0*kTL9UCDMwHDtbQtn.png"/></div></figure><h1 id="de8d" class="mi iy hi bd iz mj mk ml jd mm mn mo jh io mp ip jl ir mq is jp iu mr iv jt ms bi translated">信息:</h1><p id="7d83" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ji ke kf kg jm kh ki kj jq kk kl km kn hb bi translated">网址:<a class="ae mg" href="http://www.nkwade.dev/" rel="noopener ugc nofollow" target="_blank">nkwade . dev</a><br/>LinkedIn:<a class="ae mg" href="http://www.linkedin.com/in/nkwade/" rel="noopener ugc nofollow" target="_blank">linkedin.com/in/nkwade</a><br/>GitHub:<a class="ae mg" href="http://www.github.com/nkwade" rel="noopener ugc nofollow" target="_blank">github.com/nkwade</a><br/>邮箱:<a class="ae mg" href="mailto:nicholas@nkwade.dev" rel="noopener ugc nofollow" target="_blank"> nicholas@nkwade.dev </a></p></div></div>    
</body>
</html>