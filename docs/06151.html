<html>
<head>
<title>An Introduction to AWS Lambda Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS Lambda函数简介</h1>
<blockquote>原文：<a href="https://medium.com/codex/an-introduction-to-aws-lambda-functions-b18e2554338f?source=collection_archive---------7-----------------------#2022-04-10">https://medium.com/codex/an-introduction-to-aws-lambda-functions-b18e2554338f?source=collection_archive---------7-----------------------#2022-04-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e5f92701fbd99641abbf1ca106f56968.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b986vGwuadFXeMsiVInBOg.png"/></div></div></figure><h1 id="0880" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">AWS无服务器应用程序</h1><p id="2cc2" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">为了开始理解AWS Lambda，我们首先需要理解它在AWS无服务器应用程序中的位置。原来每个AWS无服务器应用程序都是以AWS Lambda开始的。然而，什么是无服务器应用程序呢？"<a class="ae km" href="https://www.cloudflare.com/learning/serverless/what-is-serverless/" rel="noopener ugc nofollow" target="_blank">无服务器计算是一种按需提供后端服务的方法。无服务器提供者允许用户编写和部署代码，而不必担心底层基础设施。</a>“这是一种更具成本效益的利用云服务的方式，因为用户按代码执行的时间付费，而不用担心维护自己的硬件基础设施的额外成本和劳动力。</p><h1 id="e471" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">什么是AWS Lambda？</h1><p id="0648" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">根据AWS的说法，“<a class="ae km" href="https://docs.aws.amazon.com/lambda/latest/dg/welcome.html" rel="noopener ugc nofollow" target="_blank"> Lambda是一种计算服务，让您无需配置或管理服务器即可运行代码。</a>“使用AWS Lambda的用户把他们的代码组织成Lambda函数。这些函数由用户在创建Lambda函数时设置的预定事件触发。</p><h1 id="0b49" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">λ函数</h1><p id="2092" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">Lambda函数意味着要么处理触发它的事件，要么响应触发事件而运行。每个函数都需要以无状态格式编写，这样它就不知道底层的计算基础设施。任何需要保留的数据都需要保存到另一个服务中(例如，亚马逊S3、亚马逊DynamoDB、亚马逊EFS等)。).</p><p id="7b3f" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">Lambda函数的一个简单示例是测试给定网站可用性的重复函数。如果触发事件设置为每分钟运行一次，那么Lambda示例函数将每分钟运行一次，并每分钟检查一次给定网站的状态。然而，我们的触发器可以与任意数量的AWS服务相关联。例子包括:</p><ol class=""><li id="4ae5" class="ks kt hi jq b jr kn jv ko jz ku kd kv kh kw kl kx ky kz la bi translated">响应资源生命周期事件，如亚马逊简单存储服务(亚马逊S3)。</li><li id="9ac7" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">响应传入的HTTP请求</li><li id="3d8d" class="ks kt hi jq b jr lb jv lc jz ld kd le kh lf kl kx ky kz la bi translated">使用队列中的事件</li></ol><h1 id="15dc" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">λ函数解剖学</h1><p id="cdb9" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">每个lambda函数都有一个处理函数。这是响应触发事件而执行的主要功能。该处理程序有两个必需的参数，还有一个可选的第三个参数。它们分别是事件对象、上下文对象和回调对象。</p><p id="9e34" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">如果我们要在AWS中创建Lamda，并使用他们的<code class="du lg lh li lj b">cloudwatch-logs-process-data</code>蓝图来构建NodeJs环境。我们的示例函数如下所示:</p><pre class="lk ll lm ln fd lo lj lp lq aw lr bi"><span id="4da3" class="ls ir hi lj b fi lt lu l lv lw">exports.handler = async (event, context) =&gt; {<br/>    const payload = Buffer.from(event.awslogs.data, 'base64');<br/>    const parsed = JSON.parse(zlib.gunzipSync(payload).toString('utf8'));<br/>    console.log('Decoded payload:', JSON.stringify(parsed));<br/>    return `Successfully processed ${parsed.logEvents.length} log events.`;<br/>};</span></pre><p id="e763" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">事件对象包含关于触发Lambda函数的事件的信息。上下文对象包括关于调用、功能配置和执行环境的信息。第三个参数callback是一个函数，您可以在非异步处理程序中调用它来发送响应。回调函数有两个参数:一个错误和一个响应。当你调用它时，Lambda等待事件循环为空，然后将响应或错误返回给调用者。响应对象必须与JSON.stringify兼容。“在我们的示例函数中，您可以看到我们能够使用事件对象中包含的信息来执行我们的函数。AWS示例没有使用上下文对象，但是如果需要的话，它当然可以使用。</p><h1 id="34a6" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">概观</h1><p id="4287" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">AWS Lambda是AWS无服务器应用程序的组成部分，因为Lambda函数是无服务器应用程序的入口点。每当Lambda函数的触发事件被激发时，它们就被执行。使用无服务器应用程序有许多潜在的好处，比如不需要维护和管理服务器、持续的伸缩性，以及只需支付代码的执行时间(以毫秒计)。</p></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><p id="6502" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">首发于:<a class="ae km" href="https://twl.lab49.com/author/tim-quirk-lab49/3f9388d0c331d9f6e33c75d79525a810" rel="noopener ugc nofollow" target="_blank">https://twl . lab 49 . com/author/Tim-quirk-lab 49/3 f 9388d 0 c 331d 9 f 6 e 33 c 75d 79525 a 810</a></p></div></div>    
</body>
</html>