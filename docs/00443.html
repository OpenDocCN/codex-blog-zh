<html>
<head>
<title>Android lists — An effective and simple approach</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Android列表——一种有效而简单的方法</h1>
<blockquote>原文：<a href="https://medium.com/codex/android-lists-an-effective-and-simple-approach-3160f87ed20b?source=collection_archive---------2-----------------------#2021-02-04">https://medium.com/codex/android-lists-an-effective-and-simple-approach-3160f87ed20b?source=collection_archive---------2-----------------------#2021-02-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="c4c1" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">法典</a></h2><div class=""/><h1 id="9f34" class="io ip hi bd iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl bi translated">一步一步来…再来一次。</h1><p id="4f35" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">嗨，我是布鲁纳！😃但你已经知道了，对吧？(或者不是…😕)</p><p id="24ca" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">如果你不认识我，也许你想先看看<a class="ae kp" rel="noopener" href="/swlh/android-programming-tips-the-beginning-for-everyone-8fe88343efc1">安卓编程小技巧</a>和<a class="ae kp" rel="noopener" href="/codex/the-day-after-hello-world-3c51f03dcf6f">后天你好世界</a>。😉</p><p id="a683" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">这篇文章讲的是最精彩的部分——动手实践的开始。我们已经知道了基础知识，所以我们可以开始开发我们的Android应用程序了。</p><p id="41da" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们的应用程序将有一个主屏幕，上面有一个自定义视图列表(用来创建每个项目)，我们将讨论一个可以在这个场景中使用的设计模式。</p><p id="4902" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">也就是说，让我们开始吧。</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es kq"><img src="../Images/d4246c039b5c2109517fed74fd420b8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yCuXkBbkJxSkw6iI8ohrhw.jpeg"/></div></div><figcaption class="lc ld et er es le lf bd b be z dx translated">照片由<a class="ae kp" href="https://unsplash.com/@thisisengineering" rel="noopener ugc nofollow" target="_blank"> ThisisEngineering RAEng </a>在<a class="ae kp" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h2 id="7c1a" class="lg ip hi bd iq lh li lj iu lk ll lm iy jx ln lo jc kb lp lq jg kf lr ls jk ho bi translated">该结构</h2><p id="0556" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们有MainActivity类和两个片段。<br/>它们由流连接，在文件<strong class="jo hs"> nav_graph.xml </strong>(您的导航文件)中配置。</p><p id="6e78" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">在我的例行程序中，在集成数据之前启动布局屏幕是很普遍的，这就是为什么我们要从XML布局开始。</p><h2 id="a618" class="lg ip hi bd iq lh li lj iu lk ll lm iy jx ln lo jc kb lp lq jg kf lr ls jk ho bi translated">布局</h2><p id="3b54" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">正如我们在上一篇文章中讨论的那样，<strong class="jo hs">布局</strong>文件位于<strong class="jo hs"> /res/layout下。</strong> <br/>下面我们可以看到，FirstFragment是第一个被调用的目的地。</p><pre class="kr ks kt ku fd lt lu lv lw aw lx bi"><span id="b95b" class="lg ip hi lu b fi ly lz l ma mb">&lt;navigation     xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    xmlns:tools="http://schemas.android.com/tools"<br/>    android:id="@+id/nav_graph"<strong class="lu hs"><br/>    app:startDestination="@id/FirstFragment"</strong>&gt;</span></pre><p id="b96a" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">这意味着第一个屏幕将服从FirstFragment配置。</p><h2 id="090e" class="lg ip hi bd iq lh li lj iu lk ll lm iy jx ln lo jc kb lp lq jg kf lr ls jk ho bi translated">列表布局</h2><p id="586d" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">打开布局fragment_first.xml，删除视图<strong class="jo hs"> textview_first </strong>和<strong class="jo hs"> button_first。<br/> </strong>我们将创建一个项目列表，所以我们要添加一个名为RecyclerView的视图。</p><p id="e596" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated"><strong class="jo hs">回收查看</strong></p><p id="5739" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">这个组件可以处理一组数据并高效地显示出来。它与众不同，因为它回收视图元素来改善行为和UX。要在我们的项目中添加这个执行视图，请遵循下面的步骤。</p><p id="6cde" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">1 —在<strong class="jo hs">应用程序/构建中声明依赖关系。点击</strong>并点击<strong class="jo hs">立即同步</strong> (Android Studio <strong class="jo hs"> </strong>信息性消息)</p><pre class="kr ks kt ku fd lt lu lv lw aw lx bi"><span id="5be5" class="lg ip hi lu b fi ly lz l ma mb">dependencies {<br/>    implementation "androidx.recyclerview:recyclerview:1.1.0"<br/>}</span></pre><p id="ebb1" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">2 —将RecyclerView添加到ConstraintLayout级别内的<strong class="jo hs"> fragment_first.xml </strong>中，它将如下所示:</p><pre class="kr ks kt ku fd lt lu lv lw aw lx bi"><span id="f7dc" class="lg ip hi lu b fi ly lz l ma mb"><em class="mc">&lt;?</em>xml version="1.0" encoding="utf-8"<em class="mc">?&gt;<br/></em>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    xmlns:tools="http://schemas.android.com/tools"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="match_parent"<br/>    tools:context=".FirstFragment"&gt;<br/><br/>    <strong class="lu hs">&lt;androidx.recyclerview.widget.RecyclerView<br/>        android:id="@+id/recycler"<br/>        android:layout_width="0dp"<br/>        android:layout_height="0dp"<br/>        app:layout_constraintBottom_toBottomOf="parent"<br/>        app:layout_constraintEnd_toEndOf="parent"<br/>        app:layout_constraintStart_toStartOf="parent"<br/>        app:layout_constraintTop_toTopOf="parent"<br/>        tools:itemCount="20" /&gt;</strong><br/><br/>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span></pre><p id="a341" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">3 —现在我们将创建回收器视图项目，这是将根据列表大小重复的布局。<br/>步骤是:右键点击布局&gt;新建&gt;创建布局资源文件<strong class="jo hs"> view_recycler_item </strong>。</p><p id="0c51" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">打开文件后，我们将开始构建回收器视图的项目。</p><p id="6d1f" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated"><strong class="jo hs"> PS: </strong>我们在市面上看到的很多app的设计都采用了大量的材质设计。在<a class="ae kp" href="https://material.io/components" rel="noopener ugc nofollow" target="_blank"> <strong class="jo hs">素材</strong> </a>中有很多已经被安卓用户接受行为的默认组件。您将会看到许多测试和包含在项目中的选项。</p><p id="a773" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们可以使用Card组件创建列表项视图，默认外观如下:</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es md"><img src="../Images/7f42784969b6c09c8a5d6339ac546436.png" data-original-src="https://miro.medium.com/v2/resize:fit:422/format:webp/0*ibQfPssZp05mSgET.png"/></div></figure><p id="439a" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">4 —我们将CardView添加到我们的项目中，在<strong class="jo hs"> app/build中。Gradle </strong>文件:</p><pre class="kr ks kt ku fd lt lu lv lw aw lx bi"><span id="9adc" class="lg ip hi lu b fi ly lz l ma mb">dependencies {<br/>    implementation "androidx.cardview:cardview:1.0.0"<br/>}</span></pre><p id="1ceb" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">5-将view_recycler_item修改为:</p><pre class="kr ks kt ku fd lt lu lv lw aw lx bi"><span id="35fc" class="lg ip hi lu b fi ly lz l ma mb"><em class="mc">&lt;?</em>xml version="1.0" encoding="utf-8"<em class="mc">?&gt;<br/></em>&lt;androidx.cardview.widget.CardView <br/>    xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    xmlns:tools="http://schemas.android.com/tools"<br/>    android:id="@+id/cardview"<br/>    xmlns:card_view="http://schemas.android.com/apk/res-auto"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="wrap_content"<br/>    card_view:cardBackgroundColor="@android:color/white"<br/>    card_view:cardCornerRadius="12dp"<br/>    card_view:cardElevation="3dp"&gt;<br/><br/>    &lt;androidx.constraintlayout.widget.ConstraintLayout<br/>        android:layout_width="match_parent"<br/>        android:layout_marginBottom="16dp"<br/>        android:layout_height="wrap_content"&gt;<br/><br/>        &lt;ImageView<br/>            android:layout_width="match_parent"<br/>            android:layout_height="170dp"<br/>            android:contentDescription="@null"<br/>            android:id="@+id/image"<br/>            app:layout_constraintTop_toTopOf="parent"<br/>            app:layout_constraintStart_toStartOf="parent"<br/>            app:layout_constraintEnd_toEndOf="parent"<br/>            android:src="#10000000" /&gt;<br/><br/>        &lt;TextView<br/>            android:id="@+id/tvTitle"<br/>            android:layout_margin="16dp"<br/>            app:layout_constraintTop_toBottomOf="@+id/image"<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:textSize="22sp"<br/>            android:textStyle="bold"<br/>            tools:text="Card Title" /&gt;<br/><br/>        &lt;TextView<br/>            android:id="@+id/tvSubtitle"<br/>            android:layout_marginBottom="16dp"<br/>            android:layout_marginStart="16dp"<br/>            android:layout_marginEnd="16dp"<br/>            app:layout_constraintTop_toBottomOf="@+id/tvTitle"<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:textSize="16sp"<br/>            tools:text="Secondary text" /&gt;<br/><br/>        &lt;TextView<br/>            android:id="@+id/tvDescription"<br/>            android:layout_margin="16dp"<br/>            app:layout_constraintTop_toBottomOf="@+id/tvSubtitle"<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:textSize="13sp"<br/>            tools:text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris cursus tortor pharetra purus aliquam dapibus. Vestibulum eu diam vitae purus semper pellentesque. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nunc auctor enim libero, at interdum ipsum congue vitae. Cras ullamcorper accumsan cursus." /&gt;<br/><br/>    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;<br/>&lt;/androidx.cardview.widget.CardView&gt;</span></pre><p id="cea2" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们项目的结果是:</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es me"><img src="../Images/a7badafe1845be7c6189551f02d19e5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/0*MvYyelAu6Jim3Jz4.png"/></div></figure><p id="b50f" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">你是tired❓吗<br/>如果你是……请给自己一个机会。你将能够在这篇文章的结尾有一个列表的应用程序。坚强点！😅</p><p id="2085" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们已经配置好了布局，接下来的步骤是:</p><ul class=""><li id="0bfb" class="mf mg hi jo b jp kk jt kl jx mh kb mi kf mj kj mk ml mm mn bi translated">创建一个适配器，将视图与其值相关联</li><li id="0a15" class="mf mg hi jo b jp mo jt mp jx mq kb mr kf ms kj mk ml mm mn bi translated">将组件链接到自定义视图</li></ul><h2 id="1989" class="lg ip hi bd iq lh li lj iu lk ll lm iy jx ln lo jc kb lp lq jg kf lr ls jk ho bi translated">适配器</h2><p id="2ecd" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这就是我们谈论设计模式的要点。</p><blockquote class="mt mu mv"><p id="3977" class="jm jn mc jo b jp kk jr js jt kl jv jw mw km jz ka mx kn kd ke my ko kh ki kj hb bi translated">设计模式是给定环境中常见问题的通用、可重用的解决方案。</p></blockquote><p id="c7f7" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">适配器就是关于这个概念的。这是一种结构模式，它允许我们连接recyclerview和元素，包括行为。</p><p id="e0a2" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">这个概念不是安卓才有的。您可以在不同的技术应用程序中使用这种模式。</p><p id="6156" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">在Android中，适配器带来了一个视图保持器。这用于设置列表中每个项目视图的行为。</p><p id="42b5" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">但是布鲁纳，这在理论上很容易，我想看看它在实践中如何运作。<br/>好的。👍</p><p id="a2b3" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated"><strong class="jo hs">型号</strong></p><p id="be5e" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们需要创建一个对象来存储联系人的信息，并将它连接到列表的每一行。所以，我们应该创建这样一个数据类:</p><pre class="kr ks kt ku fd lt lu lv lw aw lx bi"><span id="45fa" class="lg ip hi lu b fi ly lz l ma mb"><strong class="lu hs">class </strong>Contact(<br/>    <strong class="lu hs">val name</strong>: String,<br/>    <strong class="lu hs">val role</strong>: String,<br/>    <strong class="lu hs">val bio</strong>: String<br/>)</span></pre><p id="e568" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">好，下一步-&gt;连接到自定义视图</p><p id="8b33" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated"><strong class="jo hs">自定义视图</strong></p><p id="8a81" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们将创建一个将所有行为和数据放在同一个地方的类。<br/>我们已经有了项目视图布局(view_recycler_item)，这个类代表了联系人列表的每个视图。<br/>因此，实现应该是这样的:</p><pre class="kr ks kt ku fd lt lu lv lw aw lx bi"><span id="1d19" class="lg ip hi lu b fi ly lz l ma mb"><strong class="lu hs">open class </strong>ContactCardView<br/>@JvmOverloads <strong class="lu hs">constructor</strong>(context: Context, attrs: AttributeSet? = <strong class="lu hs">null</strong>, defStyleAttr: Int = 0) : MaterialCardView(context, attrs, defStyleAttr) {<br/><br/>    <strong class="lu hs">protected lateinit var title</strong>: TextView<br/>    <strong class="lu hs">protected lateinit var subtitle</strong>: TextView<br/>    <strong class="lu hs">protected lateinit var description</strong>: TextView<br/>    <strong class="lu hs">protected lateinit var img</strong>: ImageView<br/><br/><br/>    <strong class="lu hs">override fun </strong>onFinishInflate() {<br/>        <strong class="lu hs">super</strong>.onFinishInflate()<br/><br/>        <strong class="lu hs">title </strong>= findViewById(R.id.<em class="mc">tvTitle</em>)<br/>        <strong class="lu hs">subtitle </strong>= findViewById(R.id.<em class="mc">tvSubtitle</em>)<br/>        <strong class="lu hs">description </strong>= findViewById(R.id.<em class="mc">tvDescription</em>)<br/>        <strong class="lu hs">img </strong>= findViewById(R.id.<em class="mc">image</em>)<br/>    }<br/><br/>    <strong class="lu hs">open fun </strong>bind(contactItem : Contact){<br/><br/>        <strong class="lu hs">title</strong>.<em class="mc">text </em>= contactItem.<strong class="lu hs">name<br/>        subtitle</strong>.<em class="mc">text </em>= contactItem.<strong class="lu hs">role<br/>        description</strong>.<em class="mc">text </em>= contactItem.<strong class="lu hs">bio<br/><br/>        img</strong>.setImageDrawable(ContextCompat.getDrawable(<em class="mc">context</em>, contactItem.<strong class="lu hs">img</strong>))<br/>    }<br/>}</span></pre><p id="19ba" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">如您所见，<strong class="jo hs">联系人</strong>用于管理数据，ContactCardView控制行为。<br/>既然我们已经准备好了自定义视图，我们应该将它的引用作为我们的根项目布局，并像这样修改它:</p><pre class="kr ks kt ku fd lt lu lv lw aw lx bi"><span id="74c9" class="lg ip hi lu b fi ly lz l ma mb"><em class="mc">&lt;?</em>xml version="1.0" encoding="utf-8"<em class="mc">?&gt;<br/></em><strong class="lu hs">&lt;com.testemedium.ContactCardView<br/></strong>    xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    xmlns:tools="http://schemas.android.com/tools"<br/>    android:id="@+id/cardview"<br/>    android:theme="@style/Theme.MaterialComponents"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="wrap_content"<br/>    app:cardBackgroundColor="@android:color/white"<br/>    app:cardCornerRadius="12dp"<br/>    app:cardElevation="3dp"&gt;<br/><br/>    &lt;androidx.constraintlayout.widget.ConstraintLayout<br/>        android:layout_width="match_parent"<br/>        android:layout_marginBottom="16dp"<br/>        android:layout_height="wrap_content"&gt;<br/><br/>        &lt;ImageView<br/>            android:padding="16dp"<br/>            android:layout_width="match_parent"<br/>            android:layout_height="160dp"<br/>            android:contentDescription="@null"<br/>            android:id="@+id/image"<br/>            android:scaleType="fitCenter"<br/>            android:background="#10000000"<br/>            android:adjustViewBounds="true"<br/>            app:layout_constraintTop_toTopOf="parent"<br/>            app:layout_constraintStart_toStartOf="parent"<br/>            app:layout_constraintEnd_toEndOf="parent"<br/>            android:src="@drawable/person_girl_flat" /&gt;<br/><br/>        &lt;TextView<br/>            android:id="@+id/tvTitle"<br/>            android:layout_margin="16dp"<br/>            app:layout_constraintTop_toBottomOf="@+id/image"<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:textSize="22sp"<br/>            android:textStyle="bold"<br/>            android:textColor="@color/colorPrimaryDark"<br/>            tools:text="Card Title" /&gt;<br/><br/>        &lt;TextView<br/>            android:id="@+id/tvSubtitle"<br/>            android:layout_marginBottom="16dp"<br/>            android:layout_marginStart="16dp"<br/>            android:layout_marginEnd="16dp"<br/>            app:layout_constraintTop_toBottomOf="@+id/tvTitle"<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:textColor="@color/colorPrimary"<br/>            android:textSize="16sp"<br/>            tools:text="Secondary text" /&gt;<br/><br/>        &lt;TextView<br/>            android:id="@+id/tvDescription"<br/>            android:layout_margin="16dp"<br/>            app:layout_constraintTop_toBottomOf="@+id/tvSubtitle"<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:textSize="13sp"<br/>            android:textColor="@color/colorPrimary"<br/>            tools:text="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris cursus tortor pharetra purus aliquam dapibus. Vestibulum eu diam vitae purus semper pellentesque. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nunc auctor enim libero, at interdum ipsum congue vitae. Cras ullamcorper accumsan cursus." /&gt;<br/><br/>    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;<br/>&lt;/com.testemedium.ContactCardView&gt;</span></pre><p id="ddea" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">系统将视图连接到类，并在我们的适配器中解析它。但是什么是适配器呢？🙋</p><p id="86b5" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated"><strong class="jo hs">适配器</strong></p><p id="6735" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">让我们在与片段和活动相同的级别创建一个名为ContactsAdapter的文件。<br/> PS:你的app的组织和架构到现在都不是最重要的，所以文件可能停留在同一层次。</p><p id="7321" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">新文件将如下所示:</p><pre class="kr ks kt ku fd lt lu lv lw aw lx bi"><span id="c9c6" class="lg ip hi lu b fi ly lz l ma mb"><strong class="lu hs">class </strong>ContactsAdapter : RecyclerView.Adapter&lt;ContactsAdapter.ViewHolder&gt;() {<br/><br/>    <strong class="lu hs">var contactList </strong>: MutableList&lt;Contact&gt; = <em class="mc">mutableListOf</em>()<br/><br/>    <strong class="lu hs">class </strong>ViewHolder(<strong class="lu hs">val view</strong>: ContactCardView) : RecyclerView.ViewHolder(view)<br/><br/>    <strong class="lu hs">override fun </strong>onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {<br/>        <strong class="lu hs">return </strong>ViewHolder(LayoutInflater.from(parent.<em class="mc">context</em>)<br/>            .inflate(R.layout.<em class="mc">view_recycler_item</em>, parent, <strong class="lu hs">false</strong>) <strong class="lu hs">as </strong>ContactCardView)<br/>    }<br/><br/>    <strong class="lu hs">override fun </strong>onBindViewHolder(holder: ViewHolder, position: Int) {<br/>        <strong class="lu hs">val </strong>contact: Contact = <strong class="lu hs">contactList</strong>[position]<br/>        <strong class="lu hs">val </strong>view = holder.<strong class="lu hs">view<br/><br/>        </strong>view.bind(contact)<br/>    }<br/><br/>    <strong class="lu hs">override fun </strong>getItemCount(): Int {<br/>        <strong class="lu hs">return contactList</strong>.<strong class="lu hs">size<br/>    </strong>}<br/><br/>    <strong class="lu hs">fun </strong>setItems(list: List&lt;Contact&gt;) {<br/>        <strong class="lu hs">contactList </strong>= list.<em class="mc">toMutableList</em>()<br/>        notifyDataSetChanged()<br/>    }<br/>}</span></pre><p id="79dc" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们必须理解适配器类的一些要点。</p><ul class=""><li id="da1c" class="mf mg hi jo b jp kk jt kl jx mh kb mi kf mj kj mk ml mm mn bi translated">实现了<strong class="jo hs"> ViewHolder </strong>类，它的目的是管理我们列表中的每一行。</li><li id="b94f" class="mf mg hi jo b jp mo jt mp jx mq kb mr kf ms kj mk ml mm mn bi translated">列表的每次迭代都会调用onBindViewHolder ,它调用自定义视图(ContactCardView)中的方法</li><li id="24b4" class="mf mg hi jo b jp mo jt mp jx mq kb mr kf ms kj mk ml mm mn bi translated"><strong class="jo hs"> getItemCount </strong>覆盖列表的大小</li><li id="522e" class="mf mg hi jo b jp mo jt mp jx mq kb mr kf ms kj mk ml mm mn bi translated"><strong class="jo hs"> onCreateViewHolder </strong>是你设置列表中每个视图的布局文件的地方。在我们的例子中，我们将使用<strong class="jo hs"><em class="mc">view _ recycler _ item</em></strong><em class="mc"/>创建<em class="mc">。- </em></li><li id="12e5" class="mf mg hi jo b jp mo jt mp jx mq kb mr kf ms kj mk ml mm mn bi translated"><strong class="jo hs"> setItems </strong>是传递视图持有者要呈现的联系人列表的方法</li></ul><p id="0741" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">我们已经实现了几乎所有的目标。😻<br/>但是假的联系人名单却不见了。</p><h2 id="1eaf" class="lg ip hi bd iq lh li lj iu lk ll lm iy jx ln lo jc kb lp lq jg kf lr ls jk ho bi translated">创建本地联系人列表</h2><p id="591b" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了用假数据创建它，我们将在第一个片段中创建一个提供模拟(模拟对象)的方法:</p><pre class="kr ks kt ku fd lt lu lv lw aw lx bi"><span id="8c13" class="lg ip hi lu b fi ly lz l ma mb"><strong class="lu hs">class </strong>FirstFragment : Fragment() {<br/><br/>    <strong class="lu hs">override fun </strong>onCreateView(<br/>        inflater: LayoutInflater, container: ViewGroup?,<br/>        savedInstanceState: Bundle?<br/>    ): View? {<br/>        <em class="mc">// Inflate the layout for this fragment<br/>        </em><strong class="lu hs">return </strong>inflater.inflate(R.layout.<em class="mc">fragment_first</em>, container, <strong class="lu hs">false</strong>)<br/>    }<br/><br/>    <strong class="lu hs">override fun </strong>onViewCreated(view: View, savedInstanceState: Bundle?) {<br/>        <strong class="lu hs">super</strong>.onViewCreated(view, savedInstanceState)<br/><br/>        setupView()<br/>    }<br/><br/>    <strong class="lu hs">private fun </strong>setupView() {<br/>        <strong class="lu hs">val </strong>layoutManager = LinearLayoutManager(<em class="mc">context</em>, RecyclerView.<em class="mc">VERTICAL</em>, <strong class="lu hs">false</strong>)<br/>        <strong class="lu hs">val </strong>adapter = ContactsAdapter()<br/>        adapter.setItems(mockContactsList())<br/>        recycler.<em class="mc">adapter </em>= adapter<br/>        recycler.<em class="mc">layoutManager </em>= layoutManager<br/>    }<br/><br/>    <strong class="lu hs">private fun </strong>mockContactsList(): List&lt;Contact&gt; {<br/>        <strong class="lu hs">return </strong><em class="mc">listOf</em>(<br/>            Contact(<br/>                <strong class="lu hs">"Bruna Esteves"</strong>, <strong class="lu hs">"Android Developer"</strong>, <strong class="lu hs">"Android Developer since 2012.\n" </strong>+<br/>                        <strong class="lu hs">"Find a plan to solve a problem, design and develop mobile applications with great technical quality and refined design, following the guidelines set by Google."</strong>,<br/>                R.drawable.<em class="mc">person_girl_flat<br/>            </em>),<br/>            Contact(<br/>                <strong class="lu hs">"William Gustavo"</strong>,<br/>                <strong class="lu hs">"GPM"</strong>,<br/>                <strong class="lu hs">"Manage the product throughout the Product Lifecycle, gathering and prioritizing product and customer requirements, defining the product vision, and working closely with engineering, to deliver winning products."</strong>,<br/>                R.drawable.<em class="mc">person_flat<br/>            </em>),<br/>            Contact(<br/>                <strong class="lu hs">"Diego Ramos"</strong>, <strong class="lu hs">"Tech Lead"</strong>, <strong class="lu hs">"Android Developer since 2012.\n" </strong>+<br/>                        <strong class="lu hs">"responsible for managing technical aspects of software development flow in a specific context or team. It's crucial to a good tech lead to ensure the success of delivered solutions. In other words, tech leads are software engineers that enable the team to work with quality"</strong>,<br/>                R.drawable.<em class="mc">person_flat<br/>            </em>),<br/>        )<br/>    }<br/></span></pre><p id="49d0" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">快跑。！！！🏃‍♀ <br/>结果:</p><figure class="kr ks kt ku fd kv er es paragraph-image"><div class="er es mz"><img src="../Images/886fd6cc5413b495020ca59a4bb299cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/1*YrnrS6mqwvtEWfYXpq1Ktg.gif"/></div></figure><p id="f927" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">希望对你有帮助。我们继续吧。</p><h2 id="4025" class="lg ip hi bd iq lh li lj iu lk ll lm iy jx ln lo jc kb lp lq jg kf lr ls jk ho bi translated">接下来的步骤</h2><p id="f112" class="pw-post-body-paragraph jm jn hi jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们有一个包含本地数据的列表。成功了！！💛<br/>下一部分是我们将与服务器集成的部分。你准备好了吗？</p><p id="3efb" class="pw-post-body-paragraph jm jn hi jo b jp kk jr js jt kl jv jw jx km jz ka kb kn kd ke kf ko kh ki kj hb bi translated">因为我是。<br/>再见。</p></div></div>    
</body>
</html>