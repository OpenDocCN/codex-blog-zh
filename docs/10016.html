<html>
<head>
<title>How To Set Up Kali In Docker For Hacking</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Docker中设置Kali进行黑客攻击</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-set-up-kali-in-docker-for-hacking-c60360d622fc?source=collection_archive---------3-----------------------#2022-11-27">https://medium.com/codex/how-to-set-up-kali-in-docker-for-hacking-c60360d622fc?source=collection_archive---------3-----------------------#2022-11-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3047b26f248ed9797562aed92329928a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LTyRSaGzRkyrUrak5ZYbrw.png"/></div></div></figure><h1 id="40a4" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">为什么是码头工人</h1><p id="a7e5" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">Docker是一项帮助您运行容器化应用程序的神奇技术。令docker难以置信的是，与运行Kali的虚拟机相比，它只需要很少的ram和CPU。Docker不包含虚拟机管理程序，这就是它占用资源少且速度快的原因。</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/368aecd04b1acfa7edf07c8fa7c74a0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-SALIDz7FZlEgZ5BkXd2gA.png"/></div></div></figure><h1 id="c224" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">安装Docker</h1><h2 id="563d" class="kr ir hi bd is ks kt ku iw kv kw kx ja jz ky kz je kd la lb ji kh lc ld jm le bi translated">设置存储库</h2><ol class=""><li id="b378" class="lf lg hi jq b jr js jv jw jz lh kd li kh lj kl lk ll lm ln bi translated">更新<code class="du lo lp lq lr b">apt</code>包索引并安装包，以允许<code class="du lo lp lq lr b">apt</code>通过HTTPS使用存储库:</li></ol><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="c45d" class="lw ir hi lr b be lx ly l lz ma">$ sudo apt-get update<br/><br/>$ sudo apt-get install \<br/>    ca-certificates \<br/>    curl \<br/>    gnupg \<br/>    lsb-release</span></pre><p id="b24f" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">2.添加Docker官方GPG键:</p><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="0fdd" class="lw ir hi lr b be lx ly l lz ma">$ sudo mkdir -p /etc/apt/keyrings<br/>$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span></pre><p id="d29d" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">3.使用以下命令设置存储库:</p><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="ddf3" class="lw ir hi lr b be lx ly l lz ma">$ echo \<br/>  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \<br/>  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span></pre><h2 id="a912" class="kr ir hi bd is ks kt ku iw kv kw kx ja jz ky kz je kd la lb ji kh lc ld jm le bi translated">安装Docker引擎</h2><ol class=""><li id="7ac0" class="lf lg hi jq b jr js jv jw jz lh kd li kh lj kl lk ll lm ln bi translated">更新<code class="du lo lp lq lr b">apt</code>包索引:</li></ol><p id="236b" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">运行<code class="du lo lp lq lr b">apt-get update</code>时收到GPG错误？<br/>您的默认<a class="ae mg" href="https://en.wikipedia.org/wiki/Umask" rel="noopener ugc nofollow" target="_blank"> umask </a>可能配置不正确，导致无法检测存储库公钥文件。在更新包索引之前，尝试授予Docker公钥文件的读取权限:</p><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="9b50" class="lw ir hi lr b be lx ly l lz ma">$ sudo chmod a+r /etc/apt/keyrings/docker.gpg<br/>$ sudo apt-get update</span></pre><ol class=""><li id="6892" class="lf lg hi jq b jr mb jv mc jz mh kd mi kh mj kl lk ll lm ln bi translated">安装Docker引擎、containerd和Docker Compose。</li></ol><ul class=""><li id="ac8c" class="lf lg hi jq b jr mb jv mc jz mh kd mi kh mj kl mk ll lm ln bi translated">最近的</li><li id="4ecb" class="lf lg hi jq b jr ml jv mm jz mn kd mo kh mp kl mk ll lm ln bi translated">特定版本</li></ul><p id="a788" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">要安装最新版本，请运行:</p><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="cfcc" class="lw ir hi lr b be lx ly l lz ma">$ sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin</span></pre><p id="5f81" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">要安装特定版本的Docker引擎，首先列出存储库中的可用版本:</p><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="c802" class="lw ir hi lr b be lx ly l lz ma"># List the available versions:<br/>    $ apt-cache madison docker-ce | awk '{ print $3 }'<br/>    <br/>    5:20.10.16~3-0~ubuntu-jammy<br/>    5:20.10.15~3-0~ubuntu-jammy<br/>    5:20.10.14~3-0~ubuntu-jammy<br/>    5:20.10.13~3-0~ubuntu-jammy</span></pre><p id="12bc" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">选择所需版本并安装:</p><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="40b7" class="lw ir hi lr b be lx ly l lz ma">$ VERSION_STRING=5:20.10.13~3-0~ubuntu-jammy<br/>    $ sudo apt-get install docker-ce=$VERSION_STRING docker-ce-cli=$VERSION_STRING containerd.io docker-compose-plugin</span></pre><ol class=""><li id="f25e" class="lf lg hi jq b jr mb jv mc jz mh kd mi kh mj kl lk ll lm ln bi translated">通过运行<code class="du lo lp lq lr b">hello-world</code>映像，验证Docker引擎安装是否成功:</li></ol><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="5f3f" class="lw ir hi lr b be lx ly l lz ma">$ sudo docker run hello-world</span></pre><p id="e76f" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">该命令下载一个测试映像，并在容器中运行它。当容器运行时，它打印一条确认消息并退出。<br/> <a class="ae mg" href="https://docs.docker.com/" rel="noopener ugc nofollow" target="_blank">如果你使用的是其他操作系统，点击这里</a>。</p><h1 id="617b" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">安装Kali</h1><p id="4a03" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">现在安装了docker之后，就该在docker上安装Kali了。你可以访问官方的<a class="ae mg" href="https://www.kali.org/get-kali/" rel="noopener ugc nofollow" target="_blank"> Kali页面</a>，导航到容器部分，点击docker。或者你可以直接访问他们的<a class="ae mg" href="https://hub.docker.com/u/kalilinux/" rel="noopener ugc nofollow" target="_blank"> docker页面</a>。在这里，您可以选择他们最新的滚动版本，并复制和运行他们的Docker Pull命令。</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mq"><img src="../Images/8dcbdaf67df078ac19809f1a4ab09b6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8kustlEd2GlOuLPcxDcRkQ.png"/></div></div></figure><p id="e9d3" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">运行后，您将看到:</p><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mr"><img src="../Images/4eb217144b1684b4db3bb8f436badecd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9VicA8Jmk7Bzjx3CXkmSzQ.png"/></div></div></figure><p id="7be2" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">第一个存储库是我们现在已经下载的，其余的是我使用的其他图像。</p><h1 id="451f" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">设置Kali</h1><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/0090876805a9a0c4d98d31e8ec6ac159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2CoY4NhS66MoG1B7DicHTw.png"/></div></div></figure><p id="e97e" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">要将图像作为容器运行，请运行。图像ID可能因您而异，因此请根据需要进行更改:-</p><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="8852" class="lw ir hi lr b be lx ly l lz ma">sudo docker run -it 3629dd971a7e  /bin/bash</span></pre><p id="d705" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">之后，您需要更新存储库:</p><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="762a" class="lw ir hi lr b be lx ly l lz ma">apt update</span></pre><p id="6dc9" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">现在您的机器上有一个Kali Linux，运行在docker中。</p><h1 id="a03f" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">为行业安装工具</h1><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mt"><img src="../Images/a432f976151c139f0ab2d16c3dae9e2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IjVJu2DcqzeIHC8iHvzn_g.png"/></div></div></figure><p id="e945" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">起初，只有运行系统所必需的软件包，没有黑客工具(也没有neofetch，我是在更新了存储库之后安装的)。安装所有工具运行:-</p><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="4453" class="lw ir hi lr b be lx ly l lz ma">apt update &amp;&amp; apt -y install kali-linux-headless<br/>apt update &amp;&amp; apt -y install kali-linux-large</span></pre><p id="5f8b" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">或者，如果您只想要几个工具，那么您必须手动一个接一个地安装它们</p><pre class="kn ko kp kq fd ls lr lt bn lu lv bi"><span id="294b" class="lw ir hi lr b be lx ly l lz ma">apt update &amp;&amp; apt -y install &lt;package&gt;</span></pre><p id="ca99" class="pw-post-body-paragraph jo jp hi jq b jr mb jt ju jv mc jx jy jz md kb kc kd me kf kg kh mf kj kk kl hb bi translated">我将来会写一篇关于docker的文章，所以请关注我以获得通知。</p></div><div class="ab cl mu mv gp mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="hb hc hd he hf"><blockquote class="nb nc nd"><p id="c7df" class="jo jp ne jq b jr mb jt ju jv mc jx jy nf md kb kc ng me kf kg nh mf kj kk kl hb bi translated">如果你喜欢这个博客，请不要忘记鼓掌。如果你想了解更多关于隐私、安全、技术和Linux的知识，可以考虑关注我。另外，任何我觉得有趣和有价值的东西。<a class="ae mg" href="https://fosstodon.org/@prinux" rel="noopener ugc nofollow" target="_blank">跟着我骑乳齿象</a></p></blockquote></div></div>    
</body>
</html>