<html>
<head>
<title>The Testing Library meets Selenium</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æµ‹è¯•åº“ç¬¦åˆç¡’</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/the-testing-library-meets-selenium-5f74cc712114?source=collection_archive---------2-----------------------#2022-11-07">https://medium.com/codex/the-testing-library-meets-selenium-5f74cc712114?source=collection_archive---------2-----------------------#2022-11-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ec4e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated"><a class="ae ix" href="http://testing-library.com/" rel="noopener ugc nofollow" target="_blank">æµ‹è¯•åº“</a>æ”¯æŒç”¨æˆ·æµ‹è¯•ã€‚å®ƒå¯ç”¨äºå¤šç§JavaScriptæ¡†æ¶(ä¾‹å¦‚Reactã€Vueã€Cypress)ã€‚æˆ‘æ„è¯†åˆ°æŠŠå®ƒå¸¦åˆ°ç§‘ç‰¹æ—çš„ç¡’ä¸­æ˜¯å¯èƒ½çš„ï¼Œä¹Ÿæ˜¯æœ‰ä»·å€¼çš„ã€‚</h2></div><blockquote class="iy iz ja"><p id="f560" class="jb jc jd je b jf jg ij jh ji jj im jk jl jm jn jo jp jq jr js jt ju jv jw jx hb bi translated">ä½ çš„æµ‹è¯•è¶Šåƒä½ çš„è½¯ä»¶è¢«ä½¿ç”¨çš„æ–¹å¼ï¼Œå®ƒä»¬å°±è¶Šèƒ½ç»™ä½ ä¿¡å¿ƒã€‚<em class="hi"> ( </em> <a class="ae ix" href="https://twitter.com/kentcdodds/status/977018512689455106" rel="noopener ugc nofollow" target="_blank"> <em class="hi">)è‚¯ç‰¹</em> </a> <em class="hi"> ) </em></p></blockquote><figure class="jz ka kb kc fd kd er es paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="er es jy"><img src="../Images/40e9af11c601423fa5d6d59a002a8721.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WS69y1nNdbpUs2dfd3I4Kg.png"/></div></div></figure><h1 id="da5e" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">ä»€ä¹ˆ</h1><p id="2dc5" class="pw-post-body-paragraph jb jc hi je b jf lc ij jh ji ld im jk le lf jn jo lg lh jr js li lj jv jw jx hb bi translated">æˆ‘å¼€å‘äº†ä¸€ç»„å®šåˆ¶çš„<a class="ae ix" href="https://www.selenium.dev/" rel="noopener ugc nofollow" target="_blank"> Selenium </a>å®šä½å™¨(ä¾‹å¦‚<code class="du lk ll lm ln b">ByRole</code>ã€<code class="du lk ll lm ln b">ByText</code>)ï¼ŒåŒ…è£…äº†ç›¸åº”çš„<a class="ae ix" href="https://testing-library.com/docs/queries/about" rel="noopener ugc nofollow" target="_blank">æµ‹è¯•åº“æŸ¥è¯¢</a>(ç‰¹åˆ«æ˜¯<a class="ae ix" href="https://github.com/testing-library/dom-testing-library" rel="noopener ugc nofollow" target="_blank"> DOMæµ‹è¯•åº“</a>):</p><pre class="jz ka kb kc fd lo ln lp bn lq lr bi"><span id="e47b" class="ls kl hi ln b be lt lu l lv lw">// with the Selenium Testing Library (Kotlin)<br/>driver.findElement(ByAltText("First name"))<br/>driver.findElement(<br/>   ByRole("heading", name = "/as a user/i".asJsRegex())<br/>)</span></pre><pre class="lx lo ln lp bn lq lr bi"><span id="661e" class="ls kl hi ln b be lt lu l lv lw">// with the Testing Library (JavaScript)<br/>screen.queryByAltText('First name')<br/>screen.queryByRole('heading', { name: /as a user/i })</span></pre><p id="9b1e" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">æˆ‘ç›¸ä¿¡<a class="ae ix" rel="noopener" href="/codex/automated-testing-goals-d3ace8fd223a">æµ‹è¯•</a>ç»™å‡ºäº†æœ€å¥½çš„ä¾‹å­ï¼Œæ‰€ä»¥<a class="ae ix" href="https://github.com/lsoares/selenium-testing-library/tree/main/lib/src/test/kotlin/seleniumtestinglib" rel="noopener ugc nofollow" target="_blank">å»çœ‹çœ‹</a>ã€‚å…ˆç¹ä¸ºå¿«ï¼Œä¸‹é¢æ˜¯æµ‹è¯•åº“çš„<a class="ae ix" href="https://testing-library.com/docs/" rel="noopener ugc nofollow" target="_blank"> <strong class="je hj">æ ¸å¿ƒAPI </strong> </a>çš„æ›´å¤šä¾‹å­:</p><pre class="jz ka kb kc fd lo ln lp bn lq lr bi"><span id="89ec" class="ls kl hi ln b be lt lu l lv lw">val firstName = driver.findElements(ByAltText("first name"))<br/>val person = driver.findElements(ByDisplayValue("/john/i".asRegex()))<br/>val active = driver.findElements(ByLabelText("active"))<br/>val input = driver.findElements(ByPlaceholderText("first name", exact = false))<br/>val title = driver.findElements(ByRole("heading", name = "/as a user/i".asRegex()))<br/>val panel = driver.findElements(ByTestId("test-id"))<br/>val block = driver.findElements(ByText("present", exact = false, selector = "span"))<br/>val title1 = driver.findElements(ByTitle("title 1"))</span></pre><p id="f1c3" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">æˆ‘è¿˜å®ç°äº†æµ‹è¯•åº“<a class="ae ix" href="https://testing-library.com/docs/user-event/intro/" rel="noopener ugc nofollow" target="_blank"> <strong class="je hj">ç”¨æˆ·äº¤äº’API </strong> </a>:</p><pre class="jz ka kb kc fd lo ln lp bn lq lr bi"><span id="5bd4" class="ls kl hi ln b be lt lu l lv lw">driver.user.click(driver.findElement(ByRole("navigation")))<br/>driver.user.type(driver.findElement(ByRole("textbox")), "foobar")<br/>driver.user.selectOptions(driver.findElement(ByRole("listbox")), "C")<br/>driver.user.keyboard("[/ShiftLeft][/ShiftRight]{Tab}")<br/>driver.user.tab()<br/>driver.user.clear(driver.findElement(By.Id("description")))<br/>driver.user.pointer("[MouseLeft]", "[MouseRight]")</span></pre><p id="a8ae" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated"><a class="ae ix" href="https://github.com/testing-library/jest-dom" rel="noopener ugc nofollow" target="_blank"> <strong class="je hj"> jest-dom </strong> </a>ä¹Ÿå¯ç”¨:</p><pre class="jz ka kb kc fd lo ln lp bn lq lr bi"><span id="cbc6" class="ls kl hi ln b be lt lu l lv lw">// API similar to the original version:<br/>expect(button.toHaveAccessibleDescription("Register"))<br/>expect(checkboxMarketing).toBeChecked()<br/>assertEquals(setOf("btn", "btn-danger", "extra"), deleteButton.classes)<br/>expect(element).not.toBePartiallyChecked()<br/><br/>// utilities that can be used on their own:<br/>val formValues = registrationForm.formValues<br/>val userAgrees = checkboxMarketing.isChecked<br/>val name = element.accessibleName<br/>val displayedValue = element.displayValue</span></pre><p id="028c" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">æˆ‘å·²ç»æŠŠè¿™ä¸€åˆ‡æ‰“åŒ…åˆ°<a class="ae ix" href="https://search.maven.org/artifact/com.luissoares/selenium-testing-library" rel="noopener ugc nofollow" target="_blank"> <strong class="je hj">ç¡’æµ‹è¯•åº“</strong> </a>(é’ˆå¯¹Kotlinï¼Œä½†åœ¨Javaä¸­ä¹Ÿæœ‰æ•ˆ)<strong class="je hj"/><a class="ae ix" href="https://github.com/lsoares/selenium-testing-library" rel="noopener ugc nofollow" target="_blank">å¼€æºå®ƒ</a>(é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œæœ‰äººå¯¹Python åšäº†<a class="ae ix" href="https://github.com/anze3db/selenium-testing-library" rel="noopener ugc nofollow" target="_blank">åŒæ ·çš„äº‹æƒ…)ã€‚</a></p><h1 id="d7bc" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">ä¸ºä»€ä¹ˆ</h1><p id="82cd" class="pw-post-body-paragraph jb jc hi je b jf lc ij jh ji ld im jk le lf jn jo lg lh jr js li lj jv jw jx hb bi translated">åˆ›å»ºè¿™ä¸ªåº“çš„åŸå› ä¸æ­¢ä¸€ä¸ª:</p><ul class=""><li id="8162" class="ly lz hi je b jf jg ji jj le ma lg mb li mc jx md me mf mg bi translated">ä¸ºå¼€æºä¸–ç•Œåšè´¡çŒ®ï¼Œå¸Œæœ›å·²ç»åˆ›é€ äº†å¯¹åˆ«äººæœ‰ç”¨çš„ä¸œè¥¿ï¼›</li><li id="bfcd" class="ly lz hi je b jf mh ji mi le mj lg mk li ml jx md me mf mg bi translated">æ·±å…¥ç ”ç©¶Seleniumã€æµ‹è¯•åº“å’Œwebpack</li><li id="cc3f" class="ly lz hi je b jf mh ji mi le mj lg mk li ml jx md me mf mg bi translated">å­¦ä¹ <a class="ae ix" href="https://maciejwalkowiak.com/blog/guide-java-publish-to-maven-central/" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•å‘å¸ƒä¸€ä¸ªåº“åˆ°Maven Central </a>(ä¹Ÿè®¸è¿˜æœ‰å¦‚ä½•ç”¨<a class="ae ix" href="https://github.com/features/actions" rel="noopener ugc nofollow" target="_blank"> GitHub actions </a>è‡ªåŠ¨åŒ–å®ƒ)ï¼›</li><li id="c231" class="ly lz hi je b jf mh ji mi le mj lg mk li ml jx md me mf mg bi translated">ä»¥æˆ‘è®¤ä¸ºUIæµ‹è¯•åº”è¯¥åšçš„æ–¹å¼ä½¿ç”¨Seleniumä½œä¸ºç”¨æˆ·è¿›è¡Œæµ‹è¯•ã€‚</li></ul><p id="83fe" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">ä¸ºä»€ä¹ˆæˆ‘ç›¸ä¿¡ä½œä¸ºç”¨æˆ·çš„<em class="jd">æµ‹è¯•</em>ä¼˜äºä¾èµ–æŠ€æœ¯æ–¹é¢(idã€ç±»ã€æ ‡è®°åã€æµ‹è¯•idã€<a class="ae ix" href="https://en.wikipedia.org/wiki/XPath" rel="noopener ugc nofollow" target="_blank"> XPath </a> /CSSé€‰æ‹©å™¨)ï¼Ÿè¿™ä¸è‡ªåŠ¨åŒ–æµ‹è¯•çš„<a class="ae ix" rel="noopener" href="/codex/automated-testing-goals-d3ace8fd223a">ç›®æ ‡</a>ç›¸å…³:</p><ul class=""><li id="fa79" class="ly lz hi je b jf jg ji jj le ma lg mb li mc jx md me mf mg bi translated">æµ‹è¯•ä¸ç”¨æˆ·äº¤äº’çš„æ–¹å¼è¶Šç›¸ä¼¼ï¼Œæˆ‘å°±è¶Šæœ‰ä¿¡å¿ƒ(æ³¨æ„ï¼Œè¿™å¹¶ä¸æ„å‘³ç€ç«¯åˆ°ç«¯çš„æµ‹è¯•ï¼›æµ‹è¯•åº“å¯ç”¨äºæµ‹è¯•ç®€å•çš„ååº”ç»„ä»¶)ã€‚å¦‚æœæˆ‘èƒ½å¤Ÿæ”¹å˜åº•å±‚çš„å®ç°ç»†èŠ‚ï¼Œæˆ‘ä¼šè§‰å¾—é‡æ„æ›´å®‰å…¨ï¼Œæ›´æœ‰æŒ‡å¯¼æ„ä¹‰ã€‚<a class="ae ix" rel="noopener" href="/codex/decoupling-tests-from-implementation-details-238a9ab06e4f"> CSSå’ŒXPathé€‰æ‹©å™¨ä»¥åŠHTMLç»“æ„æœ¬èº«éƒ½æ˜¯æ˜“å˜çš„åº•å±‚ç»†èŠ‚</a>ã€‚æµ‹è¯•idæ˜¯ä¸€ç§å˜é€šæ–¹æ³•ï¼Œä½†æ˜¯è¿™æ„å‘³ç€ä»…ä»…ä¸ºäº†æµ‹è¯•è€Œåˆ›å»ºå®ç°ä»£ç (ä¸€ä¸ª<a class="ae ix" rel="noopener" href="/codex/anti-patterns-of-automated-software-testing-b396283a4cb6">æµ‹è¯•åæ¨¡å¼</a>)ã€‚</li><li id="a35a" class="ly lz hi je b jf mh ji mi le mj lg mk li ml jx md me mf mg bi translated">ä½œä¸ºä¸€åå¼€å‘äººå‘˜ï¼Œå¦‚æœä½ åœ¨å¯»æ‰¾UIå…ƒç´ ä¸Šæœ‰å›°éš¾ï¼Œç”¨æˆ·åˆå¦‚ä½•èƒ½æ‰¾åˆ°å‘¢ï¼Ÿå½“<em class="jd">ä½œä¸ºç”¨æˆ·</em>è¿›è¡Œæµ‹è¯•æ—¶ï¼Œä½ ä¼šè¢«å¼ºè¿«å¹¶é¼“åŠ±éµå¾ªè‰¯å¥½çš„å¯ç”¨æ€§å®è·µï¼Œæ¯”å¦‚ç¼–å†™<a class="ae ix" href="https://web.dev/learn/html/semantic-html/" rel="noopener ugc nofollow" target="_blank">è¯­ä¹‰HTML </a>(ä¾‹å¦‚<code class="du lk ll lm ln b">article</code>ã€<code class="du lk ll lm ln b">section</code>ã€<code class="du lk ll lm ln b">nav</code>)ä»¥åŠæä¾›å¯è®¿é—®æ€§æ ‡ç­¾(ä¾‹å¦‚<code class="du lk ll lm ln b">title</code>ã€<code class="du lk ll lm ln b">alt</code>ã€<code class="du lk ll lm ln b">aria-label</code>)ã€‚</li><li id="8d4e" class="ly lz hi je b jf mh ji mi le mj lg mk li ml jx md me mf mg bi translated">å½“æµ‹è¯•æè¿°çœŸå®çš„ä½¿ç”¨åœºæ™¯æ—¶ï¼Œæˆ‘ä»æµ‹è¯•ä¸­è·å¾—äº†æ›´å¤šçš„æ–‡æ¡£åŠ›é‡ã€‚å¦‚æœæˆ‘å‡ ä¸ªæœˆåé˜…è¯»è¿™äº›æµ‹è¯•ï¼Œæˆ‘å¯ä»¥å¾ˆå®¹æ˜“åœ°ç†è§£ä»–ä»¬çš„ç›®æ ‡ï¼Œå¹¶ä¸”ä¸ä¼šè¿·å¤±åœ¨æŠ€æœ¯ç»†èŠ‚ä¸­ã€‚</li></ul><p id="ae72" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">ä¸ºä»€ä¹ˆä¸é¦–å…ˆä½¿ç”¨æµ‹è¯•åº“(åœ¨JavaScriptæˆ–TypeScriptä¸­)ï¼Ÿæˆ‘åœ¨è¿‡å»çš„ä¸€äº›é¡¹ç›®ä¸­åšè¿‡(è¿™å°±æ˜¯æˆ‘äº†è§£æµ‹è¯•åº“çš„åŸå› )ï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸ªäººéƒ½åœ¨ç”¨è¿™äº›è¯­è¨€/è¿è¡Œæ—¶å·¥ä½œã€‚ä¸€äº›ç°å®ä¸–ç•Œçš„é¡¹ç›®å·²ç»åœ¨è¿è¡Œå¹¶ä½¿ç”¨Selenium for JVMï¼Œå®ƒä»¬ä¹Ÿåº”è¯¥å—ç›Šäºæµ‹è¯•åº“ã€‚æ­¤å¤–ï¼Œæˆ‘å¾ˆæ¬£èµç¼–è¯‘è¯­è¨€èƒ½ç»™æµ‹è¯•å¥—ä»¶å¸¦æ¥ä»€ä¹ˆã€‚</p><p id="0a52" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">å¦‚æœæ²¡æœ‰è¿™ä¸ªåº“ï¼Œæ‚¨å°†ä¸å¾—ä¸æ±‚åŠ©äºidã€ç±»å’Œæµ‹è¯•idã€‚å¦‚æœä½ ä¸æƒ³ä¾èµ–è¿™äº›æŠ€æœ¯ç»†èŠ‚ï¼Œä½ éœ€è¦å¤§é‡çš„å·¥å…·ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™ç”šè‡³æ˜¯ä¸å¯èƒ½çš„ã€‚ä¾‹å¦‚ï¼Œä¸åŒºåˆ†å¤§å°å†™çš„containsæœç´¢ä¸èƒ½ç”¨XPathå®ç°(è‡³å°‘åœ¨å½“å‰çš„æµè§ˆå™¨ä¸­)ã€‚</p><pre class="jz ka kb kc fd lo ln lp bn lq lr bi"><span id="011a" class="ls kl hi ln b be lt lu l lv lw">&lt;input placeholder='Username' /&gt;</span></pre><pre class="lx lo ln lp bn lq lr bi"><span id="e794" class="ls kl hi ln b be lt lu l lv lw">// ğŸŸ  With pure Selenium<br/>val result = driver.findElements(By.cssSelector("*"))<br/>    .first() {<br/>        it.getAttribute("placeholder")?<br/>          .contains("USER", ignoreCase = true) == true<br/>    }</span></pre><pre class="lx lo ln lp bn lq lr bi"><span id="2b87" class="ls kl hi ln b be lt lu l lv lw">// ğŸŸ¢ With Selenium Testing Library<br/>val result = driver.findElement(<br/>   ByPlaceholderText("USER", exact = false)<br/>)</span></pre><p id="944a" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">æ³¨æ„ï¼Œå¦‚æœå…ƒç´ ä¸æ˜¯ç«‹å³å¯ç”¨çš„ï¼Œæ‚¨ä»ç„¶éœ€è¦ç­‰å¾…å®ƒä»¬(å°±åƒæœ¬åœ°å®šä½å™¨ä¸€æ ·)ï¼›ä½ å¯ä»¥æ±‚åŠ©äº<a class="ae ix" href="https://lsoares.medium.com/different-types-of-waits-in-selenium-9522fc40f515" rel="noopener">ç¡’çš„ç­‰å¾…èƒ½åŠ›</a>ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥ä½¿ç”¨æˆ‘æ·»åŠ çš„ä¸€ä¸ªAPIæ¥ä¾èµ–<a class="ae ix" href="https://testing-library.com/docs/dom-testing-library/api-async" rel="noopener ugc nofollow" target="_blank">æµ‹è¯•åº“çš„ç­‰å¾…</a>:</p><pre class="jz ka kb kc fd lo ln lp bn lq lr bi"><span id="4694" class="ls kl hi ln b be lt lu l lv lw">val firstName = driver.queryBy(<br/>   PlaceholderText, "first name", mapOf("exact" to false)<br/>)</span></pre><h1 id="c17b" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">æ€ä¹ˆ</h1><p id="7750" class="pw-post-body-paragraph jb jc hi je b jf lc ij jh ji ld im jk le lf jn jo lg lh jr js li lj jv jw jx hb bi translated">æˆ‘å¦‚ä½•åœ¨Seleniumä¸­é›†æˆæµ‹è¯•åº“ï¼Ÿé€šè¿‡è¯„ä¼°å®ƒçš„JavaScriptä»¥ä¾¿ä»¥åä½¿ç”¨(ç›¸å½“äºåœ¨JavaScriptæ§åˆ¶å°ä¸­ç²˜è´´å¹¶è¿è¡Œå®ƒ)ã€‚ç„¶åï¼Œæˆ‘å¯ä»¥è°ƒç”¨æµ‹è¯•åº“å‡½æ•°å¹¶å°†ç»“æœæ˜ å°„å›Java/Kotlinå¯¹è±¡ã€‚è¿™æ˜¯è¿™é¡¹æŠ€æœ¯æœ‰è¶£çš„éƒ¨åˆ†:</p><pre class="jz ka kb kc fd lo ln lp bn lq lr bi"><span id="f69b" class="ls kl hi ln b be lt lu l lv lw">// 1ï¸âƒ£ in JS, store a handle to TL's screen:<br/>import {screen} from '@testing-library/dom'<br/>window.screen = screen</span></pre><pre class="lx lo ln lp bn lq lr bi"><span id="ee86" class="ls kl hi ln b be lt lu l lv lw"># 2ï¸âƒ£ generate the TL script to be injected:<br/>webpack --mode production<br/>cp dist/testing-library.js ../lib/src/main/resources</span></pre><pre class="lx lo ln lp bn lq lr bi"><span id="8970" class="ls kl hi ln b be lt lu l lv lw">// 3ï¸âƒ£ evaluate the TL script so it gets stored in screen:<br/>driver.executeScript(<br/>   {}.getResource("/testing-library.js").readText()<br/>)</span></pre><pre class="lx lo ln lp bn lq lr bi"><span id="c448" class="ls kl hi ln b be lt lu l lv lw">// 4ï¸âƒ£ call a TL function from screen and rely on Selenium to map the results to WebElements<br/>val results = driver.executeScript(<br/>   "return screen.queryAllByRole(arguments[0])", <br/>   "listbox"<br/>)</span></pre><p id="a080" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">å¦‚æ‚¨æ‰€è§ï¼Œæ‰€æœ‰ç¹é‡çš„å·¥ä½œéƒ½ç”±æµ‹è¯•åº“webpackå’ŒSeleniumæ¥å®Œæˆã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªç¼ºå¤±çš„éƒ¨åˆ†:å¦‚ä½•è®©è¿™äº›æŸ¥è¯¢å¯¹Seleniumé€æ˜ï¼Ÿæˆ‘æƒ³ä½¿ç”¨å®ƒä»¬ï¼Œæ¯”å¦‚æœ¬åœ°çš„(ä¾‹å¦‚<code class="du lk ll lm ln b">driver.findElement(By.Id("profile"))</code>)ã€‚Seleniumå¾ˆå®¹æ˜“ç”¨æ–°çš„å®šä½å™¨æ‰©å±•:ç»§æ‰¿<code class="du lk ll lm ln b">By</code>å¹¶å®ç°<code class="du lk ll lm ln b">findElements</code>ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰å®šä½å™¨çš„ç¤ºä¾‹(ä¸æ˜¯æ¥è‡ªæˆ‘çš„åº“):</p><pre class="jz ka kb kc fd lo ln lp bn lq lr bi"><span id="394e" class="ls kl hi ln b be lt lu l lv lw">data class ByAttribute(private val name: String, private val value: String) : By() {<br/>    override fun findElements(context: SearchContext): List&lt;WebElement&gt; =<br/>        context.findElements(<br/>            cssSelector("[$name='${value.replace("'", "\\''")}']")<br/>        )<br/>}</span></pre><p id="8a79" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">æˆ‘å¯ä»¥åƒä½¿ç”¨ä»»ä½•åŸç”ŸSeleniumå®šä½å™¨ä¸€æ ·ä½¿ç”¨è‡ªå®šä¹‰å®šä½å™¨:<code class="du lk ll lm ln b">driver.findElement(ByAttribute("href", "http://example.com"))</code>ã€‚</p><h2 id="4895" class="mm kl hi bd km mn mo mp kq mq mr ms ku le mt mu kw lg mv mw ky li mx my la mz bi translated">è·å–ã€æŸ¥è¯¢è¿˜æ˜¯æŸ¥æ‰¾ï¼Ÿä¸€ä¸ªè¿˜æ˜¯å…¨éƒ¨ï¼Ÿ</h2><p id="9096" class="pw-post-body-paragraph jb jc hi je b jf lc ij jh ji ld im jk le lf jn jo lg lh jr js li lj jv jw jx hb bi translated">æµ‹è¯•åº“æ ¸å¿ƒAPIæœ‰ä¸‰ç±»æŸ¥è¯¢:<code class="du lk ll lm ln b">get*</code>ã€<code class="du lk ll lm ln b">query*</code>ã€<code class="du lk ll lm ln b">find*</code>ã€‚é€‰å“ªä¸ªï¼Ÿ<code class="du lk ll lm ln b">get*</code>æ‰¾ä¸åˆ°å…ƒç´ æ—¶å¤±è´¥ï¼Œæˆ‘æƒ³æŠŠå®ƒç•™ç»™ç¡’ã€‚<code class="du lk ll lm ln b">find*</code>ç­‰å¾…å…ƒç´ å¯ç”¨ï¼ŒåŒæ ·ï¼Œ<a class="ae ix" href="https://lsoares.medium.com/different-types-of-waits-in-selenium-9522fc40f515" rel="noopener">ç¡’æœ‰ç­‰å¾…æœºåˆ¶</a>ã€‚è¿™ä½¿å¾—<code class="du lk ll lm ln b">query*</code>æˆä¸ºæ›´çµæ´»çš„é€‰é¡¹ï¼Œä¹Ÿæ˜¯æˆ‘ä½¿ç”¨çš„é€‰é¡¹ã€‚</p><p id="ec82" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">æ¯ä¸ªå‡½æ•°æ—éƒ½æœ‰å•æ•°ç‰ˆæœ¬(ä¾‹å¦‚<code class="du lk ll lm ln b">query</code>)å’Œå¤æ•°ç‰ˆæœ¬(ä¾‹å¦‚<code class="du lk ll lm ln b">queryAll</code>)ã€‚æˆ‘ä½¿ç”¨å¤æ•°æ˜¯å› ä¸ºè¦åˆ›å»ºSeleniumå®šä½å™¨ï¼Œæˆ‘ä»¬åªéœ€è¦å®ç°<code class="du lk ll lm ln b">findElements</code>(å¤æ•°)ã€‚SeleniumåŸºäºå®ƒæä¾›<code class="du lk ll lm ln b">findElement</code>(å•æ•°)ã€‚</p><h2 id="db68" class="mm kl hi bd km mn mo mp kq mq mr ms ku le mt mu kw lg mv mw ky li mx my la mz bi translated">ç§»æ¤è¿˜æ˜¯é€‚åº”ï¼Ÿ</h2><p id="2070" class="pw-post-body-paragraph jb jc hi je b jf lc ij jh ji ld im jk le lf jn jo lg lh jr js li lj jv jw jx hb bi translated">æ³¨å…¥æµ‹è¯•åº“è„šæœ¬å¹¶å°†å…¶è¿æ¥åˆ°Kotlin/Javaè¢«ç§°ä¸º<a class="ae ix" href="https://en.wikipedia.org/wiki/Adapter_pattern" rel="noopener ugc nofollow" target="_blank">é€‚é…å™¨æ¨¡å¼</a>ã€‚ç„¶è€Œï¼Œæˆ‘æœ€åˆçš„æ–¹æ³•æ˜¯ä¾é Seleniumå®šä½å™¨(ä¾‹å¦‚ï¼Œ<code class="du lk ll lm ln b">xpath</code>ï¼Œ<code class="du lk ll lm ln b">cssSelector</code>)æ¥ç§»æ¤æµ‹è¯•åº“è¡Œä¸ºï¼Œç›®çš„æ˜¯å®ç°ç‰¹æ€§å¯¹ç­‰ã€‚äº‹å®è¯æ˜è¿™æ˜¯ä¸€ç§æœ‰é™çš„æ–¹æ³•ï¼Œå› ä¸º:</p><ul class=""><li id="4513" class="ly lz hi je b jf jg ji jj le ma lg mb li mc jx md me mf mg bi translated">ç”±äº<a class="ae ix" href="https://webdriver.io/" rel="noopener ugc nofollow" target="_blank"> WebdriverIO </a>å’Œæµè§ˆå™¨é™åˆ¶(ä¾‹å¦‚XPathçš„ä¸åŒºåˆ†å¤§å°å†™çš„æ–‡æœ¬æœç´¢)ï¼ŒSelenium locatorsæ— æ³•ä¸æµ‹è¯•åº“æœç´¢åŠŸèƒ½ç«äº‰ï¼›</li><li id="29a5" class="ly lz hi je b jf mh ji mi le mj lg mk li ml jx md me mf mg bi translated">æˆ‘å¿…é¡»ç§»æ¤æ‰€æœ‰çš„åŠŸèƒ½ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å·¥ä½œé‡ï¼›</li><li id="d3a0" class="ly lz hi je b jf mh ji mi le mj lg mk li ml jx md me mf mg bi translated">æˆ‘å¯èƒ½ä¼šå¼•å…¥bugs</li><li id="b10f" class="ly lz hi je b jf mh ji mi le mj lg mk li ml jx md me mf mg bi translated">æˆ‘ä¸å®¹æ˜“å¾—åˆ°å›¾ä¹¦é¦†çš„æ›´æ–°ã€‚</li></ul><p id="c58d" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">æˆ‘æœ€ç»ˆä½¿ç”¨äº†æ³¨å…¥æ–¹æ³•ï¼ŒåŸºäºæµ‹è¯•åº“çš„MITè®¸å¯ï¼Œè¿™æ˜¯æœ‰æ•ˆçš„ã€‚ä¸€ä¸ªä¾‹å¤–æ˜¯æˆ‘ç§»æ¤äº†jest-domè€Œä¸æ˜¯æ¡¥æ¥å®ƒã€‚ä¸ºäº†å¼¥åˆå®ƒï¼Œæˆ‘ä¸å¾—ä¸æ³¨å…¥ç¬‘è¯å’Œç¬‘è¯ç•Œï¼Œè¿™è¢«è¯æ˜æ˜¯éº»çƒ¦çš„ã€‚</p><h2 id="20fa" class="mm kl hi bd km mn mo mp kq mq mr ms ku le mt mu kw lg mv mw ky li mx my la mz bi translated">ä¸ä¼šå¾ˆæ…¢å—ï¼Ÿ</h2><p id="6d5f" class="pw-post-body-paragraph jb jc hi je b jf lc ij jh ji ld im jk le lf jn jo lg lh jr js li lj jv jw jx hb bi translated">æ³¨å…¥æµ‹è¯•åº“ä¼šå¯¹æ€§èƒ½äº§ç”Ÿå½±å“ã€‚ä½†æ˜¯ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹ä¼˜åŒ–:</p><ul class=""><li id="476a" class="ly lz hi je b jf jg ji jj le ma lg mb li mc jx md me mf mg bi translated">æºJSè„šæœ¬è¢«ç¼©å°äº†(æ¯ä¸ªå¤§çº¦250KB)ã€‚</li><li id="3438" class="ly lz hi je b jf mh ji mi le mj lg mk li ml jx md me mf mg bi translated">JSæ–‡ä»¶æœ€å¤šä»æ–‡ä»¶ç³»ç»Ÿä¸­è¯»å–ä¸€æ¬¡ï¼Œä¹‹åä»å†…å­˜ä¸­è¯»å–ã€‚</li><li id="1c6e" class="ly lz hi je b jf mh ji mi le mj lg mk li ml jx md me mf mg bi translated">æ¯ä¸ªè„šæœ¬æœ€å¤šç‹¬ç«‹æ³¨å…¥ä¸€æ¬¡(ç›´åˆ°å‡ºç°é¡µé¢å¯¼èˆªæˆ–åˆ·æ–°)ï¼Œå¹¶ä¸”ä»…åœ¨éœ€è¦æ—¶æ³¨å…¥ã€‚</li></ul><p id="1afc" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">æ³¨å°„æ—¶é—´å¤§è‡´åœ¨20è‡³40æ¯«ç§’ä¹‹é—´å˜åŒ–ã€‚è€ƒè™‘åˆ°æµ‹è¯•åº“çš„å¥½å¤„ï¼Œæˆ‘ç›¸ä¿¡è¿™æ˜¯å€¼å¾—çš„ã€‚</p></div><div class="ab cl na nb gp nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="hb hc hd he hf"><p id="988f" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated">è¿™æ˜¯è¿™ä¸ªåº“çš„æºä»£ç :</p><div class="nh ni ez fb nj nk"><a href="https://github.com/lsoares/selenium-testing-library" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab dw"><div class="nm ab nn cl cj no"><h2 class="bd hj fi z dy np ea eb nq ed ef hh bi translated">GitHub-lsoares/Selenium-testing-library:ç±»ä¼¼äº</h2><div class="nr l"><h3 class="bd b fi z dy np ea eb nq ed ef dx translated">ä¸ºä»€ä¹ˆï¼Ÿå½“æˆ‘ä½¿ç”¨Seleniumæ—¶ï¼Œæˆ‘ä¸æƒ³ä¾èµ–äºidã€ç±»ç­‰ç­‰ã€‚æˆ‘æ˜¯æµ‹è¯•åº“çš„ç²‰ä¸ï¼Œå› ä¸ºâ€¦</h3></div><div class="ns l"><p class="bd b fp z dy np ea eb nq ed ef dx translated">github.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny ki nk"/></div></div></a></div><p id="c414" class="pw-post-body-paragraph jb jc hi je b jf jg ij jh ji jj im jk le jm jn jo lg jq jr js li ju jv jw jx hb bi translated"><strong class="je hj">è¿™æ˜¯åœ¨Maven Centralå‘å¸ƒçš„åº“:</strong></p><div class="nh ni ez fb nj nk"><a href="https://search.maven.org/artifact/com.luissoares/selenium-testing-library" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab dw"><div class="nm ab nn cl cj no"><h2 class="bd hj fi z dy np ea eb nq ed ef hh bi translated">Mavenä¸­å¤®å­˜å‚¨åº“æœç´¢</h2><div class="nr l"><h3 class="bd b fi z dy np ea eb nq ed ef dx translated">Mavenä¸­å¤®å­˜å‚¨åº“ç»´æŠ¤è€…çš„å®˜æ–¹æœç´¢</h3></div><div class="ns l"><p class="bd b fp z dy np ea eb nq ed ef dx translated">search.maven.org</p></div></div></div></a></div></div></div>    
</body>
</html>