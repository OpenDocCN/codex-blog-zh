<html>
<head>
<title>ğŸ’ªDeploying GitHub Enterprise Server on Azure using Bicep</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ğŸ’ªä½¿ç”¨Bicepåœ¨Azureä¸Šéƒ¨ç½²GitHubä¼ä¸šæœåŠ¡å™¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/deploying-github-enterprise-server-on-azure-using-bicep-be765c9aa46?source=collection_archive---------10-----------------------#2021-10-19">https://medium.com/codex/deploying-github-enterprise-server-on-azure-using-bicep-be765c9aa46?source=collection_archive---------10-----------------------#2021-10-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ad16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">äº†è§£å¦‚ä½•ä½¿ç”¨åŸºç¡€è®¾æ–½å³ä»£ç åœ¨Azureä¸Šéƒ¨ç½²GitHub Enterprise Serverã€‚</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/58f4c92353d479dd1761fec8ef9c78b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F44_jChsIiV6KKp3kYHrmA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">ğŸ’ªä½¿ç”¨Bicepåœ¨Azureä¸Šéƒ¨ç½²GitHubä¼ä¸šæœåŠ¡å™¨</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="a2e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨Bicepï¼Œä¸€ç§ç”¨äºå£°æ˜å¼éƒ¨ç½²Azureèµ„æºçš„æ–°è¯­è¨€ï¼Œå¹¶åˆ›ä½œä¸€ä¸ªBicepæ¨¡æ¿æ¥éƒ¨ç½²GitHub Enterprise Serverã€‚</p><p id="72bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä»¬å°†æ‰§è¡Œä»¥ä¸‹æ­¥éª¤:</p><ol class=""><li id="6754" class="ka kb hi ih b ii ij im in iq kc iu kd iy ke jc kf kg kh ki bi translated">åˆ›å»ºSSHå¯†é’¥å¯¹</li><li id="d359" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">åˆ›å»ºæˆ‘ä»¬çš„äºŒå¤´è‚Œæ¨¡æ¿</li><li id="3bf8" class="ka kb hi ih b ii kj im kk iq kl iu km iy kn jc kf kg kh ki bi translated">éƒ¨ç½²äºŒå¤´è‚Œæ¨¡æ¿</li></ol><h1 id="c225" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">1.åˆ›å»ºSSHå¯†é’¥å¯¹</h1><p id="bd0e" class="pw-post-body-paragraph if ig hi ih b ii lm ik il im ln io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªSSHå¯†é’¥å¯¹ï¼›æ‚¨å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹å…³äºå¦‚ä½•åœ¨Azureä¸­ä¸ºLinuxè™šæ‹Ÿæœºåˆ›å»ºSSHå¯†é’¥å¯¹çš„æ–‡ç« â€”<a class="ae lr" href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/mac-create-ssh-keys" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/Azure/virtual-machines/Linux/MAC-create-SSH-keys</a></p><p id="6f1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Azure Bashæ§åˆ¶å°åˆ›å»ºä¸€ä¸ªSSHå¯†é’¥å¯¹ã€‚åœ¨Azureé—¨æˆ·ä¸­ï¼Œè¯·æ±‚ä¸€ä¸ªæ–°çš„æ§åˆ¶å°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ls"><img src="../Images/0b61f14ee89697f4034a64dd7583b53f.png" data-original-src="https://miro.medium.com/v2/resize:fit:100/0*x-EVKzo7njDY_6aA"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lt"><img src="../Images/32df0620006735dc0f338744eadbd8b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/0*RpxNggTO0_P1CHlk.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Azureé—¨æˆ·â€” Bash</figcaption></figure><p id="2520" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç„¶åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ç”Ÿæˆä¸€ä¸ªSSHå¯†é’¥:</p><pre class="je jf jg jh fd lu lv lw lx aw ly bi"><span id="9f32" class="lz kp hi lv b fi ma mb l mc md">ssh-keygen \<br/>    -m PEM \<br/>    -t rsa \<br/>    -b 4096 \<br/>    -C "github-enterprise" \<br/>    -f ~/.ssh/ge-priv-key \<br/>    -N yourpasshphrase</span></pre><p id="c546" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™å°†åœ¨æ–‡ä»¶å…±äº«ä¸­çš„SSHç›®å½•ä¸‹ç”Ÿæˆå¯†é’¥:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ls"><img src="../Images/8f730a7075c6072265f03b4cd8c78d96.png" data-original-src="https://miro.medium.com/v2/resize:fit:100/0*H9DRiuwlURi2CYX4"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es me"><img src="../Images/75bbfb572b823ce079bcc1efddcea10a.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*_oh5kx-zPYJAyKpO4Fj-sQ.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">SSHå¯†é’¥</figcaption></figure><p id="4c41" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœæ‚¨ä¸ç†Ÿæ‚‰SSHå…¬é’¥çš„æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„catå‘½ä»¤æ˜¾ç¤ºæ‚¨çš„å…¬é’¥ï¼Œæ›¿æ¢'<em class="mf"> ~/ã€‚ssh/id_rsa.pub </em>ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œå¸¦æœ‰æ‚¨è‡ªå·±çš„å…¬é’¥æ–‡ä»¶çš„è·¯å¾„å’Œæ–‡ä»¶å:</p><pre class="je jf jg jh fd lu lv lw lx aw ly bi"><span id="7c38" class="lz kp hi lv b fi ma mb l mc md">cat ~/.ssh/ge-priv-key.pub</span></pre><p id="562d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸Šé¢çš„å‘½ä»¤å°†åœ¨æ§åˆ¶å°ä¸­æ˜¾ç¤ºSSHå…¬é’¥ã€‚æˆ‘ä»¬å°†åœ¨éƒ¨ç½²æœŸé—´éœ€è¦å®ƒï¼Œæ‰€ä»¥è¯·å°†å®ƒæ”¾åœ¨æ‰‹è¾¹ã€‚</p><p id="44ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é…·ï¼ç°åœ¨æˆ‘ä»¬æœ‰äº†SSHå¯†é’¥å¯¹ã€‚</p><h1 id="cbe1" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">2.AzureäºŒå¤´è‚Œæ¨¡æ¿-å‚æ•°</h1><p id="130f" class="pw-post-body-paragraph if ig hi ih b ii lm ik il im ln io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">æˆ‘ä»¬å°†é€šè¿‡å®šä¹‰è™šæ‹Ÿæœºçš„å‚æ•°æ¥å®šä¹‰startã€‚</p><p id="fafc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸‹é¢çš„ä»£ç æ˜¾ç¤ºäº†æ­¤éƒ¨ç½²è¦ä½¿ç”¨çš„å‚æ•°:</p><pre class="je jf jg jh fd lu lv lw lx aw ly bi"><span id="9565" class="lz kp hi lv b fi ma mb l mc md">@description('Unique prefix for your Storage Account and VM name. Must be all lower case letters or numbers. No spaces or special characters.')<br/>param accountPrefix string</span><span id="3e3b" class="lz kp hi lv b fi mg mb l mc md">@description('Username for the VM. This value is ignored.')<br/>param adminUsername string</span><span id="a56f" class="lz kp hi lv b fi mg mb l mc md">@description('VM Size. Select an ES v3 Series VM with at least 32 GB of RAM. Default value: Standard_E4s_v3')<br/>param vmSize string = 'Standard_E4s_v3'</span><span id="ff08" class="lz kp hi lv b fi mg mb l mc md">@description('Select a Premium Storage disk capacity for your source code, in GB. Default value: 512.')<br/>param storageDiskSizeGB int = 512</span><span id="bf4e" class="lz kp hi lv b fi mg mb l mc md">@allowed([<br/>  'sshPublicKey'<br/>  'password'<br/>])<br/>@description('Type of authentication to use on the Virtual Machine. SSH key is recommended.')<br/>param authenticationType string = 'sshPublicKey'</span><span id="8763" class="lz kp hi lv b fi mg mb l mc md">@description('SSH Key or password for the Virtual Machine. SSH key is recommended.')<br/>@secure()<br/>param adminPasswordOrKey string</span><span id="722a" class="lz kp hi lv b fi mg mb l mc md">@description('Location for all resources.')<br/>param location string = resourceGroup().location</span></pre><p id="bdf3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ³¨æ„ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ª<em class="mf">â€œ@ secure()â€</em>è£…é¥°å™¨æ¥å®‰å…¨åœ°ä¼ é€’SSHå¯†é’¥ã€‚æˆ‘å»ºè®®æ‚¨çœ‹çœ‹è¿™ç¯‡å…³äºå¦‚ä½•åˆ©ç”¨<a class="ae lr" rel="noopener" href="/codex/azure-bicep-secure-secrets-in-parameters-secure-decorator-ce6317cc0c23"> <em class="mf"> @secure() </em>è£…é¥°å™¨</a>å®‰å…¨åœ°ä¼ é€’å‚æ•°ä¸­çš„ç§˜å¯†çš„æ–‡ç« ã€‚</p><h1 id="702a" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">3.AzureäºŒå¤´è‚Œæ¨¡æ¿-å˜é‡</h1><p id="348a" class="pw-post-body-paragraph if ig hi ih b ii lm ik il im ln io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®šä¹‰ä»¥ä¸‹å˜é‡:</p><pre class="je jf jg jh fd lu lv lw lx aw ly bi"><span id="ae22" class="lz kp hi lv b fi ma mb l mc md">var imagePublisher = 'GitHub'<br/>var imageOffer = 'GitHub-Enterprise'<br/>var OSDiskName = 'osdiskforlinuxsimple'<br/>var nicName_var = '${replace(replace(accountPrefix, '.', ''), '_', '-')}-nic'<br/>var addressPrefix = '10.0.0.0/16'<br/>var subnetName = 'Subnet'<br/>var subnetPrefix = '10.0.0.0/24'<br/>var storageAccountType = 'Premium_LRS'<br/>var storageAccountName_var = '${replace(replace(replace(accountPrefix, '.', ''), '_', ''), '-', '')}data'<br/>var publicIPAddressName_var = '${replace(replace(accountPrefix, '.', ''), '_', '-')}-pub-ip'<br/>var publicIPAddressType = 'Dynamic'<br/>var dnsNameForPublicIP = '${accountPrefix}-ghe'<br/>var vmName_var = '${replace(replace(accountPrefix, '.', ''), '_', '-')}-ghe-vm'<br/>var virtualNetworkName_var = '${replace(replace(accountPrefix, '.', ''), '_', '-')}-vnet'<br/>var networkSecurityGroupName_var = '${replace(replace(accountPrefix, '.', ''), '_', '-')}-nsg'<br/>var subnetRef = resourceId('Microsoft.Network/virtualNetworks/subnets', virtualNetworkName_var, subnetName)<br/>var dataDiskName = 'ghe-data'<br/>var linuxConfiguration = {<br/>  disablePasswordAuthentication: true<br/>  ssh: {<br/>    publicKeys: [<br/>      {<br/>        path: '/home/${adminUsername}/.ssh/authorized_keys'<br/>        keyData: adminPasswordOrKey<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><p id="9505" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç„¶åæˆ‘ä»¬å°†å®šä¹‰èµ„æºã€‚</p><h1 id="041b" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">4.AzureäºŒå¤´è‚Œæ¨¡æ¿â€”èµ„æº</h1><p id="16c7" class="pw-post-body-paragraph if ig hi ih b ii lm ik il im ln io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">æˆ‘ä»¬ç°åœ¨å°†èµ„æºå®šä¹‰å¦‚ä¸‹:</p><pre class="je jf jg jh fd lu lv lw lx aw ly bi"><span id="d0fd" class="lz kp hi lv b fi ma mb l mc md">resource storageAccountName 'Microsoft.Storage/storageAccounts@2021-01-01' = {<br/>  name: storageAccountName_var<br/>  location: location<br/>  sku: {<br/>    name: storageAccountType<br/>  }<br/>  kind: 'StorageV2'<br/>}</span><span id="3fd8" class="lz kp hi lv b fi mg mb l mc md">resource publicIPAddressName 'Microsoft.Network/publicIPAddresses@2020-05-01' = {<br/>  name: publicIPAddressName_var<br/>  location: location<br/>  properties: {<br/>    publicIPAllocationMethod: publicIPAddressType<br/>    dnsSettings: {<br/>      domainNameLabel: dnsNameForPublicIP<br/>    }<br/>  }<br/>}</span><span id="088c" class="lz kp hi lv b fi mg mb l mc md">resource virtualNetworkName 'Microsoft.Network/virtualNetworks@2020-05-01' = {<br/>  name: virtualNetworkName_var<br/>  location: location<br/>  properties: {<br/>    addressSpace: {<br/>      addressPrefixes: [<br/>        addressPrefix<br/>      ]<br/>    }<br/>    subnets: [<br/>      {<br/>        name: subnetName<br/>        properties: {<br/>          addressPrefix: subnetPrefix<br/>          networkSecurityGroup: {<br/>            id: networkSecurityGroupName.id<br/>          }<br/>        }<br/>      }<br/>    ]<br/>  }<br/>}</span><span id="d8db" class="lz kp hi lv b fi mg mb l mc md">resource nicName 'Microsoft.Network/networkInterfaces@2020-05-01' = {<br/>  name: nicName_var<br/>  location: location<br/>  properties: {<br/>    ipConfigurations: [<br/>      {<br/>        name: 'ipconfig1'<br/>        properties: {<br/>          privateIPAllocationMethod: 'Dynamic'<br/>          publicIPAddress: {<br/>            id: publicIPAddressName.id<br/>          }<br/>          subnet: {<br/>            id: subnetRef<br/>          }<br/>        }<br/>      }<br/>    ]<br/>  }<br/>  dependsOn: [<br/>    virtualNetworkName<br/>  ]<br/>}</span><span id="96a8" class="lz kp hi lv b fi mg mb l mc md">resource vmName 'Microsoft.Compute/virtualMachines@2019-12-01' = {<br/>  name: vmName_var<br/>  location: location<br/>  properties: {<br/>    hardwareProfile: {<br/>      vmSize: vmSize<br/>    }<br/>    osProfile: {<br/>      computerName: vmName_var<br/>      adminUsername: adminUsername<br/>      adminPassword: adminPasswordOrKey<br/>      linuxConfiguration: ((authenticationType == 'password') ? json('null') : linuxConfiguration)<br/>    }<br/>    storageProfile: {<br/>      imageReference: {<br/>        publisher: imagePublisher<br/>        offer: imageOffer<br/>        sku: imageOffer<br/>        version: 'latest'<br/>      }<br/>      osDisk: {<br/>        name: '${OSDiskName}_OSDisk'<br/>        caching: 'ReadWrite'<br/>        createOption: 'FromImage'<br/>      }<br/>      dataDisks: [<br/>        {<br/>          name: '${dataDiskName}_DataDisk1'<br/>          diskSizeGB: storageDiskSizeGB<br/>          createOption: 'Empty'<br/>          lun: 0<br/>        }<br/>      ]<br/>    }<br/>    networkProfile: {<br/>      networkInterfaces: [<br/>        {<br/>          id: nicName.id<br/>        }<br/>      ]<br/>    }<br/>  }<br/>  dependsOn: [<br/>    storageAccountName<br/>  ]<br/>}</span><span id="24e4" class="lz kp hi lv b fi mg mb l mc md">resource networkSecurityGroupName 'Microsoft.Network/networkSecurityGroups@2020-05-01' = {<br/>  name: networkSecurityGroupName_var<br/>  location: location<br/>  properties: {<br/>    securityRules: [<br/>      {<br/>        name: 'https_8443'<br/>        properties: {<br/>          description: 'https'<br/>          protocol: '*'<br/>          sourcePortRange: '*'<br/>          destinationPortRange: '8443'<br/>          sourceAddressPrefix: 'Internet'<br/>          destinationAddressPrefix: '*'<br/>          access: 'Allow'<br/>          priority: 100<br/>          direction: 'Inbound'<br/>        }<br/>      }<br/>      {<br/>        name: 'http_8080'<br/>        properties: {<br/>          description: 'http plain text'<br/>          protocol: '*'<br/>          sourcePortRange: '*'<br/>          destinationPortRange: '8080'<br/>          sourceAddressPrefix: 'Internet'<br/>          destinationAddressPrefix: '*'<br/>          access: 'Allow'<br/>          priority: 101<br/>          direction: 'Inbound'<br/>        }<br/>      }<br/>      {<br/>        name: 'ssh_port_122'<br/>        properties: {<br/>          description: 'Allow admin SSH'<br/>          protocol: '*'<br/>          sourcePortRange: '*'<br/>          destinationPortRange: '122'<br/>          sourceAddressPrefix: 'Internet'<br/>          destinationAddressPrefix: '*'<br/>          access: 'Allow'<br/>          priority: 102<br/>          direction: 'Inbound'<br/>        }<br/>      }<br/>      {<br/>        name: 'vpn_1194'<br/>        properties: {<br/>          description: 'Allow VPN'<br/>          protocol: '*'<br/>          sourcePortRange: '*'<br/>          destinationPortRange: '1194'<br/>          sourceAddressPrefix: 'Internet'<br/>          destinationAddressPrefix: '*'<br/>          access: 'Allow'<br/>          priority: 103<br/>          direction: 'Inbound'<br/>        }<br/>      }<br/>      {<br/>        name: 'snmp_161'<br/>        properties: {<br/>          description: 'Allow SNMP'<br/>          protocol: '*'<br/>          sourcePortRange: '*'<br/>          destinationPortRange: '161'<br/>          sourceAddressPrefix: 'Internet'<br/>          destinationAddressPrefix: '*'<br/>          access: 'Allow'<br/>          priority: 104<br/>          direction: 'Inbound'<br/>        }<br/>      }<br/>      {<br/>        name: 'https_443'<br/>        properties: {<br/>          description: 'Allow HTTPS'<br/>          protocol: '*'<br/>          sourcePortRange: '*'<br/>          destinationPortRange: '443'<br/>          sourceAddressPrefix: 'Internet'<br/>          destinationAddressPrefix: '*'<br/>          access: 'Allow'<br/>          priority: 105<br/>          direction: 'Inbound'<br/>        }<br/>      }<br/>      {<br/>        name: 'http_80'<br/>        properties: {<br/>          description: 'Allow HTTP'<br/>          protocol: '*'<br/>          sourcePortRange: '*'<br/>          destinationPortRange: '80'<br/>          sourceAddressPrefix: 'Internet'<br/>          destinationAddressPrefix: '*'<br/>          access: 'Allow'<br/>          priority: 106<br/>          direction: 'Inbound'<br/>        }<br/>      }<br/>      {<br/>        name: 'ssh_22'<br/>        properties: {<br/>          description: 'Allow Git SSH'<br/>          protocol: '*'<br/>          sourcePortRange: '*'<br/>          destinationPortRange: '22'<br/>          sourceAddressPrefix: 'Internet'<br/>          destinationAddressPrefix: '*'<br/>          access: 'Allow'<br/>          priority: 107<br/>          direction: 'Inbound'<br/>        }<br/>      }<br/>      {<br/>        name: 'git_9418'<br/>        properties: {<br/>          description: 'Allow Git'<br/>          protocol: '*'<br/>          sourcePortRange: '*'<br/>          destinationPortRange: '9418'<br/>          sourceAddressPrefix: 'Internet'<br/>          destinationAddressPrefix: '*'<br/>          access: 'Allow'<br/>          priority: 108<br/>          direction: 'Inbound'<br/>        }<br/>      }<br/>      {<br/>        name: 'smtp_25'<br/>        properties: {<br/>          description: 'Allow SMTP'<br/>          protocol: '*'<br/>          sourcePortRange: '*'<br/>          destinationPortRange: '25'<br/>          sourceAddressPrefix: 'Internet'<br/>          destinationAddressPrefix: '*'<br/>          access: 'Allow'<br/>          priority: 109<br/>          direction: 'Inbound'<br/>        }<br/>      }<br/>    ]<br/>  }<br/>}</span></pre><p id="9643" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ€åï¼Œæˆ‘ä»¬å°†ä¼ é€’ä¸€ä¸ªå‚æ•°æ–‡ä»¶ã€‚</p><h1 id="b243" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">5.å‚æ•°æ–‡ä»¶ã€‚</h1><p id="0bb9" class="pw-post-body-paragraph if ig hi ih b ii lm ik il im ln io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">å‚æ•°æ–‡ä»¶å°†åªåŒ…å«ä¸€äº›å‚æ•°ï¼Œå¦‚èµ„æºåç§°ã€ç£ç›˜å¤§å°å’ŒSSHå¯†é’¥ã€‚åˆ›å»ºè¿™ä¸ªæ–°æ–‡ä»¶ï¼Œå¹¶å°†å…¶å¦å­˜ä¸º<em class="mf">azure deploy . parameters . JSON</em></p><pre class="je jf jg jh fd lu lv lw lx aw ly bi"><span id="351f" class="lz kp hi lv b fi ma mb l mc md">{<br/>    "$schema": "<a class="ae lr" href="https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#" rel="noopener ugc nofollow" target="_blank">https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#</a>",<br/>    "contentVersion": "1.0.0.0",<br/>    "parameters": {<br/>      "accountPrefix": {<br/>        "value": "azinsider"<br/>      },<br/>      "vmSize": {<br/>        "value": "Standard_E4s_v3"<br/>      },<br/>      "storageDiskSizeGB": {<br/>        "value": 512<br/>      },<br/>      "adminUsername": {<br/>        "value": "azureuser"<br/>      },<br/>      "adminPasswordOrKey": {<br/>        "value": "ssh-rsa AAAAB3NzaC1yc2...== github-enterprise"<br/>      }<br/>    }<br/>  }</span></pre><p id="444d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä»¥ä¸‹æ˜¯å®Œæ•´çš„äºŒå¤´è‚Œæ¨¡æ¿:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mh mi l"/></div></figure><h1 id="5349" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">6.AzureäºŒå¤´è‚Œéƒ¨ç½²</h1><p id="35f5" class="pw-post-body-paragraph if ig hi ih b ii lm ik il im ln io ip iq lo is it iu lp iw ix iy lq ja jb jc hb bi translated">ä½œä¸ºæœ€ä½³å®è·µï¼Œæˆ‘å»ºè®®æ‚¨ä½¿ç”¨æ ‡å¿—-Cé¢„è§ˆéƒ¨ç½²ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å¯ç”¨éƒ¨ç½²é¢„è§ˆ:</p><pre class="je jf jg jh fd lu lv lw lx aw ly bi"><span id="8354" class="lz kp hi lv b fi ma mb l mc md">New-AzResourceGroupDeployment -Name $deploymentName -ResourceGroupName azinsider-ge -TemplateFile .\main.bicep -TemplateParameterFile .\azuredeploy.parameters.json -c</span></pre><p id="61ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤çš„æœ«å°¾æ·»åŠ äº†æ ‡å¿—-cï¼›è¿™å°†å¯ç”¨å‡è®¾éªŒè¯ã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥åœ¨è¿›è¡Œå®é™…éƒ¨ç½²ä¹‹å‰é¢„è§ˆéƒ¨ç½²æ“ä½œã€‚</p><p id="0f4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸‹å›¾æ˜¾ç¤ºäº†éƒ¨ç½²çš„é¢„è§ˆ:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mj"><img src="../Images/dd8e64c0477181e5fd113438f3fa5d4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KiCwyROeYb-UW3fl0b5J4Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Azure Bicep â€”éƒ¨ç½²é¢„è§ˆâ€” GitHubä¼ä¸šæœåŠ¡å™¨</figcaption></figure><p id="17b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸€æ—¦æ‰€æœ‰çš„é…ç½®éƒ½æ­£ç¡®ï¼Œæˆ‘ä»¬å°†ç»§ç»­è¿›è¡Œéƒ¨ç½²ã€‚ä¸‹å›¾æ˜¾ç¤ºäº†éƒ¨ç½²çš„è¾“å‡º:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mk"><img src="../Images/9240610eb3c275f93944c10dbd61985c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ukdaw4oLCT7ki67ifefh-w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Azure Bicep â€”éƒ¨ç½²è¾“å‡ºâ€” GitHubä¼ä¸šæœåŠ¡å™¨</figcaption></figure><p id="9bbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ‚¨è¿˜å¯ä»¥è®¿é—®Azureé—¨æˆ·ç½‘ç«™ï¼Œæ£€æŸ¥ä»è¯¥éƒ¨ç½²åˆ›å»ºçš„æ‰€æœ‰èµ„æºï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ml"><img src="../Images/121824c616cad1b6f7df9155a313ce63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nWEcBTgaXTQn-80jjIkwog.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Azure Bicepéƒ¨ç½²â€” GitHubä¼ä¸šæœåŠ¡å™¨</figcaption></figure><p id="0d58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ è¸ä¸ŠBicepä¹‹æ—…ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨Bicepåœ¨Azureä¸Šéƒ¨ç½²GitHub Enterprise Serverã€‚</p><p id="71b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ğŸ‘‰<a class="ae lr" href="http://eepurl.com/gKmLdf" rel="noopener ugc nofollow" target="_blank"> <em class="mf">åœ¨æ­¤åŠ å…¥</em><strong class="ih hj"><em class="mf">azin sider</em></strong><em class="mf">é‚®ç®±åˆ—è¡¨ã€‚</em>T9ã€‘</a></p><p id="13a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="mf">-æˆ´å¤«Â·rÂ·</em></p></div></div>    
</body>
</html>