<html>
<head>
<title>💪Azure Bicep Playground: Transitioning from ARM templates into Bicep</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">💪Azure二头肌游乐场:从手臂模板过渡到二头肌</h1>
<blockquote>原文：<a href="https://medium.com/codex/azure-bicep-playground-transitioning-from-arm-templates-into-bicep-5c10c864c863?source=collection_archive---------2-----------------------#2021-09-14">https://medium.com/codex/azure-bicep-playground-transitioning-from-arm-templates-into-bicep-5c10c864c863?source=collection_archive---------2-----------------------#2021-09-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3ad8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">了解移植过程，并发现在将ARM模板移植到Bicep模板时可能有用的工具</p><p id="8128" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Bicep是一种新的用于声明式部署Azure资源的DSL语言，如果你目前是ARM模板，它值得一看。在之前的<a class="ae jd" href="https://blog.azinsider.net/why-is-azure-bicep-your-next-choice-for-infrastructure-as-code-f10a2b924ca7" rel="noopener ugc nofollow" target="_blank">文章中，</a>我们讨论了Bicep对于Azure的基础设施即代码的重要性，以及它将如何影响您在Azure中的环境。</p><h1 id="6b9b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">从手臂模板转移到二头肌，容易吗？</h1><p id="c6b3" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">与同等的ARM模板JSON 相比，Bicep提供了更简单的语法<a class="ae jd" href="https://github.com/Azure/bicep/blob/main/docs/arm2bicep.md" rel="noopener ugc nofollow" target="_blank">，是的，从ARM模板过渡到Bicep是可能的。</a></p><p id="15c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我个人看来，对于小型环境，从ARM模板过渡到Bicep模板很容易，您可以利用Bicep CLI命令将ARM模板转换为Bicep代码，命令如下:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="c7ee" class="kq jf hi km b fi kr ks l kt ku">bicep decompile "path/to/file.json"</span></pre><p id="d0ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一种选择是将AZ CLI与Bicep配合使用，并执行相同的任务:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="d929" class="kq jf hi km b fi kr ks l kt ku">az bicep decompile --file azuredeploy.json</span></pre><p id="2638" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们可以选择使用Azure CLI或Azure PowerShell导出资源组。下面的命令显示了如何导出资源组和创建Bicep模板:</p><pre class="kh ki kj kk fd kl km kn ko aw kp bi"><span id="0190" class="kq jf hi km b fi kr ks l kt ku">az group export --name "your_resource_group_name" &gt; main.json<br/>bicep decompile main.json</span></pre><p id="7112" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然这适用于小型环境，但不能保证从JSON到Bicep模板的转换，并且在Bicep模板中可能会出现一些警告或错误。</p><p id="c678" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您不确定是否是时候从ARM-JSON模板过渡到Bicep模板，并希望节省一些验证过程的时间，您可以使用Azure Bicep Playground。</p><h1 id="f2fd" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">使用二头肌操场</h1><p id="1188" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">肱二头肌操场是一个工具，可以帮助你将手臂模板在线反编译成肱二头肌模板！</p><p id="b906" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以访问以下网址，开始使用Azure Bicep Playground:</p><p id="a1d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">👉【https://aka.ms/bicepdemo T4】</p><p id="ba87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在二头肌训练场上，您会看到两个面板:左侧是二头肌模板，右侧是手臂模板，如下所示:</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es kv"><img src="../Images/27332f65fd6eaf67ee282b14e9f1a4fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1W0LT2qjRzxCQLNV-zCsw.png"/></div></div><figcaption class="ld le et er es lf lg bd b be z dx translated">蔚蓝二头肌游乐场</figcaption></figure><p id="0300" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，我们在右上角有几个附加选项，可以将链接复制到我们正在处理的当前模板。我们还可以反编译我们的ARM模板或者可视化一些现有的例子。</p><h1 id="30e1" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">使用二头肌操场反编译</h1><p id="bddd" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">你可以把你的手臂模板反编译成二头肌模板。要转换你的模板，你只需要选择“反编译”选项，上传你的ARM模板，你就会得到Bicep文件。</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lh"><img src="../Images/45abf2ae787a1ed9ab9795395fa43b0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_VB-69BPOKBvS2u9AVgeSQ.png"/></div></div><figcaption class="ld le et er es lf lg bd b be z dx translated">使用二头肌操场反编译</figcaption></figure><p id="c002" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一个选择是将你的二头肌模板转换成手臂模板。</p><h2 id="a3d1" class="kq jf hi bd jg li lj lk jk ll lm ln jo iq lo lp js iu lq lr jw iy ls lt ka lu bi translated">从二头肌到手臂模板。</h2><p id="62b3" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">您可以直接将您的二头肌模板粘贴到二头肌操场，您将在右侧窗格中看到手臂模板，如下所示:</p><figure class="kh ki kj kk fd kw er es paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="er es lv"><img src="../Images/29124e049d704ffe97ae0ecec565b8ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*chmOrBDN64R6zxf7eYsnow.gif"/></div></div><figcaption class="ld le et er es lf lg bd b be z dx translated">蔚蓝二头肌游乐场</figcaption></figure><p id="05e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的例子中，我们使用Bicep模板在App中用MySQL创建WordPress。注意，二头肌操场为你运行反编译功能。</p><p id="49f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">推荐大家看看GitHub资源库的最新更新:<a class="ae jd" href="https://github.com/Azure/bicep" rel="noopener ugc nofollow" target="_blank">https://github.com/Azure/bicep</a></p><p id="287f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我知道你的二头肌模板是什么样子的，以及反编译时遇到的挑战。</p><figure class="kh ki kj kk fd kw er es paragraph-image"><a href="https://www.buymeacoffee.com/drbmc"><div class="er es lw"><img src="../Images/2c5b182596bd701cac27cf5b4a1128a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*heGyKzpzJvQEmpjSYldJWQ.png"/></div></a></figure><p id="ae8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">👉<a class="ae jd" href="http://eepurl.com/gKmLdf" rel="noopener ugc nofollow" target="_blank"> <em class="lx">在此加入</em><strong class="ih hj"><em class="lx">azin sider</em></strong><em class="lx">邮箱列表。</em>T11】</a></p><p id="33f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lx">-戴夫·R</em></p></div></div>    
</body>
</html>