<html>
<head>
<title>5 Killer Automation Scripts in Python — Part-2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的5个黑仔自动化脚本—第2部分</h1>
<blockquote>原文：<a href="https://medium.com/codex/5-killer-automation-scripts-in-python-part-2-5b5a8995eef8?source=collection_archive---------4-----------------------#2022-05-05">https://medium.com/codex/5-killer-automation-scripts-in-python-part-2-5b5a8995eef8?source=collection_archive---------4-----------------------#2022-05-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="4028" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">这里有一些非常棒的自动化脚本，您可以在您的Python项目中使用。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/d6786594220f093cb0ec8b146f18ada0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aUecuvL9yFvSg9Dxgw5gYA.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">演职员表— <a class="ae jn" href="https://www.freepik.com/free-photo/impressed-blond-female-ceo-manager-checking-out-something-amazing-gasping-fascinated-saying-wow-holding-hands-cheeks-staring-front-white-wall_19294243.htm#query=wow&amp;position=5&amp;from_view=search" rel="noopener ugc nofollow" target="_blank">链接</a></figcaption></figure><p id="8a11" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">这是本文的第二部分—</strong><a class="ae jn" rel="noopener" href="/codex/5-killer-automation-scripts-in-python-42c273fc37c4"><strong class="jq hj">https://medium . com/codex/5-killer-automation-scripts-in-python-42c 273 fc 37 C4</strong></a></p><p id="1b62" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在做项目的时候，我们需要一些现成的代码，可以帮助我们解决日常生活中的问题。本文为您的Python项目提供了5个自动化脚本<strong class="jq hj">来解决这些<strong class="jq hj"> </strong>问题。</strong></p><p id="28db" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">所以把它收藏起来，让我们开始吧。</p><h1 id="5cc4" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">1.)照片压缩器</h1><p id="e645" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">这将把你的照片压缩成较小的尺寸，而质量不变。</p><pre class="iy iz ja jb fd lh li lj lk aw ll bi"><span id="8b32" class="lm kl hi li b fi ln lo l lp lq">import PIL<br/>from PIL import Image<br/>from tkinter.filedialog import *</span><span id="9a62" class="lm kl hi li b fi lr lo l lp lq">fl=askopenfilenames()</span><span id="ee70" class="lm kl hi li b fi lr lo l lp lq">img = Image.open(fl[0])</span><span id="7de3" class="lm kl hi li b fi lr lo l lp lq">img.save("result.jpg", "JPEG", optimize = True, quality = 10)</span></pre><h1 id="a083" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">2.)图像水印</h1><p id="a942" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">这个简单的脚本将水印任何图像。您可以设置文本、位置和字体。</p><pre class="iy iz ja jb fd lh li lj lk aw ll bi"><span id="a55b" class="lm kl hi li b fi ln lo l lp lq">from PIL import Image<br/>from PIL import ImageFont<br/>from PIL import ImageDraw</span><span id="8fdf" class="lm kl hi li b fi lr lo l lp lq">def watermark_img(img_path,res_path, text, pos):<br/>    img = Image.open(img_path)<br/>    wm = ImageDraw.Draw(img)<br/>    col= (9, 3, 10)<br/>    wm.text(pos, text, fill=col)<br/>    img.show()<br/>    img.save(res_path)</span><span id="e42e" class="lm kl hi li b fi lr lo l lp lq">img = 'initial.jpg'<br/>watermark_img(img, 'result.jpg','IshaanGupta', pos=(1, 0))</span></pre><h1 id="9f23" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated"><strong class="ak"> 3。)抄袭检查器</strong></h1><p id="8532" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">这个脚本检查两个文件之间的抄袭。</p><pre class="iy iz ja jb fd lh li lj lk aw ll bi"><span id="fbf4" class="lm kl hi li b fi ln lo l lp lq">from difflib import SequenceMatcher</span><span id="fdff" class="lm kl hi li b fi lr lo l lp lq">def plagiarism_checker(f1,f2):<br/>    with open(f1,errors="ignore") as file1,open(f2,errors="ignore") as file2:<br/>        f1_data=file1.read()<br/>        f2_data=file2.read()<br/>        res=SequenceMatcher(None, f1_data, f2_data).ratio()</span><span id="47d4" class="lm kl hi li b fi lr lo l lp lq">print(f"These files are {res*100} % similar")</span><span id="c01b" class="lm kl hi li b fi lr lo l lp lq">f1=input("Enter file_1 path: ")<br/>f2=input("Enter file_2 path: ")<br/>plagiarism_checker(f1, f2)</span></pre><h1 id="dd14" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">4.)文件加密和解密</h1><p id="6ff1" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">一个可以加密/解密任何文件的小脚本。</p><pre class="iy iz ja jb fd lh li lj lk aw ll bi"><span id="c8a5" class="lm kl hi li b fi ln lo l lp lq">from cryptography.fernet import Fernet</span><span id="2a40" class="lm kl hi li b fi lr lo l lp lq">def encrypt(f_name, key):<br/>    fernet = Fernet(key)<br/>    <br/>    with open(f_name, 'rb') as file:<br/>        original = file.read()<br/>        <br/>    encrypted = fernet.encrypt(original)<br/>    <br/>    with open(f_name, 'wb') as enc_file:<br/>        enc_file.write(encrypted)</span><span id="0752" class="lm kl hi li b fi lr lo l lp lq">def decrypt(f_name, key):<br/>    fernet = Fernet(key)<br/>    <br/>    with open(f_name, 'rb') as enc_file:<br/>        encrypted = enc_file.read()</span><span id="a379" class="lm kl hi li b fi lr lo l lp lq">decrypted = fernet.decrypt(encrypted)<br/>    with open(f_name, 'wb') as dec_file:<br/>        dec_file.write(decrypted)</span><span id="d979" class="lm kl hi li b fi lr lo l lp lq"><br/>key = Fernet.generate_key()</span><span id="aa0e" class="lm kl hi li b fi lr lo l lp lq">f_name = input("Enter Your filename: ")<br/>encrypt(f_name, key)<br/>decrypt(f_name, key)</span></pre><h1 id="caae" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated"><strong class="ak"> 5。)使URL变短</strong></h1><p id="201c" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">有时候大的网址读起来和分享起来会很烦。这个脚本使用一个外部API来缩短URL。</p><pre class="iy iz ja jb fd lh li lj lk aw ll bi"><span id="8b58" class="lm kl hi li b fi ln lo l lp lq">from __future__ import with_statement<br/>import contextlib<br/>try:<br/>   from urllib.parse import urlencode<br/>except ImportError:<br/>   from urllib import urlencode</span><span id="740a" class="lm kl hi li b fi lr lo l lp lq">try:<br/>   from urllib.request import urlopen<br/>except ImportError:<br/>   from urllib2 import urlopen<br/>import sys</span><span id="2c63" class="lm kl hi li b fi lr lo l lp lq">def make_tiny(url):<br/>   request_url = ('http://tinyurl.com/api-create.php?' +<br/>   urlencode({'url':url}))<br/>   with contextlib.closing(urlopen(request_url)) as response:<br/>   return response.read().decode('utf-8')</span><span id="a1d4" class="lm kl hi li b fi lr lo l lp lq">def main():<br/>   for tinyurl in map(make_tiny, sys.argv[1:]):<br/>      print(tinyurl)</span><span id="074f" class="lm kl hi li b fi lr lo l lp lq">if __name__ == '__main__':<br/>   main()</span></pre></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><h1 id="e400" class="kk kl hi bd km kn lz kp kq kr ma kt ku io mb ip kw ir mc is ky iu md iv la lb bi translated">最后的想法</h1><p id="68aa" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">这里有一些很棒的自动化Python脚本第2部分，可以帮助你构建你的项目。我希望这篇文章对你有所帮助，并让你学到一些新东西。把这篇文章分享给你的Pythoneer朋友吧。</p><p id="e5fc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">快乐编码！</strong></p></div></div>    
</body>
</html>