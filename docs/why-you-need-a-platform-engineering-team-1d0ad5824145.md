# 为什么需要一个平台工程团队

> 原文：<https://medium.com/codex/why-you-need-a-platform-engineering-team-1d0ad5824145?source=collection_archive---------3----------------------->

![](img/17da6aedb92b8eb5ee5805ffe05eab23.png)

由[谷仓图片](https://unsplash.com/@barnimages?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 拍摄

平台工程团队是专注于改善客户生活的团队:产品工程团队。如果你不认为你的工程部门有一个单一的平台工程团队，很可能你已经有了一个——尽管是一个隐藏的团队，由你现有的软件工程团队中的个人组成。当有一个构建问题时，是否有一个特定的人或一群人会去找他？你们都知道当基础设施出现问题时，你会向谁寻求帮助吗？这些人履行平台工程师的职能，但他们无法专注于这项工作。相反，他们只能慢慢地解决平台问题，永远无法取得深入的进展，而这种进展是为你的其他工程团队扫清障碍所必需的。

那么什么是平台工程呢？在我们深入探讨之前，我承认每个人对什么是平台工程都有稍微不同的看法。我将提供我的观点，谈谈我所看到的在构建和发展平台工程团队时行之有效的方法。对我来说，平台工程团队是那些在支持所有其他团队的公共平台上工作的团队。一个很好的测试就是`If your customers are other engineers, you're on a platform engineering team`。

# 站台！=基础设施

当我提出这一点时，人们经常感到惊讶。这两者并不是不相关的，你的平台团队应该是做研究、原型、压力测试和向你的产品工程团队发布好的基础设施原语的团队。这不是他们应该做的唯一事情:前端工程和移动工程也是平台工程的核心组成部分。许多工程师经常很难看到这一点，直到你指出你在你的产品工程团队中使用一个公共的框架或系统(也称为平台)。

组件库是前端平台工程挑战的一个很好的例子。让我们假设你的工程部门有四个产品工程团队和两个平台工程团队。

## 场景 A:平台团队中没有前端工程或者没有平台团队

让我们想象你正在根据[原子设计](https://atomicdesign.bradfrost.com/chapter-2/#atoms)构建你的组件库。您的设计团队已经构建了七个原子、七个分子和六个有机体，以供工程实施。像许多其他没有平台工程功能的公司一样，您决定迭代地构建您的组件库——在新项目的过程中采用新组件，将负载分散到团队中。

每个组件都是在一个两周的 sprint 过程中完成的，所以完成这个库需要 20 次 sprint。如果我们最大化执行，并让首席产品工程团队每次 sprint 取一个组件，我们将需要五次 sprint 来完成组件库。如果你觉得这很长，那就等下一部分。

独立于其他产品工程团队开发的组件不太可能对所有团队来说都是完整的，并且在新的环境中使用时有可能导致 UI 退化。我们可以分配这两种可能性——让我们假设有 25%的可能性特性不完整，有 50%的可能性在另一个产品工程团队的视图中引发 UI 回归。开始考虑解决这些问题需要多长时间，你会发现，每个团队至少要多做一次冲刺。这意味着开发我们的组件库占用了 24 个 sprints 的时间，挤出了产品工程团队本来可以做的其他工作。

## 场景 B:平台团队处理前端挑战

现在让我们想象一个不同的场景，我们有两个平台工程团队中的一个专注于构建我们的组件库，分发它并培训我们的其他团队使用它。

如果每个团队(产品和平台，两者都有)有四个团队成员，并且每个组件需要三个工程天来完成开发，那么我们可以在每个 sprint 中完成 12 个组件。这意味着我们的平台工程团队将在两次冲刺中完成组件库的开发。

虽然我们需要投资培训产品工程团队来使用组件库(这是另一个话题)，但是我们将能够在一个月后而不是六个月后向我们的产品推出我们的组件库。此外，通过拥有一个将四个产品工程团队中的每一个都作为其客户的单一团队，我们在利用我们的组件库时不太可能错过任何边缘情况。

# 开发者体验

同样，很少有团队关注开发人员的体验，包括但不限于:

*   地方发展
*   质量、测试和性能
*   可观察性
*   安全性
*   构建系统

所有这些领域，如果通过开发工具和支持系统得到很好的支持，可以极大地提高高质量开发的速度。因为每个领域都值得深入研究，所以我不会深入研究，我会问几个问题。如果您能回答所有这些问题，那么您还没有达到需要专门的平台工程团队的地步。否则，可能是时候开始识别哪些领域正在减缓你的产品工程团队的速度了。

*   为新工程师设置开发环境需要多长时间？
*   本地开发环境破坏或变得不一致的频率有多高？
*   开发高保真测试数据有多容易？还是大家自己手工制作？
*   您能以多快的速度调试客户问题？有没有特定类型的问题让你的团队沮丧地呻吟？
*   您能否快速确定有多少客户受到给定问题的影响？
*   所有服务和子系统是否都有广为人知的内部公开的 SLO？对于任何 SLO 漏洞，任何工程师都很容易快速诊断出问题吗？
*   你知道接下来哪些服务会中断吗？当你有 10 倍于现在的客户群时？更好的是，您有解决这些未来问题的计划吗？
*   你知道今天哪些顾客对你的产品体验最差吗？
*   您的团队是否必须考虑如何实现符合您的加密标准的代码(例如，您是否有一个内部抽象层来包装已知的标准加密原语，而不是开发您自己的加密)？
*   你有安全扫描和测试系统(vuln 扫描，HIDS，SAST，DAST，秘密扫描等)吗？
*   你有动态模糊或其他自动化安全测试工具吗？
*   开发人员会抱怨某些系统的构建需要多长时间吗？
*   某些系统的构建会随机失败吗？
*   您的部署是全有还是全无，还是有蓝/绿部署？

这个列表可能会更长，但是它包含了前面列出的每个部分的几个主要项目。

如果没有一个平台团队，开发上述任何问题的解决方案通常都很难执行，因为您会遇到与我们在前端工程示例中遇到的相同的知识共享和所有权问题。如果您有一个专注于这些问题的平台工程团队，就像前端工程示例一样，您有专门负责实现影响深远的解决方案的工程师，这些解决方案将对您的产品工程团队产生巨大影响。

# 那么这在实践中是什么样的呢？

实际上，这是从一个列表开始的——今天减缓你的团队的主要问题是什么？有了这个优先列表，你会想要分出一个团队专门执行列表中的项目。这里有一件事你不想错过，那就是你确实需要有人扮演产品经理的角色。他们需要进行用户访谈，了解产品路线图，并与其他工程师一起进行用户访谈，以确保你所构建的解决了他们的问题——你是在构建解决方案，而不是科学项目。

在单个团队已经执行了一段时间，并且做得很好之后，如果他们的 backlog 一直在增长，或者有其他可以解放你的产品工程团队的计划，那么是时候横向扩展了。最好的方法是确定平台团队的主要关注领域——是基础设施和前端，还是可靠性和开发工具？考虑到这些重点领域，相应地发展和拆分您的团队，新的 seed 团队永远不要少于三名工程师。为什么是三个？因为三个人可以让一个团体建立起强烈的认同感和友情。在两个人的团队中，只要有人休了一周的长假，所有的事情都压在另一个工程师身上。

# 包扎

这仅仅是您团队平台工程之旅的开始。我希望分享我的更具体的剧本，用于在未来建立这样的团队(是的，将有指标)，以及向工程以外的部门展示为什么平台工程是一项重要投资的技术。与此同时，希望这是有帮助的人！