<html>
<head>
<title>Redis in a Nutshell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简而言之就是Redis</h1>
<blockquote>原文：<a href="https://medium.com/codex/redis-in-a-nutshell-d338463f1af6?source=collection_archive---------2-----------------------#2022-08-14">https://medium.com/codex/redis-in-a-nutshell-d338463f1af6?source=collection_archive---------2-----------------------#2022-08-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="d035" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">雷迪斯</h2><div class=""/><div class=""><h2 id="af5d" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">关于Redis你需要知道的</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/f733286b1268a6ca33e7c9acecae8e19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rbTGn7qesgPQMT-bp0tL7Q.jpeg"/></div></div></figure><p id="03c8" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果您正在寻找对Redis的基本和简化的理解，那么这篇文章正是您所需要的。</p><p id="41d2" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">Redis代表“<em class="ko">远程字典服务器”</em>，是一个键值、快速、开源的内存数据存储。单词<strong class="ju hs"> in-memory </strong>的意思是，它将所有数据存储在主存储器(即RAM)中。这使得Redis能够提供低延迟和高吞吐量的数据访问。</p><p id="8cec" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">Redis是一个NoSQL数据库。它被用作数据库、队列、缓存和消息代理。</p><p id="e808" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">Redis中支持的数据结构</strong></p><p id="430f" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">Redis支持字符串、散列、集合、排序集合、列表、位图、位域、超级日志、地理空间索引和流</p><p id="5964" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">访问Redis </strong></p><p id="04b9" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">您可以使用<a class="ae kp" href="https://redis.io/docs/manual/cli/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> Redis-CLI </strong> </a>服务器轻松访问Redis。它允许用户对所有可用的操作执行命令/查询。以下命令用于访问redis-cli:</p><pre class="jh ji jj jk fd kq kr ks kt aw ku bi"><span id="5e4d" class="kv kw hi kr b fi kx ky l kz la">redis-cli -h &lt;your host ip&gt; -p &lt;your host port&gt;<br/>redis-cli -h 127.0.0.1 -p 8999</span></pre><p id="bc9d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs"> Redis客户</strong></p><p id="3ffd" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">Redis提供了使用不同客户端连接几乎任何编程语言的可扩展性。<a class="ae kp" href="https://redis.io/docs/clients/" rel="noopener ugc nofollow" target="_blank">点击此处</a>查看可用客户端列表。</p></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><blockquote class="li lj lk"><p id="dd0a" class="js jt ko ju b jv jw is jx jy jz iv ka ll kc kd ke lm kg kh ki ln kk kl km kn hb bi translated">此时，您一定想知道Redis作为内存数据库是如何提供持久性和复制选项的。</p><p id="6b6b" class="js jt ko ju b jv jw is jx jy jz iv ka ll kc kd ke lm kg kh ki ln kk kl km kn hb bi translated">现在让我们开始讨论可用的选项</p></blockquote><h1 id="167b" class="lo kw hi bd lp lq lr ls lt lu lv lw lx ix ly iy lz ja ma jb mb jd mc je md me bi translated">坚持</h1><p id="8abb" class="pw-post-body-paragraph js jt hi ju b jv mf is jx jy mg iv ka kb mh kd ke kf mi kh ki kj mj kl km kn hb bi translated">Redis中有两个<a class="ae kp" href="https://redis.io/docs/manual/persistence/" rel="noopener ugc nofollow" target="_blank">持久性</a>选项可用:</p><h2 id="3dc5" class="kv kw hi bd lp mk ml mm lt mn mo mp lx kb mq mr lz kf ms mt mb kj mu mv md ho bi translated">1- Redis数据库文件(RDF)</h2><p id="d8c4" class="pw-post-body-paragraph js jt hi ju b jv mf is jx jy mg iv ka kb mh kd ke kf mi kh ki kj mj kl km kn hb bi translated">RDF是默认的持久性选项。这类似于拍摄快照(数据的时间点拷贝)。它提供了在特定持续时间或特定密钥更改后拍摄快照的灵活性。要配置RDF，只需访问<strong class="ju hs"> Redis.conf </strong>文件并使用以下命令:</p><pre class="jh ji jj jk fd kq kr ks kt aw ku bi"><span id="5b9e" class="kv kw hi kr b fi kx ky l kz la">save &lt;seconds&gt; &lt;keychanged&gt;<br/>save 900 1 //after 900 seconds or atleast 1 key changed</span></pre><h2 id="7b5a" class="kv kw hi bd lp mk ml mm lt mn mo mp lx kb mq mr lz kf ms mt mb kj mu mv md ho bi translated">2-仅附加文件(AOF)</h2><p id="60d4" class="pw-post-body-paragraph js jt hi ju b jv mf is jx jy mg iv ka kb mh kd ke kf mi kh ki kj mj kl km kn hb bi translated">AOF不是默认的持久性选项。它在系统文件中记录每个操作。当Redis重新启动时，它从这个文件中重建数据集。要配置AOF，只需访问<strong class="ju hs"> Redis.conf </strong>文件并使用以下命令:</p><pre class="jh ji jj jk fd kq kr ks kt aw ku bi"><span id="3001" class="kv kw hi kr b fi kx ky l kz la">appendonly yes  //to enable AOF<br/>appendfilename "appendonly.aof"  //AOF filename</span></pre><h1 id="349e" class="lo kw hi bd lp lq lr ls lt lu lv lw lx ix ly iy lz ja ma jb mb jd mc je md me bi translated">分身术</h1><p id="ac49" class="pw-post-body-paragraph js jt hi ju b jv mf is jx jy mg iv ka kb mh kd ke kf mi kh ki kj mj kl km kn hb bi translated">在基本Redis复制中(<em class="ko">不包括Redis集群或Redis Sentinel </em>的高可用性特性)，有一个<em class="ko">主副本</em>复制机制。副本节点是其主节点的精确副本。要在一个从节点上配置复制，只需访问<strong class="ju hs"> Redis.conf </strong>文件并使用以下命令:</p><pre class="jh ji jj jk fd kq kr ks kt aw ku bi"><span id="6eac" class="kv kw hi kr b fi kx ky l kz la">replicaof &lt;masterip&gt; &lt;masterport&gt;<br/>replicaof 127.0.0.1 8999</span></pre></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><h1 id="77d6" class="lo kw hi bd lp lq mw ls lt lu mx lw lx ix my iy lz ja mz jb mb jd na je md me bi translated">Redis发布/订阅</h1><p id="8080" class="pw-post-body-paragraph js jt hi ju b jv mf is jx jy mg iv ka kb mh kd ke kf mi kh ki kj mj kl km kn hb bi translated">Redis还提供了发布/订阅机制，俗称<a class="ae kp" href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern" rel="noopener ugc nofollow" target="_blank">发布-订阅模式</a>。要订阅某个频道，例如<code class="du nb nc nd kr b">news</code>，订户将执行以下命令:</p><pre class="jh ji jj jk fd kq kr ks kt aw ku bi"><span id="8619" class="kv kw hi kr b fi kx ky l kz la">SUBSCRIBE news</span></pre><p id="c39b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">要在通道<code class="du nb nc nd kr b">news</code>上发布任何信息，发布者需要执行以下命令:</p><pre class="jh ji jj jk fd kq kr ks kt aw ku bi"><span id="21d0" class="kv kw hi kr b fi kx ky l kz la">PUBLISH news "Good Day!"</span></pre><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ne"><img src="../Images/c4697686833913ccbd470397391ccc90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EmalfLIhcWnKIEhsWoQF9g.png"/></div></div></figure></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><h1 id="6ae8" class="lo kw hi bd lp lq mw ls lt lu mx lw lx ix my iy lz ja mz jb mb jd na je md me bi translated">Redis高可用性</h1><p id="7208" class="pw-post-body-paragraph js jt hi ju b jv mf is jx jy mg iv ka kb mh kd ke kf mi kh ki kj mj kl km kn hb bi translated">Redis中有两种高可用性机制。让我们来看看两者的一些基本细节。</p><h2 id="12e8" class="kv kw hi bd lp mk ml mm lt mn mo mp lx kb mq mr lz kf ms mt mb kj mu mv md ho bi translated">Redis集群</h2><p id="6372" class="pw-post-body-paragraph js jt hi ju b jv mf is jx jy mg iv ka kb mh kd ke kf mi kh ki kj mj kl km kn hb bi translated">这是一个集群解决方案。它将您的数据分成几个服务器，并提供复制、故障转移和自动管理。它非常适合于高可用性的大规模实施，并具有很高的数据访问速度。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nf"><img src="../Images/cc031cb3be504eaa57c1425bd85b2cb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oAjwd2WavoB_KhX5DSMQLA.png"/></div></div></figure><h2 id="55be" class="kv kw hi bd lp mk ml mm lt mn mo mp lx kb mq mr lz kf ms mt mb kj mu mv md ho bi translated">哨兵</h2><p id="aaee" class="pw-post-body-paragraph js jt hi ju b jv mf is jx jy mg iv ka kb mh kd ke kf mi kh ki kj mj kl km kn hb bi translated">Sentinel至少需要3个实例才能运行。如果其中任何一个失败，那么您就有一个故障转移服务器可以接管。当你需要更好的保护并且速度不是你主要关心的问题时，使用sentinel是理想的。它非常适合具有高可用性的小型实施。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nf"><img src="../Images/303a5aea20d38e9a3a41a5a3a1c6e2a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lLPb0zDto2I3C0wK8tbo6w.png"/></div></div></figure></div><div class="ab cl lb lc gp ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="hb hc hd he hf"><h1 id="31e7" class="lo kw hi bd lp lq mw ls lt lu mx lw lx ix my iy lz ja mz jb mb jd na je md me bi translated">就是这样！</h1><p id="4a0b" class="pw-post-body-paragraph js jt hi ju b jv mf is jx jy mg iv ka kb mh kd ke kf mi kh ki kj mj kl km kn hb bi translated">如果你喜欢这篇文章，那么请不要忘记关注我的<a class="ae kp" rel="noopener" href="/@sarim_khan">萨里姆汗</a>。</p><p id="bab2" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">享受乐趣，不断学习&amp;永远编码！</p></div></div>    
</body>
</html>