<html>
<head>
<title>Azure Cosmos DB API Services</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure Cosmos DB API服务</h1>
<blockquote>原文：<a href="https://medium.com/codex/azure-cosmos-db-api-services-dc14a4cafd2c?source=collection_archive---------10-----------------------#2022-03-21">https://medium.com/codex/azure-cosmos-db-api-services-dc14a4cafd2c?source=collection_archive---------10-----------------------#2022-03-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3e7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Azure Cosmos DB是一个由Azure提供的多模型完全托管的NoSQL数据库。该服务提供了多个数据库API，这些API是根据需要存储的数据类型来选择的。提供的四种API服务是核心SQL API、Gremlin API、MongoDB API、Cassandra API和Azure Table API。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/6e3bdfbc31d95f5b91a267baf5774501.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*W5ntvoWYqt5QynVF.png"/></div></div></figure><p id="7f18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">重要的是要注意，一旦用特定的API启动了一个实例，以后就不能再更改了。如果没有指定API，核心SQL API是用于实例的默认API，这是因为核心SQL API足以满足大多数用例的需求。在决定使用什么API时，需要考虑一些因素，包括当前正在使用的现有数据库，不愿意重写整个数据访问层，以及需要使用Azure Cosmos DB的关键特性。</p><p id="ca8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Azure Cosmos DB提供了一系列独特的功能，如全球分发、弹性存储扩展、低延迟、运行事务性和分析性工作负载的能力，以及使用完全托管的平台，这可能是用户希望利用的附加优势。让我们来看看每个API</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="57d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">核心SQL API — </strong>如前所述，这是Azure Cosmos DB的默认产品，可以满足大多数场景。API以文档格式存储数据，它提供了使用SQL查询数据的能力。需要注意的是，这种语言不是SQL，但非常像SQL。</p><p id="2718" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于试图从Oracle、Dynamo DB和HBase等其他数据库迁移的用户来说，这也是一个不错的选择。</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="8e10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> MongoDB API — </strong>这个API允许您像使用MongoDB实例一样使用Cosmos DB，甚至扩展了Mongo DB驱动程序、工具和SDK的使用。Mongo DB填补了键值存储和RDBMS系统之间的空白，允许更高级的查询功能。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jw"><img src="../Images/d69f2e6fb57cf90741aaa2471d9b5d20.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*PZoGSjG002wC4Of7YzfePg.jpeg"/></div></figure><p id="e19b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">利用Mongo DB API提供了一些关键优势，比如即时可伸缩性、自动和透明的分片、五个9的可用性以及无服务器部署。</p><p id="6b31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Mongo DB API是通过一个有线协议实现的，该协议能够与上面提到的工具和SDK兼容。使用的有线协议是基于套接字的请求-响应协议，允许客户端通过常规的TCP-IP套接字与数据库通信。</p><p id="927e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Mongo DB API可以通过三种方式部署:</p><ul class=""><li id="653e" class="jx jy hi ih b ii ij im in iq jz iu ka iy kb jc kc kd ke kf bi translated"><em class="kg">调配的吞吐量— </em>此设置最适合用户工作负载一致的情况。</li><li id="1561" class="jx jy hi ih b ii kh im ki iq kj iu kk iy kl jc kc kd ke kf bi translated"><em class="kg">自动缩放</em> —通过此设置，可设定吞吐量上限，并自动缩放以满足您的需求。这与调配正好相反，因为它非常适合缺乏一致性的工作负载。</li><li id="f29c" class="jx jy hi ih b ii kh im ki iq kj iu kk iy kl jc kc kd ke kf bi translated"><em class="kg">无服务器— </em>在此设置中，您只需为实际使用的吞吐量付费。</li></ul></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="5437" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Gremlin API — </strong>这允许用户进行图形查询，并将数据存储为边和顶点。这主要用于数据不容易被关系数据库建模的情况。Gremlin API本质上使我们能够利用图形数据库的力量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es km"><img src="../Images/2f6275cec046e7e4c066deef1f520c84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/0*FTk-_e0rD_b2wu3t.png"/></div></figure><p id="967c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Gremlin API基于Apache Tinker-Pop图形计算框架。Apache Tinker-Pop是一个图形抽象层，它与许多不同的图形数据库和图形处理器一起工作，这些图形处理器由一个图形API和一个进程API组成。</p><p id="7b02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于读写操作，API使用Cosmos DB分区策略。</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="a678" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Cassandra API — </strong> Cassandra是Apache的一个分布式数据库，旨在管理大量结构化数据。它提供了无单点故障的高可用性。这个API旨在将数据存储在一个列结构中。就像Mongo DB API一样，Cassandra API也使用有线协议来访问特定于Cassandra DB的工具和SDK。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kn"><img src="../Images/6757f2040282c527097327d320b32bf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/0*SFLEUJfk7l8m1Yn4"/></div></figure><p id="d4d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Cassandra旨在处理跨多个节点的大数据工作负载。它提供了一个跨节点的对等分布式系统，数据分布在集群中的所有节点上。群集中节点的属性如下:</p><ul class=""><li id="c133" class="jx jy hi ih b ii ij im in iq jz iu ka iy kb jc kc kd ke kf bi translated">集群中的所有节点都扮演相同的角色，每个节点都是独立的，同时又与其他节点互连。</li><li id="daef" class="jx jy hi ih b ii kh im ki iq kj iu kk iy kl jc kc kd ke kf bi translated">无论数据实际位于群集中的什么位置，群集中的每个节点都可以接受读写请求。</li><li id="4f9f" class="jx jy hi ih b ii kh im ki iq kj iu kk iy kl jc kc kd ke kf bi translated">当一个节点发生故障时，可以从网络中的其他节点接收读或写请求。</li></ul><p id="846b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Cassandra中的复制模型使用集群中的一个或多个节点作为给定数据的副本。如果检测到一些节点用过期的值响应，Cassandra会将最新的值返回给客户端。在返回最近的值后，Cassandra在后台执行读取修复来更新过时的值。</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="3fd7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望上面的细节提供了更多关于可用于Azure Cosmos DB的各种API客户端的上下文。</p></div></div>    
</body>
</html>