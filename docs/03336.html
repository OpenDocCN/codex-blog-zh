<html>
<head>
<title>Full Stack Youtube Clone using React Native — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React Native的全栈Youtube克隆—第2部分</h1>
<blockquote>原文：<a href="https://medium.com/codex/full-stack-youtube-clone-using-react-native-part-2-22ac1b0330d2?source=collection_archive---------11-----------------------#2021-08-28">https://medium.com/codex/full-stack-youtube-clone-using-react-native-part-2-22ac1b0330d2?source=collection_archive---------11-----------------------#2021-08-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="7cd9" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated"><em class="ix">第2部分:在这一部分，我们将致力于搜索屏幕(标题+使用Youtube API) </em></h2></div><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="er es iy"><img src="../Images/c60e604dd4e654e2497eacf32ce1787b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_vDv3xKNEPubaE30VkF_g.jpeg"/></div></div></figure><h2 id="b23d" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">注意:</h2><p id="4117" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">以下是该项目的不同部分:</p><ul class=""><li id="e3f5" class="lb lc hi kk b kl ld ko le jv lf jz lg kd lh la li lj lk ll bi translated"><a class="ae lm" rel="noopener" href="/nerd-for-tech/full-stack-youtube-clone-using-react-native-part-0-315d606ca107">第0部分</a> —文章简介</li><li id="0e42" class="lb lc hi kk b kl ln ko lo jv lp jz lq kd lr la li lj lk ll bi translated"><a class="ae lm" rel="noopener" href="/codex/full-stack-youtube-clone-using-react-native-part-1-12fd7ed771e2">第1部分</a> —为项目做导航工作，并创建标题和选项卡(底部)</li><li id="75a9" class="lb lc hi kk b kl ln ko lo jv lp jz lq kd lr la li lj lk ll bi translated"><a class="ae lm" rel="noopener" href="/codex/full-stack-youtube-clone-using-react-native-part-2-22ac1b0330d2">第2部分</a> —处理搜索屏幕(标题和内容)</li><li id="0f8f" class="lb lc hi kk b kl ln ko lo jv lp jz lq kd lr la li lj lk ll bi translated"><a class="ae lm" href="https://decodebuzzing.medium.com/full-stack-youtube-clone-using-react-native-part-3-c99f44b127f9" rel="noopener">第3部分</a> —处理将播放视频并显示评论的屏幕</li><li id="60e9" class="lb lc hi kk b kl ln ko lo jv lp jz lq kd lr la li lj lk ll bi translated">第4部分—创建主屏幕，添加redux <strong class="kk hj">(进行中)</strong></li><li id="d264" class="lb lc hi kk b kl ln ko lo jv lp jz lq kd lr la li lj lk ll bi translated">第5部分—做一些样式上的改变，检查错误，解释如何在没有expo的情况下构建应用程序，以及如何扩展这个项目<strong class="kk hj">(进行中)</strong></li></ul></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><p id="3e7f" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">在<a class="ae lm" rel="noopener" href="/codex/full-stack-youtube-clone-using-react-native-part-1-12fd7ed771e2">上一部分(第1部分)</a>中，我们做了一些导航工作并创建了默认的youtube标题(在<strong class="kk hj">主屏幕和其他屏幕上的标题</strong> ) <strong class="kk hj"> </strong>但是搜索屏幕的标题将完全不同，因为将会有文本输入代替，我们还会显示相关的搜索结果。我们还将使用Youtube API来显示搜索结果，并实现无限滚动的概念。</p><p id="1839" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">现在你知道我们在这一部分要做什么了，所以，让我们开始安装我们需要的模块。这里我们只需要2个模块。如果您不想自己创建标题，第二个模块是可选模块。我将在我的实际代码中使用我自己的组件，但我已经为两者提供了代码。</p><h1 id="aa21" class="mc jl hi bd jm md me mf jq mg mh mi ju io mj ip jy ir mk is kc iu ml iv kg mm bi translated">模块安装</h1><ul class=""><li id="09a8" class="lb lc hi kk b kl km ko kp jv mn jz mo kd mp la li lj lk ll bi translated"><strong class="kk hj"> <em class="mq">日期-fns </em> </strong></li></ul><blockquote class="mr ms mt"><p id="4308" class="ki kj mq kk b kl ld ij kn ko le im kq mu lz ks kt mv ma kv kw mw mb ky kz la hb bi translated"><strong class="kk hj"> date-fns </strong>为在<strong class="kk hj">浏览器</strong> &amp; <strong class="kk hj"> Node.js </strong>中操作<strong class="kk hj"> JavaScript日期</strong>提供了最全面、最简单、最一致的工具集<br/>。</p></blockquote><p id="60b7" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">我认为上面来自文档的解释告诉了你我们为什么要使用这个模块。我们将在本模块的帮助下将这种日期类型<code class="du mx my mz na b">2017–11–10T18:51:05Z ago</code>转换成类似于<code class="du mx my mz na b">3 Years 9 months ago</code>的形式。请参考<a class="ae lm" href="https://date-fns.org/" rel="noopener ugc nofollow" target="_blank">日期fns文档</a>以了解关于此包的更多信息。</p><ul class=""><li id="94ac" class="lb lc hi kk b kl ld ko le jv lf jz lg kd lh la li lj lk ll bi translated"><strong class="kk hj"><em class="mq">react-native-search-header(可选)</em> </strong></li></ul><blockquote class="mr ms mt"><p id="374b" class="ki kj mq kk b kl ld ij kn ko le im kq mu lz ks kt mv ma kv kw mw mb ky kz la hb bi translated">基于材料设计模式的易于使用的React原生搜索标题组件。</p></blockquote><p id="f23a" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">我使用这个模块的主要动机是获得搜索完成，但我没有获得完全的可访问性，所以我宁愿做我的组件。但是你可以选择是否使用这个模块。但是让我们现在安装它</p><pre class="iz ja jb jc fd nb na nc nd aw ne bi"><span id="4870" class="jk jl hi na b fi nf ng l nh ni">npm i react-native-search-header</span></pre><p id="9a38" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">这整个部分将主要实现我们在<a class="ae lm" rel="noopener" href="/codex/full-stack-youtube-clone-using-react-native-part-1-12fd7ed771e2">第1部分</a>中所做的。所以，如果你看过它或者知道它的逻辑，这对你来说就是小菜一碟</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es nj"><img src="../Images/1bb8ba6308da87f86974915e651aa552.png" data-original-src="https://miro.medium.com/v2/resize:fit:346/format:webp/1*MuFb4Vhc4T2EchOoe7QaWw.png"/></div><figcaption class="nk nl et er es nm nn bd b be z dx translated">按男高音</figcaption></figure><p id="6f18" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">所以，让我们👨‍💻</p><h1 id="97d0" class="mc jl hi bd jm md me mf jq mg mh mi ju io mj ip jy ir mk is kc iu ml iv kg mm bi translated">入门指南</h1><p id="0e94" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">首先，我们将创建我们的搜索标题，然后我们将继续使用Youtube API。</p><p id="b50d" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">到目前为止，你的<code class="du mx my mz na b"><em class="mq">Search</em></code> <em class="mq"> </em>屏幕可能看起来像一个基本页面:</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es no"><img src="../Images/fa7eed3e396c9551fa57bedd1630ce9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*BNjpiDNYrsYbizskRy2x9g.png"/></div></figure><p id="9aa4" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">因此，就像在第1部分<em class="mq">中解释的那样，我们如何添加设计和样式的标题，让我们在这里做同样的事情</em></p><h1 id="f655" class="mc jl hi bd jm md me mf jq mg mh mi ju io mj ip jy ir mk is kc iu ml iv kg mm bi translated">更改标题</h1><p id="26ff" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">在创建标题时，我们还将处理一些状态。因此，首先让我们知道什么是状态挂钩，以及我们将要使用的所有状态(现在只在处理标题<em class="mq">时使用</em>)最后，我们将从更改标题开始</p><h2 id="cf78" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">React Native中的状态是什么，以及如何更改和使用它们</h2><p id="ef0a" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">在react中，本地状态用于存储关于组件的信息，并相应地更新它。当<strong class="kk hj">组件的状态</strong>发生变化时，<strong class="kk hj">组件</strong>和子组件一起被重新渲染以显示变化。如果您熟悉基于类的组件，您可能会这样做:</p><pre class="iz ja jb jc fd nb na nc nd aw ne bi"><span id="b433" class="jk jl hi na b fi nf ng l nh ni">this.state = {<br/>MyState: value<br/>}</span></pre><p id="e679" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">并通过以下方式改变状态:</p><pre class="iz ja jb jc fd nb na nc nd aw ne bi"><span id="5508" class="jk jl hi na b fi nf ng l nh ni">setState({MyState:value});</span></pre><p id="af38" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">但是当我们想给我们的功能组件添加状态时，我们使用<code class="du mx my mz na b"><strong class="kk hj"><em class="mq">useState</em></strong></code> <strong class="kk hj"> <em class="mq"> </em> </strong>。所以，这个内置的钩子可以用来在功能组件中添加和更改状态，而不需要使用基于类的组件。添加状态的一个示例是:</p><pre class="iz ja jb jc fd nb na nc nd aw ne bi"><span id="b623" class="jk jl hi na b fi nf ng l nh ni">const [MyState, SetMyState] = useState(0); // Just destructure array</span></pre><p id="5aab" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">这里我们可以使用<code class="du mx my mz na b"><em class="mq">MyState</em></code>T23来使用状态，并通过来改变它</p><pre class="iz ja jb jc fd nb na nc nd aw ne bi"><span id="a8d4" class="jk jl hi na b fi nf ng l nh ni">SetMyState(value)</span></pre><p id="0b23" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">你可能有一些疑问，所以检查一些文章来澄清它们，但现在我们可以知道，我们将要使用的所有状态(与标题相关)。</p><h2 id="2078" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">与我们的标题相关的状态</h2><p id="ee44" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">因此，我们将使用4个状态，这将方便管理一些数据。</p><pre class="iz ja jb jc fd nb na nc nd aw ne bi"><span id="9b98" class="jk jl hi na b fi nf ng l nh ni"><strong class="na hj">const [Submitted, setSubmitted] = useState(false); // <em class="mq">Wheather user have clicked the search button or not</em></strong></span><span id="5088" class="jk jl hi na b fi np ng l nh ni"><strong class="na hj">const [SearchedText, setSearchedText] = useState(""); // <em class="mq">What user has Searched</em></strong></span><span id="7a4e" class="jk jl hi na b fi np ng l nh ni"><strong class="na hj">const [Inputstate, setInputstate] = useState(true); // <em class="mq">Wheather Input if foccused or not</em></strong></span><span id="01b5" class="jk jl hi na b fi np ng l nh ni"><strong class="na hj">const [RelatedSearchedArray, setRelatedSearchedArray] = useState([]); <em class="mq">// Realated Search List</em></strong></span></pre><h2 id="cb49" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">SetParams和UseParams</h2><p id="91c2" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">你知道我们是如何通过添加导航选项来设计标题的，当我们定义我们的屏幕时是这样的:</p><pre class="iz ja jb jc fd nb na nc nd aw ne bi"><span id="681d" class="jk jl hi na b fi nf ng l nh ni">const A_Screen = (props) =&gt; {<br/>.......<br/>........<br/>.........<br/>return (<br/>....<br/>)<br/>}<br/>A_Screen.navigationOptions = ()=&gt;{<br/>{Our navigationOptions}<br/>}</span></pre><p id="7ba6" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">但是我们不能在这里访问我们的状态。你猜对了！我们将使用<code class="du mx my mz na b"><strong class="kk hj"><em class="mq">SetParams</em></strong></code> <strong class="kk hj"> <em class="mq"> </em> </strong>来传递我们的状态或将其更新到当前屏幕。那么，我们如何在导航选项中更新我们的状态呢？我们将简单地使用<code class="du mx my mz na b"><strong class="kk hj"><em class="mq">SetParams</em></strong></code> <strong class="kk hj"> <em class="mq"> </em> </strong>传递一个函数，它将改变那里的状态。基本格式如下:</p><pre class="iz ja jb jc fd nb na nc nd aw ne bi"><span id="0f6b" class="jk jl hi na b fi nf ng l nh ni">const ChangeStateFunc = () =&gt; {<br/>setState(value)<br/>}</span><span id="1a96" class="jk jl hi na b fi np ng l nh ni">navigation.setParams({ //       | <strong class="na hj">Ofcourse when state chnages</strong><br/>ChangeStateFun:ChangeStateFun// | <strong class="na hj">or in</strong><br/>}) //                           | <strong class="na hj">in useEffect Fcnction</strong></span></pre><p id="af4b" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">以及如何在navigationOptions中获得状态。我们将使用<code class="du mx my mz na b"><strong class="kk hj"><em class="mq">getParam</em></strong></code> <br/>来获取这些值。那么，让我们来完成上面的代码片段。</p><pre class="iz ja jb jc fd nb na nc nd aw ne bi"><span id="6c2d" class="jk jl hi na b fi nf ng l nh ni">const ChangeStateFunc = () =&gt; {<br/>setState(value)<br/>}</span><span id="c177" class="jk jl hi na b fi np ng l nh ni">navigation.setParams({ //       | <strong class="na hj">Ofcourse when state chnages</strong><br/>ChangeStateFun:ChangeStateFun// | <strong class="na hj">or in</strong><br/>}) //                           | <strong class="na hj">in useEffect Fcnction</strong></span><span id="9873" class="jk jl hi na b fi np ng l nh ni">// Assume In the navigationOptions <a class="ae lm" href="https://emojipedia.org/down-arrow/" rel="noopener ugc nofollow" target="_blank">⬇️⬇️</a><br/>navData.navigation.getParam("ChangeStateFun") // Got the Function</span></pre><p id="62fb" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">所以，我想我们可以开始写代码了，现在我想你不会有任何疑问了。</p><h2 id="20d0" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">基本搜索屏幕</h2><p id="4a3c" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">因此，这将是我们的<strong class="kk hj">基本</strong>搜索屏幕代码，将用于导航:</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="nq nr l"/></div></figure><p id="d636" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">在上面的代码片段中，我们只是设置了我们的状态，但是在大多数状态中没有使用状态值。当我们开始从youtube Api获取数据时，我们将会用到它们。</p><p id="987a" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">在上面的导航选项中，我们返回还没有定义的<code class="du mx my mz na b">NavOptionsdefaultSearchdata</code>。所以，我们现在也来定义一下。如果你不知道这里在做什么，只需查看<a class="ae lm" rel="noopener" href="/codex/full-stack-youtube-clone-using-react-native-part-1-12fd7ed771e2">第1部分</a>以获得许可。</p><p id="9bee" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">因此，在常量文件夹中的“NavigationOptions”文件中，如下所示</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es ns"><img src="../Images/812cdb807a5a5613b2e1a35a89cf53f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:330/format:webp/1*_dRLS3mdbQ1qxMMkoTc1MQ.png"/></div></figure><p id="5bd3" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">让我们添加另一个导出语句(已经有1个了，如第1部分所述),并按如下方式编辑文件。</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="nq nr l"/></div></figure><p id="e32b" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">所以，现在我们的这个文件也完成了。现在，这里有一个小解释与上面使用的<code class="du mx my mz na b">useEffct</code>到<strong class="kk hj">上面的代码片段(Search.js) </strong></p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es nt"><img src="../Images/714f0747d05e0998fcd094d4ff3739b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:742/1*ug_HH4Fq6M6qH1rZTV1cNg.gif"/></div><figcaption class="nk nl et er es nm nn bd b be z dx translated">作者:tenor.com</figcaption></figure><h2 id="4ea5" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">什么是<code class="du mx my mz na b">useEffect</code></h2><p id="8318" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">我们还在上面的代码片段中使用了<code class="du mx my mz na b"><strong class="kk hj"><em class="mq">useEffect</em></strong></code> <strong class="kk hj"> <em class="mq"> </em> </strong>。那么什么是useEffect呢？。首先，如果<strong class="kk hj">您已经使用了基于类的视图</strong>，<code class="du mx my mz na b"><strong class="kk hj"><em class="mq">useEffect</em></strong></code> <strong class="kk hj"> <em class="mq"> </em> </strong>是相同的<code class="du mx my mz na b">componentDidMount</code>，如果您将一个空数组<code class="du mx my mz na b">[]</code>作为第二个参数传递，并且如果在数组中传递一些值也可以用作<code class="du mx my mz na b">componentDidUdate</code>，如果您在最后添加一个返回或清理函数(当组件被卸载时运行)也可以用作<code class="du mx my mz na b">componentWillUnmount</code>。</p><p id="8834" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">如果你对这些名字不熟悉，或者是第一次接触react native，你应该会看到一些视频，但是使用效果，因为使用效果不能用两三行来解释，但是这里有一些基本的用法，以防你知道<code class="du mx my mz na b">useEffect</code>并且只需要刷新。</p><p id="3f6c" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">UseEffect是一个react钩子，通过它你可以告诉你的组件在第一次渲染之后或者当我们传递给它的状态值发生变化时做一些事情。默认情况下，当应用程序启动时，<code class="du mx my mz na b">useEffect</code>在第一次渲染后运行。但是如果你不想在第一次渲染的时候做什么，而是在以后做，你可以把它和<code class="du mx my mz na b">useRef</code>结合起来(我们会知道一点)。这里是useEffect的基本用法。</p><pre class="iz ja jb jc fd nb na nc nd aw ne bi"><span id="653b" class="jk jl hi na b fi nf ng l nh ni">useEffect(() =&gt; {</span><span id="1564" class="jk jl hi na b fi np ng l nh ni">}, []); // Dependancy array (Second Argument)</span></pre><p id="7e7d" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">所以，现在让我们在youtube API上工作，并开始带来一些数据。</p><h1 id="22bd" class="mc jl hi bd jm md me mf jq mg mh mi ju io mj ip jy ir mk is kc iu ml iv kg mm bi translated">致力于从Youtube Api获取和显示数据</h1><p id="2f9e" class="pw-post-body-paragraph ki kj hi kk b kl km ij kn ko kp im kq jv kr ks kt jz ku kv kw kd kx ky kz la hb bi translated">嗯，让我们首先处理我们的组件，当我们搜索视频时，它会显示我们的视频。因此，在components文件夹中添加一个名为<strong class="kk hj"> 'Card.js' </strong>的文件，并向其中添加以下代码。</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="nq nr l"/></div></figure><p id="131f" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">我们在☝️☝️☝️☝️.上方导入了另一个名为<code class="du mx my mz na b">TimeReturn</code>的组件我们为什么需要它？当我们从youtube API中获取时间时，我们得到的是<code class="du mx my mz na b">2021–08–28T18:51:05Z</code>这样的格式，但我们需要的是<strong class="kk hj"><em class="mq">“1天前”“2年前”，对吗？</em> </strong>所以让我们在“constants”文件夹中创建一个名为<strong class="kk hj"><em class="mq">【time return . js】</em></strong>的文件，如下所示:</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es nu"><img src="../Images/926eaa446e60b680c3b839428beee7ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:360/format:webp/1*gulslFMwQMWjOmr_heZ-oA.png"/></div></figure><p id="4f8a" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">并向其中添加以下代码:</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="nq nr l"/></div></figure><p id="87ff" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">有关更多信息，请参见'<a class="ae lm" href="https://date-fns.org/" rel="noopener ugc nofollow" target="_blank">日期fns </a>'文档。</p><p id="3c21" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">哎呀！一件重要的事情我忘记了！！显示相关搜索项的组件呢？因此，让我们在组件文件夹中快速添加一个名为<strong class="kk hj"><em class="mq">‘relatedsearchitem . js’</em></strong>的新文件，并向其中添加以下代码。</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="nq nr l"/></div></figure><p id="dfe2" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">所以，现在我认为我们可以完成我们的rest <code class="du mx my mz na b">Search.js</code>文件，完成我们的项目。下面是完整的<code class="du mx my mz na b">Search.js</code>文件的代码，注释中解释了所有的概念。上面与redux相关的代码我已经去掉了。我们将在第5部分中处理redux，从redux store(在所有屏幕中)获取Api密钥，该密钥将从我们的错误页面发送。</p><p id="b841" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated"><strong class="kk hj"> <em class="mq"> Search.js </em> </strong></p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="nq nr l"/></div></figure><p id="15bb" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">我已经在注释中解释了所有代码。所以，如果有任何疑问，请再次查看评论或从“谷歌巴巴”那里获得帮助，这样我们就完成了整个<code class="du mx my mz na b">Search.js</code>文件。如果你现在运行你的应用程序，你应该可以看到你的搜索屏幕，当你输入查看搜索建议并进行搜索以查看Youtube视频commming以及无限滚动的概念。</p><p id="213b" class="pw-post-body-paragraph ki kj hi kk b kl ld ij kn ko le im kq jv lz ks kt jz ma kv kw kd mb ky kz la hb bi translated">所以，这是本教程的内容，在下一部分，我们将创建我们的<code class="du mx my mz na b">videoPlayer</code>屏幕，播放视频并显示评论。在那之前保持安全，保持健康</p><h1 id="4d6b" class="mc jl hi bd jm md me mf jq mg mh mi ju io mj ip jy ir mk is kc iu ml iv kg mm bi translated">谢谢你</h1></div></div>    
</body>
</html>