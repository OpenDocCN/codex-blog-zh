<html>
<head>
<title>Counterfactual text with seq2seq</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">seq2seq的反事实文本</h1>
<blockquote>原文：<a href="https://medium.com/codex/counterfactual-text-with-seq2seq-5ca11bef342?source=collection_archive---------5-----------------------#2021-01-08">https://medium.com/codex/counterfactual-text-with-seq2seq-5ca11bef342?source=collection_archive---------5-----------------------#2021-01-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="fa01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2020年5月，我<a class="ae jd" rel="noopener" href="/@mapmeld/gender-bias-in-spanish-bert-1f4d76780617">发布了一个项目</a>，在那里我使用spaCy和BERT来“翻转”西班牙语句子中的性别(<em class="je">un professor viejo</em>&lt;-&gt;<em class="je">una</em><em class="je">professor a vieja</em>)。这对于评估模型的偏差或增加训练数据很有用，但是它很慢，并且依赖于我的脚本中的硬编码变量。当时，我建议下一步将使用神经网络模型(seq2seq ),该模型通常用于翻译或总结文本。</p><p id="6de2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了偏见和数据，我还收集了更多在任何语言中使用反事实的理由:</p><ul class=""><li id="bd4c" class="jf jg hi ih b ii ij im in iq jh iu ji iy jj jc jk jl jm jn bi translated">训练聊天机器人平等选择信息，其中用户或聊天机器人被称为男性、女性或中性</li><li id="a30d" class="jf jg hi ih b ii jo im jp iq jq iu jr iy js jc jk jl jm jn bi translated">更改多维属性(如方言或政治观点)以测试内容适度性或其他复杂模型</li><li id="9a15" class="jf jg hi ih b ii jo im jp iq jq iu jr iy js jc jk jl jm jn bi translated">伪装或“标准化”人在回路系统中的通信</li></ul><h1 id="fb96" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">升级西班牙反事实脚本</h1><p id="7eb3" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">seq2seq模型建立在两个神经模型上:编码器和解码器。在看了<a class="ae jd" href="https://github.com/pytorch/fairseq/tree/master/examples" rel="noopener ugc nofollow" target="_blank"> Fairseq </a>和几个seq2seq教程之后，我继续看<a class="ae jd" href="https://simpletransformers.ai/docs/seq2seq-specifics/" rel="noopener ugc nofollow" target="_blank"> SimpleTransformers </a>。</p><p id="44a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我最初的训练数据来自于<a class="ae jd" href="https://huggingface.co/datasets/muchocine" rel="noopener ugc nofollow" target="_blank"> MuchoCine数据集</a>，使用<a class="ae jd" href="https://github.com/dccuchile/beto" rel="noopener ugc nofollow" target="_blank"> BETO </a> -mBERT进行编解码，但是所有的输入似乎都返回了不相关的影评文本。<br/>为了下一次尝试，我从西班牙语<a class="ae jd" href="https://oscar-corpus.com/" rel="noopener ugc nofollow" target="_blank">奥斯卡文集</a>中创建了一个大型性别翻转数据集(大约7000行)。使用BETO的编码器和解码器，然后我训练了100个时期。完成的模型工作得特别好，除了它目前在输出序列中有一个长度限制。</p><p id="78cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以看到上传到HuggingFace的模型的<a class="ae jd" href="https://colab.research.google.com/drive/14NukNLVGVHwJg4qehhuLV4btCIIYttwk" rel="noopener ugc nofollow" target="_blank">培训</a>和<a class="ae jd" href="https://colab.research.google.com/drive/1Ta_YkXx93FyxqEu_zJ-W23PjPumMNHe5" rel="noopener ugc nofollow" target="_blank">基本用法</a>笔记本。</p><h1 id="1638" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">阿拉伯语seq2seq初探</h1><p id="aefe" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">现代标准阿拉伯语中名词、代词、形容词和动词的性别因素。名词和形容词通常通过在末尾加上ﺔ(“tah”)来表示女性。有很多单词不太容易修改，还有一些动词，它们的规则我在入门课上从来没学过。有时开头会变(يعمل / تعمل)，有时结尾会变(كتب / كتبت).)</p><p id="f25c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在研究这一部分时，我注意到谷歌翻译可以使用自己的翻译测试——在这里，“他跑”和“她跑”会生成完全不同的句子，因为他跑[一场比赛]，而她跑/管理[一家企业]。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/894cc4844544a07feb0135c439b64345.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nMUF_dTfpN1LfVYR2pP3EQ.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">谷歌翻译测试</figcaption></figure><p id="6648" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我更新了一个<a class="ae jd" href="https://github.com/linuxscout/arramooz" rel="noopener ugc nofollow" target="_blank"> Python2时代的字典应用</a>来重建他们的阿拉伯语名词和动词的SQL数据库。不幸的是，大多数单词都缺少“feminin”属性，而且很少有意义。这项工作仍在进行中。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es lm"><img src="../Images/838c478d450a75c6cfa1a04d916b004b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GqPXyFyTzFDQ0PPFdO_0ng.png"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">在<strong class="bd jv">arramouz</strong>字典中查找有意义的单词</figcaption></figure><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es ln"><img src="../Images/0507ed8f61ba571ed05ca63398be3890.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4waqG8F8kCXiHsq6"/></div></div><figcaption class="li lj et er es lk ll bd b be z dx translated">大都会艺术博物馆Abd al-Qadir Hisari的祈祷书</figcaption></figure><p id="5117" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以使用seq2seq方法在多种方言中创建阿拉伯语反事实。</p><h1 id="ab29" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">关于反事实的理论:政治</h1><p id="8ed5" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">这是一个困难的问题——不是因为美国英语中缺乏政治推特，而是因为通常更难回答反事实应该是什么样子。考虑这段文字:</p><blockquote class="lo lp lq"><p id="6ec9" class="if ig je ih b ii ij ik il im in io ip lr ir is it ls iv iw ix lt iz ja jb jc hb bi translated">“国会共和党人正在使用模糊数学来证明他们在北极国家野生动物保护区钻探石油并破坏地球上最后一片原始景观的计划是正确的，”怀登说。</p></blockquote><p id="2c05" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个明显的反事实支持在北极国家野生动物保护区(ANWR)钻探。它应该是任何政治反驳(<em class="je">我们的国家需要更多的国产能源</em>)，还是应该尽可能语义相似？这是我第一次通过人类写的反事实:</p><blockquote class="lo lp lq"><p id="f506" class="if ig je ih b ii ij ik il im in io ip lr ir is it ls iv iw ix lt iz ja jb jc hb bi translated">“国会<em class="hi"/>【民主党】<em class="hi">【alt name】</em>说:“国会<em class="hi"/>正在利用【__】来为在北极国家野生动物保护区进行的【_blocking_】钻探辩护，并破坏【_我们的经济_】。</p></blockquote><p id="ce9a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了生成这个反事实，我翻转了共和党/民主党的名字，确定了核心主题(在ANWR钻井)，并替换了动词之间的文本块。<br/>另一种选择可能是保留“国会共和党人”和ANWR的文字，但尝试“翻转”情感，如下所示:</p><blockquote class="lo lp lq"><p id="fc09" class="if ig je ih b ii ij ik il im in io ip lr ir is it ls iv iw ix lt iz ja jb jc hb bi translated">[alt name]说:“国会共和党人正在利用[_经济_]来证明他们在北极国家野生动物保护区和地球上最后的[__]之一钻探石油的[_计划_]。</p></blockquote><p id="f9be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这两个反事实都带来了“翻译”报价的风险——我们应该有一个计划来避免将生成的报价归因于某人的输出。</p><p id="7a68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更新:我想知道这是否是一个“风格转移”的问题，而不是一个反事实的问题？有更多的文本资源支持这一点，但不能直接控制。</p><h1 id="c57f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">研究</h1><p id="7d86" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">我想围绕这个seq2seq方法写一篇正式的研究论文，看看它在数据扩充和偏差检测方面是否有用。我还不知道政治、方言或其他反事实是否会出现在这个项目中。还有很多工作要做。无论如何，保持联系。</p><h1 id="07af" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">更新？</h1><p id="8b73" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">这篇文章发表于2021年1月。有关NLP中性别再变化的任何更新，请参见本GitHub自述文件。</p></div></div>    
</body>
</html>