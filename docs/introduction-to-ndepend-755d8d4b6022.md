# NDepend 简介

> 原文：<https://medium.com/codex/introduction-to-ndepend-755d8d4b6022?source=collection_archive---------10----------------------->

![](img/5345ebe39455e08ba6413f37b84076d5.png)

开发人员必须努力按照行业或组织标准遵循最佳实践规范和编码指南。确保代码按照标准遵循所有准则的最简单方法是手动分析您的代码，或者使用任何静态代码分析器，如 FxCop、StyleCop。

但是，您需要自动执行所有任务，因为在有重复任务的情况下，这样可以节省时间和金钱，从而提高效率。静态代码分析器在这里起着重要的作用。如果你有 C#的代码库，NDepend 就是这样一个广泛使用的静态分析器。NDepend 突出了您的代码错误，甚至可以根据开发所需的持续时间来提供债务的粗略估计。

**目录**

*   什么是静态代码分析？
*   不要进去。网
*   如何安装 NDepend？
*   NDepend 的功能
*   依赖矩阵
*   仪表盘
*   结论

# 什么是静态代码分析？

静态代码分析包括对计算机软件进行分析，而不需要对某段源代码执行实际的程序。在某些情况下，分析中间编译代码或某种形式的目标代码。这种类型的分析被称为静态代码分析。

基于单个语句和声明的特征来分析整个源代码的分析决定了静态程序的复杂程度。

NDepend 就是这样一个静态代码分析工具，可用于 CI 集成，以提高 DevOps 效率和日常开发。

# 不要进去。网

不要进去。Net 是一个静态分析工具，可以在 Visual Studio、构建服务器甚至独立的应用程序上运行。从 2010 年开始，NDepend 是所有 Visual Studio 版本都支持的 Visual Studio 扩展。另外，NDepend 支持 major。Net 版本，如。网芯 3.1，ASP.Net 芯 3.1，。Net Framework 3.x 等。

通过 LOC(代码行)和方法复杂性进行的代码质量分析等见解可在 NDepend 中获得。恩德培的语言与 LINQ 相似。在这里，可以编辑现有的查询并创建新的查询。NDepend 支持大量代码指标。使用依赖性矩阵和有向图来可视化依赖性。基于代码的快照比较与质量和架构规则的验证一起在 NDepend 中执行。

# 如何安装 NDepend？

由于 NDepend 是一个商业工具，因此需要获得许可。有两种类型的许可:开发者席位(大约每席位 477 美元)和构建机器席位(大约每席位 955 美元)。

以下是安装 NDepend 的步骤:

**第一步:**一旦获得许可，就可以下载 NDepend_2021.1.0 zip 包了。这是撰写本文时可用的 NDepend 的最新版本。

**第二步:**将 zip 文件组件解压到本地文件夹。

zip 文件的主要组成部分是:

*   NDepend。控制台:这是一个命令行程序，您可以在其中执行 NDepend 分析。这通常用于持续集成(CI)构建服务器。
*   NDepend。PowerTools:这个工具可以用来创建基于 NDepend API 的分析工具，或者对现有的开源工具进行修改。
*   NDepend。Visual Studio extension . Installer:这是用来使 NDepend 成为 Visual Studio 中的一个扩展。
*   VisualNDepend:它为您提供了一个独立的可视化环境，您可以在其中管理您的 NDepend 任务。

# NDepend 的功能

*   它为您提供了依赖可视化，这可以通过依赖矩阵和图形来完成。
*   您可以分析并生成不同的软件质量度量。NDepend 支持 82 种不同的质量指标。
*   NDepend 提供支持声明性规则的 LINQ 查询。这些查询称为 CQLinq 查询。NDepend 提供了大量预定义的 CQlinq 规则。
*   NDepend 为巡航 Control.Net、SonarCube 和城市提供集成支持。代码规则可以配置为在持续集成(CI)期间或在 Visual Studio 中自动检查。
*   使用 NDepend API，您可以轻松地分析一个多余的内容。NET 程序集并创建 NDepend 报告。
*   NDepend 使得以编程方式动态生成和执行 CQLinq 规则或查询变得更加容易。

# 依赖矩阵

在 NDepend 生成的依赖矩阵中，您可以看到任意两个代码元素之间以及任意级别上的依赖关系。依赖矩阵的目标是可视化和检查组件之间的耦合。组件之间的依赖关系可以基于各种参数，如名称空间、成员、直接和间接使用深度、类型、字段和方法。当单击任何一个单元格时，就会显示由该单元格表示的两个代码元素之间的依赖关系的详细信息。

通过设置 cells 上的权重= Direct #方法，这个依赖矩阵还提供了一个很好的方法调用耦合视图。

# 仪表盘

在 NDepend 完成对代码的分析之后，会有一个以仪表板形式显示分析摘要的报告。仪表板提供了源代码的高级分析。让我们来看看从仪表板中获得的重要见解:

**#代码行数:**这个指标提供了被分析的代码行数。

**方法复杂度:**圈复杂度给出了程序源代码中独立路径的数量。高于 15 的值意味着这些方法难以理解和维护。

**测试代码覆盖率:在 Visual Studio 高级版中，您可以获得高级代码覆盖率的便利。代码覆盖率结果提供了覆盖的 LOC 的百分比和未覆盖的 LOC 的数量。**

**代码规则**:代码规则部分提供了源代码违反的一组关键和非关键规则。

# 结论

NDepend 是最受欢迎的企业级商业静态分析器之一。NDepend analyzer 提供的报告的广泛程度优于其他分析工具，如 *Visual Studio Code Analysis、FxCop、*和 *StyleCop Analyzer* 。通过为客户提供超出他们预期的东西，它为所花的钱提供了巨大的投资回报。NDepend 简化了 DevOps 的生命周期，使开发人员的生活变得轻松，因为您可以在构建过程中集成 NDepend。

*原发布于*[*https://www . partech . nl*](https://www.partech.nl/nl/publicaties/2021/05/introduction-to-ndepend)*。*