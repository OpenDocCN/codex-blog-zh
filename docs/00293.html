<html>
<head>
<title>Complete Guide on Sending Push Notifications on Android - Using Firebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨Firebaseåœ¨Androidä¸Šå‘é€æ¨é€é€šçŸ¥çš„å®Œæ•´æŒ‡å—</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/codex/complete-guide-on-sending-push-notifications-on-android-using-firebase-82a4c2f7f3a7?source=collection_archive---------0-----------------------#2021-01-14">https://medium.com/codex/complete-guide-on-sending-push-notifications-on-android-using-firebase-82a4c2f7f3a7?source=collection_archive---------0-----------------------#2021-01-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="2ef7" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">è¯å…¸</h2><div class=""/><figure class="ev ex ip iq ir is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es io"><img src="../Images/b5f99c1805ad0f3c4178ccd2e0d23d13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K1RqaiFlekoX5YD3lG8zXg.png"/></div></div></figure><p id="d398" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">ä½ å¥½ã€‚ğŸ‘‹ï¼Œæˆ‘å°†è§£é‡Šå¦‚ä½•ä½¿ç”¨<code class="du jx jy jz ka b">Firebase Cloud Messaging</code>åœ¨androidä¸Šå‘é€æ¨é€é€šçŸ¥ã€‚</p><p id="121c" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">æ¨é€é€šçŸ¥æ˜¯åœ¨ç”¨æˆ·è®¾å¤‡ä¸Šå¼¹å‡ºçš„æ¶ˆæ¯ã€‚ç”¨æˆ·ä¸å¿…åœ¨åº”ç”¨ç¨‹åºä¸Šå°±å¯ä»¥çœ‹åˆ°è¿™äº›é€šçŸ¥ã€‚è¿™å¯¹ç”¨æˆ·çš„ä¿ç•™å¾ˆé‡è¦ã€‚</p><p id="14a0" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">æˆ‘ä»¬æ­£åœ¨å»ºé€ ä»€ä¹ˆ</strong></p><p id="a032" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">æˆ‘ä»¬åªæ˜¯è¦æ„å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œè®©ç”¨æˆ·è¾“å…¥ä¸€æ¡æ¶ˆæ¯ï¼Œå¹¶å‘è¯¥ç”¨æˆ·å‘é€åŒ…å«è¯¥æ¶ˆæ¯çš„æ¨é€é€šçŸ¥ã€‚ç®€å•ï¼ğŸ˜„</p><p id="d9eb" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">è¿™æ˜¯æœ€ç»ˆåº”ç”¨ç¨‹åºçš„æ ·å­</p><figure class="kb kc kd ke fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es io"><img src="../Images/b5f99c1805ad0f3c4178ccd2e0d23d13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K1RqaiFlekoX5YD3lG8zXg.png"/></div></div></figure><p id="0d5b" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">ç‚¹å‡»é‚£ä¸ªæŒ‰é’®çš„</p><ul class=""><li id="577f" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">æ¨é€é€šçŸ¥ä¼šå‘é€ç»™ç”¨æˆ·ï¼Œå…¶ä¸­åŒ…å«æ‚¨è¾“å…¥çš„æ¶ˆæ¯</li></ul><figure class="kb kc kd ke fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es ko"><img src="../Images/4a8951d8f6655f49ba9d56c4896dc5ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3gegevvmh3SYcWaNLb6KBA.jpeg"/></div></div></figure><p id="28b1" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">ä½¿ç”¨çš„æŠ€æœ¯</strong></p><ol class=""><li id="d2d0" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kp kl km kn bi translated">Firebase(äº‘æ¶ˆæ¯)</li><li id="b90d" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kp kl km kn bi translated">Kotlin(é€‚ç”¨äºAndroid)</li><li id="58f2" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kp kl km kn bi translated">èŠ‚ç‚¹(åç«¯)</li><li id="58a0" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kp kl km kn bi translated">Android Studio IDE</li></ol><p id="6847" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">æ­¥éª¤</strong></p><ul class=""><li id="c55f" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">è®¾ç½®android studio</li><li id="8834" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">å»ºç«‹firebaseé¡¹ç›®</li><li id="a234" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">æ·»åŠ ä¾èµ–å…³ç³»</li><li id="c541" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">è®¾ç½®åˆ€æŸ„å’Œç¿»æ–°</li><li id="e354" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">è®¾ç½®Firebaseäº‘æ¶ˆæ¯ä¼ é€’</li><li id="a911" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">æ„å»ºè§†å›¾</li><li id="a2b6" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">è®¾ç½®å­˜å‚¨åº“è§†å›¾æ¨¡å‹å’Œè§†å›¾</li><li id="d67c" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ç”¨NodeJSè®¾ç½®æˆ‘ä»¬çš„åç«¯</li></ul><p id="1144" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">å¥½çš„ï¼Œè®©æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªçš„çœ‹</p><p id="f5d7" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">å»ºç«‹ANDROIDå·¥ä½œå®¤</strong></p><p id="f576" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">åˆ›å»ºé¡¹ç›®</strong></p><ul class=""><li id="d89d" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">é¦–å…ˆä¸‹è½½android studioå¹¶å®‰è£…ã€‚</li><li id="31cf" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">åˆ›å»ºæ–°é¡¹ç›®â€”é€‰æ‹©<code class="du jx jy jz ka b">Empty Activity</code></li><li id="d5a7" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ç»™ä½ çš„é¡¹ç›®èµ·ä»»ä½•åå­—ï¼Œæˆ‘ç»™æˆ‘çš„å‘½åä¸º<code class="du jx jy jz ka b">Firebase Notification Android</code></li><li id="2ba3" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ç‚¹å‡»<code class="du jx jy jz ka b">Finish</code></li></ul><p id="e59b" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">ç»“æ„å·¥ç¨‹</strong></p><p id="64ff" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">æˆ‘ä»¬æ­£åœ¨ä¸ºè¿™ä¸ªé¡¹ç›®ä½¿ç”¨MVVMå»ºç­‘æ¨¡å¼</p><ul class=""><li id="4a97" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åˆ›å»º<strong class="jb hs"> 7 </strong> <code class="du jx jy jz ka b">new packages</code>ç»™å®ƒä»¬å‘½åâ€”â€”<code class="du jx jy jz ka b">di</code>ã€<code class="du jx jy jz ka b">firebase</code>ã€<code class="du jx jy jz ka b">helper</code>ã€<code class="du jx jy jz ka b">model</code>ã€<code class="du jx jy jz ka b">view</code>ã€<code class="du jx jy jz ka b">viewmodel</code>ã€<code class="du jx jy jz ka b">network</code></li><li id="1005" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">å°†<code class="du jx jy jz ka b">MainActivity</code>ç§»è‡³<code class="du jx jy jz ka b">view</code>åŒ…è£…</li></ul><p id="17f7" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">è®¾ç½®FIREBASEé¡¹ç›®</strong></p><ul class=""><li id="bf90" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">è½¬åˆ°<a class="ae kv" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank">https://console.firebase.google.com/</a></li><li id="9422" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ç™»å½•å¹¶ç‚¹å‡»<code class="du jx jy jz ka b">Add Project</code></li><li id="970b" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">è¾“å…¥é¡¹ç›®çš„åç§°â€”â€”éšä¾¿å–ä»€ä¹ˆåå­—ï¼Œ</li><li id="cf8a" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ç‚¹å‡»<code class="du jx jy jz ka b">Continue</code></li><li id="fa88" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">åœ¨è°·æ­Œåˆ†æé¡µé¢ï¼Œç‚¹å‡»<code class="du jx jy jz ka b">Continue</code></li><li id="18d9" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">é€‰æ‹©ä¸€ä¸ªGoogleå¸æˆ·â€”é€‰æ‹©<code class="du jx jy jz ka b">Default Account For Firebase</code></li><li id="4708" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ç‚¹å‡»<code class="du jx jy jz ka b">Create Project</code></li><li id="f4f7" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ä½ ä¼šçœ‹åˆ°â€”â€”â€œ<code class="du jx jy jz ka b">Your new project is ready</code>â€</li><li id="ad98" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ç‚¹å‡»<code class="du jx jy jz ka b">Continue</code></li></ul><p id="584c" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">æ­å–œä½ ï¼Œä½ å·²ç»æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªfirebaseé¡¹ç›®ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠè¿™ä¸ªé¡¹ç›®å’Œæˆ‘ä»¬çš„androidåº”ç”¨ç¨‹åºè”ç³»èµ·æ¥</p><p id="6b9a" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">è¿æ¥Firebaseå’ŒAndroid </strong></p><ul class=""><li id="d61b" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åœ¨æ‚¨çš„æ§åˆ¶å°ä¸»é¡µä¸Šï¼Œå•å‡»Androidå¾½æ ‡</li></ul><figure class="kb kc kd ke fd is er es paragraph-image"><div class="er es kw"><img src="../Images/b561ca86592af8505be5da832af70c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*oLJjt7XriaCnStlYRTzDwQ.png"/></div></figure><ul class=""><li id="f31a" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">å®‰å“åŒ…åâ€”â€”å»ä½ çš„<code class="du jx jy jz ka b">Manifest.xml</code>ï¼ŒæŠŠ<code class="du jx jy jz ka b">package</code>å¤åˆ¶ç²˜è´´åœ¨é‚£é‡Œï¼Œåº”è¯¥æ˜¯è¿™æ ·çš„â€”â€”<code class="du jx jy jz ka b">com.name.firebasenotificationandroid</code></li><li id="a4ef" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">åº”ç”¨æ˜µç§°â€”æ”¾å…¥ä»»ä½•å†…å®¹</li><li id="a28d" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">è°ƒè¯•ç­¾åè¯ä¹¦â€”è½¬åˆ°<code class="du jx jy jz ka b">Android Studio</code>ï¼Œç‚¹å‡»<code class="du jx jy jz ka b">gradle</code>â€”<code class="du jx jy jz ka b">Tasks</code>â€”<code class="du jx jy jz ka b"> Android</code>â€”<code class="du jx jy jz ka b">signingReport</code>â€”å¤åˆ¶SHA-1å¯†é’¥å¹¶ç²˜è´´</li></ul><figure class="kb kc kd ke fd is er es paragraph-image"><div class="er es kx"><img src="../Images/240f825e79960cd1f4b1e039054b6e29.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*KhNntL6wIKsmbPf7nijsdw.jpeg"/></div></figure><ul class=""><li id="70cb" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">ç‚¹å‡»<code class="du jx jy jz ka b">Register App</code></li><li id="cdd7" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ä¸‹è½½<code class="du jx jy jz ka b">google-services.json</code>å¹¶ç²˜è´´åˆ°ä½ çš„<code class="du jx jy jz ka b">project</code>æ–‡ä»¶å¤¹<code class="du jx jy jz ka b">app directory</code></li></ul><figure class="kb kc kd ke fd is er es paragraph-image"><div class="er es ky"><img src="../Images/e4eaa754a81e0af0b127c42d69d3253e.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*W4Dei8AJ_zuZCTVx2TgBEQ@2x.png"/></div></figure><ul class=""><li id="7759" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">æ·»åŠ æ‰€æœ‰å¿…éœ€çš„firebaseä¾èµ–é¡¹</li><li id="25fa" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">åŒæ­¥é¡¹ç›®ï¼Œä½ å°±å®Œæˆäº†ğŸ‘</li></ul><p id="bcb0" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">æ·»åŠ ä¾èµ–å…³ç³»</strong></p><p id="819e" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">è¿™ä¸ªåº”ç”¨ç¨‹åºåˆ©ç”¨åç¨‹ï¼Œåˆ€æŸ„ï¼Œç¿»æ–°ï¼Œäº‘æ¶ˆæ¯ç­‰ã€‚</p><ul class=""><li id="89d9" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">æ‰“å¼€æ‚¨çš„<code class="du jx jy jz ka b">build.gradle(app)</code>æ–‡ä»¶å¹¶æ·»åŠ å®ƒä»¬</li></ul><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="fb33" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">æ‰“å¼€<code class="du jx jy jz ka b"> build.gradle(project)</code>æ·»åŠ åˆ€æŸ„ç±»è·¯å¾„</p><pre class="kb kc kd ke fd lb ka lc ld aw le bi"><span id="49bd" class="lf lg hi ka b fi lh li l lj lk">.........</span><span id="2a4f" class="lf lg hi ka b fi ll li l lj lk">dependencies <em class="lm">{<br/>    ........</em></span><span id="634a" class="lf lg hi ka b fi ll li l lj lk"><em class="lm">    </em>//firebase<br/>    classpath 'com.google.gms:google-services:4.3.4'<br/><br/>    //hilt<br/>    classpath 'com.google.dagger:hilt-android-gradle-plugin:2.28-alpha'<br/>}<br/>............</span></pre><p id="7a65" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">åˆ€æŸ„</strong></p><ul class=""><li id="dd23" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åœ¨<code class="du jx jy jz ka b">di</code>åŒ…ä¸‹åˆ›å»º<strong class="jb hs"> 2 </strong>æ–°ç±»ï¼Œå‘½åä¸º<code class="du jx jy jz ka b">AppModule</code>å’Œ<code class="du jx jy jz ka b">MyApplication</code></li><li id="dede" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated"><strong class="jb hs"> AppModule </strong> â€”è¯¥ç±»ç”¨äºæ‰§è¡Œæ³¨å…¥ç±»å‹ï¼Œä¾‹å¦‚æˆ‘ä»¬ä¸æ‹¥æœ‰çš„å¤–éƒ¨åº“çš„æ¥å£å’Œç±»ï¼Œä¾‹å¦‚ç¿»æ–°ã€‚</li></ul><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><ul class=""><li id="93e4" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated"><strong class="jb hs"> MyApplication â€” </strong>è¿™ä¸ªç±»æ‰©å±•äº†Applicationç±»ã€‚è¿™å°†ç”Ÿæˆæ‰€æœ‰éœ€è¦çš„å¥æŸ„ä»£ç ï¼Œå¹¶ä½œä¸ºä¸€ä¸ªä¾èµ–å®¹å™¨ã€‚åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚</li></ul><pre class="kb kc kd ke fd lb ka lc ld aw le bi"><span id="0654" class="lf lg hi ka b fi lh li l lj lk">//Make sure you add this<br/>@HiltAndroidApp<br/>class MyApplication: Application<em class="lm">() {<br/><br/>}</em></span></pre><ul class=""><li id="c410" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">æœ€åï¼Œè½¬åˆ°æ‚¨çš„Manifest.xmlæ–‡ä»¶ï¼Œåœ¨<code class="du jx jy jz ka b">application</code>æ ‡è®°ä¸­æ·»åŠ <code class="du jx jy jz ka b">android:name=â€.di.MyApplicationâ€</code></li></ul><p id="625d" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">æ”¹è£…</strong></p><ul class=""><li id="7e09" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åœ¨<code class="du jx jy jz ka b">helper</code>åŒ…ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º<code class="du jx jy jz ka b">EndPoints</code>çš„ç±»</li></ul><p id="5440" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">ç«¯ç‚¹â€” </strong>æˆ‘ä»¬çš„åŸºæœ¬urlå’Œæ‰€æœ‰apiè°ƒç”¨ç«¯ç‚¹æ‰€åœ¨çš„ç±»</p><pre class="kb kc kd ke fd lb ka lc ld aw le bi"><span id="e5ee" class="lf lg hi ka b fi lh li l lj lk">class EndPoints <em class="lm">{<br/><br/>    </em>companion object <em class="lm">{<br/><br/>        </em>//BASE<br/>        const val BASE_URL = "https://put-your-base-url-here/"<br/><br/>        //SAVE_TOKEN<br/>        const val SAVE_TOKEN = "save"<br/><br/>    <em class="lm">}<br/><br/>}</em></span></pre><ul class=""><li id="a5df" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åœ¨<code class="du jx jy jz ka b">model</code>åŒ…ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªç±»å<code class="du jx jy jz ka b">AuthResponse<br/></code> <strong class="jb hs"> AuthResponse â€” </strong>çš„ç±»ï¼Œè¯¥ç±»æ¨¡æ‹Ÿä»æœåŠ¡å™¨è·å¾—çš„å“åº”ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥é‡‡å–é€‚å½“çš„è¡ŒåŠ¨</li></ul><pre class="kb kc kd ke fd lb ka lc ld aw le bi"><span id="bd23" class="lf lg hi ka b fi lh li l lj lk">data class AuthResponse<em class="lm">(<br/>    </em>val message: String,<br/>    val status: String<br/><em class="lm">)</em></span></pre><ul class=""><li id="4c05" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åœ¨<code class="du jx jy jz ka b">network</code>åŒ…ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º<code class="du jx jy jz ka b">ApiService</code>çš„<code class="du jx jy jz ka b">interface</code>å’Œä¸¤ä¸ªæ–°ç±»ï¼Œåˆ†åˆ«å‘½åä¸º<code class="du jx jy jz ka b">ApiDataSource</code>ã€<code class="du jx jy jz ka b">BaseDataSource</code></li></ul><p id="af34" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs"> ApiService - </strong> An <code class="du jx jy jz ka b">interface</code>ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°†å¯¹æˆ‘ä»¬çš„æœåŠ¡å™¨å‘å‡ºä¸€ä¸ª<code class="du jx jy jz ka b">Post Request</code>æ¥ä¿å­˜ç”¨æˆ·åå’Œé€šçŸ¥ä»¤ç‰Œã€‚</p><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="61d9" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs"> ApiDataSource- </strong>ä¸€ä¸ªå…¬å¼€äº†<code class="du jx jy jz ka b">ApiService</code>çš„ç±»ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æˆ‘ä»¬çš„å­˜å‚¨åº“ä¸­ä½¿ç”¨å®ƒ</p><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="c7c8" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">æˆ‘ä»¬å®Œæˆäº†æ”¹é€ å’Œåˆ€æŸ„ã€‚</p><p id="ed86" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">è®¾ç½®FIREBASEäº‘æ¶ˆæ¯ä¼ é€’</strong></p><ul class=""><li id="7301" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åœ¨<code class="du jx jy jz ka b">firebase</code>åŒ…ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç±»â€”â€”<strong class="jb hs">myfirebasemesagingserviceâ€”â€”</strong>è¿™ä¸ª<strong class="jb hs"> </strong>ç±»æ‰©å±•äº†<code class="du jx jy jz ka b">FirebaseMessagingService</code>ï¼Œå¤„ç†æ¶ˆæ¯ï¼Œåœ¨å‰å°æ¥æ”¶é€šçŸ¥ï¼Œæ¥æ”¶æ•°æ®è´Ÿè½½ï¼Œå‘é€æµæ¶ˆæ¯</li></ul><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><ul class=""><li id="b59e" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åœ¨<code class="du jx jy jz ka b">helper</code>ä¸‹åˆ›å»ºä¸€ä¸ª<code class="du jx jy jz ka b">object</code> â€” <code class="du jx jy jz ka b">Utility<br/></code> <strong class="jb hs">å®ç”¨ç¨‹åº</strong>â€”â€”ä¸€ä¸ªå…·æœ‰æ„å»ºæˆ‘ä»¬çš„é€šçŸ¥åŠŸèƒ½çš„å®ç”¨ç¨‹åºç±»â€”â€”å¤„ç†è¯¸å¦‚â€”â€”å½“ç”¨æˆ·ç‚¹å‡»é€šçŸ¥æ—¶çš„åŠ¨ä½œï¼Œå®šåˆ¶é€šçŸ¥çš„å¤–è§‚ç­‰ç­‰</li></ul><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><ul class=""><li id="854d" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">æ‰“å¼€<code class="du jx jy jz ka b">Manifest.xlm</code>ï¼Œåœ¨å…³é—­åº”ç”¨ç¨‹åºæ ‡ç­¾ä¹‹å‰ï¼Œæ·»åŠ æ­¤</li></ul><pre class="kb kc kd ke fd lb ka lc ld aw le bi"><span id="12f9" class="lf lg hi ka b fi lh li l lj lk"><em class="lm">&lt;</em>service<br/>    android:name=".firebase.MyFirebaseMessagingService"<br/>    android:exported="false"<em class="lm">&gt;<br/>    &lt;</em>intent-filter<em class="lm">&gt;<br/>        &lt;</em>action android:name="com.google.firebase.MESSAGING_EVENT"<em class="lm">/&gt;<br/>    &lt;/</em>intent-filter<em class="lm">&gt;<br/>&lt;/</em>service<em class="lm">&gt;<br/>...<br/>&lt;/application&gt;</em></span></pre><ul class=""><li id="9aeb" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">æ·»åŠ é»˜è®¤çš„é€šçŸ¥å›¾æ ‡ã€é¢œè‰²å’Œé€šé“ï¼Œæ·»åŠ åˆ°<code class="du jx jy jz ka b">application</code>æ ‡ç­¾å†…çš„<code class="du jx jy jz ka b">manifest.xml</code></li></ul><pre class="kb kc kd ke fd lb ka lc ld aw le bi"><span id="f797" class="lf lg hi ka b fi lh li l lj lk"><em class="lm">&lt;</em>meta-data  android:name="com.google.firebase.messaging.default_notification_icon"<br/>    android:resource="@drawable/ic_bell" <em class="lm">/&gt;<br/><br/>&lt;</em>meta-data<br/>    android:name="com.google.firebase.messaging.default_notification_color"<br/>    android:resource="@color/colorAccent" <em class="lm">/&gt;</em></span><span id="2c4d" class="lf lg hi ka b fi ll li l lj lk"><em class="lm">&lt;</em>meta-data<br/>android:name="com.google.firebase.messaging.default_notification_channel_id"<br/>android:value="@string/default_notification_channel_id" <em class="lm">/&gt;</em></span></pre><p id="0287" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">è¿™åº”è¯¥å°±æ˜¯é…ç½®äº‘æ¶ˆæ¯çš„å…¨éƒ¨å†…å®¹</p><p id="a0d2" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">æ„å»ºè§†å›¾/å¸ƒå±€</strong></p><p id="4ae0" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">æ‰“å¼€<code class="du jx jy jz ka b">main_activity.xml</code>å¹¶ä½¿ç”¨è¯¥ä»£ç </p><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="a944" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬æœ‰äº†å¹¶ä¸æ¼‚äº®çš„è§†å›¾ï¼Œä¸€åˆ‡éƒ½è®¾ç½®å¥½äº†ï¼Œç°åœ¨è®©æˆ‘ä»¬è®¾ç½®æˆ‘ä»¬çš„å­˜å‚¨åº“å’Œè§†å›¾æ¨¡å‹ã€‚</p><h2 id="27c7" class="lf lg hi bd ln lo lp lq lr ls lt lu lv jk lw lx ly jo lz ma mb js mc md me ho bi translated"><strong class="ak">è®¾ç½®å­˜å‚¨åº“ã€è§†å›¾æ¨¡å‹å’Œè§†å›¾</strong></h2><ul class=""><li id="9f63" class="kf kg hi jb b jc mf jg mg jk mh jo mi js mj jw kk kl km kn bi translated">æ‰“å¼€<code class="du jx jy jz ka b">viewmodel</code>åŒ…ï¼Œåˆ›å»º<strong class="jb hs"> 2 </strong>æ–°ç±»â€” <code class="du jx jy jz ka b">MainRepo</code>å’Œ<code class="du jx jy jz ka b">MainViewModel<br/></code> <strong class="jb hs"> MainRepo â€” </strong>è¿™ä¸ªç±»ä½œä¸ºæˆ‘ä»¬çš„viewModelä½¿ç”¨çš„æ•°æ®æºã€‚</li></ul><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="d1da" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs"> MainViewModel â€” </strong>è¿™ä¸ªç±»ä¸å­˜å‚¨åº“é€šä¿¡ï¼Œapiè°ƒç”¨çš„ç»“æœä½œä¸ºLiveData(ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥)è¿”å›ï¼Œç„¶åç”±æˆ‘ä»¬çš„è§†å›¾(MainActivity)è§‚å¯Ÿ</p><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><ul class=""><li id="a415" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">æ‰“å¼€<code class="du jx jy jz ka b">MainActivity</code></li></ul><p id="61c2" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">è¿™æ˜¯è¿™é—¨è¯¾çš„å†…å®¹</p><ul class=""><li id="49d2" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">é€šè¿‡ViewBindingè·å–è§†å›¾</li><li id="6320" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">åˆå§‹åŒ–è§†å›¾</li><li id="d58e" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">å¬æŒ‰é’®ä¸Šçš„å’”å“’å£°</li><li id="e05a" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ä¸viewModelé€šä¿¡ä»¥æ³¨å†Œç”¨æˆ·</li><li id="8e15" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">è§‚å¯Ÿè§†å›¾æ¨¡å‹ä¸­çš„æ•°æ®ï¼Œå¹¶æ˜¾ç¤ºé€‚å½“çš„æ¶ˆæ¯</li></ul><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="a673" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">è®¾ç½®NODEJSåç«¯</strong></p><ul class=""><li id="5641" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åˆ°ä½ çš„firebaseæ§åˆ¶å°ï¼Œç‚¹å‡»<code class="du jx jy jz ka b">settings icon</code>-&gt;-<code class="du jx jy jz ka b">Project settings</code></li></ul><figure class="kb kc kd ke fd is er es paragraph-image"><div class="er es mk"><img src="../Images/631c0c34a09f89ae911f81aecdebe2cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ac9HGrROsSJ8yyzDSq928A.png"/></div></figure><ul class=""><li id="f63d" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åˆ‡æ¢åˆ°<code class="du jx jy jz ka b">Service Account</code>é€‰é¡¹å¡ï¼Œç‚¹å‡»<code class="du jx jy jz ka b">Generate new private key</code></li><li id="0ce8" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ç¡®è®¤å¹¶ä¸‹è½½å®ƒ</li><li id="1aee" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">ç°åœ¨ï¼Œåœ¨æ‚¨çš„pcä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨æ‚¨çš„ç»ˆç«¯å¯¼èˆªåˆ°è¯¥æ–‡ä»¶å¤¹</li><li id="d2e4" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated"><code class="du jx jy jz ka b">npm init</code> <strong class="jb hs"> </strong>å¹¶å¡«å†™æ‰€æœ‰å¿…éœ€çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™å°†åˆ›å»ºä¸€ä¸ªpackage.jsonæ–‡ä»¶</li><li id="594a" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated"><code class="du jx jy jz ka b">npm i firebase-admin</code> <strong class="jb hs"> <em class="lm"> </em> </strong>åœ¨æ‚¨çš„ç»ˆç«¯ä¸Šå®‰è£…firebaseä¾èµ–é¡¹</li><li id="6465" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">äº¦ä½œ<code class="du jx jy jz ka b">npm i express </code>å’Œ<strong class="jb hs"> </strong> <code class="du jx jy jz ka b">npm i bodyparser</code></li><li id="0098" class="kf kg hi jb b jc kq jg kr jk ks jo kt js ku jw kk kl km kn bi translated">åˆ›å»ºé…ç½®æ–‡ä»¶</li></ul><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><ul class=""><li id="2979" class="kf kg hi jb b jc jd jg jh jk kh jo ki js kj jw kk kl km kn bi translated">åˆ›å»ºindex.jsæ–‡ä»¶</li></ul><figure class="kb kc kd ke fd is"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="01ad" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">å¥½äº†ï¼Œæˆ‘ä»¬ç»“æŸäº†ã€‚æ·±å‘¼å¸ï¼ğŸ˜«</p><p id="5a70" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">è¿™æ˜¯å®Œæ•´é¡¹ç›®çš„é“¾æ¥ï¼Œè¯·æŸ¥çœ‹</p><div class="ml mm ez fb mn mo"><a href="https://github.com/ibrajix/FirebaseNotificationAndroid" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab dw"><div class="mq ab mr cl cj ms"><h2 class="bd hs fi z dy mt ea eb mu ed ef hr bi translated">ibrajix/firebase notification Android</h2><div class="mv l"><h3 class="bd b fi z dy mt ea eb mu ed ef dx translated">é€šè¿‡åœ¨GitHubä¸Šåˆ›å»ºå¸æˆ·ï¼Œä¸ºibrajix/firebasenotification Androidå¼€å‘åšå‡ºè´¡çŒ®ã€‚</h3></div><div class="mw l"><p class="bd b fp z dy mt ea eb mu ed ef dx translated">github.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc ix mo"/></div></div></a></div><p id="fb70" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">æ‚¨å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼Œé¦–å…ˆå°†é’ˆå¯¹ç”¨æˆ·çš„é€šçŸ¥ä»¤ç‰Œå­˜å‚¨åœ¨usersè¡¨ä¸­ï¼Œä»¥é’ˆå¯¹ç‰¹å®šç”¨æˆ·ã€‚</p><p id="9a63" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">æ­¤å¤–ï¼Œå¯ä»¥ä½¿ç”¨â€œä¸»é¢˜â€å‘ä¸€ç»„ç”¨æˆ·å‘é€é€šçŸ¥</p><div class="ml mm ez fb mn mo"><a href="https://firebase.google.com/docs/cloud-messaging/android/device-group" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab dw"><div class="mq ab mr cl cj ms"><h2 class="bd hs fi z dy mt ea eb mu ed ef hr bi translated">å‘Android | Firebaseä¸Šçš„è®¾å¤‡ç»„å‘é€æ¶ˆæ¯</h2><div class="mv l"><h3 class="bd b fi z dy mt ea eb mu ed ef dx translated">è®¾å¤‡ç»„æ¶ˆæ¯å…è®¸æ‚¨å°†å¤šä¸ªè®¾å¤‡æ·»åŠ åˆ°ä¸€ä¸ªç»„ä¸­ã€‚è¿™ç±»ä¼¼äºä¸»é¢˜æ¶ˆæ¯ï¼Œä½†æ˜¯â€¦</h3></div><div class="mw l"><p class="bd b fp z dy mt ea eb mu ed ef dx translated">firebase.google.com</p></div></div></div></a></div><p id="c1a2" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">è°¢è°¢å¤§å®¶ï¼</p><p id="2ba8" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">è”ç³»æˆ‘</strong></p><p id="a15d" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><a class="ae kv" href="https://linktr.ee/ibrajix" rel="noopener ugc nofollow" target="_blank">https://linktr.ee/ibrajix</a></p></div></div>    
</body>
</html>