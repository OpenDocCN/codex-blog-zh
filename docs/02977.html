<html>
<head>
<title>What makes TinyML unique compared to regular ML?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TinyML与普通ML相比有何独特之处？</h1>
<blockquote>原文：<a href="https://medium.com/codex/what-makes-tinyml-unique-compared-to-regular-ml-419c455a757d?source=collection_archive---------8-----------------------#2021-08-13">https://medium.com/codex/what-makes-tinyml-unique-compared-to-regular-ml-419c455a757d?source=collection_archive---------8-----------------------#2021-08-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="571a" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">创建和部署TinyML模型带来的挑战和解决方案</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/50b6627aba96099db653b511d807d2ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3jZTcn3T4TLMHKYY"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae jn" href="https://unsplash.com/@nicklbaert?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Niclas Illg </a></figcaption></figure><p id="26bc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在<a class="ae jn" rel="noopener" href="/codex/tinyml-is-the-most-underrated-field-in-machine-learning-and-this-is-why-7076aed78b4f">这篇</a>文章中，我们已经了解到TinyML是嵌入式系统和常规ML的交集。它基本上在嵌入式系统上实现了ML。</p><p id="14eb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这两个方面，嵌入式系统，机器学习，都让我们在TinyML上面临一些挑战。在这篇博文中，我们将详细探讨这些问题，并看看如何解决它们。</p><blockquote class="kk"><p id="38ea" class="kl km hi bd kn ko kp kq kr ks kt kj dx translated">TinyML应用程序的独特之处是什么？当我们创建第一个TinyML应用程序时会面临哪些挑战？</p></blockquote><figure class="kv kw kx ky kz jc"><div class="bz dy l di"><div class="la lb l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">TinyML与普通ML相比有何独特之处？挑战和解决方案</figcaption></figure><h1 id="34dc" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">嵌入式系统</h1><p id="52e3" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">因此，与任何系统一样，嵌入式系统就像一台普通的计算机。<br/>它由硬件和软件等组件组成。这两点对于理解一个嵌入式系统，了解我们如何在其上部署TinyML，或者在其上部署TinyML我们需要做哪些不同的事情，都是至关重要的。</p><h1 id="8c8c" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">五金器具</h1><p id="9ce2" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">通常，对于任何类型的计算系统，硬件都由3个基本构件组成:</p><ul class=""><li id="ddf3" class="lz ma hi jq b jr js ju jv jx mb kb mc kf md kj me mf mg mh bi translated">计算机:系统的“大脑”，你在那里进行处理</li><li id="0eb2" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj me mf mg mh bi translated"><strong class="jq hj">内存:</strong>暂时存储数据</li><li id="13c6" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj me mf mg mh bi translated"><strong class="jq hj">存储:</strong>永久硬盘，断电时仍能记住您的数据</li></ul><p id="0442" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">正如我们在<a class="ae jn" rel="noopener" href="/codex/tinyml-is-the-most-underrated-field-in-machine-learning-and-this-is-why-7076aed78b4f">这篇</a>文章中已经了解到的，TinyML运行在微控制器上，而不是像你笔记本电脑上那样的微处理器上。笔记本电脑上的微处理器与一系列不同的系统组件相连接。这只是一个更大难题的一部分。要拥有一个功能性的计算系统，你需要有一个单独的内存单元和一个单独的存储单元。而对于微控制器，它已经是集成的了。这意味着处理器、内存和存储器耦合在一起。这是一个整体。</p><p id="90eb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">还有另一个不同之处:微处理器是笔记本电脑或平板电脑等通用计算系统的核心，你可以在上面执行各种完全不同的任务。相比之下，微控制器是嵌入式系统的心脏，它通常是为固定功能的任务而设计的，如在MP3播放器上播放音乐或接听电话。因此，微控制器的功能通常都是预先设定好的。<br/>加上，在功率、存储大小等方面也有很大的差异。我在<a class="ae jn" rel="noopener" href="/codex/tinyml-is-the-most-underrated-field-in-machine-learning-and-this-is-why-7076aed78b4f">这个</a>帖子里详细提到过。</p><h1 id="d668" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">软件</h1><p id="6999" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">在嵌入式系统的软件方面，我们也有两个区别TinyML和常规ML的主要区别，操作系统和代码可移植性。</p><h2 id="aa58" class="mn ld hi bd le mo mp mq li mr ms mt lm jx mu mv lo kb mw mx lq kf my mz ls na bi translated">操作系统</h2><p id="822e" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">笔记本电脑、台式机或服务器的操作系统通常是Microsoft Windows、Mac或Linux操作系统。而智能手机，则是苹果iOS或者安卓。</p><p id="1a82" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">那么，这些运行在大多数设备上的操作系统有什么好处呢？操作系统及其相关部分就像房子的地基。基础扎实的话，可以建底层。在第一层的顶部，您可以建造第一层、第二层等等。你有很大的灵活性，因为你有正确的基础。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nb"><img src="../Images/d3f6a1f4329a35482b558316810e8fea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g8x1Uic5671J7DgNtDUz6w.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">安卓操作系统架构(<a class="ae jn" href="https://developer.android.com/guide/platform/images/android-stack_2x.png" rel="noopener ugc nofollow" target="_blank">来源</a>)</figcaption></figure><p id="44b6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里<strong class="jq hj"> </strong>我向你展示一个Android操作系统的平台架构。因为它已经有了合适的部分，所以您可以构建库的高级抽象并将它们堆叠在上面。<br/>为什么这很重要？因为如果你提供了正确的抽象层次，那么你就可以让应用开发者能够写出非常有趣的应用。<br/>现在，在嵌入式系统中，这是我认为世界有点分崩离析的地方，因为没有那么多操作系统可以说。<br/>嵌入式系统不是通用系统，但通常设计用于执行一项任务。有适用于嵌入式设备的操作系统，如FreeRTOS和Arm Mbed OS。但通常情况下，它们不会被安装，因为在嵌入式系统上添加任何类型的额外堆栈都会占用资源。在嵌入式设备上使用操作系统会占用几千字节的内存，这意味着留给应用程序的空间更少。</p><h2 id="2b87" class="mn ld hi bd le mo mp mq li mr ms mt lm jx mu mv lo kb mw mx lq kf my mz ls na bi translated">轻便</h2><p id="7b65" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">所有微处理器内部都有一个专门的单元来运行浮点算术运算，这意味着任何使用浮点数的代码都可以从一个系统移植到另一个系统。你不必担心你的代码是否会在不同的微处理器上运行，因为所有的微处理器都配备了这个单元。浮点数的这种通用代码可移植性对于嵌入式设备来说是不存在的。</p><p id="f999" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这就提出了一个问题:如果平台可移植性较低，我们如何在这些差异巨大的嵌入式系统上统一启用TinyML？因为为不同的设备修改和实现代码需要大量的时间和成本。这是一个严峻的挑战。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nc"><img src="../Images/731cc38c7fe2390ab727afa76e790499.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FWwoTlTWx-yMh9vf"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/@_staticvoid?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Lucas Santos </a>在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="b39d" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">机器学习</h1><p id="ded3" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">现在，我们来看TinyML的另一半:机器学习。</p><h2 id="55c0" class="mn ld hi bd le mo mp mq li mr ms mt lm jx mu mv lo kb mw mx lq kf my mz ls na bi translated">模型尺寸</h2><p id="d499" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">也许你听说过Google著名的ML网络MobileNetV2，它是专门为运行在移动设备上而设计的。虽然它只有几兆字节，但它不能在嵌入式设备上使用，因为微控制器只有几千字节的内存。因此，我们的目标是缩小或压缩我们通常在常规设备上使用的ML模型，而不丧失其从根本上寻找数据模式的能力。有三种主要技术可以实现这一点:</p><h2 id="ce93" class="mn ld hi bd le mo mp mq li mr ms mt lm jx mu mv lo kb mw mx lq kf my mz ls na bi translated">1.修剪</h2><p id="008b" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">有两种方法可以使用修剪来缩小网络:</p><ul class=""><li id="04fa" class="lz ma hi jq b jr js ju jv jx mb kb mc kf md kj me mf mg mh bi translated"><strong class="jq hj">修剪突触:</strong>去除神经元之间的连接</li><li id="0b71" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj me mf mg mh bi translated"><strong class="jq hj">修剪神经元:</strong>从模型中移除神经元</li></ul><p id="aaeb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这两种方法都减少了所需的计算量，从而缩小了网络的规模。</p><h2 id="0526" class="mn ld hi bd le mo mp mq li mr ms mt lm jx mu mv lo kb mw mx lq kf my mz ls na bi translated">2.量化</h2><p id="5e4f" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">量化意味着将值离散化为一个很小的值子集。<br/>例如，int从负128到127，这允许表示256个值。因此，使用int(8)而不是float(32)可能会导致丢失一些本来会用浮点值表示的值。然而，一个浮点值需要四个字节来表示，而一个整型值只需要一个字节。这意味着该模型只需通过量化就能减少4倍。因此，这是一种非常有效的技术，我们将在即将到来的TinyML项目中经常使用这种技术。</p><h2 id="4801" class="mn ld hi bd le mo mp mq li mr ms mt lm jx mu mv lo kb mw mx lq kf my mz ls na bi translated">3.知识的升华</h2><p id="9a39" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">这对于TinyML来说是更高级的技术。当你想象在学校发生的事情时，可以最好地描述知识的升华。一个教师，从多年的经验中知道很多，有很多信息，可以为学生提取关键信息，而不会丢失给定特定任务的金块。所以老师的关系网可能很大，而学生的关系网可能很小。</p><p id="af14" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">知识提取是通过只训练数据的大型模型，利用其更好的观察和学习模式的能力，然后通过训练它学习大型模型的软输出，将这样的知识提取到较小的模型中，该模型不能自己学习。</p><h2 id="5495" class="mn ld hi bd le mo mp mq li mr ms mt lm jx mu mv lo kb mw mx lq kf my mz ls na bi translated">运行时级别</h2><p id="3fcc" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">在运行时级别可能会遇到另一个差异。</p><p id="be92" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">对于常规的ML模型，我们将使用TensorFlow来完成所有任务，但是对于TinyML，许多步骤将使用TensorFlow lite来完成。让我们来看看这两个系统之间的区别:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nd"><img src="../Images/88d31571ebb1339e82753f81e0393f5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KeH3AJJ7js1R4-ezWQ5J9Q.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">TensorFlow与TensorFlow Lite</figcaption></figure><ol class=""><li id="2653" class="lz ma hi jq b jr js ju jv jx mb kb mc kf md kj ne mf mg mh bi translated">TensorFlow的真正目标是一名试图找出如何实际构建机器学习算法的机器学习研究人员。TensorFlow Lite专注于对使用机器学习算法并将其集成到提供最终用户服务的应用程序中感兴趣的应用程序开发人员。</li><li id="cd54" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj ne mf mg mh bi translated">TensorFlow必须进行分布式计算，这意味着它必须同时使用许多云TPU或GPU来尝试让机器学习算法学习它在数据中找到的模式。但是，我们不是在嵌入式设备上学习东西。我们只是在练习我们已经学过的东西。这是软件堆栈的简化。</li><li id="9137" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj ne mf mg mh bi translated">二进制大小，当你在大型数据中心<br/>用那些耦合在一起的大处理器运行时，你并不真正担心软件框架占用多少内存。<br/>但如果你在谈论把那个小小的TensorFlow框架放到一个嵌入式设备上，我们真的很担心它会消耗多少内存，因为你不希望它用完所有的空间。</li><li id="8f0f" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj ne mf mg mh bi translated">TensorFlow中的权重是可变的，因为我们要学习很多东西。<br/>就像我们大脑中的神经元是可变的一样。但是一旦我们学会了，我们甚至不会去想它。我们只是很快地执行事情。这几乎就像肌肉记忆或肠道反应。这就是TensorFlow lite中权重固定的原因。</li><li id="00fa" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj ne mf mg mh bi translated">网络的拓扑结构也是如此。拓扑定义了连接的外观。在TensorFlow中，因为你仍在学习寻找数据中的模式，它们在不断调整。但是，在TensorFlow Lite上，当我已经知道我要执行的任务时，我不需要任何灵活性。</li></ol><p id="53fe" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">好了，现在我们已经看到了TensorFlow和TensorFlow Lite之间的主要区别。现在，我们如何在TinyML项目中使用TensorFlow？让我们来看看一个典型的管道:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nd"><img src="../Images/e542f6b89055d88521ee2b84c977471e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_r_qck2m0bAEzYnLomWqNw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">机器学习管道:TensorFlow和TensorFlow Lite中的ML步骤</figcaption></figure><p id="a2df" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">第一步是训练模型。为此，使用张量流。现在，使用TensorFlow Lite，这个大模型被转换成. tflite文件中的精简内容。你拿着它，然后你可以把它部署到不同种类的嵌入式设备中。</p><p id="fe9b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如您所见，我们只在开始时使用TensorFlow，转换、优化、部署和使用都是通过TensorFlow Lite完成的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nc"><img src="../Images/94d758772c8bcc1de15c00f6c7759a02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iS1_Zjaeja2eQZWI"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">S. Tsuchiya 在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="f6b7" class="lc ld hi bd le lf lg lh li lj lk ll lm io ln ip lo ir lp is lq iu lr iv ls lt bi translated">摘要</h1><p id="bee5" class="pw-post-body-paragraph jo jp hi jq b jr lu ij jt ju lv im jw jx lw jz ka kb lx kd ke kf ly kh ki kj hb bi translated">好吧，这是相当多的信息。让我们快速总结一下:</p><p id="5c1c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">TinyML是独一无二的，因为我们需要:</p><ul class=""><li id="8c56" class="lz ma hi jq b jr js ju jv jx mb kb mc kf md kj me mf mg mh bi translated">编写特定的应用程序，因为微控制器是一个整体，通常没有操作系统</li><li id="9631" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj me mf mg mh bi translated">更仔细地检查我们的代码是否真的可以移植到不同的嵌入式设备上</li><li id="ff0c" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj me mf mg mh bi translated">使用剪枝、量化和知识提炼等高级技术来压缩模型的规模</li><li id="8221" class="lz ma hi jq b jr mi ju mj jx mk kb ml kf mm kj me mf mg mh bi translated">使用TensorFlow Lite完成我们的大多数任务</li></ul></div><div class="ab cl nf ng gp nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="hb hc hd he hf"><p id="e522" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我希望这篇博文能让你兴奋地学习更多关于TinyML的知识！欢迎在评论中告诉我，你对TinyML有哪些问题，你对这个新兴领域有什么特别感兴趣的！</p></div></div>    
</body>
</html>