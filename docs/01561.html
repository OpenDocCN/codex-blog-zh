<html>
<head>
<title>Weathering the SQL interpreter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">经受SQL解释器的考验</h1>
<blockquote>原文：<a href="https://medium.com/codex/weathering-the-sql-interpreter-13ebaa175955?source=collection_archive---------5-----------------------#2021-05-12">https://medium.com/codex/weathering-the-sql-interpreter-13ebaa175955?source=collection_archive---------5-----------------------#2021-05-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="5c8c" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated"><em class="ix">了解解释器是如何构造SQL查询的，可以让数据专业人员的工作变得更加轻松</em></h2></div><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="er es iy"><img src="../Images/691452f9968cb0eba217f181f6689e1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*goaBVu6iRda1QvxC1tgJjg.jpeg"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">由<a class="ae jo" href="https://unsplash.com/@mark_lawson" rel="noopener ugc nofollow" target="_blank">马克·劳森</a>在<a class="ae jo" href="https://unsplash.com/s/photos/ireland-weather?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><h2 id="139d" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">介绍</h2><p id="56c6" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated">在处理任何数据集时，您可能会花费将近80%的时间来发现和准备数据。选择正确的工具可以提高效率，减少完成这一过程所需的时间。通过执行预处理步骤，您可以减少提供可靠数据洞察所需的时间。您可能会面临平衡数据中不同关系的问题，这就是SQL可以利用的地方。</p><h2 id="8024" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">SQL的简要背景</h2><p id="c574" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated">结构化查询语言(SQL)，通常读作“sequel”，指的是最初版本的名字，是在20世纪70年代早期开发的。该语言旨在管理关系数据库管理系统(RDBMS)中的数据。有了这个关系模型组件，就可以使用SQL来提高处理多个表的效率。如果您正在处理跨多个excel文件的大型表格，将这些表格传递到数据库中有助于缩短查询数据时的处理时间。毕竟，像VLOOKUP()或INDEX()这样的搜索算法只能有效工作一段时间。随着行数的增加，所需的处理时间将逐渐增加。通过利用关系模型的能力，算法可以更有效地工作。</p></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><p id="840d" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">现在是时候开始使用示例数据集，并开始理解SQL解释器如何执行查询了。</p><h2 id="eca1" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">Kaggle数据集</h2><p id="2514" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated"><a class="ae jo" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>是开始数据工程师、数据分析师或数据科学家之旅的好地方。有许多公共数据集可供清理、探索、可视化和构建模型。由于要深入研究的领域范围很广，回顾每天影响我们所有人的数据才是有意义的。当然是天气，谁不喜欢讨论天气呢？</p><div class="ls lt ez fb lu lv"><a href="https://www.kaggle.com/conorrot/irish-weather-hourly-data" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab dw"><div class="lx ab ly cl cj lz"><h2 class="bd hj fi z dy ma ea eb mb ed ef hh bi translated">爱尔兰天气(每小时数据)</h2><div class="mc l"><h3 class="bd b fi z dy ma ea eb mb ed ef dx translated">从爱尔兰气象站每小时获取的天气数据(1989-2018年)</h3></div><div class="md l"><p class="bd b fp z dy ma ea eb mb ed ef dx translated">www.kaggle.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj ji lv"/></div></div></a></div><p id="43b0" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">我们将执行一些简单的SQL处理步骤来理解数据集中包含的内容。</p><h2 id="dd5e" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">SQL解释器编译步骤</h2><p id="ef28" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated">首先，让我们回顾一下SQL中使用的主要关键字组件。以下列表显示了SQL解释器在编译SQL查询时采取的关键操作步骤:</p><ol class=""><li id="9c97" class="mk ml hi kp b kq ln kt lo ka mm ke mn ki mo lf mp mq mr ms bi translated"><strong class="kp hj">从，包括连接</strong></li></ol><p id="b3c5" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">在FROM子句中定义的表将是评估过程中的第一个。如果包含一个连接，那么所有表中的数据将使用连接中的ON子句进行合并。如果存在子查询，则可以创建临时表。需要注意的是，在许多情况下，数据库优化器会首先检查WHERE子句，以便了解要包含在查询中的表是否可以以任何方式进行过滤。有了这个流程步骤，数据库优化器与SQL解释器一起工作，确保查询中只包含需要检查的数据。</p><p id="4798" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated"><strong class="kp hj"> 2。其中</strong></p><p id="b4cb" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">要评估的第二个特征。我们能够包含FROM表中包含的所有变量。但是，我们不能包含任何聚合列。为了过滤这些聚合值，我们必须使用HAVING filter子句。通过包含适当的WHERE过滤器，我们可以细化搜索算法在返回查询输出时必须处理多少数据集。对索引值应用过滤器是一种有效的方法。</p><p id="d3c2" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated"><strong class="kp hj"> 3。分组依据</strong></p><p id="c133" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">旨在将数据集分成块或桶。通过排除该子句，类似于将所有行放在一个桶中。有了独立的桶，我们就能够生成聚合函数，例如COUNT()、MIN()、MAX()、SUM()等。这些聚合值有助于提供数据集的汇总详细信息。</p><p id="03d4" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated"><strong class="kp hj"> 4。拥有</strong></p><p id="e0f1" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">为了使用HAVING子句，必须有GROUP BY。如果有意义的话，我们可以使用HAVING子句从分析中过滤掉某些桶。无论是调用聚合函数还是其别名，该子句都有助于防止在单独的查询中执行额外的分析。</p><p id="a715" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated"><strong class="kp hj"> 5。窗口功能</strong></p><p id="c92d" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">将在后面的文章中讨论。</p><p id="afa0" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated"><strong class="kp hj"> 6。选择</strong></p><p id="5b15" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">SELECT语句从通过检查前面的任何子句并丢弃任何不相关的行而选择的列中返回值。</p></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><p id="d16f" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">这些操作步骤的其余部分将在以后的文章中讨论。</p><p id="dea7" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated"><strong class="kp hj"> 7。独特的</strong></p><p id="c34b" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated"><strong class="kp hj"> 8。联合</strong></p><p id="bdba" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated"><strong class="kp hj"> 9。排序依据</strong></p><p id="5809" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated"><strong class="kp hj"> 10。极限和偏移</strong></p></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><h2 id="3cff" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">SQL数据分析</h2><p id="4b81" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated"><a class="ae jo" href="https://www.sqlite.org/index.html" rel="noopener ugc nofollow" target="_blank"> SQLite </a>用于完成以下分析。市场上还存在许多其他版本的SQL实现，例如:Oracle，MySQL，MS SQL Server和PostgreSQL。随着各种云计算选项的出现，可用的SQL操作的规模持续增长。但是，上面提到的关键指导原则可以应用于每一种情况。</p><p id="2e24" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">对于与天气相关的数据集，可以查看一些不同的季节影响。在查询数据集之前创建问题列表有助于提供执行数据挖掘任务所需的结构。本教程的目标是了解一年中哪个月的平均温度最高。该国的一个地区将在整个过程中被挑选和保留，以帮助解释。</p><p id="c042" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">在更进一步之前，最高平均温度的初步猜测是夏季。让我们看看我们有多接近。</p><h2 id="035d" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><strong class="ak">元数据</strong></h2><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="mt mu l"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">代码1.1显示元数据</figcaption></figure><p id="0578" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">通过了解数据库的元数据，您可以维护其中包含的文件的概览。在下面的输出中，初始表是唯一存在的文件。然而，随着时间的推移，随着更多分析的执行，这个列表将会增加。</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="er es mv"><img src="../Images/f593781ca444441a1fb0c9f6a55530ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XmWF3DAymDlKJc4LvTQxFQ.jpeg"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">SQL Output 1.1概述了SQL数据库中包含的数据集</figcaption></figure><h2 id="0593" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><strong class="ak">来自</strong></h2><p id="1f2f" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated">当第一次在SQL中查看数据集时，您可能想选择所有记录。</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="mt mu l"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">代码1.2显示了选择所有列和特定列之间的区别</figcaption></figure><p id="ff9e" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">在代码1.2的第一部分中，我们可以看到，通过选择所有值，SQL输出1.2将低效地将所有内容返回到输出视图。</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="er es mw"><img src="../Images/991d558b7a3f3d785605e864c1861f74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SxXe_iNc5ChygP2colIEwg.jpeg"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">SQL输出1.2从数据集中选择所有列</figcaption></figure><p id="5c1f" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">代码1.2中的第二个查询显示了一个更有效的方法。我们可以在下面的输出中看到，当返回感兴趣的列时，需要更短的周转时间。在以后的文章中，我们将看到如何使用极限运算符来帮助选择数据集的小样本。通过这个操作，我们能够看到列的一个小摘要。通常取值为5。</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es mx"><img src="../Images/726e85cc91a032eaea1ac415478c678c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*5O6PWVF2eijq57WRevv2lg.jpeg"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">SQL输出1.3从数据集中选择特定的列</figcaption></figure><h2 id="33bf" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><strong class="ak">哪里</strong></h2><p id="177b" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated">拥有要查询的变量列表是一回事，但我们需要开始细化搜索。使用where子句确保我们可以筛选数据集的特定部分。搜索算法检查过滤器并返回所有匹配值。如果被筛选的列已经应用了索引，那么可以更有效地应用搜索。如果没有使用索引，那么对列值进行排序也有助于减少过滤器开销。但是，大多数变量都是随机排列的，因此，搜索算法在返回最终结果之前必须检查列中的所有值。</p><p id="536c" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">下面的代码和输出显示了所应用的where子句的几种不同的变体。在第一个查询中，我们使用了一个过滤器来选择来自county Galway的所有值。</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="mt mu l"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">代码1.3 where子句的两种变体，以显示特殊性的差异</figcaption></figure><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es my"><img src="../Images/3b124f47e4d91a06030671983984e946.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*_0pC1Ts0uF8wHaz1MphfzA.jpeg"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">SQL Output 1.4通过筛选一列来检查数据集</figcaption></figure><p id="c097" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">而在第二个查询中，我们过滤了所有值，并选择了12到15之间的带状温度范围。附加子句说明了如何为特定群组指定相似的运行时间，但返回小得多的数据集。正是这种过滤动态使我们能够回答关于数据集的更具体的分析问题。</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es mz"><img src="../Images/bb3f362d94b921c0c2db7b817475b88d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*SbvnrL5zg9ptlZQ8byhtog.jpeg"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">SQL Output 1.5通过对多个列进行筛选来检查数据集</figcaption></figure><h2 id="9cb3" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><strong class="ak">分组依据</strong></h2><p id="42bb" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated">开始将聚合合并到数据分析中有助于创建摘要。代码1.4中的第一个查询通过两列提供了数据集的行分布。</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="mt mu l"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">代码1.4简单和高级分组依据聚合</figcaption></figure><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es na"><img src="../Images/1027eff10d1ffa64dd1f18e41a2d6814.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*pk6L3BPJfU6QLNOhxSOIqg.jpeg"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">SQL Output 1.6对group by列的简单行计数操作</figcaption></figure><p id="2341" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">通过合并where子句，我们能够对前面的总体总结提供更多的见解。包含额外的指标有助于阐明每列中可用值的范围。每次聚合后分配的别名允许任意范围的自由文本值。但是，合并聚合(例如min、max、avg)和列的简称，确实有助于提供计算的上下文。</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="er es nb"><img src="../Images/e55c48343943575ac22e8fe314c37147.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pD0REfFDm47ExCYAyiD58A.jpeg"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">SQL Output 1.7一组带有分组依据列的高级数据聚合</figcaption></figure><h2 id="dcf0" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">从加入</h2><p id="a2d7" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated">在前面的部分中生成汇总值开始讲述爱尔兰天气数据集中发生的事情。在数据分析中，通过将数据集结合在一起，故事可以更进一步。在代码1.5中，我们将代码1.4中的汇总查询合并为子查询。子查询可以看作是在查询中创建的临时表。</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="mt mu l"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">代码1.5可以使用子查询的内部连接添加group by的聚合列</figcaption></figure><p id="058f" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">通过连接整个数据集和子查询，我们可以将最高和最低温度值分配给所有行。可以进行进一步的计算，以了解每行的单个温度与汇总统计数据相比如何。因此，提供温度如何与更广泛的人群相关的参考点，有助于理解相对温度随时间的变化。</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es nc"><img src="../Images/3d9d8533a140e33b07015bac06c103ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*A7Rrdaqh1M_2ZclT3mbfLA.jpeg"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">SQL输出1.8当前温度可以与该列的范围值进行比较</figcaption></figure><h2 id="9087" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">拥有</h2><p id="354c" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated">与where子句类似，having允许查询利用聚合计算对输出执行筛选。在本例中，我们创建了平均温度，并过滤了每个月温度高于15°的情况。</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="mt mu l"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">代码1.6 having运算符使用聚合变量</figcaption></figure><p id="0082" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">由于日期变量是作为字符串值导入数据库的，所以我们可以使用字符串方法substr()来提取与所需日期信息相关的列值的元素。</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es nd"><img src="../Images/730e76a438d4566d7d66ea2caf07dc22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*O7VREWtQX1urmqBp2IuvDw.jpeg"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">SQL输出1.9按月查看平均温度</figcaption></figure><p id="a8a6" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">记住最初的问题，哪几个月的平均气温最高？</p><figure class="iz ja jb jc fd jd"><div class="bz dy l di"><div class="mt mu l"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">代码1.7创建一个临时视图来总结最终输出</figcaption></figure><p id="5c9d" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">通过使用WITH子句，我们能够调用一个临时表来汇总数据。</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es ne"><img src="../Images/73d02877a672ff3a95756988b461dd2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*QrdXfVzinxl0AaLffw_whw.jpeg"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">SQL输出1.10摘要输出表</figcaption></figure><p id="cb2a" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">不足为奇的是，三个夏季月份中温暖的月份最多。然而，非常有趣的是，进入九月，气温持续上升。</p><h2 id="a8fa" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">结论</h2><p id="e880" class="pw-post-body-paragraph kn ko hi kp b kq kr ij ks kt ku im kv ka kw kx ky ke kz la lb ki lc ld le lf hb bi translated">当开始执行从Excel到Python到R到Tableau的数据分析过程时，有许多不同的选项可用。在本练习中，我们使用了SQL来展示如何查询数据库来创建汇总统计信息。通过理解SQL解释器如何处理数据，我们可以提交高效的查询来回答我们的问题。在以后的文章中，我们将致力于自动化处理步骤，并理解SQL的其他特性。</p><p id="7828" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">就目前而言，我们应该高兴地看到，随着夏季的到来，温暖的天气可能会持续更长时间。</p></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><p id="00ce" class="pw-post-body-paragraph kn ko hi kp b kq ln ij ks kt lo im kv ka lp kx ky ke lq la lb ki lr ld le lf hb bi translated">非常感谢你的阅读！通过分享，我们都能学得更好！下次见！</p></div></div>    
</body>
</html>