<html>
<head>
<title>The Most Underrated Kotlin Function</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最被低估的科特林函数</h1>
<blockquote>原文：<a href="https://medium.com/codex/the-most-underrated-kotlin-function-2655459e9e4a?source=collection_archive---------1-----------------------#2022-05-24">https://medium.com/codex/the-most-underrated-kotlin-function-2655459e9e4a?source=collection_archive---------1-----------------------#2022-05-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ce98" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">Kotlin中运算符函数的介绍。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/4b59f4a9764fbbba23093784f50c8a64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Jk4m7ERyuJPCSbtD"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">克林特·帕特森在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="7b18" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">与Java相比，Kotlin中有许多类型的函数，我说的是<em class="kk">许多</em> — <strong class="jq hj"> </strong>。我们有<strong class="jq hj">扩展</strong>函数、<strong class="jq hj">中缀</strong>函数、<strong class="jq hj">内联</strong>函数、<strong class="jq hj">高阶</strong>函数、<strong class="jq hj"> tailrec </strong>函数，最后是<strong class="jq hj">运算符</strong>函数。许多开发人员使用扩展函数和高阶函数，但是没有多少人理解<strong class="jq hj">运算符</strong>函数的用法</p><h1 id="fea2" class="kl km hi bd kn ko kp kq kr ks kt ku kv io kw ip kx ir ky is kz iu la iv lb lc bi translated">理解运算符功能</h1><p id="0009" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated"><strong class="jq hj">什么是运营商？这是一个关键字，用于执行某种运算，如算术、逻辑和关系运算。</strong></p><p id="14f0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">什么是函数？</strong>它是一个可以随时调用的可执行代码块。</p><p id="9b7b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">那么什么是算子函数呢？</strong>是由某个<em class="kk">操作符</em>关键字<em class="kk">调用</em>的一段可执行代码。它们必须在类或顶级扩展函数中。</p><h1 id="8f2e" class="kl km hi bd kn ko kp kq kr ks kt ku kv io kw ip kx ir ky is kz iu la iv lb lc bi translated">运算符函数的一个基本示例</h1><p id="49ee" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated">运算符函数必须有一个接收器类。换句话说，它们必须在类或顶级扩展函数内部。下面我们来基本看一下下面的代码:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="3eed" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">第10行是奇迹发生的地方。<code class="du lk ll lm ln b">times</code>是一个特定的操作符函数，调用时使用星号(*)。receiver类是一个<code class="du lk ll lm ln b">String</code>，它只允许一个参数<code class="du lk ll lm ln b">n: Int</code>，对我们来说，就是重复的次数。</p><p id="a969" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">默认情况下，你<strong class="jq hj">不能</strong>使用代码<code class="du lk ll lm ln b">sampleString * 5</code>并期望它工作。您需要为此定义一个操作函数。</p><h1 id="1d70" class="kl km hi bd kn ko kp kq kr ks kt ku kv io kw ip kx ir ky is kz iu la iv lb lc bi translated">操作员功能的实际能力</h1><p id="4019" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated">让我们从创建一个矩阵类开始，定义一些初始化矩阵的函数和属性。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="21e7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我已经记录了这些函数，这样更容易理解。<code class="du lk ll lm ln b">rows</code>是类的实际矩阵；它是一个二维双数组。</p><h2 id="4a5a" class="lo km hi bd kn lp lq lr kr ls lt lu kv jx lv lw kx kb lx ly kz kf lz ma lb mb bi translated">get(Int)运算符函数</h2><p id="1e00" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated">我想用矩阵类像2D数组一样用<em class="kk">超能力</em>！例如，如果我想访问Matrix类的第一行，通常我必须获取属性。但这不再是必需的了。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="li lj l"/></div></figure><pre class="iy iz ja jb fd mc ln md me aw mf bi"><span id="d01d" class="lo km hi ln b fi mg mh l mi mj">val matrix = matrix {<br/>  row(3, 5) // Kotlin-DSL function to add a row<br/>  row(-2, 1)<br/>}</span><span id="bd85" class="lo km hi ln b fi mk mh l mi mj">/* usually */<br/>println(matrix.rows[0][2])</span><span id="8d14" class="lo km hi ln b fi mk mh l mi mj">/* using get operator function */<br/>println(matrix[0][2])</span></pre><p id="17f9" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">立刻，我们需要我们的代码变得更可读。<code class="du lk ll lm ln b">matrix</code>后的第一个<code class="du lk ll lm ln b">[]</code>调用<code class="du lk ll lm ln b">n</code>为0的<code class="du lk ll lm ln b">get(n)</code>函数。</p><h2 id="676d" class="lo km hi bd kn lp lq lr kr ls lt lu kv jx lv lw kx kb lx ly kz kf lz ma lb mb bi translated">正(矩阵)算子函数</h2><p id="1342" class="pw-post-body-paragraph jo jp hi jq b jr ld ij jt ju le im jw jx lf jz ka kb lg kd ke kf lh kh ki kj hb bi translated">有一些函数和构造函数，我没有展示它们的实现，但这确实会影响理解。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="li lj l"/></div></figure><p id="50bc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在<code class="du lk ll lm ln b">plus()</code>函数中，我们接受一个参数，这个参数就是一个<code class="du lk ll lm ln b">Matrix</code>本身。我们调用<code class="du lk ll lm ln b">plus()</code>操作符并返回第三个<code class="du lk ll lm ln b">Matrix</code>。</p><pre class="iy iz ja jb fd mc ln md me aw mf bi"><span id="bf03" class="lo km hi ln b fi mg mh l mi mj">val A = matrix {<br/>  row(8, -5)<br/>  row(3, -1)<br/>}</span><span id="e8f7" class="lo km hi ln b fi mk mh l mi mj">// invoking the plus() function with the operator<br/>val C = A + matrix {<br/>  row(4, 5)<br/>  row(0.3, -3.0)<br/>}</span></pre></div><div class="ab cl ml mm gp mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="hb hc hd he hf"><p id="25b6" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这是GitHub资源库的链接。</p><div class="ms mt ez fb mu mv"><a href="https://github.com/cybercoder-naj/KotlinAI/" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab dw"><div class="mx ab my cl cj mz"><h2 class="bd hj fi z dy na ea eb nb ed ef hh bi translated">GitHub - cybercoder-naj/KotlinAI:用Kotlin DSL结构做一个关于线性代数的程序…</h2><div class="nc l"><h3 class="bd b fi z dy na ea eb nb ed ef dx translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nd l"><p class="bd b fp z dy na ea eb nb ed ef dx translated">github.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj jh mv"/></div></div></a></div><p id="cd23" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我希望你喜欢读我的文章。谢谢大家！✌️</p><pre class="iy iz ja jb fd mc ln md me aw mf bi"><span id="e88b" class="lo km hi ln b fi mg mh l mi mj"><strong class="ln hj">Want to connect?</strong></span><span id="517d" class="lo km hi ln b fi mk mh l mi mj"><a class="ae jn" href="https://github.com/cybercoder-naj" rel="noopener ugc nofollow" target="_blank">My GitHub Profile</a><br/><a class="ae jn" href="https://www.linkedin.com/in/nishant-a-jalan" rel="noopener ugc nofollow" target="_blank">My LinkedIn Page</a></span></pre></div></div>    
</body>
</html>