<html>
<head>
<title>A Deep Learning System from an Engineer’s Perspective</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">工程师视角下的深度学习系统</h1>
<blockquote>原文：<a href="https://medium.com/codex/a-deep-learning-system-from-an-engineers-perspective-26b5b835417?source=collection_archive---------7-----------------------#2022-08-17">https://medium.com/codex/a-deep-learning-system-from-an-engineers-perspective-26b5b835417?source=collection_archive---------7-----------------------#2022-08-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="5ffb" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">文章节选</h2><div class=""/><div class=""><h2 id="deb2" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated"><em class="jg">出自王驰和唐纳德·司徒华</em>的 <a class="ae jh" href="https://www.manning.com/books/engineering-deep-learning-systems?utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=book_wang2_engineering_2_17_22" rel="noopener ugc nofollow" target="_blank"> <em class="jg">工程深度学习系统</em> </a> <em class="jg"/></h2></div><p id="a0aa" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated"><em class="ke">本文介绍了潜在读者希望从这本书中学到什么，以及你为什么应该学习这本书。</em></p><p id="f0a8" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated"><em class="ke">如果您是一名对将您的技能转移到深度学习系统设计领域感兴趣的软件开发人员，或者是一名希望构建更有效的交付管道的具有工程头脑的数据科学家，请阅读本教程。</em></p></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><p id="9e3f" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">在<a class="ae jh" href="https://www.manning.com/books/engineering-deep-learning-systems?utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=book_wang2_engineering_2_17_22" rel="noopener ugc nofollow" target="_blank">manning.com</a>付款时，将<strong class="jk hs"> fccwang2 </strong>输入折扣代码框，可享受<a class="ae jh" href="https://www.manning.com/books/engineering-deep-learning-systems?utm_source=medium&amp;utm_medium=referral&amp;utm_campaign=book_wang2_engineering_2_17_22" rel="noopener ugc nofollow" target="_blank"><em class="ke">Engineering Deep Learning Systems</em></a>25%的折扣。</p></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><p id="8e15" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">在深度学习领域，模型得到了所有的关注。或许这是正确的，当你考虑到从这些车型开发的新应用程序正在定期上市——让消费者兴奋的应用程序，如人体探测安全摄像头、精确的语音识别电话菜单、多种语言的快速字符识别以及几乎即时的语言翻译，以及有朝一日能够实现完全自主和自动驾驶汽车的高级驾驶员辅助系统。在很短的时间内，深层次的学习领域充满了巨大的兴奋和有希望的潜力等待被充分实现。</p><p id="14f7" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">但这种模式并不是孤立的。为了实现产品或服务，模型需要位于一个系统或平台中(我们可以互换使用这些术语)，该系统或平台通过各种服务和商店来支持模型。例如，它需要一个API、一个数据集管理器以及工件和元数据的存储。因此，每个深度学习模型开发团队的背后都是一个非深度学习开发团队，他们创建了包含模型和所有其他组件的基础设施。</p><p id="bf3f" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">我们在行业中观察到的问题是，负责设计深度学习系统和组件的开发人员通常对深度学习只有粗略的了解。他们不理解深度学习对系统工程的具体要求，所以在构建系统时，他们倾向于遵循通用的方法。例如，他们可能会选择将所有与深度学习模型开发相关的工作抽象给数据科学家，而只专注于自动化。所以他们建立的系统依赖于传统的作业调度系统或商业智能数据分析系统，这些系统并没有针对深度学习训练作业的运行方式进行优化，也没有针对深度学习特定的数据访问模式进行优化。因此，该系统很难用于模型开发，并且模型运输速度很慢。本质上，对深度学习缺乏深刻理解的工程师被要求建立支持深度学习模型的系统。因此，这些开发人员是低效且不适合DL系统的工程系统。</p><p id="6dda" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">我们的目标是帮助那些开发者和工程师设计和构建更有效的系统来支持深度学习。这些开发人员——或者希望进入深度学习领域的开发人员——应该了解深度学习系统是如何设计和组装的，以及如何:收集相关需求，将需求转化为系统组件设计选择，并将组件集成在一起，形成一个对所有用户都适用的内聚系统。</p><p id="7c11" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">第一步是从整体上理解支持深度学习模型和深度学习产品开发的系统。这就是我们在这里要看的——一个典型的、通用的深度学习系统及其所有组件。</p><p id="624b" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">先来一张图。在图1中，您将看到一个典型的基本深度学习系统的概述。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="er es km"><img src="../Images/8b72148a5a20186cc49206344b10a2e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gFaTEPE6XxgfXnA7.png"/></div></div><figcaption class="ky kz et er es la lb bd b be z dx translated">图一。典型深度学习系统的概述，包括支持深度学习开发周期的基本组件。在后面的章节中，我们将详细讨论每个组件，并解释它们是如何融入这个大画面的。</figcaption></figure><p id="8ad9" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">所讨论的系统被定义为虚线框内的所有矩形框，以及它的应用编程接口(API)。这些方框分别代表一个系统组件:</p><ul class=""><li id="815c" class="lc ld hi jk b jl jm jo jp jr le jv lf jz lg kd lh li lj lk bi translated">应用编程接口</li><li id="819a" class="lc ld hi jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk bi translated">数据集管理器</li><li id="fe35" class="lc ld hi jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk bi translated">模特教练</li><li id="6315" class="lc ld hi jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk bi translated">模型服务器</li><li id="0765" class="lc ld hi jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk bi translated">元数据和工件存储</li><li id="bf6e" class="lc ld hi jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk bi translated">工作流管理器</li><li id="de38" class="lc ld hi jk b jl ll jo lm jr ln jv lo jz lp kd lh li lj lk bi translated">模型度量存储</li></ul><p id="cc86" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">在本书中，我们假设它们是微服务。这提供了一个方便的假设，即这些组件可以合理安全地支持具有不同角色的多个用户，并且可以通过网络或互联网轻松访问。然而，这本书不会涵盖微服务如何设计或构建的所有工程方面。我们将重点讨论与深度学习相关的细节。</p><h2 id="d23e" class="lq lr hi bd ls lt lu lv lw lx ly lz ma jr mb mc md jv me mf mg jz mh mi mj ho bi translated"><strong class="ak"> <em class="jg">托管服务</em> </strong></h2><p id="18b8" class="pw-post-body-paragraph ji jj hi jk b jl mk is jn jo ml iv jq jr mm jt ju jv mn jx jy jz mo kb kc kd hb bi translated">你可能想知道是否需要自己设计、构建和托管所有深度学习系统组件。事实上，他们有开源和托管的替代品。我们希望在您学习了每个组件的基础知识之后，它们如何适应大环境，以及它们如何被不同的角色使用，将帮助您为您的用例做出最佳决策。</p><p id="d35d" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">让我们快速浏览一下系统组件，如图1所示。</p><h2 id="3dbf" class="lq lr hi bd ls lt lu lv lw lx ly lz ma jr mb mc md jv me mf mg jz mh mi mj ho bi translated">应用程序界面</h2><p id="13cf" class="pw-post-body-paragraph ji jj hi jk b jl mk is jn jo ml iv jq jr mm jt ju jv mn jx jy jz mo kb kc kd hb bi translated">我们深度学习系统的入口是一个可通过网络访问的应用编程接口(API)。我们选择API是因为系统不仅需要支持人类用户界面，还需要支持应用程序和可能的其他系统。</p><p id="ad4f" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">虽然从概念上来说，API是系统的单一入口点，但是完全有可能将API定义为每个组件提供的所有API的总和，而不需要额外的层来将所有内容聚合在单个服务端点下。在本书中，我们将直接使用每个组件提供的所有API的总和，为了简单起见，跳过了聚合。</p><h2 id="efc2" class="lq lr hi bd ls lt lu lv lw lx ly lz ma jr mb mc md jv me mf mg jz mh mi mj ho bi translated">数据集管理器</h2><p id="fa83" class="pw-post-body-paragraph ji jj hi jk b jl mk is jn jo ml iv jq jr mm jt ju jv mn jx jy jz mo kb kc kd hb bi translated">在可以训练模型之前，已经存在数据。数据集管理器的工作是帮助将数据组织成数据集单元。这些数据集的大小是有限的，并且用描述它们的元数据进行标记，例如，该数据集包含由某种算法编码的图像。数据集的数据和元数据都可以在模型训练期间使用。</p><p id="67dd" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">也许一个特别重要的标注是数据集版本化的支持。由于深度学习是一种垃圾进垃圾出的业务，而数据是深度学习系统产生的几乎所有副作用的来源，因此能够追踪导致不良变化的源头至关重要。</p><h2 id="6262" class="lq lr hi bd ls lt lu lv lw lx ly lz ma jr mb mc md jv me mf mg jz mh mi mj ho bi translated">模特教练</h2><p id="2ac8" class="pw-post-body-paragraph ji jj hi jk b jl mk is jn jo ml iv jq jr mm jt ju jv mn jx jy jz mo kb kc kd hb bi translated">一旦你有了好的数据，合乎逻辑的下一步就是对它们进行训练以产生一个模型。大部分功能是由TensorFlow或PyTorch等框架提供的，在本书中我们不打算重新发明。相反，我们将关注如何在资源受限的情况下高效、安全地执行模型训练，并探索高级训练技术，如超参数调整、分布式训练。我们还将讨论对多个模型进行训练并比较其性能的实验。</p><h2 id="39ad" class="lq lr hi bd ls lt lu lv lw lx ly lz ma jr mb mc md jv me mf mg jz mh mi mj ho bi translated">模型服务器</h2><p id="d4b3" class="pw-post-body-paragraph ji jj hi jk b jl mk is jn jo ml iv jq jr mm jt ju jv mn jx jy jz mo kb kc kd hb bi translated">一旦模型被训练，它们可以被用来对训练者以前没有看到的数据进行推断。类似于训练，许多框架提供了使用在同一框架内产生的模型产生推理的功能。同样，在本书中，我们不打算解释如何从模型中产生推论。相反，我们将把重点放在能够为多个模型提供高流量的服务架构上。</p><h2 id="689e" class="lq lr hi bd ls lt lu lv lw lx ly lz ma jr mb mc md jv me mf mg jz mh mi mj ho bi translated">元数据和工件存储</h2><p id="e8e1" class="pw-post-body-paragraph ji jj hi jk b jl mk is jn jo ml iv jq jr mm jt ju jv mn jx jy jz mo kb kc kd hb bi translated">这是存储训练器代码、推理代码和训练模型以及描述它们的元数据的存储区。这些元数据有助于保持数据集、训练器代码、推理代码、训练模型、推理和度量之间的关系，以在系统中提供完整的可追溯性。某些静态度量，例如模型训练度量，也可以驻留在该存储中。在本书的后面，我们将讨论这个商店对于实验和高级训练技术的重要性。</p><h2 id="edfc" class="lq lr hi bd ls lt lu lv lw lx ly lz ma jr mb mc md jv me mf mg jz mh mi mj ho bi translated">工作流管理器</h2><p id="d403" class="pw-post-body-paragraph ji jj hi jk b jl mk is jn jo ml iv jq jr mm jt ju jv mn jx jy jz mo kb kc kd hb bi translated">工作流管理器是将系统内所有执行联系在一起的粘合剂。一个典型的例子是</p><ol class=""><li id="541c" class="lc ld hi jk b jl jm jo jp jr le jv lf jz lg kd mp li lj lk bi translated">检测新数据集的创建</li><li id="28d2" class="lc ld hi jk b jl ll jo lm jr ln jv lo jz lp kd mp li lj lk bi translated">针对新数据集启动模型培训</li><li id="e58d" class="lc ld hi jk b jl ll jo lm jr ln jv lo jz lp kd mp li lj lk bi translated">基于通过一些预定义的标准，将训练好的模型部署到模型服务器</li></ol><p id="58cd" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">我们还将讨论该组件如何帮助高级场景，如实验和超参数调优自动化。</p><h2 id="f531" class="lq lr hi bd ls lt lu lv lw lx ly lz ma jr mb mc md jv me mf mg jz mh mi mj ho bi translated">模型度量存储</h2><p id="50ae" class="pw-post-body-paragraph ji jj hi jk b jl mk is jn jo ml iv jq jr mm jt ju jv mn jx jy jz mo kb kc kd hb bi translated">与可能存在于元数据和工件存储中的静态模型训练度量相比，模型度量存储保存从服务模型生成的时间序列度量。在本书中，我们不会讨论如何构建商店，但会讨论应该获取的重要指标，并探索可用于存储它们的现有选项。</p><p id="e3b5" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">现在你已经知道了组成深度学习系统的组件，你已经准备好开始设计和构建这些组件了！</p><p id="e2a1" class="pw-post-body-paragraph ji jj hi jk b jl jm is jn jo jp iv jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">感谢阅读。</p></div></div>    
</body>
</html>