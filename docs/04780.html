<html>
<head>
<title>The Replacements JavaScript Algorithm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">替代JavaScript算法</h1>
<blockquote>原文：<a href="https://medium.com/codex/the-replacements-javascript-algorithm-6df5e2c30724?source=collection_archive---------6-----------------------#2022-01-06">https://medium.com/codex/the-replacements-javascript-algorithm-6df5e2c30724?source=collection_archive---------6-----------------------#2022-01-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/534de6fd4ef5a2183242348a3eeb307a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wQ6LUmO2Xgknl22k.jpg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来自《纽约客》</figcaption></figure><p id="4699" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在之前的帖子中，我分享了我是如何<a class="ae js" rel="noopener" href="/codex/seek-and-destroy-the-javascript-algorithm-8d028a2770dd">寻找并摧毁</a>的。我还分享了如何使用正则表达式改变音节，并在电脑上做一个<a class="ae js" rel="noopener" href="/codex/pig-latin-caribbean-jeringoza-on-javascript-d5bc88a75e0a">猪拉丁</a>游戏。这一次，我想分享如何对一串数据进行替换。我们来做替换算法，两种不同的方式。</p><h1 id="4bb4" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">解决方案1 —使用。替换()</h1><p id="29aa" class="pw-post-body-paragraph iu iv hi iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr hb bi translated">在这个解决方案中，我们将使用<code class="du kw kx ky kz b"><a class="ae js" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf" rel="noopener ugc nofollow" target="_blank">.indexOf()</a></code>和<code class="du kw kx ky kz b"><a class="ae js" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase" rel="noopener ugc nofollow" target="_blank">.charAt()</a></code>来编写<code class="du kw kx ky kz b"><a class="ae js" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace" rel="noopener ugc nofollow" target="_blank">.replace()</a></code>算法，并使用<code class="du kw kx ky kz b"><a class="ae js" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charAt" rel="noopener ugc nofollow" target="_blank">.toUpperCase(</a></code> <a class="ae js" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charAt" rel="noopener ugc nofollow" target="_blank"> ) </a>和<code class="du kw kx ky kz b"><a class="ae js" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase" rel="noopener ugc nofollow" target="_blank">.toLowerCase()</a></code>来操作字符串上的字符。</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="fde3" class="li ju hi kz b fi lj lk l ll lm">const index = str.indexOf(before);</span></pre><p id="80d7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们首先创建一个变量，它将在字符串中“before”所在的位置查找索引。</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="81c1" class="li ju hi kz b fi lj lk l ll lm">if (str[index] === str[index].toUpperCase()) {<br/>  after = after.charAt(0).toUpperCase() + after.slice(1) ||     after.charAt(0).toLowerCase()<br/>}</span></pre><p id="3f7f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这个条件语句中，如果“before”单词以大写字符开始，我们将“after”单词的第一个字母改为大写字符。</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="a31a" class="li ju hi kz b fi lj lk l ll lm">return str.replace(before, after);</span></pre><p id="bc09" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">然后，我们将要求计算机把替换品还给我们。</p><p id="5528" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">以下是完整版本:</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="99ca" class="li ju hi kz b fi lj lk l ll lm">function theReplacement1(str, before, after) {<br/>   const index = str.indexOf(before);<br/>   <br/>   if (str[index] === str[index].toUpperCase()) {<br/>       after = after.charAt(0).toUpperCase() + after.slice(1) ||     after.charAt(0).toLowerCase()<br/>}</span><span id="33df" class="li ju hi kz b fi ln lk l ll lm">   return str.replace(before, after);<br/>};</span></pre><p id="9b8d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果我们用下面的字符串运行代码。</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="6d9f" class="li ju hi kz b fi lj lk l ll lm">theReplacement1("The Replacements: Punk Rock band from Minnesota.", "Punk", "alternative")</span></pre><p id="548c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">将返回关于一个乐队离开他们的DIY根源的信息。</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="772d" class="li ju hi kz b fi lj lk l ll lm">The Replacements: Alternative Rock band from Minnesota.</span></pre><figure class="la lb lc ld fd ij"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">这真是一团糟！</figcaption></figure><h2 id="f3de" class="li ju hi bd jv lq lr ls jz lt lu lv kd jf lw lx kh jj ly lz kl jn ma mb kp mc bi translated">解决方案2 —使用。分裂和。加入</h2><p id="7b8e" class="pw-post-body-paragraph iu iv hi iw b ix kr iz ja jb ks jd je jf kt jh ji jj ku jl jm jn kv jp jq jr hb bi translated">如果我告诉你还有其他方法呢？不过。replace看起来非常简单，你永远不知道你是否遇到过这样的代码:使用<code class="du kw kx ky kz b"><a class="ae js" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/split" rel="noopener ugc nofollow" target="_blank">.split()</a></code>方法将字符串切割成片段，然后使用<code class="du kw kx ky kz b"><a class="ae js" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join" rel="noopener ugc nofollow" target="_blank">.join()</a></code>得到它们将在该字符串中替换的单词。使用这些方法比我们想象的要普遍得多。</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="ff91" class="li ju hi kz b fi lj lk l ll lm">const index = str.indexOf(before);</span><span id="9826" class="li ju hi kz b fi ln lk l ll lm">if (str[index] === before[0].toUpperCase()) {<br/>   after = after[0].toUpperCase() + after.slice(1)<br/>}</span></pre><p id="36ba" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">像前面的解决方案一样，我们定位了<code class="du kw kx ky kz b">before</code>这个词的索引。接下来是条件语句，它是我们之前的一个更短的版本，对大写字母做了同样的事情。</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="4108" class="li ju hi kz b fi lj lk l ll lm">return str.split(before).join(after);</span></pre><p id="b126" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们将用split和join方法返回调用它的字符串，以便计算机返回包含我们想要的更改的字符串。</p><p id="ca53" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是一个完整的函数。看看JavaScript能有多好看。</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="b7a0" class="li ju hi kz b fi lj lk l ll lm">function theReplacement2(str, before, after) {<br/>   const index = str.indexOf(before);<br/>   <br/>   if (str[index] === before[0].toUpperCase()) {<br/>      after = after[0].toUpperCase() + after.slice(1)<br/>   }<br/>   return str.split(before).join(after);<br/>}</span></pre><p id="fc51" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所以如果我运行这个函数，在字符串中写下这个语句:</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="f89b" class="li ju hi kz b fi lj lk l ll lm">theReplacement2(“The Replacements is the best band to ever come out of Minnesota.”, “The Replacements”, “hüsker Dü”);</span></pre><p id="9723" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">电脑会帮我修好的:</p><pre class="la lb lc ld fd le kz lf lg aw lh bi"><span id="a391" class="li ju hi kz b fi lj lk l ll lm">Hüsker Dü is the best band to ever come out of Minnesota.</span></pre><figure class="la lb lc ld fd ij"><div class="bz dy l di"><div class="lo lp l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我很抱歉，但是Hüsker Dü是最好的乐队。</figcaption></figure><p id="e9b5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如你所见，这只是两种方法。但像许多其他算法一样，有更多的方法来替换和更改字符串。还有强大的<code class="du kw kx ky kz b"><a class="ae js" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replaceAll" rel="noopener ugc nofollow" target="_blank">.replaceAll()</a></code>，可以用来代替破折号和其他活动的空格。</p><p id="23db" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我希望您喜欢这两个解决方案，并学到一些新的东西来实践代码或在您的项目中实现。</p><p id="a2e9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">编码快乐！</p><h1 id="6d6e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">摘要</h1><ol class=""><li id="7e0d" class="md me hi iw b ix kr jb ks jf mf jj mg jn mh jr mi mj mk ml bi translated">替换算法简介。</li><li id="7035" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">使用<code class="du kw kx ky kz b">.replace()</code>的解决方案</li><li id="03a6" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">使用<code class="du kw kx ky kz b">.split()</code>和<code class="du kw kx ky kz b">.join()</code>的解决方案</li><li id="f688" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">结论</li></ol><h1 id="b009" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">参考</h1><ol class=""><li id="3ffe" class="md me hi iw b ix kr jb ks jf mf jj mg jn mh jr mi mj mk ml bi translated">MDN网络文档，<a class="ae js" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" rel="noopener ugc nofollow" target="_blank">字符串</a></li></ol></div></div>    
</body>
</html>