<html>
<head>
<title>Script Communication in Unity using GetComponent</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GetComponent编写Unity中的通信脚本</h1>
<blockquote>原文：<a href="https://medium.com/codex/script-communication-in-unity-using-getcomponent-ca4444bfec6?source=collection_archive---------6-----------------------#2021-04-01">https://medium.com/codex/script-communication-in-unity-using-getcomponent-ca4444bfec6?source=collection_archive---------6-----------------------#2021-04-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ih ii ij ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es ig"><img src="../Images/4eb6e97d48378f3a8b0fd59408cfaa94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JXVxXHmBaFz-V0OjwR3NzA.gif"/></div></div></figure><p id="72f2" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在编程时，我们的脚本需要相互交互，引用游戏对象，并高效地移动数据。在本文中，我们将探讨如何使用GetComponent在两个脚本之间进行有效的通信。</p></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="47fb" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">假设您想从<strong class="it hj">脚本A </strong>访问一个变量或方法，并从<strong class="it hj">脚本B </strong>调用它。为此，我们需要创建对所需脚本的引用。</p><figure class="jx jy jz ka fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es jw"><img src="../Images/ced8f488a17f5e949c44ca884ae1c07f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sfXG-QpOkNhI1C5pJr6sPA.gif"/></div></div></figure><p id="a081" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在下面的例子中，<strong class="it hj"> Beam </strong>是脚本的实际名称，而<strong class="it hj"> _beam </strong>是存储它的变量。这个变量将成为全局变量，并在脚本B(想要访问另一个脚本的脚本)中初始化。</p><figure class="jx jy jz ka fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kb"><img src="../Images/4fde24a002a346e4f8cfa4efc5cae483.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bLK_tmQW4szvKfLmwlPSkw.png"/></div></div></figure><p id="7608" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">要使用该脚本，您需要在它所附加的对象中找到它，这就是GetComponent的用武之地。<a class="ae kc" href="https://docs.unity3d.com/ScriptReference/GameObject.GetComponents.html" rel="noopener ugc nofollow" target="_blank"> <strong class="it hj"> GetComponent </strong> </a>函数在指定对象中搜索与我们指定的类型相匹配的组件。如果没有找到这样的组件，则返回一个空引用。</p><p id="8837" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">该搜索在<strong class="it hj"> void Start() </strong>功能中执行。</p><figure class="jx jy jz ka fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kd"><img src="../Images/2f4d85d6e991282c783a2b20458437ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lwc5Z39iG-xlWrFQ8zfPAA.png"/></div></div></figure><blockquote class="ke kf kg"><p id="2f19" class="ir is kh it b iu iv iw ix iy iz ja jb ki jd je jf kj jh ji jj kk jl jm jn jo hb bi translated"><strong class="it hj">最佳实践提示:</strong>您应该始终检查组件是否可用，如果找不到组件，这个<strong class="it hj"> if语句</strong>将显示一条错误日志消息。</p></blockquote><figure class="jx jy jz ka fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kl"><img src="../Images/dc78759050f8777b6683c12c903c7668.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xa8pnfyvLiuOhs1jdfIdnw.png"/></div></div></figure><p id="00d0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">有了参考集，就该访问脚本了。这可以简单地通过输入你的引用变量，后跟你试图调用的方法名来完成。</p><figure class="jx jy jz ka fd ik er es paragraph-image"><div class="er es km"><img src="../Images/3de50dcad4cdefd4251051f165a24db8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*dRhjjp9g11274IC2ehHomg.png"/></div></figure></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="83a6" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在这个例子中，如果用户按下空格键，前面提到的脚本通信被用来从Beam脚本中调用一个方法。</p><figure class="jx jy jz ka fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kn"><img src="../Images/49d7fc92516532c882c6a5496716e5d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sl-xUZzjOr2T8pcvR_Dy_Q.png"/></div></div></figure><figure class="jx jy jz ka fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es ko"><img src="../Images/fd18c8a15bfca3060c2d49638fed2b67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ldtRWS3bG0FasREucniyFw.gif"/></div></div></figure></div><div class="ab cl jp jq gp jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="hb hc hd he hf"><p id="9782" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在下一篇文章中，我们将看看<a class="ae kc" rel="noopener" href="/codex/coroutines-with-unity-b5a2b3fc3426">协程</a>！</p></div></div>    
</body>
</html>