<html>
<head>
<title>The Quickest Way to Create Company Database Using SQL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SQL创建公司数据库的最快方法</h1>
<blockquote>原文：<a href="https://medium.com/codex/the-quickest-way-to-create-company-database-using-sql-f0033fdc02e7?source=collection_archive---------6-----------------------#2022-06-14">https://medium.com/codex/the-quickest-way-to-create-company-database-using-sql-f0033fdc02e7?source=collection_archive---------6-----------------------#2022-06-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/077975ad7734e1b930085dbd98c7292a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6PmBUNoJcM_jfewZ6zaFVg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://blog.fyself.com/how-to-manage-a-company-database/" rel="noopener ugc nofollow" target="_blank">https://blog.fyself.com/how-to-manage-a-company-database/</a></figcaption></figure><p id="6875" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated">每个公司都有自己的数据库，包括他们的销售额、员工人数、客户数量等。企业和其他组织使用SQL程序来访问和操作数据库中的信息和数据，以及创建和更改新表。</p><p id="2534" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="kc">在这里</em>，我们将学习如何使用MySQL模式创建公司数据库。稍后，我们将看到如何改变表格和使用一些函数来获得想要的结果，以学习更多的MySQL基础知识。</p><p id="7f76" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">MySQL模式是一组包含行和列的表，允许用户查询数据库。它是一个数据库模板，指定数据的大小、类型和分组。数据类型、函数和操作符都是MySQL模式的一部分。</p><figure class="ke kf kg kh fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/132535afc3456b184489b72bab1a69ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_kj5ghMiVeNx4AGgjd4DTw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">(图1.0)红色列—主键，绿色列—外键</figcaption></figure><p id="5479" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们以给定的公司数据库为例(图1.0)。现在，我们如何把这个数据库变成一个MySQL数据库？</p><p id="958a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们开始吧。。。</p><p id="8eb8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">主键用于确保每列的值是唯一的。外键将两个表连接在一起。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="c5c6" class="kn ko hi kj b fi kp kq l kr ks">CREATE TABLE employee ( </span><span id="b49d" class="kn ko hi kj b fi kt kq l kr ks">employee.emp_id INT PRIMARY KEY,</span><span id="8086" class="kn ko hi kj b fi kt kq l kr ks">employee.first_name VARCHAR(40),</span><span id="26e4" class="kn ko hi kj b fi kt kq l kr ks">employee.last_name VARCHAR(40),</span><span id="4e57" class="kn ko hi kj b fi kt kq l kr ks">employee.birth_day DATE,</span><span id="a286" class="kn ko hi kj b fi kt kq l kr ks">employee.sex VARCHAR(1),</span><span id="c2cc" class="kn ko hi kj b fi kt kq l kr ks">employee.salary INT,</span><span id="eab2" class="kn ko hi kj b fi kt kq l kr ks">employee.super_id INT,</span><span id="6326" class="kn ko hi kj b fi kt kq l kr ks">employee.branch_id INT );</span></pre><p id="403e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将创建该雇员表。我们的员工ID是一个整数。这将成为表的主键。然后是名、姓和出生日期。因此，生日实际上是一个格式为(YYYY-MM_DD)的日期。VARCHAR数据类型是一种SQL数据类型，用于存储可变长度但不超过给定最大长度的字符串。Super_id是一个外键，它引用了employee表中的另一个雇员。此外，branch_ID是引用分支表的外键。</p><p id="d2d0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在情况是这样的，我们还不能制作这些外键，因为数据库中不存在雇员表。<br/>我们还没有生成分支表，所以技术上不存在。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="81a5" class="kn ko hi kj b fi kp kq l kr ks">CREATE TABLE branch ( </span><span id="3fe0" class="kn ko hi kj b fi kt kq l kr ks">branch_id INT PRIMARY KEY, </span><span id="5697" class="kn ko hi kj b fi kt kq l kr ks">branch_name VARCHAR(40), </span><span id="1864" class="kn ko hi kj b fi kt kq l kr ks">mgr_id INT, </span><span id="0fda" class="kn ko hi kj b fi kt kq l kr ks">mgr_start_date DATE, </span><span id="88bf" class="kn ko hi kj b fi kt kq l kr ks">FOREIGN KEY(mgr_id) REFERENCES employee(emp_id) ON DELETE SET NULL ); </span><span id="845f" class="kn ko hi kj b fi kt kq l kr ks">ALTER TABLE employee </span><span id="7f84" class="kn ko hi kj b fi kt kq l kr ks">ADD FOREIGN KEY(branch_id) </span><span id="1177" class="kn ko hi kj b fi kt kq l kr ks">REFERENCES branch(branch_id) </span><span id="adc4" class="kn ko hi kj b fi kt kq l kr ks">ON DELETE SET NULL; </span><span id="0c25" class="kn ko hi kj b fi kt kq l kr ks">ALTER TABLE employee </span><span id="2ace" class="kn ko hi kj b fi kt kq l kr ks">ADD FOREIGN KEY(super_id) REFERENCES employee(emp_id) ON DELETE SET NULL;</span></pre><p id="3238" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将使用创建表分支。因此，它有一个作为主键的分支id，以及一个分支名称和一个经理ID。经理ID也是一个外键。因此，我们将经理ID定义为指向雇员表的外键。然后是日期，这是经理的开始日期。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="e7b3" class="kn ko hi kj b fi kp kq l kr ks">CREATE TABLE client ( </span><span id="d9c9" class="kn ko hi kj b fi kt kq l kr ks">client_id INT PRIMARY KEY, </span><span id="d90b" class="kn ko hi kj b fi kt kq l kr ks">client_name VARCHAR(40), </span><span id="faa8" class="kn ko hi kj b fi kt kq l kr ks">branch_id INT, </span><span id="552c" class="kn ko hi kj b fi kt kq l kr ks">FOREIGN KEY(branch_id) REFERENCES branch(branch_id) ON DELETE SET NULL );</span></pre><p id="051b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，您会注意到这里的CREATE TABLE客户端。我们将通过将客户端id存储为主键、客户端名称和分支id，使分支id成为外键。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="cd75" class="kn ko hi kj b fi kp kq l kr ks">CREATE TABLE works_with ( </span><span id="d540" class="kn ko hi kj b fi kt kq l kr ks">emp_id INT, client_id INT, </span><span id="aca2" class="kn ko hi kj b fi kt kq l kr ks">total_sales INT, </span><span id="7aeb" class="kn ko hi kj b fi kt kq l kr ks">PRIMARY KEY(emp_id, client_id), </span><span id="ab06" class="kn ko hi kj b fi kt kq l kr ks">FOREIGN KEY(emp_id) REFERENCES employee(emp_id) ON DELETE CASCADE, </span><span id="1bd6" class="kn ko hi kj b fi kt kq l kr ks">FOREIGN KEY(client_id) REFERENCES client(client_id) ON DELETE CASCADE );</span></pre><p id="e0fd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来是工作表。因为它有一个复合主键，所以使用table实际上很特别。<br/>员工ID和客户ID存储在主键中。事实上，主键的每个组件都是一个外键，这就是它的独特之处。因此，emp_id和Client_id是一个外键。</p><pre class="ke kf kg kh fd ki kj kk kl aw km bi"><span id="e15a" class="kn ko hi kj b fi kp kq l kr ks"><strong class="kj hj">CREATE TABLE branch_supplier ( </strong></span><span id="0867" class="kn ko hi kj b fi kt kq l kr ks"><strong class="kj hj">branch_id INT, </strong></span><span id="a409" class="kn ko hi kj b fi kt kq l kr ks"><strong class="kj hj">supplier_name VARCHAR(40), </strong></span><span id="d599" class="kn ko hi kj b fi kt kq l kr ks"><strong class="kj hj">supply_type VARCHAR(40), </strong></span><span id="7efb" class="kn ko hi kj b fi kt kq l kr ks"><strong class="kj hj">PRIMARY KEY(branch_id, supplier_name), </strong></span><span id="118d" class="kn ko hi kj b fi kt kq l kr ks"><strong class="kj hj">FOREIGN KEY(branch_id) REFERENCES branch(branch_id) ON DELETE CASCADE );</strong></span></pre><p id="53d0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，我们将建立分支供应商表，这将是我们的最后一个表。这在几个方面可以与table的作品相媲美。还有一个组合键。因此，它的键由几列组成。虽然分支id字段是外键，但供应商名称列不是。</p><p id="d52f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">企业不仅利用SQL存储信息，还检索和操作数据。我们已经学习了如何使用各种函数和主键、外键以及不同类型的数据类型(VARCHAR、INT、DATE等)的概念在公司数据库中创建表。).</p><p id="c252" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="kc">所以，</em></p><p id="b52b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我们已经创建了所有这些表。我们为数据库模式创建了所有的表。我们现在要做的实际上是将数据放入这些表中，这只有通过特定的方式才能实现，因为创建的所有表都有引用另一个表的外键关系。</p><p id="05af" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我将向你们展示我们可能如何做这样的事情，这也会让你们知道如何去做。查看使用SQL将数据插入数据库的链接。</p></div></div>    
</body>
</html>