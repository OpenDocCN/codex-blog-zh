<html>
<head>
<title>A Guide to MySQL JOINS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MySQL联接指南</h1>
<blockquote>原文：<a href="https://medium.com/codex/a-guide-to-mysql-joins-7d1423fdaffd?source=collection_archive---------22-----------------------#2021-09-08">https://medium.com/codex/a-guide-to-mysql-joins-7d1423fdaffd?source=collection_archive---------22-----------------------#2021-09-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/21a3fd75b3b5490f0193b7feb011b33a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kiBhs3KHSl0SXchp"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@lazycreekimages?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">迈克尔·泽兹奇</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="e42d" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">介绍</h1><p id="0625" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated"><strong class="jv hj">在单个查询中，利用连接从多个表中获取数据。</strong>在MySQL中，JOINS聚合来自多个表的数据，并将其作为一个结果。关系数据库中的每个表都包含唯一的或公共的数据，并且每个表都是逻辑连接的。联接用于从共享一个公共字段的表中获取数据。</p><h2 id="45a6" class="kr iw hi bd ix ks kt ku jb kv kw kx jf ke ky kz jj ki la lb jn km lc ld jr le bi translated"><strong class="ak">MySQL中的JOINS是什么？</strong></h2><p id="f209" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在MySQL中，<code class="du lf lg lh li b">JOIN</code>语句是一种基于数据库中几个表的公共字段值来连接这些表之间的数据的技术。相同的列名和数据类型通常作为公共值出现在被链接的表中。连接键或公共键指的是共享列。<code class="du lf lg lh li b">SELECT</code>、<code class="du lf lg lh li b">UPDATE</code>和<code class="du lf lg lh li b">DELETE</code>命令都可以使用连接。</p><h2 id="1d88" class="kr iw hi bd ix ks kt ku jb kv kw kx jf ke ky kz jj ki la lb jn km lc ld jr le bi translated">连接入门</h2><p id="9788" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">MySQL联接类型指定了查询中两个表的链接方式。内部连接、外部连接和交叉连接是MySQL支持的三种类型的连接子句。左连接和右连接是两种不同类型的外部连接。为了更直观地展示连接是如何操作的，我们需要<a class="ae iu" href="https://docs.arctype.com/managing-tables/creating-a-table" rel="noopener ugc nofollow" target="_blank">创建一个新的模式</a>并插入一些样本数据。</p><pre class="lj lk ll lm fd ln li lo lp aw lq bi"><span id="1c93" class="kr iw hi li b fi lr ls l lt lu">CREATE TABLE Users (<br/>    UserID int,<br/>    UserName varchar(255),<br/>    Password varchar(255),<br/>    isActive boolean<br/>);<br/><br/>CREATE TABLE Userprofile (<br/>    ProfileID int,<br/>    LastName varchar(255),<br/>    FirstName varchar(255),<br/>    Email varchar(255),<br/>    Phone varchar(255)<br/>);</span></pre><p id="f991" class="pw-post-body-paragraph jt ju hi jv b jw lv jy jz ka lw kc kd ke lx kg kh ki ly kk kl km lz ko kp kq hb bi translated">接下来我们要做的是向其中插入一些数据。您可以向表中插入任意数量的用户。</p><pre class="lj lk ll lm fd ln li lo lp aw lq bi"><span id="5292" class="kr iw hi li b fi lr ls l lt lu">INSERT INTO Users<br/>	(UserID, UserName,Password, isActive)<br/>VALUES<br/>	(1,'krofax','krofax1234', true);<br/><br/>INSERT INTO userprofile<br/>	(profileid, lastname, firstname, email, phone)<br/>VALUES<br/>	(1,'Ada', 'George', 'adageorge@gmail.com','1290003456');</span></pre><h1 id="2103" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">MySQL内部连接子句</h1><p id="601f" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">使用内部联接只检索常见的匹配记录。INNER JOIN子句将从表A和表B中检索的记录限制为满足连接要求的记录。这是最常用的连接类型。检查下面的文氏图，以便更好地理解内部连接。</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/ab47fb890ade12438dd8559e88be5765.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*71JjGazkQ51bhR5A.png"/></div></div></figure><p id="11d6" class="pw-post-body-paragraph jt ju hi jv b jw lv jy jz ka lw kc kd ke lx kg kh ki ly kk kl km lz ko kp kq hb bi translated">以下是MySQL内部连接的语法:</p><pre class="lj lk ll lm fd ln li lo lp aw lq bi"><span id="2f45" class="kr iw hi li b fi lr ls l lt lu">SELECT <br/>	columns<br/>FROM <br/>	tableA <br/>INNER JOIN tableB<br/>	ON tableA.column = tableB.column;</span></pre><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/b58645f4e81cce078ba779aee876a913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*z5DfP-no5NPR3Dg6.png"/></div></div></figure><h2 id="086a" class="kr iw hi bd ix ks kt ku jb kv kw kx jf ke ky kz jj ki la lb jn km lc ld jr le bi translated">MySQL外部连接</h2><p id="ecaa" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">与内部联接相比，外部联接会产生不匹配的记录以及匹配的行。如果关联表中的行不匹配，将显示空值。MySQL有两种不同形式的外部连接:MySQL左连接和MySQL右连接。让我们更详细地看一下它们。</p><h2 id="f9cf" class="kr iw hi bd ix ks kt ku jb kv kw kx jf ke ky kz jj ki la lb jn km lc ld jr le bi translated">MySQL左连接子句</h2><p id="32a3" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">左连接允许您从表A和表B中获取所有符合连接条件的条目。对于表A中不符合条件的记录，将显示空值。检查下面的文氏图，以便更好地理解左连接。</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/099a0c0d26f7529892d0fbc1fbba18d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wUzi4mavh0Xue66i.png"/></div></div></figure><p id="6a6b" class="pw-post-body-paragraph jt ju hi jv b jw lv jy jz ka lw kc kd ke lx kg kh ki ly kk kl km lz ko kp kq hb bi translated">以下是MySQL左连接的语法:</p><pre class="lj lk ll lm fd ln li lo lp aw lq bi"><span id="11e1" class="kr iw hi li b fi lr ls l lt lu">SELECT <br/>	columns<br/>FROM <br/>	tableA<br/>LEFT JOIN tableB<br/>	ON tableA.column = tableB.column;</span></pre><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/0ba4b0e1af195df7e5273fb63a52675e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*giRUnKca2cNaZlSc.png"/></div></div></figure><p id="acc7" class="pw-post-body-paragraph jt ju hi jv b jw lv jy jz ka lw kc kd ke lx kg kh ki ly kk kl km lz ko kp kq hb bi translated"><strong class="jv hj">注意:</strong><code class="du lf lg lh li b">LEFT JOIN</code>关键字返回左表(客户)中的所有记录，即使右表(订单)中没有匹配项。</p><h2 id="334b" class="kr iw hi bd ix ks kt ku jb kv kw kx jf ke ky kz jj ki la lb jn km lc ld jr le bi translated">MySQL右连接子句</h2><p id="d562" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">因此，右连接允许您从表B和表A中获取所有符合连接条件的条目。对于表B中不符合条件的记录，将显示空值。为了更好地理解右连接，请参见下面的文氏图。</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/27846ab0aa0b68339fe77cba3dcdf280.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NSWoyo7Gliy5GjvJ.png"/></div></div></figure><p id="f6bf" class="pw-post-body-paragraph jt ju hi jv b jw lv jy jz ka lw kc kd ke lx kg kh ki ly kk kl km lz ko kp kq hb bi translated">以下是MySQL右连接的语法:</p><pre class="lj lk ll lm fd ln li lo lp aw lq bi"><span id="e14b" class="kr iw hi li b fi lr ls l lt lu">SELECT <br/>	columns<br/>FROM <br/>	tableA<br/>RIGHT JOIN tableB<br/>	ON tableA.column = tableB.column;</span></pre><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/2134a85fe5abd40aadb253e9d6ed0db7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9K2S7nifncKlVZm0.png"/></div></div></figure><p id="1f65" class="pw-post-body-paragraph jt ju hi jv b jw lv jy jz ka lw kc kd ke lx kg kh ki ly kk kl km lz ko kp kq hb bi translated"><strong class="jv hj">注意:</strong><code class="du lf lg lh li b">RIGHT JOIN</code>关键字返回右表(雇员)中的所有记录，即使左表(订单)中没有匹配的记录。</p><h2 id="c04b" class="kr iw hi bd ix ks kt ku jb kv kw kx jf ke ky kz jj ki la lb jn km lc ld jr le bi translated">MySQL交叉连接子句</h2><p id="0aed" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">MySQL交叉连接，通常称为笛卡尔连接，从每个表中返回所有可能的行组合。如果没有提供额外的条件，则通过将表A中的每一行乘以表B中的所有行来获得结果集。检查下面的维恩图以了解有关交叉连接的更多信息。</p><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/73672996d4ef09b488014ce59a02d7b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Qql7ADGaNU530eNg.png"/></div></div></figure><p id="f32e" class="pw-post-body-paragraph jt ju hi jv b jw lv jy jz ka lw kc kd ke lx kg kh ki ly kk kl km lz ko kp kq hb bi translated">你认为你什么时候会需要这种加入？例如，假设您的任务是找到产品和颜色的所有可能组合。在这种情况下，交叉连接非常有用。</p><p id="50db" class="pw-post-body-paragraph jt ju hi jv b jw lv jy jz ka lw kc kd ke lx kg kh ki ly kk kl km lz ko kp kq hb bi translated"><strong class="jv hj">注意:</strong> <code class="du lf lg lh li b">CROSS JOIN</code>可能会产生相当大的结果集！</p><p id="471e" class="pw-post-body-paragraph jt ju hi jv b jw lv jy jz ka lw kc kd ke lx kg kh ki ly kk kl km lz ko kp kq hb bi translated">以下是MySQL交叉连接的语法:</p><pre class="lj lk ll lm fd ln li lo lp aw lq bi"><span id="499c" class="kr iw hi li b fi lr ls l lt lu">SELECT <br/>	columns<br/>FROM <br/>	tableA<br/>CROSS JOIN tableB;</span></pre><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/f30983a6cf54143170eba0d20d585597.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EGXYxFQuNaSwDe9S.png"/></div></div></figure><h1 id="8e99" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">加入的技巧</h1><p id="3b73" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在MySQL中，连接允许您执行单个连接查询，而不是许多简单的查询。因此，您将获得更高的速度、更低的服务器开销以及MySQL和您的应用程序之间更少的数据传输。与SQL Server不同，MySQL没有用于完全外部连接的独特连接类型。但是，您可以组合左外部联接和右外部联接，以获得与完全外部联接相同的效果。</p><pre class="lj lk ll lm fd ln li lo lp aw lq bi"><span id="1aff" class="kr iw hi li b fi lr ls l lt lu">SELECT <br/>	* <br/>FROM <br/>	tableA<br/>LEFT JOIN tableB <br/>	ON tableA.id = tableB.id<br/>UNION<br/>SELECT <br/>	* <br/>FROM <br/>	tableA<br/>RIGHT JOIN tableB <br/>	ON tableA.id = tableB.id</span></pre><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/18980b5108a608d144f35b14eea1f9db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Qj7DibyZTTAgpxUQ.png"/></div></div></figure><p id="6d03" class="pw-post-body-paragraph jt ju hi jv b jw lv jy jz ka lw kc kd ke lx kg kh ki ly kk kl km lz ko kp kq hb bi translated">使用MySQL联接，您还可以联接两个以上的表。</p><pre class="lj lk ll lm fd ln li lo lp aw lq bi"><span id="09f3" class="kr iw hi li b fi lr ls l lt lu">SELECT <br/>	*<br/>FROM <br/>	tableA<br/>LEFT JOIN tableB<br/>	ON tableA.id = tableB.id<br/>LEFT JOIN tableC<br/>	ON tableC.id = tableA.id;</span></pre><figure class="lj lk ll lm fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/a5793acbb1da33231885737a77fae216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*q4bSoNLX1VuYA1i3.png"/></div></div></figure><h2 id="f617" class="kr iw hi bd ix ks kt ku jb kv kw kx jf ke ky kz jj ki la lb jn km lc ld jr le bi translated">为什么联接有用？</h2><ul class=""><li id="87da" class="mf mg hi jv b jw jx ka kb ke mh ki mi km mj kq mk ml mm mn bi translated"><strong class="jv hj">快了很多</strong>。在单个查询中，联接允许您从两个或多个链接的数据库表中获取数据。连接非常有价值，因为它们比逐个运行查询来获得相同的结果节省了时间。</li><li id="5198" class="mf mg hi jv b jw mo ka mp ke mq ki mr km ms kq mk ml mm mn bi translated"><strong class="jv hj"> MySQL更高效</strong>。利用连接的另一个优点是MySQL性能更好，因为<a class="ae iu" href="https://arctype.com/blog/mysql-index-performance/" rel="noopener ugc nofollow" target="_blank">连接是通过索引</a>执行的。</li><li id="fa97" class="mf mg hi jv b jw mo ka mp ke mq ki mr km ms kq mk ml mm mn bi translated"><strong class="jv hj">使用联接降低了服务器负载</strong>。因为您执行一个查询，所以您会得到更好更快的结果。</li></ul><h1 id="050b" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">结论</h1><p id="1d15" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">任何分析师或DBA都必须牢固掌握连接，并在日常工作中自由使用它们。这正是Arctype for MySQL派上用场的时候。即使对于复杂的连接子句，其复杂的代码完成功能也可以完美地工作。Arctype for MySQL将为您提供一个完整的JOIN子句，因此您不必记住数百个列名或别名。它丰富的功能使得创建复杂的查询和管理连接条件变得轻而易举。</p></div></div>    
</body>
</html>