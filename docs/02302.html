<html>
<head>
<title>Software Naming— The Test of Time</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">软件命名——时间的考验</h1>
<blockquote>原文：<a href="https://medium.com/codex/software-naming-the-test-of-time-1f636bc309dd?source=collection_archive---------12-----------------------#2021-07-12">https://medium.com/codex/software-naming-the-test-of-time-1f636bc309dd?source=collection_archive---------12-----------------------#2021-07-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/56babfd307d503fd2f1c66723059199c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K5e9an0fLMbwQHxPJ-26Jw.png"/></div></div></figure><p id="8c5c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你将很难找到一个没有首选命名约定的有经验的软件工程师。这包括函数或方法名、类、文件、目录、项目、产品，或者我们讨论的任何潜在概念，或者我们源代码中的任何标识符。</p><p id="dcc2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇博文不是关于典型的命名惯例。我们不会讨论是使用<code class="du jo jp jq jr b">camelCase</code>还是<code class="du jo jp jq jr b">snake_case</code>，或者标识符是否应该包含一个名词，或者一个动词。我们不会详细说明如何用复数，或者用<code class="du jo jp jq jr b">Manager</code>或<code class="du jo jp jq jr b">Util</code>作为后缀是不是一个坏主意。互联网上充斥着关于这些话题的博客帖子。</p><p id="5a94" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">相反，我们将关注你的命名选择的长期影响。从现在起，您今天选择的标识符可能会在5到10年后仍在使用。大多数开发人员希望他们的软件可以长期使用，但是他们选择的标识符不能适应时间的流逝。这个讨论是基于20多年在软件行业看到这些问题的经验，所以问题是真实的！</p><p id="2786" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">非弹性名称有什么影响？老实说，有很多其他的技术债务你可以先关注，但是一旦你的产品成功和成熟，学习如何选择一个<em class="js">有弹性的</em>名字可以避免长期的困惑。</p><h1 id="983b" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">世界上有什么会改变？</h1><p id="fad4" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">为了说明时间的流逝，我们将使用一个SaaS应用程序的例子。想象一下<em class="js"> Kitty Incorporated </em>是一家小型软件公司，只有一个基于网络的产品<em class="js"> KittyPics </em>，允许客户上传和分享他们最喜欢的猫咪照片。</p><p id="4c7a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">以下是凯蒂公司生活中的一些事件:</p><ul class=""><li id="da17" class="kw kx hi is b it iu ix iy jb ky jf kz jj la jn lb lc ld le bi translated"><strong class="is hj">扩展网络流量</strong> —最初<em class="js"> KittyPics </em>只需要一台网络服务器，一个磁盘驱动器来存储图像。由于网站越来越受欢迎，现在需要多个web服务器和多个磁盘。</li><li id="29d9" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated"><strong class="is hj">项目来来去去</strong>——在成功服务猫影业后，一个新的内部项目(代号为<em class="js"> Tiger </em>)在<em class="js"> Kitty Inc </em>启动。老虎项目的目标是允许上传猫的视频，而不仅仅是照片。该项目为期六个月，所有代码都被添加到同一个<em class="js"> KittyPics </em>代码库中。</li><li id="c368" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated"><strong class="is hj">更大的灵活性</strong> —虽然最初版本的<em class="js"> KittyPics </em>做了一件事(而且做得很好)，但随着时间的推移，无数的新功能和配置设置被添加进来。用户现在有很多方法来调整他们的体验，需要更新代码中的算法。</li><li id="1eb6" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated"><strong class="is hj">改变技术</strong> —首席技术官认为维护大量磁盘驱动器不划算，因此启动了一个项目，使用S3存储桶将所有猫图片/视频转移到亚马逊网络服务。类似地，在MySQL中存储元数据也发生了转变，转而使用更具可伸缩性的DynamoDB数据库。</li><li id="956f" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated"><strong class="is hj">Kitty Inc .</strong>被收购——成功运营两年后，<em class="js">Kitty Inc .</em>被竞争对手——<em class="js">Cat Pictures Corporation</em>收购。</li><li id="8da4" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated"><strong class="is hj"> KittyPics更名</strong>——经过仔细的市场分析，决定将KittyPics更名为一个更时髦的名字:<em class="js"> SabreShots </em>。</li></ul><p id="0477" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些事件在软件产品的生命周期中很常见。我们现在将关注这些变化如何导致我们的标识符变得过时。如果它们过时了，代码会变得更难阅读，维护成本更高，因此增加了技术债务负担。</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div class="er es lk"><img src="../Images/9bfeba848aa5e10894c151db93c9ab1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*MWGixWmU0XGwuj1w0bmFag.png"/></div></figure><h1 id="3782" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">名字是如何变得混乱或不一致的</h1><p id="a120" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">让我们看看一些现实世界中的例子，看看我们选择的名字是如何变得令人困惑或不一致的，这主要是由于时间的流逝。对于每个例子，我们将看到一个命名选择，它在软件第一次编写时是有意义的，但在后来的时间里就不再有意义了。我们还会看到一个更能适应变化的名字的例子。</p><h2 id="1c21" class="lp ju hi bd jv lq lr ls jz lt lu lv kd jb lw lx kh jf ly lz kl jj ma mb kp mc bi translated">1 —期待新的实现，但避免称之为“新的”</h2><p id="8f3e" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">让我们从一个简单的例子开始。想象一下我们的<em class="js"> KittyPics </em>软件包含了一个在屏幕上自动定位猫图片的算法。该算法运行良好，但我们希望添加第二个算法，同时仍然保留第一个算法作为可选功能。</p><p id="8b50" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们从下面的代码开始:</p><pre class="ll lm ln lo fd md jr me mf aw mg bi"><span id="3e40" class="lp ju hi jr b fi mh mi l mj mk">def layoutAlgorithm { ... }</span></pre><p id="0d28" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将第二种算法定义为:</p><pre class="ll lm ln lo fd md jr me mf aw mg bi"><span id="f875" class="lp ju hi jr b fi mh mi l mj mk">def newLayoutAlgorithm { ... }</span></pre><p id="899c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">显然，这在从旧算法过渡到新算法时是有意义的，但随着时间的推移,<code class="du jo jp jq jr b">new</code>这个词变得不那么相关了。几年后，开发人员认为这两种实现都是“旧的”，并且没有任何关于算法实际上做什么的提示。还有，如果增加第三个实现，会不会叫<code class="du jo jp jq jr b">muchNewerLayoutAlgorithm</code>？</p><p id="7570" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更好的做法是以描述性的方式命名算法，以表明它们之间的区别。例如:</p><pre class="ll lm ln lo fd md jr me mf aw mg bi"><span id="e38b" class="lp ju hi jr b fi mh mi l mj mk">def gridLayoutAlgorithm { ... }<br/>def circularLayoutAlgorithm { ... }</span></pre><p id="b94d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些名字仍然与久而久之有关，因为它们的目的被很好地描述了，即使在它们的“新”消失多年之后。</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div class="er es ml"><img src="../Images/c0f1739535c8d8dcb545fb7f376521be.png" data-original-src="https://miro.medium.com/v2/resize:fit:370/format:webp/1*fDAZUWr8wLrZ1RMk6JUMag.png"/></div></figure><h2 id="0feb" class="lp ju hi bd jv lq lr ls jz lt lu lv kd jb lw lx kh jf ly lz kl jj ma mb kp mc bi translated">2 —记住名字比项目更持久</h2><p id="3cd3" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated"><em class="js">项目</em>和<em class="js">产品</em>的区别是显著的方面。项目是有时间限制的(例如，六个月的持续时间),主要目的是向现有的代码库添加一组离散的特性。相比之下，<em class="js">产品</em>的生命周期要长得多，可能存在5-10年，甚至更长。</p><p id="8b86" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">重要的是要记住，你在软件中选择的任何名字都将超出当前项目的范围。在我们的<em class="js"> Tiger </em>项目的例子中(将猫视频添加到<em class="js"> KittyPics </em>产品中)，在项目结束后，任何名称<code class="du jo jp jq jr b">Tiger</code>的使用都变得越来越没有意义。</p><pre class="ll lm ln lo fd md jr me mf aw mg bi"><span id="528f" class="lp ju hi jr b fi mh mi l mj mk">module Tiger<br/>def tigerAlgorithm {<br/>   count = getTigerCount()<br/>   ...<br/>}</span></pre><p id="a419" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">新雇佣的开发人员将很难理解<code class="du jo jp jq jr b">Tiger</code>的含义，尤其是Tiger项目已经成为历史。</p><p id="7585" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">相反，当新添加的特性已经成为长期产品代码库的一部分时，应该使用在项目完成后有意义的名称。例如:</p><pre class="ll lm ln lo fd md jr me mf aw mg bi"><span id="94f7" class="lp ju hi jr b fi mh mi l mj mk">module VideoManagement<br/>def videoPlacementAlgorithm {<br/>  count = getVideoCount()<br/>  ...<br/>}</span></pre><p id="1a87" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个建议看起来很明显，但是很常见的是模块、类、算法、数据库或DNS名称中嵌入了项目名称。随着时间的推移，代码库的标识符中充斥着临时的项目名称。</p><p id="90e6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个问题的一个例子是使用项目的名称来标识新创建的软件模块。例如，<code class="du jo jp jq jr b">Tiger</code>可能成为处理视频的新软件模块的内部代号。随着时间的推移，当人们听到名称<code class="du jo jp jq jr b">Tiger</code>时，他们会想到Tiger模块，而不是Tiger项目，即使原始项目的范围更广。</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/ae4f6ef8166d7eabb4cc58df6b753da6.png" data-original-src="https://miro.medium.com/v2/resize:fit:380/format:webp/1*O5QsPCmSdR44kc2stlTsfg.png"/></div></figure><h2 id="ad07" class="lp ju hi bd jv lq lr ls jz lt lu lv kd jb lw lx kh jf ly lz kl jj ma mb kp mc bi translated">3 —考虑到技术在变化，但是名字不需要变化</h2><p id="fde7" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">在产品的整个生命周期中，改变所使用的底层技术是很常见的。例如，我们的<em class="js"> KittyPics </em>产品从使用MySQL作为主数据库转向使用更具可伸缩性的DynamoDB。理想情况下，这种改变对大多数软件应该是透明的，但事实并非总是如此。</p><p id="20ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在KittyPics的第一个实现中，编写如下代码是有意义的:</p><pre class="ll lm ln lo fd md jr me mf aw mg bi"><span id="1ccc" class="lp ju hi jr b fi mh mi l mj mk">mySql.getImageCount()</span></pre><p id="ae7d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是当您切换到使用DynamoDB时，这显然没有意义。相反，请为您的数据存储使用更通用的名称，例如:</p><pre class="ll lm ln lo fd md jr me mf aw mg bi"><span id="eed0" class="lp ju hi jr b fi mh mi l mj mk">metaData.getImageCount() </span></pre><p id="fd48" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您仍然需要为<code class="du jo jp jq jr b">getImageCount()</code>方法修改内部代码，但是如果您更仔细地选择名称，您就不需要在每次调用<code class="du jo jp jq jr b">getImageCount()</code>方法时都修改代码。</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/39b0475c1579186014300f4926de1156.png" data-original-src="https://miro.medium.com/v2/resize:fit:380/format:webp/1*mqPB5_x1cw8KX6p1e-7jfw.png"/></div></figure><h2 id="3dd7" class="lp ju hi bd jv lq lr ls jz lt lu lv kd jb lw lx kh jf ly lz kl jj ma mb kp mc bi translated">4 —营销名称可能会在您的控制之外发生变化</h2><p id="f0f0" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">您的产品名称(或产品中的域对象)可能会因市场营销或销售决策而改变。在我们的例子中，<em class="js"> KittyPics </em>更名为<em class="js"> SabreShots </em>，目标是增加销售额。同样，产品中的域对象的名称(如<code class="du jo jp jq jr b">Collection</code>或<code class="du jo jp jq jr b">Image</code>)可能会更改为新的名称(如<code class="du jo jp jq jr b">Album</code>或<code class="du jo jp jq jr b">Photo</code>)。经验表明，产品可能在十年内经历2-3次名称变更，主要是由于公司收购或更名。</p><p id="f846" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了解决这个问题，您可能会选择进行一次大的重构练习，以使内部代码库与最新的外部名称保持一致。这对于小代码库是有意义的，但是对于更大的产品来说，这只会带来挫折和新引入的错误。</p><p id="af79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另外，在同一个代码库中混合旧名称和新名称时要非常小心(例如，将一个<code class="du jo jp jq jr b">Photo</code>对象传递给一个期望有<code class="du jo jp jq jr b">Image</code>对象的方法，即使它们是同一个对象)。新旧名称的混合对于开发人员来说可能会非常混乱，尤其是当他们第一次在代码库中开发时。</p><p id="513a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">也许最好的建议是根本不要修改代码库，而是坦然接受内部名称不同于外部名称。也就是说，总是使用原来的名称<code class="du jo jp jq jr b">Collection</code>或<code class="du jo jp jq jr b">Image</code>，而不考虑当前面向客户的名称。当然，开发人员需要记住从内部名称到外部名称的映射，但至少代码将是一致的，并且更容易使用。</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div class="er es mn"><img src="../Images/51ab83fb5ec34dcebc80a1c55e275ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:408/format:webp/1*phxnqzXKFLxoMyNJubNNmA.png"/></div></figure><h2 id="ed53" class="lp ju hi bd jv lq lr ls jz lt lu lv kd jb lw lx kh jf ly lz kl jj ma mb kp mc bi translated">5 —您的公司名称也可以更改</h2><p id="e136" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">这可能不足为奇，但是不要在源代码标识符中包含您公司的名称是一个好建议。并购很常见，被收购的公司名字消失在历史中。</p><p id="99ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">无论您的公司名称是否更改，在标识符中使用它之前，您都应该三思而行。这些名字里有<code class="du jo jp jq jr b">Kitty</code>有什么附加值？您可能想要比这些更具描述性的名称:</p><pre class="ll lm ln lo fd md jr me mf aw mg bi"><span id="ad7d" class="lp ju hi jr b fi mh mi l mj mk">kittyCollectionCount = 100<br/>def displayKittyImage() { ... }<br/>kittyDb.executeSql(...)</span></pre><p id="bc60" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当然，DNS名称是公司名称的一个明显要求，所以这不是一个硬性规定。有趣的是，许多小公司只销售单一产品，所以他们的公司名称和产品名称最终成为同义词，随着公司的发展，需要做大量的工作来打破这种联系。是产品，还是公司？</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div class="er es mo"><img src="../Images/0e446e650d3612d66eeee5dab0387e2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*lsEz0dDBeUGGZlTVIsezOg.png"/></div></figure><h2 id="f5d6" class="lp ju hi bd jv lq lr ls jz lt lu lv kd jb lw lx kh jf ly lz kl jj ma mb kp mc bi translated">6——避免对目标过于具体</h2><p id="326d" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">当实现代码时，有一种倾向是专注于解决你当时遇到的特定问题。然而，随着产品的变化，人们希望重用过去编写的代码。重构已经成为大多数开发人员的常见活动，包括选择更合适的名称。</p><p id="3104" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，假设您编写了一个<code class="du jo jp jq jr b">PhotoArranger</code>类，让用户能够手动更改产品主页上照片的顺序。但是，现在主页也支持视频了，<code class="du jo jp jq jr b">PhotoArranger</code>这个名字就变得令人困惑了。一个解决方案是将该类重命名为<code class="du jo jp jq jr b">PhotoAndVideoArranger</code>，但是当添加静态文本和超链接的能力被添加到该类中时，问题就更大了(我们现在应该称之为<code class="du jo jp jq jr b">PhotoAndVideoAndStaticTextWithHyperlinksArranger</code>？)</p><p id="24dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">也许最初的名字应该不那么具体，使它更灵活，更能适应变化。也许是<code class="du jo jp jq jr b">HomePageArranger</code>？然而，类似于<code class="du jo jp jq jr b">MediaLayoutArranger</code>的东西会更加通用，允许它用于其他页面(不仅仅是主页)。</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/94b21908ae3be6db90db966313975c8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:380/format:webp/1*2Vr3n9aa5UPi0bu9STbrXA.png"/></div></figure><h2 id="3767" class="lp ju hi bd jv lq lr ls jz lt lu lv kd jb lw lx kh jf ly lz kl jj ma mb kp mc bi translated">7——你可能有不止一个</h2><p id="c5e7" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">软件通常以上市时间作为驱动因素，而不是担心长期增长(如果不快速上市，这可能永远不会发生)。这种方法的一个缺点是软件被设计成只支持特定组件的一个<em class="js">，而不是多个。</em></p><p id="e842" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们的<em class="js"> KittyPics </em>示例中，以下组件需要从一个实例到多个实例:</p><ul class=""><li id="d637" class="kw kx hi is b it iu ix iy jb ky jf kz jj la jn lb lc ld le bi translated">运行软件的web应用程序服务器的数量。</li><li id="1698" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated">用于存储图像文件的磁盘数量。</li><li id="7865" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated">运行服务器的国家的数量。</li><li id="e230" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated">存储元信息所需的数据库数量。</li></ul><p id="16be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">除了您需要做出的所有软件设计决策(比如使用一组服务器名称，而不是单个服务器名称)，还有命名问题。</p><p id="2cbd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，对于API服务器名称，您可能会以:</p><pre class="ll lm ln lo fd md jr me mf aw mg bi"><span id="1a38" class="lp ju hi jr b fi mh mi l mj mk">api.kitty.com</span></pre><p id="f0ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是当你需要支持多个国家的服务器时，怎么称呼呢？常见的解决方案是:</p><pre class="ll lm ln lo fd md jr me mf aw mg bi"><span id="f58a" class="lp ju hi jr b fi mh mi l mj mk">api.kitty.com<br/>api-nz.kitty.com<br/>api-uk.kitty.com<br/>...</span></pre><p id="b80e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个例子当然是在技术债务范围的低端，但是第一个条目上没有国家标签看起来很奇怪，这可能会在您的自动部署脚本中造成混乱。为了避免这些情况，您应该记住扩展，并在您使用的第一个DNS名称上添加一个描述性标记。在可数事物的情况下，默认在名称上加一个<code class="du jo jp jq jr b">-1</code>，比如<code class="du jo jp jq jr b">api-1.kitty.com</code>。</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/cfaa3acef54081231064ad180249e713.png" data-original-src="https://miro.medium.com/v2/resize:fit:380/format:webp/1*A7UXKCCFaI-1sx61aSgXZg.png"/></div></figure><h1 id="826c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">总结——你应该关心多少？</h1><p id="8a34" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">在这篇博文中，我们已经看到了许多不同的方式，在这些方式中，名称无法随着时间的推移而恢复活力，因此变得陈旧、混乱或不一致。</p><p id="65ba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您应该如何解决这些问题？</p><p id="0ab5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">老实说，虽然这些问题出现在许多产品中，但在几乎每个公司中，人们总是设法适应这种不一致。当内部名称与外部名称不匹配时，会出现混乱，特别是对于那些正在思考新代码库的新员工。然而，如果有足够的时间，人们似乎总是能够克服学习曲线，并忍受这种不一致。</p><p id="935d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们应该重构我们的产品来解决这些不一致吗？</p><p id="d543" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个决定完全取决于你，基于解决这个问题需要多少努力，以及忍受这个问题会有多痛苦。这是我们所有人都面临的遗留代码的无处不在的技术债务问题。重构内部类名是一个简单而实用的改进，但是更改面向客户的DNS名称是一个挑战，您可以选择忽略它。</p><p id="ddea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">也许最好的建议是在第一次编写代码时尝试使用有意义的名称。然而，无论你为长期选择名字付出了多少努力，你都不会完全正确。最后，你必须准备好接受和忽略剩下的问题。</p><figure class="ll lm ln lo fd ij er es paragraph-image"><div class="er es mp"><img src="../Images/7479378285b2959484f0e46452f3a74e.png" data-original-src="https://miro.medium.com/v2/resize:fit:472/format:webp/1*nOEKxQas8TiXNnxreX0VKA.png"/></div></figure></div></div>    
</body>
</html>