<html>
<head>
<title>Matplotlib Tutorial — 10</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Matplotlib教程— 10</h1>
<blockquote>原文：<a href="https://medium.com/codex/matplotlib-tutorial-10-9ce249b22889?source=collection_archive---------5-----------------------#2022-12-18">https://medium.com/codex/matplotlib-tutorial-10-9ce249b22889?source=collection_archive---------5-----------------------#2022-12-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9819" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本教程将介绍使用matplotlib的支线剧情。</p><p id="c6a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">matplotlib库的pyplot模块中的<strong class="ih hj"> subplots()函数</strong>用于创建一个图形和一组subplots。</p><p id="d84d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们先检查一下我们在上一篇博客中创建的基本线剧情，然后我们将在支线剧情中进行同样的转换。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="3cd8" class="jm jn hi ji b be jo jp l jq jr">import pandas as pd<br/>from matplotlib import pyplot as plt<br/><br/>plt.style.use('seaborn')<br/><br/>data = pd.read_csv('subplotData.csv')<br/>ages = data['Age']<br/>dev_salaries = data['All_Devs']<br/>py_salaries = data['Python']<br/>js_salaries = data['JavaScript']<br/><br/>plt.plot(ages, py_salaries, label='Python')<br/>plt.plot(ages, js_salaries, label='JavaScript')<br/><br/>plt.plot(ages, dev_salaries, color='#444444',<br/>         linestyle='--', label='All Devs')<br/><br/>plt.legend()<br/><br/>plt.title('Median Salary (USD) by Age')<br/>plt.xlabel('Ages')<br/>plt.ylabel('Median Salary (USD)')<br/><br/>plt.tight_layout()<br/><br/>plt.show()</span></pre><p id="d309" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们已经从CSV导入了开发数据，并为Python和Javascript绘制了一个折线图，我们将运行此代码的所有开发都将得到一个简单的折线图。</p><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es js"><img src="../Images/88372c73f0cae2b9be1bf39d200dcea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lFYgg16JWxvM9cAAkL7GWg.png"/></div></div></figure><p id="379c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们需要以这样一种方式绘制这个图，Python和javascript行将出现在一个图中，而所有dev将出现在另一个图中，我们将使用subplot()方法来执行这一点。</p><p id="7df3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不带参数的subplots()返回一个图形和一个坐标轴。</p><p id="fc5b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这实际上是创建单个图形和轴的最简单和推荐的方法。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="0ef5" class="jm jn hi ji b be jo jp l jq jr">fig, ax = plt.subplots()<br/>ax.plot(x, y)<br/>ax.set_title('A single plot')</span></pre><p id="f3dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，在我们的代码中创建一个subplot对象，并使用subplot()创建相同的图形。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="92e6" class="jm jn hi ji b be jo jp l jq jr">import pandas as pd<br/>from matplotlib import pyplot as plt<br/><br/>plt.style.use('seaborn')<br/><br/>data = pd.read_csv('subplotData.csv')<br/>ages = data['Age']<br/>dev_salaries = data['All_Devs']<br/>py_salaries = data['Python']<br/>js_salaries = data['JavaScript']<br/><br/>fig , ax = plt.subplots()<br/>ax.plot(ages, py_salaries, label='Python')<br/>ax.plot(ages, js_salaries, label='JavaScript')<br/><br/>ax.plot(ages, dev_salaries, color='#444444',<br/>         linestyle='--', label='All Devs')<br/><br/>ax.legend()<br/><br/>ax.set_title('Median Salary (USD) by Age')<br/>ax.set_xlabel('Ages')<br/>ax.set_ylabel('Median Salary (USD)')<br/><br/>plt.tight_layout()<br/><br/>plt.show()</span></pre><p id="bb84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，我们创建了一个没有任何参数的subplots方法的对象，所以它将返回一个图形和一个轴，我们将使用ax.plot()代替plt.plot()。</p><p id="1c8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">图例也是如此，当我们使用subplots时，标题标签被更改为set_title、xlabel和ylabel，所以当我们运行相同的代码时，我们将得到相同的图形，但使用subplots()方法。</p><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es ka"><img src="../Images/3cef7a042e8b3e79de60cf31a37e90d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5156N1Hx-ua8fDQWW8TgSw.png"/></div></div></figure><p id="2951" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，回到我们最初的需求，我们希望在一个轴上创建Python和Java脚本，在另一个轴上创建所有的dev。</p><p id="c656" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了达到同样的目的，我们必须传递两行一列的参数。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="9fe3" class="jm jn hi ji b be jo jp l jq jr">fig , (ax1,ax2) = plt.subplots(nrows=2,ncols=1)</span></pre><p id="7d5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为它现在返回两个轴，所以我们将在这里解包并为两个轴创建ax1和ax2，ax1将为Python和JS使用它们，ax2为所有开发人员使用，类似地，我们将为两个图分别创建标题和轴。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="28a3" class="jm jn hi ji b be jo jp l jq jr">import pandas as pd<br/>from matplotlib import pyplot as plt<br/><br/>plt.style.use('seaborn')<br/><br/>data = pd.read_csv('subplotData.csv')<br/>ages = data['Age']<br/>dev_salaries = data['All_Devs']<br/>py_salaries = data['Python']<br/>js_salaries = data['JavaScript']<br/><br/>fig , (ax1,ax2) = plt.subplots(nrows=2,ncols=1)<br/>ax1.plot(ages, py_salaries, label='Python')<br/>ax1.plot(ages, js_salaries, label='JavaScript')<br/><br/>ax2.plot(ages, dev_salaries, color='#444444',<br/>         linestyle='--', label='All Devs')<br/><br/>ax1.legend()<br/><br/>ax1.set_title('Median Salary (USD) by Age for Python , JS')<br/>ax1.set_xlabel('Ages')<br/>ax1.set_ylabel('Median Salary (USD)')<br/><br/>ax2.legend()<br/><br/>ax2.set_title('Median Salary (USD) by Age for All devs')<br/>ax2.set_xlabel('Ages')<br/>ax2.set_ylabel('Median Salary (USD)')<br/><br/><br/>plt.tight_layout()<br/><br/>plt.show()</span></pre><figure class="jd je jf jg fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kb"><img src="../Images/6ad1edc31b6a4142d604771ab4f38e6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nO38ngNc-qwGOWOZzsDs7Q.png"/></div></div></figure><p id="5cc9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，不是一个图形，如果我们想将这些图形分成两个图形，我们可以简单地为同一个图形创建两个对象。</p><pre class="jd je jf jg fd jh ji jj bn jk jl bi"><span id="d92b" class="jm jn hi ji b be jo jp l jq jr">fig1 ,ax1 = plt.subplots()<br/>fig2 , ax2 = plt.subplots()</span></pre><p id="66e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码的其余部分保持不变，当我们运行代码时，我们将得到两个数字而不是一个。</p><p id="3886" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是本教程中使用的代码和数据表的链接。</p><div class="kc kd ez fb ke kf"><a href="https://github.com/vivalka/Matplotlib-Tutorials/tree/main/Tutorial_10" rel="noopener  ugc nofollow" target="_blank"><div class="kg ab dw"><div class="kh ab ki cl cj kj"><h2 class="bd hj fi z dy kk ea eb kl ed ef hh bi translated">Matplotlib-Tutorials/Tutorial _ 10位于main vival ka/Matplotlib-Tutorials</h2><div class="km l"><h3 class="bd b fi z dy kk ea eb kl ed ef dx translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="kn l"><p class="bd b fp z dy kk ea eb kl ed ef dx translated">github.com</p></div></div><div class="ko l"><div class="kp l kq kr ks ko kt jy kf"/></div></div></a></div></div></div>    
</body>
</html>