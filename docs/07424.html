<html>
<head>
<title>Basic SQL statements you need to know (SELECT/DISTINCT/ORDER BY/LIMIT/WHERE)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您需要了解的基本SQL语句(SELECT/DISTINCT/ORDER BY/LIMIT/WHERE)</h1>
<blockquote>原文：<a href="https://medium.com/codex/basic-sql-statements-you-need-to-know-select-distinct-order-by-limit-where-26b703df8aa1?source=collection_archive---------13-----------------------#2022-06-14">https://medium.com/codex/basic-sql-statements-you-need-to-know-select-distinct-order-by-limit-where-26b703df8aa1?source=collection_archive---------13-----------------------#2022-06-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="642f" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">介绍</p></blockquote><p id="3031" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">在本文中，我们将介绍常用的基本SQL语句(和技巧)，包括<code class="du jk jl jm jn b">SELECT</code>、<code class="du jk jl jm jn b">ORDER BY</code>、<code class="du jk jl jm jn b">LIMIT</code>、<code class="du jk jl jm jn b">DISTINCT</code>和<code class="du jk jl jm jn b">WHERE</code>。在下一篇文章中，我们将讨论<code class="du jk jl jm jn b">GROUP BY</code>、<code class="du jk jl jm jn b">HAVING</code>和<code class="du jk jl jm jn b">INNER JOIN</code>。一旦理解了这些语句，就可以形成自己的查询，并使用它们从关系数据库中提取所需的信息。</p><blockquote class="if ig ih"><p id="7967" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">关系数据库</p></blockquote><p id="dee4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们不会太深入理论部分，但是你需要知道关系数据库是基于<strong class="il hj">关系模型</strong>。关系模型表示<strong class="il hj">表/关系</strong>中的数据，每一列是一个<strong class="il hj">特征</strong>；每行是一个<strong class="il hj">记录/对象。特别是，关系数据库不允许重复，所以你不会在一个表中看到两个完全相同的记录。因此，总是有一个或多个列可以用来唯一地标识记录，我们称之为属性的最小集合<strong class="il hj">可以用来唯一地标识记录<strong class="il hj">主键</strong>。</strong></strong></p><p id="9cc8" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">对于下面的例子，姓名和城市是<strong class="il hj">列</strong>，因为它们表示一个人的特征；每个<strong class="il hj">排</strong>都是一个人，是我们观察的对象。</p><figure class="jp jq jr js fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es jo"><img src="../Images/29466a89783fd754e399f3a77a0a989b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*giRPXG___W2Vf6Yf07S4dA.jpeg"/></div></div></figure><p id="a04c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">然后，主键可以是<strong class="il hj">名称或</strong>城市。举例来说，如果你知道一个人的名字，你就知道这个人住在哪里，因为在这个数据库中没有两个人同名。同样的逻辑适用，如果你知道这个城市，你就知道谁住在那个城市，因为这个数据库中的每个人都住在不同的城市。</p><p id="6600" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">然而，在现实世界中，情况往往不是这样。几乎可以肯定有两个同名同姓的人住在不同的城市。在这种情况下，姓名不能作为关键字，因为即使你知道这个人的名字，你也不能确定他/她住在哪里(不止一种可能性)。</p><p id="cb87" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">同样，应该有1个以上的人住在一个城市，哪个城市不能是关键。为什么？是因为即使你知道这个城市，你<strong class="il hj">也无法确定</strong>谁住在那个城市。</p><p id="7db4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">数据库到此为止！我们现在可以转到SQL部分了。</p><blockquote class="if ig ih"><p id="eaf1" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">笔记</p></blockquote><p id="bc1c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">在开始编写查询之前，我们应该了解SQL的符号、重命名和功能。</p><ol class=""><li id="aad2" class="ka kb hi il b im in iq ir jh kc ji kd jj ke jg kf kg kh ki bi translated"><strong class="il hj"> * </strong>:星号代表<strong class="il hj">所有</strong>。如果要选择表中的所有列，不需要键入所有列名，请键入*。</li><li id="75d8" class="ka kb hi il b im kj iq kk jh kl ji km jj kn jg kf kg kh ki bi translated"><strong class="il hj">重命名</strong>:当你想缩写表名或者重命名列名时，你<strong class="il hj">在一个空格后加上新名字</strong>。</li><li id="30b0" class="ka kb hi il b im kj iq kk jh kl ji km jj kn jg kf kg kh ki bi translated"><strong class="il hj">功能</strong>:有时候我们不想要原始数据，我们想对它进行简单的运算。常用功能有<code class="du jk jl jm jn b">MAX</code> / <code class="du jk jl jm jn b">MIN</code> / <code class="du jk jl jm jn b">AVG</code> / <code class="du jk jl jm jn b">SUM</code> / <code class="du jk jl jm jn b">COUNT</code>。别担心，我们稍后会谈到它们。</li></ol><blockquote class="if ig ih"><p id="949a" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">SQL语句</p></blockquote><p id="8490" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">在下面的演示中，我们将以此表为例。这个表叫做<strong class="il hj">客户</strong>，记录了客户的信息。它有4个特征— <code class="du jk jl jm jn b">ID</code> <strong class="il hj">、</strong> <code class="du jk jl jm jn b">Name</code> <strong class="il hj">、</strong> <code class="du jk jl jm jn b">City</code> <strong class="il hj">、</strong> <code class="du jk jl jm jn b">Age</code>，这个表中有6个客户。此外，<strong class="il hj">主键是</strong> <code class="du jk jl jm jn b"><strong class="il hj">ID</strong></code>，因为您只能使用<code class="du jk jl jm jn b">ID</code>来唯一地标识每一行。</p><p id="a267" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">⚡<strong class="il hj"/><code class="du jk jl jm jn b"><strong class="il hj">Name</strong></code><strong class="il hj">和</strong> <code class="du jk jl jm jn b"><strong class="il hj">City</strong></code>都不是客户表中的主键！如果你不明白为什么，再读一遍上面的例子，你就会明白原因了。</p><figure class="jp jq jr js fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es ko"><img src="../Images/8019b5dcd204e7e6c465790ce47b49a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6uXewYDX6jUH6VBTZkw5cw.jpeg"/></div></div></figure><p id="465f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj"> 1。从…中选择…</strong></p><p id="897f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">第一个是SQL中最基本的语句。具体来说，语法是<code class="du jk jl jm jn b">SELECT columns FROM table;</code>。您可以一次选择一列或多列。</p><ul class=""><li id="511f" class="ka kb hi il b im in iq ir jh kc ji kd jj ke jg kp kg kh ki bi translated"><code class="du jk jl jm jn b">SELECT Age FROM customers;</code></li></ul><p id="c392" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这将返回列<code class="du jk jl jm jn b">Age</code></p><figure class="jp jq jr js fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kq"><img src="../Images/ac233256dd4fdbe757529aa05a708b74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hbh1AgR1h6vKvEZ2bG8gsQ.jpeg"/></div></div></figure><p id="44d2" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果我们要计算<code class="du jk jl jm jn b">Age</code>列的<strong class="il hj">平均值(mean) </strong>怎么办？我们使用<strong class="il hj">功能</strong> — <code class="du jk jl jm jn b">SELECT <strong class="il hj">AVG(Age)</strong> FROM customers;</code>。</p><p id="fef5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这将返回一个数字— 38.833。有时我们不想要原始数据，我们想要<strong class="il hj">聚合值</strong>，它返回<strong class="il hj">一个单一数字</strong>。基本上，名字就说明了一切。<code class="du jk jl jm jn b">AVG</code>计算一列的平均值；<code class="du jk jl jm jn b">SUM</code>计算一列中所有值的总和；<code class="du jk jl jm jn b">MIN</code>求最小值；<code class="du jk jl jm jn b">MAX</code>求最大值；<code class="du jk jl jm jn b">COUNT</code>数t <strong class="il hj">他一列中的行数</strong>。</p><p id="de43" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">⚡ <code class="du jk jl jm jn b">COUNT</code>简单地计算行数，<strong class="il hj">即使数值重复</strong>。换句话说，如果我们写<code class="du jk jl jm jn b">SELECT <strong class="il hj">COUNT(City)</strong> FROM customers;</code>，它返回6，而不是5(城市的唯一数量)。</p><ul class=""><li id="80b5" class="ka kb hi il b im in iq ir jh kc ji kd jj ke jg kp kg kh ki bi translated"><code class="du jk jl jm jn b">SELECT City, Age FROM customers;</code></li></ul><p id="bfd8" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这将返回两列，<code class="du jk jl jm jn b">City</code>和<code class="du jk jl jm jn b">Age</code> —</p><figure class="jp jq jr js fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kr"><img src="../Images/3e09469678541040fa1b281015a4c556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yV1H-oGUPL5DB3iRyBwkCw.jpeg"/></div></div></figure><ul class=""><li id="226d" class="ka kb hi il b im in iq ir jh kc ji kd jj ke jg kp kg kh ki bi translated"><code class="du jk jl jm jn b">SELECT City FROM customers;</code></li></ul><p id="430f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果你只选择<code class="du jk jl jm jn b">City</code>会发生什么，它返回—</p><figure class="jp jq jr js fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es ks"><img src="../Images/4dec58b0a35be8b29cf811c1bccadc1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TZoQyCQGRrPGDs6tspvI4g.jpeg"/></div></div></figure><p id="367c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">看起来很好，对吧？但是，如果你仔细看，<strong class="il hj">巴黎出现两次</strong>是因为有2个人住在巴黎。嗯，你可能认为这不是一个大问题。假设您的客户表存储了10，000名客户的数据，其中有1，000人居住在巴黎。当您使用相同的查询时，您将看到Paris 1000，000，这肯定不是我们想要的。我们希望看到<strong class="il hj">独特的价值</strong>(即，哪些城市至少拥有我们的一个客户)，这将我们带到下一个关键词。</p><p id="eb62" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj"> 2。独特的</strong></p><p id="d682" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">为了避免重复，我们只需在列名前添加<code class="du jk jl jm jn b">DISTINCT</code>关键字。对于上面的例子，查询变成了<code class="du jk jl jm jn b">SELECT <strong class="il hj">DISTINCT</strong> City FROM customers;</code>，它删除重复的值并返回—</p><figure class="jp jq jr js fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kt"><img src="../Images/96c2271929ec111b94c78d2f03d530f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p1ZX6OF3u0NKmLeSQq60GA.jpeg"/></div></div></figure><p id="eb88" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">暂时回到前面的例子，<code class="du jk jl jm jn b">COUNT(City)</code>将返回6，因为它计算行数。但是，在添加了<code class="du jk jl jm jn b">DISTINCT</code>关键字后，我们可以找到城市的唯一数目— <code class="du jk jl jm jn b">SELECT <strong class="il hj">COUNT</strong>(<strong class="il hj">DISTINCT</strong> City) FROM customers;</code>返回5。</p><p id="5240" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj"> 3。排序依据</strong></p><p id="0c0d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">接下来，我们可以根据<strong class="il hj">一列或多列</strong>对数据帧进行排序。假设我们使用2列来排序表格，即<code class="du jk jl jm jn b">SELECT * FROM customers ORDER BY City, Age;</code>。该表将按<strong class="il hj">第一列</strong>T1】排序；如果多行在第一列中有相同的值，则按第二列 <code class="du jk jl jm jn b">Age</code>的<strong class="il hj">排序。因此，如果第一列中的值是唯一的，则第二列是<strong class="il hj">而不是根本没有使用的</strong>。</strong></p><p id="7798" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们可以通过添加<code class="du jk jl jm jn b">ASC</code>或<code class="du jk jl jm jn b">DESC</code>来进一步决定数据<strong class="il hj">是升序</strong>还是降序<strong class="il hj"/>。默认情况下，表格按升序排列<strong class="il hj">。但是，我们总是可以指定关键字来更清楚地表达我们的目的，例如<code class="du jk jl jm jn b">SELECT * FROM customers ORDER BY City ASC, Age ASC;</code>，它返回—</strong></p><figure class="jp jq jr js fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es ku"><img src="../Images/57da7e2de47e6e262a861fefca42600d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-T2S7GfcaKsz4sBRlzQSA.jpeg"/></div></div></figure><p id="bcc8" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">特别是，列<code class="du jk jl jm jn b">City</code>按字母顺序<strong class="il hj">列出</strong>，因为该列中的值是字符串/字符。对于<code class="du jk jl jm jn b">City</code>中具有相同值的数据(即第3行和第4行都居住在巴黎)，由于这些值是整数，因此按照<strong class="il hj">数字顺序</strong>中的第二列<code class="du jk jl jm jn b">Age</code>进行排序。</p><p id="3e51" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果我们想根据<code class="du jk jl jm jn b">Age</code>对表进行降序排序，该怎么办？</p><p id="7edb" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">是的，你是正确的。查询只是简单的<code class="du jk jl jm jn b">SELECT * FROM customers ORDER BY Age DESC;</code>。现在，如果我们只想提取<strong class="il hj">最老的人</strong>的信息呢？</p><p id="da9a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">当然，您可以手动查看结果，并且只考虑第一行(因为我们已经基于<code class="du jk jl jm jn b">Age</code>对表进行了降序排序)。但是，如果结果<strong class="il hj">只有</strong>包含第一条记录的信息，那就真的很好了，这样我们就可以节省时间，专注于分析部分。这个问题把我们带到了下一个关键词——<code class="du jk jl jm jn b">LIMIT</code>。</p><p id="bbe6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj"> 4。极限值</strong></p><p id="6f64" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">当我们只想查看前n行数据时，我们添加<code class="du jk jl jm jn b">LIMIT n</code>。按照前面的例子，我们想要找到最老的人，所以查询变成了<code class="du jk jl jm jn b">SELECT * FROM customers ORDER BY Age DESC <strong class="il hj">LIMIT 1</strong>;</code>(因为我们只想要第一个<strong class="il hj"> 1 </strong>行)并且它返回—</p><figure class="jp jq jr js fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kv"><img src="../Images/6a86546cde5bed7ccd814ea62911629a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TzivzsCcdAv3iLAuzCZfBQ.jpeg"/></div></div></figure><p id="163c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">事实上，亚当是我们桌子上最老的人👴🏼！现在，如果我们想找到第二年长的T42人呢？</p><p id="9364" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们应该使用<code class="du jk jl jm jn b">LIMIT 2</code>并手动查找第二条记录吗？事实上，不。我们可以使用关键字<code class="du jk jl jm jn b">OFFSET</code>。举例来说，当我们键入<code class="du jk jl jm jn b">LIMIT n OFFSET m</code>时，结果将包含从第m行开始的前n行<strong class="il hj">。</strong></p><p id="deba" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">回到问题，我们要找的是<strong class="il hj">第二老的人</strong>。换句话说，我们希望从第2行中找到第1行<strong class="il hj">(我们已经对数据帧进行了排序)。因为SQL的索引是0，所以第二行的索引实际上是1。因此，查询变成了<code class="du jk jl jm jn b">SELECT * FROM customers ORDER BY Age DESC LIMIT 1<strong class="il hj"> OFFSET 1</strong>;</code>，它返回—</strong></p><figure class="jp jq jr js fd jt er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kw"><img src="../Images/bbdb8c35cebbb6e352a1098a28dbd0dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TwxZ2xkmCVboVIJIQ5pl3Q.jpeg"/></div></div></figure><p id="7b23" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果你查一下我们的表格，你会发现约翰确实是🧓第二长寿的人🏼。</p><p id="dbee" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">⚡:在某些情况下，你可以使用<code class="du jk jl jm jn b">MAX/MIN</code>功能来代替<code class="du jk jl jm jn b">LIMIT</code>。例如，如果我们想找到表中最年长的人的名字和年龄，我们可以使用<code class="du jk jl jm jn b">MAX</code>。这个查询类似于<code class="du jk jl jm jn b">SELECT Name, <strong class="il hj">MAX(Age)</strong> FROM customers;</code>，它返回【Adam，65】，因为我们只取了<em class="ik"> Age = MAX(Age) </em>的记录。</p><p id="3cae" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj"> 5。其中</strong></p><p id="0387" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果前面的查询让您感到厌烦，下面是更有趣的部分— <code class="du jk jl jm jn b">WHERE</code>子句！我们可以使用<code class="du jk jl jm jn b">WHERE</code>来指定列上的<strong class="il hj">条件，而<strong class="il hj">只选择满足这些条件的行</strong>。在开始查询之前，我们需要知道一些重要的关键字。</strong></p><ul class=""><li id="942c" class="ka kb hi il b im in iq ir jh kc ji kd jj ke jg kp kg kh ki bi translated"><code class="du jk jl jm jn b">AND/OR</code></li></ul><p id="f7a0" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">首先要知道的是，我们可以在一个查询中分配多个条件。特别是，<code class="du jk jl jm jn b">Condition1 <strong class="il hj">AND</strong> Condition2</code>表示一行<strong class="il hj">必须同时满足</strong>和<strong class="il hj">两个条件</strong>；<code class="du jk jl jm jn b">Condition1 <strong class="il hj">OR</strong> Condition2</code>表示一行只需满足<strong class="il hj">至少一个条件</strong>即可被选中。</p><ul class=""><li id="b65e" class="ka kb hi il b im in iq ir jh kc ji kd jj ke jg kp kg kh ki bi translated"><code class="du jk jl jm jn b">=</code>；<code class="du jk jl jm jn b">&gt;</code>；<code class="du jk jl jm jn b">&lt;</code>；<code class="du jk jl jm jn b">&gt;=</code>；<code class="du jk jl jm jn b">&lt;=</code></li></ul><p id="b2bf" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这些是基本的算术符号——等于；大于；小于；大于或等于；小于或等于。我们通常在<strong class="il hj">数字</strong>列上使用这些操作符。虽然它们也可以用在字符串/字符类型的列中，但是我们按照字母顺序来看事情并不直观。</p><ul class=""><li id="25b8" class="ka kb hi il b im in iq ir jh kc ji kd jj ke jg kp kg kh ki bi translated"><code class="du jk jl jm jn b">BETWEEN</code></li></ul><p id="8064" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><code class="du jk jl jm jn b">BETWEEN</code>允许我们在范围之间选择数值<strong class="il hj">。因此，它更适合于<strong class="il hj">数字列和时间值</strong>，因为在分类列中没有排序概念(即亚当不比莉莉大/小)。</strong></p><p id="c438" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">例如，我们想找到年龄在20到40岁之间的客户，我们可以使用<code class="du jk jl jm jn b">WHERE Age <strong class="il hj">BETWEEN 20 AND 40</strong></code>。记住范围是<strong class="il hj">含</strong>，20或40岁的顾客也会被选中。</p><p id="13a2" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">⚡:我们可以使用<strong class="il hj">算术运算符</strong>实现同样的事情，但是使用<code class="du jk jl jm jn b">BETWEEN</code>可以让其他人更有效地理解我们的查询。举例来说，上面的查询也可以是<code class="du jk jl jm jn b">WHERE Age &gt;= 20 <strong class="il hj">AND</strong> Age &lt;= 40</code>(客户必须满足两个条件才能返回)。</p><ul class=""><li id="0f77" class="ka kb hi il b im in iq ir jh kc ji kd jj ke jg kp kg kh ki bi translated"><code class="du jk jl jm jn b">IN</code></li></ul><p id="c77b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><code class="du jk jl jm jn b">IN</code>允许我们指定多个值，并且只选择具有这些值的行<strong class="il hj">。假设我们想找到住在巴黎或东京的客户，我们可以使用<code class="du jk jl jm jn b">WHERE City <strong class="il hj">IN</strong> ('Paris', 'Tokyo')</code>。</strong></p><p id="7e75" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">此外，如果我们想找到住在巴黎或东京的客户，我们只需在<code class="du jk jl jm jn b">IN</code> — <code class="du jk jl jm jn b">WHERE City <strong class="il hj">NOT</strong> IN ('Paris', 'Tokyo')</code>前添加一个<code class="du jk jl jm jn b">NOT</code>关键字。</p><ul class=""><li id="df81" class="ka kb hi il b im in iq ir jh kc ji kd jj ke jg kp kg kh ki bi translated"><code class="du jk jl jm jn b">LIKE</code></li></ul><p id="3b33" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><code class="du jk jl jm jn b">LIKE</code>允许我们在类型为<strong class="il hj">字符</strong>的列中搜索<strong class="il hj">特定模式</strong>。虽然<code class="du jk jl jm jn b">LIKE</code>也可以在数字列中使用，但是由于数字的性质，我们倾向于使用算术运算符。</p><p id="23cf" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">为了描述模式，我们使用<code class="du jk jl jm jn b">%</code>或<code class="du jk jl jm jn b">_</code>。在SQL中，<code class="du jk jl jm jn b">%</code>代表<strong class="il hj"> 0、1或多个字符</strong>，而<code class="du jk jl jm jn b">_</code>代表<strong class="il hj"> 1个字符</strong>。</p><p id="ea32" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">假设我们要查找姓名中包含<em class="ik"> i </em>的客户，我们不关心姓名是以<em class="ik"> i </em>开头，还是以<em class="ik"> i </em>结尾，或者只是中间有<em class="ik"> i </em>。我们可以用<code class="du jk jl jm jn b">WHERE Name <strong class="il hj">LIKE </strong>'%i%'</code>。更明确的说，<code class="du jk jl jm jn b">%</code>可以是0字符，所以<code class="du jk jl jm jn b">Name</code>可以以<em class="ik"> i </em>开头，也可以以<em class="ik"> i </em>结尾。或者，<code class="du jk jl jm jn b">%</code>可以是1个或多个字符，所以<em class="ik"> i </em>可以在<code class="du jk jl jm jn b">Name</code>中间。</p><p id="cdf3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果我们要指定<code class="du jk jl jm jn b">Name</code>以<em class="ik"> i </em>开头，并且在<em class="ik"> i </em>之后有<strong class="il hj">至少2个字符</strong>怎么办？</p><p id="0bc8" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们用<code class="du jk jl jm jn b">WHERE Name <strong class="il hj">LIKE </strong>'i__%'</code>。<em class="ik"> i </em>前没有符号，所以<code class="du jk jl jm jn b">Name</code>必须以<em class="ik"> i </em>开头，<em class="ik"> i </em>后的<strong class="il hj"> 2 </strong> <code class="du jk jl jm jn b"><strong class="il hj">_</strong></code> <strong class="il hj">符号</strong>规定了<strong class="il hj">I后必须有2个字符</strong>(一个<code class="du jk jl jm jn b"><strong class="il hj">_</strong></code>代表1个字符)。最后，我们添加一个<code class="du jk jl jm jn b"><strong class="il hj">%</strong></code> <strong class="il hj"> </strong>符号，因为我们<strong class="il hj">不在乎</strong> <strong class="il hj">名字有多长，只要在<em class="ik"> i </em>之后有2个字符。在这种情况下，名字<em class="ik"> Ivy </em>、<em class="ik"> Iris </em>、<em class="ik"> Isabelle </em>都会被选中，因为它们符合条件。</strong></p><p id="6f8a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">恭喜，你成功了👏🏻！这些是最基本和最常用的SQL语句。然而，还有几个更有力的陈述我们没有讨论— <code class="du jk jl jm jn b">GROUP BY</code>、<code class="du jk jl jm jn b">HAVING</code>、<code class="du jk jl jm jn b">INNER JOIN</code>。在下一篇文章中，我们将详细介绍它们，再见！</p><p id="4f64" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">💛如果你喜欢这篇文章，一定要关注我！这真的鼓励了我，激励我继续分享。非常感谢。</p><blockquote class="if ig ih"><p id="ebc6" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">参考</p></blockquote><ol class=""><li id="1a30" class="ka kb hi il b im in iq ir jh kc ji kd jj ke jg kf kg kh ki bi translated"><a class="ae kx" href="https://www.w3schools.com/sql/sql_like.asp" rel="noopener ugc nofollow" target="_blank">https://www.w3schools.com/sql/sql_like.asp</a></li></ol></div></div>    
</body>
</html>