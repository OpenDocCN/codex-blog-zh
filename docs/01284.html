<html>
<head>
<title>Ease of Building UI Elements in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中构建UI元素的简易性</h1>
<blockquote>原文：<a href="https://medium.com/codex/ease-of-building-ui-elements-in-unity-405f2d8bbff?source=collection_archive---------9-----------------------#2021-04-16">https://medium.com/codex/ease-of-building-ui-elements-in-unity-405f2d8bbff?source=collection_archive---------9-----------------------#2021-04-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ih ii ij ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es ig"><img src="../Images/0ac0ed1811020738ea0ca69e499cd461.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T3CstYclzHtaGdEz"/></div></div><figcaption class="ir is et er es it iu bd b be z dx translated">哈帕尔·辛格在<a class="ae iv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="78e4" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">随着游戏行业的发展，我们看到越来越多的玩家希望在玩游戏时关闭所有的hud(平视显示器)，也就是UI(指基本的用户界面)，或者在屏幕上几乎没有UI元素。原因是沉浸感。游戏也在向最小化用户界面迁移，因为这是玩家(我们)想要的，像《最后的我们》、《对马幽灵》这样的游戏，环境线索被用来引导玩家，显示玩家状态，等等。但是对于竞技游戏(街机游戏，皇家战役)，需要UI元素(例如，时间，分数，杀戮)来让玩家沉浸其中。</p><p id="75a3" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">目前，我们的街机游戏没有办法让玩家在屏幕上看到美丽的游戏之前知道他可以承受多少生命/多少打击，我们也没有分数因子让玩家跟踪他的进展。幸运的是，Unity使得创建这些元素变得非常容易。</p><p id="c241" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><strong class="iy hj"> <em class="ju">评分UI: </em> </strong></p><p id="b2f5" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">让我们从实现一个分数因子开始，它随着被消灭的敌人数量而增加。</p><p id="9ca3" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">首先，让我们创建一个UI文本字段，作为玩家分数的占位符。</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es jv"><img src="../Images/3443d82310ad0dcba98888d087fc911c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*__eOP5gruKSyPWHL5ygppA.gif"/></div></div></figure><p id="186d" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">我们现在需要一个位置来将我们的分数显示在玩家屏幕上。</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es jv"><img src="../Images/4820313d860b6f3bf982f2dc7122bde2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Ax-vYMbL0jMJoAEKvYt9lQ.gif"/></div></div><figcaption class="ir is et er es it iu bd b be z dx translated">乐谱字体获得了一种颜色，我们将画布设置为随屏幕大小缩放。</figcaption></figure><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es jv"><img src="../Images/99fc1105c201ad752b5f46c31fdacbf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*2K3hLRMiQKHytqLojzxAiA.gif"/></div></div><figcaption class="ir is et er es it iu bd b be z dx translated">乐谱被放置，并且也设置了它的锚点。</figcaption></figure><p id="0faf" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这里已经做了一些事情，让我们简单看一下，</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es ka"><img src="../Images/332323a518242fdaeb42ffeacccbff4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MQ-43zLxv03Dw4qaYu2Zig.png"/></div></div></figure><p id="4c29" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><strong class="iy hj"> Canvas </strong>游戏对象包含一个<strong class="iy hj"> Canvas Scaler </strong>组件，该组件包含一个<strong class="iy hj"> UI缩放模式</strong>，请确保您将此设置为<strong class="iy hj">随屏幕大小缩放</strong>，因为您不希望屏幕大小影响您的UI的外观和感觉。</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kb"><img src="../Images/ac0a8ad9e9bbda6a35c68d4be637d2b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q0xQTEhB4SjLldWNzKlHlg.png"/></div></div></figure><p id="d960" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这里，在<strong class="iy hj">分数</strong>游戏对象中，我们需要确保设置了锚点位置。这样做是为了确保UI元素(在本例中是Score)即使在屏幕缩放时也能保持附着在该位置。把它想象成一艘船的锚。</p></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><p id="52cc" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><strong class="iy hj"> <em class="ju">健康UI: </em> </strong></p><p id="b0be" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">同样，我们现在将增加一个健康栏，这将帮助玩家记录他还剩下多少生命。但它不是一个根据我们剩余的生命更新的文本字段，我们将使用精灵来跟踪玩家的生命数。</p><p id="76c4" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">过程是相同的，但有一点小小的变化，我们将创建一个图像对象，而不是文本对象(因为我们希望精灵显示剩余的生命数量)。</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es jv"><img src="../Images/14097f93a555698b0a8fd9d9a2177fdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*k_cqu-UXm2DWflMllqGy2g.gif"/></div></div></figure><p id="2d84" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这是另一个问题，如果我们保持原样，传入的精灵不会是它的原生大小，而是会被缩放以适合白色图像对象，如上所示。</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kj"><img src="../Images/f768bc4dab85e801bde377af43d9f556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O8g_pvP4XS-7p0VG9rU8UA.png"/></div></div><figcaption class="ir is et er es it iu bd b be z dx translated">以前</figcaption></figure><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kk"><img src="../Images/1fe7c8e951ce7937b4fcfb5f8d4fb1b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_jpWgcy6vXYRiL07_axJmQ.png"/></div></div><figcaption class="ir is et er es it iu bd b be z dx translated">在...之后</figcaption></figure><p id="3547" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这是通过执行以下操作实现的，</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es jv"><img src="../Images/2fd5025b1bb2d605c1e946ec01823430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9_b_c13OPtxKupPKwB27FA.gif"/></div></div><figcaption class="ir is et er es it iu bd b be z dx translated">拉伸通过了。</figcaption></figure><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es jv"><img src="../Images/1423d8ea29b070da7d92d4e748ad94af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_vp1ccA1xij0lG__n83Vug.gif"/></div></div><figcaption class="ir is et er es it iu bd b be z dx translated">将图像缩放到所需的大小。</figcaption></figure><p id="9ef2" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">完成这些后，我们现在可以通过使用脚本来管理这种增加分数和减少生命的行为。</p><p id="a44c" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><strong class="iy hj"> <em class="ju">评分行为:</em> </strong></p><p id="94ea" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">由于这是一个UI行为，我们可以创建一个UIManager来处理任何与UI相关的事情，并将其附加到画布游戏对象上。</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kl"><img src="../Images/9d8a7b3ced0fa94e467fbf5d8fb19fa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*v3BnmkmZUCSMnfU3_ZcCyA.png"/></div></div></figure><p id="2ee6" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">现在让我们创建一个方法来更新玩家分数，</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es km"><img src="../Images/084f6f070c8fd47b04b98c12efdb2da3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rMhcMvWij-w9Bpxmp6vbyg.png"/></div></div><figcaption class="ir is et er es it iu bd b be z dx translated">UIManager脚本</figcaption></figure><p id="39c3" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">该方法将一个整数值作为输入参数，并将其附加到玩家分数中。所以根据敌人的类型，我们可以给玩家不同的分数。</p><p id="7b37" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">现在，让我们进入玩家脚本</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kn"><img src="../Images/6c318d812871bd8f383c7f5d0e56354f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nrXf3qhPjNOXOuDz4AU9VA.png"/></div></div><figcaption class="ir is et er es it iu bd b be z dx translated">玩家脚本</figcaption></figure><p id="37d4" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">剩下的就是根据敌人的类型来决定给玩家的分数了，因为现在我们只有一个敌人，但是考虑到可扩展性，编码总是更好。</p><p id="eac8" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">所以，这就是敌人行为的得分更新方式。</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es ko"><img src="../Images/4414d8d67be605aee153c45a83ddd40b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gi-XRqoWARlJPLbWuOY9SQ.png"/></div></div></figure><p id="f1b0" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">更多关于上述触发碰撞方法<a class="ae iv" rel="noopener" href="/nerd-for-tech/unity-development-collisions-vs-triggers-740d455757bf">的信息，点击这里</a>，了解脚本如何相互通信<a class="ae iv" rel="noopener" href="/nerd-for-tech/script-communication-in-unity-using-getcomponent-2eaaea4c49d0">点击这里</a>。</p><p id="b42d" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这样我们就可以根据被消灭敌人的类型来更新我们的分数(在这种情况下，我们现在只有一种敌人类型，所以每消灭一个敌人，分数就会增加10)。</p><p id="b98e" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><em class="ju">注意:请确保在编辑器中将分数游戏对象添加到您的UIManager。</em></p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es jv"><img src="../Images/d9b3db75780175103b9e63d945430253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WWWP0nv5HJdWY9CbOg2oVg.gif"/></div></div></figure><p id="15c0" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这样我们就有了分数函数，现在让我们用<em class="ju">生命</em>来反映我们还剩多少<strong class="iy hj">生命</strong>。</p><p id="35e5" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated"><strong class="iy hj"> <em class="ju">人命行为:</em> </strong></p><p id="9ce7" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这里的概念是，我们将用新精灵替换游戏对象的精灵，以显示我们还剩下多少生命。为此，我们将使用一个数组来存储4个精灵，每个精灵对应一种状态(3个生命，2个生命，1个生命，没有生命)。</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kp"><img src="../Images/1db81e04152f45386c1711fd4fd458a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZrRaHEWfeDE2b_ft2ECjYw.png"/></div></div></figure><p id="a391" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">我们知道数组的索引是0，这意味着索引从<em class="ju"> 0 </em>开始，一直到<em class="ju">长度(数组)-1 </em>。因此，如果我们还有3次生命，我们将检查第4个位置的数组(数组[3])。同样的，</p><p id="6e0c" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">两个生命→ Array[2]表示数组的第三个位置。<br/>一个生命→数组[1]暗示数组的第2个位置。<br/>无生命→ Array[0]表示数组的第一个位置。</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es jv"><img src="../Images/e8e5b7777826e069c9c11a527b516f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Qf0Zq0F43pW-IsaSGvoUpw.gif"/></div></div></figure><p id="f65a" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">现在剩下的就是传递<strong class="iy hj">玩家</strong>的生命数，这可以通过<strong class="iy hj">玩家</strong>脚本来完成。</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es kq"><img src="../Images/92c80a2323b2500d5820d456314ab24b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*md3c-kvrxBW_6T72RIvHcQ.png"/></div></div></figure><p id="3832" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">注意:如果你和我一样使用这个方法，那么我们不需要数组大小为4，因为我们可以用3来凑合。那就是2条命，1条命，没有命，因为默认情况下游戏已经显示我们还剩3条命。</p><p id="af80" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">这给了我们以下结果，</p><figure class="jw jx jy jz fd ik er es paragraph-image"><div role="button" tabindex="0" class="il im di in bf io"><div class="er es jv"><img src="../Images/3a646208b9874ee1f2e158ec3b0c7fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*gsikLGwADj88rZHZ5KXgfA.gif"/></div></div></figure><p id="089c" class="pw-post-body-paragraph iw ix hi iy b iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt hb bi translated">感谢您的阅读。更多即将推出！！！</p></div></div>    
</body>
</html>