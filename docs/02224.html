<html>
<head>
<title>Enhancing your Kaggle Computations with TigerGraph (Part I): Creating a Lego Graph</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用TigerGraph增强Kaggle计算(第一部分):创建乐高图形</h1>
<blockquote>原文：<a href="https://medium.com/codex/accelerating-your-kaggle-computations-with-tigergraph-part-i-creating-a-lego-graph-f2a43029f78f?source=collection_archive---------10-----------------------#2021-07-08">https://medium.com/codex/accelerating-your-kaggle-computations-with-tigergraph-part-i-creating-a-lego-graph-f2a43029f78f?source=collection_archive---------10-----------------------#2021-07-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e43234361f5407638209725d7a40f00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ykU1D_Hj5cgUp2gWps0Kg.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated"><a class="ae hv" href="https://pixabay.com/photos/lego-toys-figurines-crowd-many-1044891/" rel="noopener ugc nofollow" target="_blank">图片</a>来自<a class="ae hv" href="https://pixabay.com/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>作者<a class="ae hv" href="https://pixabay.com/users/eak_kkk-907811/" rel="noopener ugc nofollow" target="_blank">发言</a></figcaption></figure><div class=""/><div class=""><h2 id="f344" class="pw-subtitle-paragraph iv hx hy bd b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm dx translated">如何对Kaggle数据集使用TigerGraph:使用Kaggle的Lego图形数据库创建图形</h2></div><h1 id="0c6a" class="jn jo hy bd jp jq jr js jt ju jv jw jx je jy jf jz jh ka ji kb jk kc jl kd ke bi translated">概观</h1><p id="e497" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated"><a class="ae hv" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh hz"> Kaggle </strong> </a>是一个充满数据集、笔记本和竞赛的数据科学社区。<a class="ae hv" href="https://www.tigergraph.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh hz"> TigerGraph </strong> </a>是企业唯一可扩展的数据库。总之，您可以利用TigerGraph提供的图形数据库和Kaggle的庞大数据集来创建对您的数据的独特见解，从可视化到运行图形算法等等。</p><p id="5511" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">这篇博客将是一系列解释如何通过其API使用Kaggle数据和TigerGraph的pyTigerGraph和TigerGraph云的第一篇博客，首先创建一个图表，然后对创建的图表进行分析。我们开始吧！</p><h1 id="1d04" class="jn jo hy bd jp jq jr js jt ju jv jw jx je jy jf jz jh ka ji kb jk kc jl kd ke bi translated">第一部分:在TigerGraph云上创建您的TigerGraph解决方案</h1><p id="1b18" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">要找到如何创建您的TigerGraph解决方案的详细概述以及关于TigerGraph云的所有信息，请查看此博客。现在，我将带您完成您需要完成的主要步骤。</p><p id="b25f" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">首先，去<a class="ae hv" href="https://tgcloud.io/." rel="noopener ugc nofollow" target="_blank">https://tgcloud.io/</a>登陆，如果你还没有登陆的话。接下来，导航至“我的解决方案”选项卡。在右上角，点击“创建解决方案”</p><div class="lg lh li lj fd ab cb"><figure class="lk hk ll lm ln lo lp paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><img src="../Images/bdbd7753f10100318af7e6b62dd6238a.png" data-original-src="https://miro.medium.com/v2/resize:fit:274/format:webp/1*PX3QRwjapcj17KNECsj1hg.png"/></div></figure><figure class="lk hk lq lm ln lo lp paragraph-image"><img src="../Images/68f7557148c637b2a863c12ab237dd7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*EtPbA7MQPud0w2piPJXVhw.png"/><figcaption class="hr hs et er es ht hu bd b be z dx lr di ls lt translated">转到“我的解决方案”并点击“创建解决方案”</figcaption></figure></div><p id="90bb" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">在第一页上，单击“空白”，然后继续。</p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/e92a68fdcc983775cded001e5ea459d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aGJxmaJZ9B11Uzooh8a07Q.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">选择空白。</figcaption></figure><p id="85fb" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">不要修改第二部分的任何设置。这将创建一个免费的TigerGraph实例。</p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/3c5f95fe161b2d993a9b34a962a2409b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kaBtSxAgm73Yh6b75rGeag.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">不要碰本页上的任何东西，按继续。</figcaption></figure><p id="b311" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">在第三部分，适当地更新凭证，并记下子域和密码，因为我们将在实验的Python部分中使用它们！</p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/9afa1cd45dc2bd84b00fa1a0a9cca9e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4g6cySygGHJJ2jG2j4jvsw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">适当地修改它，并记下子域和密码。</figcaption></figure><p id="ca4f" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">最后，在最后一页，验证所有的细节都是正确的，然后点击提交。这可能需要几分钟才能完成。</p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/ba21398b44949c58a6ce6c96149f42e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cTwiqRAyR9iCThPMX611mA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">确认一切正常，然后点击“提交”</figcaption></figure><h1 id="5ae5" class="jn jo hy bd jp jq jr js jt ju jv jw jx je jy jf jz jh ka ji kb jk kc jl kd ke bi translated">第二部分:连接到图并创建模式</h1><p id="e2b8" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">首先，我们将通过连接到刚刚创建的解决方案来设置图表的结构，然后我们将在GSQL中编写模式。对于这个例子，我们将使用Kaggle 的<a class="ae hv" href="https://www.kaggle.com/rtatman/lego-database" rel="noopener ugc nofollow" target="_blank"> Lego数据库。</a></p><h2 id="23fa" class="lv jo hy bd jp lw lx ly jt lz ma mb jx ko mc md jz ks me mf kb kw mg mh kd mi bi translated">第一步:安装并导入pyTigerGraph，连接到TG Cloud</h2><p id="1c5b" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">打开一个Colab笔记本，我们将从安装和导入pyTigerGraph开始，这是一个用于连接TG Cloud的Python包装器。</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="d095" class="lv jo hy mk b fi mo mp l mq mr">!pip install pyTigerGraph</span><span id="ff47" class="lv jo hy mk b fi ms mp l mq mr">import pyTigerGraph as tg</span></pre><p id="bd2e" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">接下来，我们将创建一个新的TigerGraph连接，以连接到我们刚刚创建的解决方案。这里，用您的子域替换子域，用您的密码替换密码。</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="9897" class="lv jo hy mk b fi mo mp l mq mr">conn = tg.TigerGraphConnection(host="https://SUBDOMAIN.i.tgcloud.io/", password="PASSWORD")</span></pre><p id="bfaf" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">在我的例子中，假设我使用了默认的TigerGraph密码，我的TigerGraphConnection将如下所示:</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="77a0" class="lv jo hy mk b fi mo mp l mq mr">conn = tg.TigerGraphConnection(host="https://legograph.i.tgcloud.io/", password="tigergraph")</span></pre><p id="c0a1" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">太好了！现在我们已经连接好了，我们可以开始创建模式了。</p><h2 id="24f4" class="lv jo hy bd jp lw lx ly jt lz ma mb jx ko mc md jz ks me mf kb kw mg mh kd mi bi translated">第二步:创建模式和图表</h2><p id="63cf" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">创建模式的代码如下:</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="fb3d" class="lv jo hy mk b fi mo mp l mq mr">print(conn.gsql('''</span><span id="3095" class="lv jo hy mk b fi ms mp l mq mr">CREATE VERTEX Colour(PRIMARY_ID colour_id STRING, colour_name STRING, rgb STRING, transparent STRING)<br/>CREATE VERTEX Inventory(PRIMARY_ID inventory_id STRING) WITH PRIMARY_ID_AS_ATTRIBUTE="true"<br/>CREATE VERTEX Version(PRIMARY_ID version_id INT) WITH PRIMARY_ID_AS_ATTRIBUTE="true"<br/>CREATE VERTEX Lego_Set(PRIMARY_ID set_num STRING, num_parts INT) WITH PRIMARY_ID_AS_ATTRIBUTE="true"<br/>CREATE VERTEX Part(PRIMARY_ID part_num STRING, part_name STRING)<br/>CREATE VERTEX Part_Category(PRIMARY_ID part_cat_num STRING, part_name STRING)<br/>CREATE VERTEX Theme(PRIMARY_ID theme_id STRING, theme_name STRING, theme_number INT) WITH PRIMARY_ID_AS_ATTRIBUTE="true"<br/>CREATE VERTEX Year(PRIMARY_ID year INT) WITH PRIMARY_ID_AS_ATTRIBUTE="true"</span><span id="92d1" class="lv jo hy mk b fi ms mp l mq mr">CREATE UNDIRECTED EDGE INVENTORY_VERSION(FROM Inventory, TO Version)<br/>CREATE UNDIRECTED EDGE INVENTORY_LEGO_SET(FROM Inventory, TO Lego_Set, quantity INT)<br/>CREATE UNDIRECTED EDGE LEGO_SET_THEME(FROM Lego_Set, TO Theme)<br/>CREATE UNDIRECTED EDGE LEGO_SET_YEAR(FROM Lego_Set, TO Year)<br/>CREATE UNDIRECTED EDGE INVENTORY_PART(FROM Inventory, TO Part, quantity INT, spare STRING)<br/>CREATE UNDIRECTED EDGE PART_COLOUR(FROM Part, TO Colour)<br/>CREATE UNDIRECTED EDGE PART_CATEGORY_PART(FROM Part_Category, TO Part)<br/>CREATE DIRECTED EDGE PARENT_THEME(FROM Theme, TO Theme)</span><span id="9086" class="lv jo hy mk b fi ms mp l mq mr">'''))</span></pre><p id="847b" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">当创建一个模式时，我通常会记住一些事情。首先，想想你想从图表中得到什么。您想通过什么进行搜索？你会积累什么？关键特征是什么？通常，如果某个东西很重要，我可能想用它来搜索或过滤，比如年份，我会把它分解成自己的顶点。但是，如果该值更多地描述了一些东西，并且是我不一定要搜索的东西，它将是一个属性，就像部件的数量是乐高集合顶点的属性一样。</p><p id="ba9f" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">接下来，当决定边缘时，查看数据以了解边缘可以最合理地添加到哪里通常是有用的。例如，在Lego数据库中，有一个名为<a class="ae hv" href="https://www.kaggle.com/rtatman/lego-database?select=part_categories.csv" rel="noopener ugc nofollow" target="_blank"> parts_categories.csv </a>的文件，因此，从逻辑上讲，在零件类别和零件之间包含一条边是有意义的。除了跟踪边的数据之外，尝试找到边可能对快速搜索有用的地方或者连接可能有用的地方。</p><p id="3574" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">使用这个逻辑，我创建了上面的模式。当在此基础上创建视觉效果或算法时，我会改变或添加一些属性，但模式会或多或少保持不变。</p><p id="a129" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">最后，使用CREATE GRAPH创建图表。我们称这个图为LegoGraph，然后参数就是创建的顶点和边。</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="1bf7" class="lv jo hy mk b fi mo mp l mq mr">print(conn.gsql('''</span><span id="83d4" class="lv jo hy mk b fi ms mp l mq mr">CREATE GRAPH LegoGraph(</span><span id="69ea" class="lv jo hy mk b fi ms mp l mq mr">Colour, Inventory, Version, Lego_Set, Part, Part_Category, Theme, Year,</span><span id="57f5" class="lv jo hy mk b fi ms mp l mq mr">INVENTORY_VERSION, INVENTORY_LEGO_SET, LEGO_SET_THEME, LEGO_SET_YEAR, INVENTORY_PART, PART_COLOUR, PART_CATEGORY_PART, PARENT_THEME</span><span id="cf82" class="lv jo hy mk b fi ms mp l mq mr">)</span><span id="743c" class="lv jo hy mk b fi ms mp l mq mr">'''))</span></pre><p id="10eb" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">太棒了。如果您导航到GraphStudio(转到https://tgcloud.io/app/solutions的<a class="ae hv" href="https://tgcloud.io/app/solutions" rel="noopener ugc nofollow" target="_blank">，然后单击Actions下的四个方块，并单击下拉列表中的“GraphStudio”)，您将能够看到我们创建的图表的模式！当你点击“全球视图”，你将能够找到我们刚刚创建的乐高积木。</a></p><figure class="lg lh li lj fd hk er es paragraph-image"><div class="er es mt"><img src="../Images/63b40f36c196b26a13931406ace70279.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*UZnk7CzLegLycSNbEFGbqQ.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">进入TG云-&gt;解决方案-&gt;操作-&gt;应用-&gt; GraphStudio。</figcaption></figure><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/e64d401f8c845838b8225542137e7755.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bEKFLtk3iZ_n39vxrb7U_w.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">这是我们创建的图表！在下拉列表中，还有LegoGraph！</figcaption></figure><h2 id="8de4" class="lv jo hy bd jp lw lx ly jt lz ma mb jx ko mc md jz ks me mf kb kw mg mh kd mi bi translated">第三步:更新图形凭证</h2><p id="6a69" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">太棒了。下一步是加载数据。但是首先，要加载数据，您需要更新连接凭证，添加图名并为TigerGraph创建一个API令牌。</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="87fc" class="lv jo hy mk b fi mo mp l mq mr">conn.graphname = "LegoGraph"</span><span id="f52a" class="lv jo hy mk b fi ms mp l mq mr">conn.apiToken = conn.getToken(conn.createSecret())</span></pre><p id="e9c1" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">不错！现在让我们开始从Kaggle加载数据！</p><h1 id="d590" class="jn jo hy bd jp jq jr js jt ju jv jw jx je jy jf jz jh ka ji kb jk kc jl kd ke bi translated">第三部分:从Kaggle加载数据</h1><h2 id="6d6c" class="lv jo hy bd jp lw lx ly jt lz ma mb jx ko mc md jz ks me mf kb kw mg mh kd mi bi translated">步骤1:生成一个Kaggle API令牌</h2><p id="3795" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">首先，我们需要一个API令牌。要得到这个，去<a class="ae hv" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/</a>。接下来，点击右上角的个人资料图片，然后点击“帐户”</p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mu"><img src="../Images/e5e6492a04f3db0eeeb979b236314cd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o5BUxUG3KYWdDsviQT1EMA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">点击右上角的个人资料图片后，按“帐户”。</figcaption></figure><p id="3db8" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">向下滚动到“API”，然后按“过期API令牌”，然后按“创建新的API令牌”</p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mv"><img src="../Images/112a89b69f21b8a1f8e0ac2d679daa0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3ePfyIPwCtTe0jyvV0w-Mw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">按使API令牌过期，然后创建新的API令牌。</figcaption></figure><p id="3458" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">这将下载一个名为kaggle.json的文件，我们将在笔记本中使用它。</p><h2 id="6466" class="lv jo hy bd jp lw lx ly jt lz ma mb jx ko mc md jz ks me mf kb kw mg mh kd mi bi translated">第二步:在你的笔记本上连接Kaggle</h2><p id="1c14" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">首先，在Colab笔记本中安装Kaggle:</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="7d3d" class="lv jo hy mk b fi mo mp l mq mr">! pip install -q kaggle</span></pre><p id="8272" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">接下来，将以下代码写入一个单元格，该单元格将提示您上传在上一步中下载的kaggle.json文件。</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="5542" class="lv jo hy mk b fi mo mp l mq mr">from google.colab import files</span><span id="6db0" class="lv jo hy mk b fi ms mp l mq mr">files.upload()</span></pre><p id="c363" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">在笔记本上运行几个命令来设置Kaggle。</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="5b23" class="lv jo hy mk b fi mo mp l mq mr">! mkdir ~/.kaggle</span><span id="1674" class="lv jo hy mk b fi ms mp l mq mr">! cp kaggle.json ~/.kaggle/</span><span id="9034" class="lv jo hy mk b fi ms mp l mq mr">! chmod 600 ~/.kaggle/kaggle.json</span><span id="d1c8" class="lv jo hy mk b fi ms mp l mq mr">! kaggle datasets list</span></pre><blockquote class="mw mx my"><p id="87e8" class="kf kg mz kh b ki lb iz kk kl lc jc kn na ld kq kr nb le ku kv nc lf ky kz la hb bi translated">如果您得到一个401错误，您可能需要重复第一步，终止您的Kaggle令牌并创建一个新令牌。</p></blockquote><p id="8626" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">最后，导入Lego数据集并解压缩文件，用CSV重命名文件夹以进行训练。</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="c456" class="lv jo hy mk b fi mo mp l mq mr">! kaggle datasets download -d rtatman/lego-database</span><span id="2315" class="lv jo hy mk b fi ms mp l mq mr">! unzip lego-database.zip -d train</span><span id="9f16" class="lv jo hy mk b fi ms mp l mq mr">! ls train</span></pre><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nd"><img src="../Images/465459503db7933a3759bcfd3f802ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EX55hUsiD9iln5xVn9ZGPw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">的结果！ls列车。</figcaption></figure><p id="c514" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">如果你能在那里找到你所有的文件，你就准备好继续前进了！</p><h1 id="2edb" class="jn jo hy bd jp jq jr js jt ju jv jw jx je jy jf jz jh ka ji kb jk kc jl kd ke bi translated">第四部分:将Kaggle数据加载到TigerGraph</h1><h2 id="ea5b" class="lv jo hy bd jp lw lx ly jt lz ma mb jx ko mc md jz ks me mf kb kw mg mh kd mi bi translated">第一步:创建数据框架</h2><p id="1ca5" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">让我们通过将Kaggle数据加载到TigerGraph来整合所有内容！首先，我们将读取使用Pandas下载的CSV并创建数据帧。我们可以很容易地使用DataFrames将数据批量插入到TigerGraph中。</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="5631" class="lv jo hy mk b fi mo mp l mq mr">import pandas as pd</span><span id="f292" class="lv jo hy mk b fi ms mp l mq mr">colours = pd.read_csv("train/colors.csv")<br/>parts = pd.read_csv("train/parts.csv")<br/>lego_sets = pd.read_csv("train/sets.csv")<br/>themes = pd.read_csv("train/themes.csv")<br/>inventories = pd.read_csv("train/inventories.csv")<br/>inventory_parts = pd.read_csv("train/inventory_parts.csv")<br/>inventory_sets = pd.read_csv("train/inventory_sets.csv")<br/>part_categories = pd.read_csv("train/part_categories.csv")</span></pre><h2 id="1d29" class="lv jo hy bd jp lw lx ly jt lz ma mb jx ko mc md jz ks me mf kb kw mg mh kd mi bi translated">第二步:将你的数据上传到TigerGraph</h2><p id="a677" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">最后，使用<a class="ae hv" href="https://pytigergraph.github.io/pyTigerGraph/DataFrame.html#upsertvertexdataframe" rel="noopener ugc nofollow" target="_blank">upsertverteddataframe</a>和<a class="ae hv" href="https://pytigergraph.github.io/pyTigerGraph/DataFrame.html#upsertedgedataframe" rel="noopener ugc nofollow" target="_blank"> upsertEdgeDataFrame </a>，将你的数据帧上插到创建的顶点和边上。</p><pre class="lg lh li lj fd mj mk ml mm aw mn bi"><span id="9b0e" class="lv jo hy mk b fi mo mp l mq mr">conn.upsertVertexDataFrame(colours, "Colour", "id", attributes={"colour_name": "name", "rgb": "rgb", "transparent": "is_trans"})<br/>conn.upsertVertexDataFrame(parts, "Part", "part_num", attributes={"part_name": "name"})<br/>conn.upsertVertexDataFrame(lego_sets, "Lego_Set", "set_num", attributes={"set_num": "set_num", "num_parts": "num_parts"})<br/>conn.upsertVertexDataFrame(themes, "Theme", "id", attributes={"theme_number": "id", "theme_name": "name"})<br/>conn.upsertVertexDataFrame(lego_sets, "Year", "year", attributes={"year": "year"})<br/>conn.upsertVertexDataFrame(inventories, "Inventory", "id", attributes={})<br/>conn.upsertVertexDataFrame(inventories, "Version", "version", attributes={"version_id": "version"})<br/>conn.upsertVertexDataFrame(part_categories, "Part_Category", "id", attributes={"part_name": "name"})</span><span id="e2a9" class="lv jo hy mk b fi ms mp l mq mr">conn.upsertEdgeDataFrame(inventories, "Inventory", "INVENTORY_VERSION", "Version", "id", "version", attributes={})<br/>conn.upsertEdgeDataFrame(lego_sets, "Lego_Set", "LEGO_SET_THEME", "Theme", "set_num", "theme_id", attributes={})<br/>conn.upsertEdgeDataFrame(parts, "Part_Category", "PART_CATEGORY_PART", "Part", from_id="part_cat_id", to_id="part_num", attributes={})<br/>conn.upsertEdgeDataFrame(lego_sets, "Lego_Set", "LEGO_SET_YEAR", "Year", "set_num", "year", attributes={})<br/>conn.upsertEdgeDataFrame(themes, "Theme", "PARENT_THEME", "Theme", "name", "parent_id", attributes={})<br/>conn.upsertEdgeDataFrame(inventories, "Inventory", "INVENTORY_LEGO_SET", "Lego_Set", "id", "set_num", attributes={})<br/>conn.upsertEdgeDataFrame(inventories, "Inventory", "INVENTORY_VERSION", "Version", "id", "version", attributes={})<br/>conn.upsertEdgeDataFrame(inventory_parts, "Inventory", "INVENTORY_PART", "Part", "inventory_id", "part_num", attributes={"quantity": "quantity", "spare": "is_spare"})<br/>conn.upsertEdgeDataFrame(inventory_parts, "Part", "PART_COLOUR", "Colour", "part_num", "color_id", attributes={})<br/>conn.upsertEdgeDataFrame(inventory_sets, "Inventory", "INVENTORY_LEGO_SET", "Lego_Set", "inventory_id", "set_num", attributes={"quantity": "quantity"})</span></pre><p id="31c8" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">在GraphStudio中，点击“LegoGraph ”,然后点击“加载数据”,你会发现你所有的数据都已插入并准备就绪！</p><figure class="lg lh li lj fd hk er es paragraph-image"><div class="er es ne"><img src="../Images/5f2cb9cc6dd4eb19f5db345e2c87ae4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*AP7tLLN0eOwLeqcGnvouEA.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">单击LegoGraph。</figcaption></figure><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/bddb92bb56b54fd25bb466dff888304b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fqaqQ-IF78gvS7W3tgsFHg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">单击“加载数据”并检查您加载的数据。</figcaption></figure><p id="bd0b" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">现在数据在图表中，我们可以对其运行可视化和算法，您可以在创建预测或观察Kaggle数据时使用它们。</p><h1 id="0b0e" class="jn jo hy bd jp jq jr js jt ju jv jw jx je jy jf jz jh ka ji kb jk kc jl kd ke bi translated">第五部分:最终挑战+资源</h1><p id="a96e" class="pw-post-body-paragraph kf kg hy kh b ki kj iz kk kl km jc kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">恭喜你完成这篇博客！现在你知道如何使用Kaggle用TigerGraph创建一个图了。在以后的博客中，我们将介绍如何在这个数据集上创建可视化和运行查询！</p><p id="5a44" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">您的最后一个挑战是用不同的Kaggle数据集创建一个图形数据库！如果您需要任何帮助，或者您已经完成了挑战，请加入TigerGraph Discord继续前进:</p><div class="hh hi ez fb hj nf"><a href="https://discord.gg/gRHWBZNpxW" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab dw"><div class="nh ab ni cl cj nj"><h2 class="bd hz fi z dy nk ea eb nl ed ef hx bi translated">加入TigerGraph Discord服务器！</h2><div class="nm l"><h3 class="bd b fi z dy nk ea eb nl ed ef dx translated">查看Discord上的TigerGraph社区-与584名其他成员一起玩，享受免费的语音和文本聊天。</h3></div><div class="nn l"><p class="bd b fp z dy nk ea eb nl ed ef dx translated">不和谐. gg</p></div></div><div class="no l"><div class="np l nq nr ns no nt hp nf"/></div></div></a></div><p id="fec1" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">您可以通过此处的笔记本了解本实验:</p><div class="hh hi ez fb hj nf"><a href="https://colab.research.google.com/drive/1u_ZbB3GeyjvLB22yL03q6cjMYbGVfZ-Y?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab dw"><div class="nh ab ni cl cj nj"><h2 class="bd hz fi z dy nk ea eb nl ed ef hx bi translated">谷歌联合实验室</h2><div class="nm l"><h3 class="bd b fi z dy nk ea eb nl ed ef dx translated">编辑描述</h3></div><div class="nn l"><p class="bd b fp z dy nk ea eb nl ed ef dx translated">colab.research.google.com</p></div></div><div class="no l"><div class="nu l nq nr ns no nt hp nf"/></div></div></a></div><p id="7578" class="pw-post-body-paragraph kf kg hy kh b ki lb iz kk kl lc jc kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">非常感谢，祝挑战好运！</p></div></div>    
</body>
</html>