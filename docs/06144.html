<html>
<head>
<title>Spring Boot with Drools Engine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">搭载Drools发动机的Spring Boot</h1>
<blockquote>原文：<a href="https://medium.com/codex/spring-boot-with-drools-engine-7119774c559f?source=collection_archive---------0-----------------------#2022-04-10">https://medium.com/codex/spring-boot-with-drools-engine-7119774c559f?source=collection_archive---------0-----------------------#2022-04-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="4c9e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在这个博客中，我们将看到Spring boot如何轻松地与Drools规则引擎集成。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/08adef921374fe58c7e3b16d88169a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jNS8_bpysh1uFGZQMn-7HQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">Spring Boot和Drools规则引擎集成</figcaption></figure><p id="bb8c" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">当我们必须实现最复杂的业务规则时，规则引擎是最常用的集成模式。</p><p id="e7a1" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">Drools是一个开源的业务规则管理系统(BRMS ),可以很容易地与许多应用程序集成。它是用100%纯Java编写的，可以在任何JVM上运行，也可以在Maven中央存储库中获得。</p><p id="2348" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们今天将探索并实现与Spring boot的集成。</p><p id="8320" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><a class="ae kj" href="https://www.kie.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hj"/></a>(知识就是一切)是一个伞式项目，旨在将相关技术集中在一个屋檐下。因此，KIE是与弹簧靴集成的主要核心部件。</p><p id="042f" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在这篇博客中，我们将看到如何集成Drools规则引擎，并使用spring boot实现一个演示规则引擎服务。</p><p id="8ad2" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们还将通过创建<strong class="jp hj">来使用DRL (Drools规则语言)规则。spring boot应用程序中的drl </strong>文件。</p><h2 id="26d1" class="kk kl hi bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld le bi translated">1.添加maven依赖项</h2><p id="d6af" class="pw-post-body-paragraph jn jo hi jp b jq lf ij js jt lg im jv jw lh jy jz ka li kc kd ke lj kg kh ki hb bi translated">让我们创建一个基本的spring boot应用程序，并将下面的<strong class="jp hj"> drools </strong>依赖项添加到pom.xml。</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="4839" class="kk kl hi ll b fi lp lq l lr ls">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/>&lt;project  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br/>   xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;<br/>   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;<br/>   &lt;parent&gt;<br/>      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;<br/>      &lt;version&gt;2.6.6&lt;/version&gt;<br/>      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;<br/>   &lt;/parent&gt;<br/>   &lt;groupId&gt;com.praveen.drools.example&lt;/groupId&gt;<br/>   &lt;artifactId&gt;springboot-drools-demo&lt;/artifactId&gt;<br/>   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;<br/>   &lt;name&gt;springboot-drools-demo&lt;/name&gt;<br/>   &lt;description&gt;Demo project for Spring Boot with Drools Engine&lt;/description&gt;<br/>   &lt;properties&gt;<br/>      &lt;java.version&gt;11&lt;/java.version&gt;<br/>      &lt;drools.version&gt;7.67.0.Final&lt;/drools.version&gt;<br/>      &lt;springfox-swagger2.version&gt;3.0.0&lt;/springfox-swagger2.version&gt;<br/>   &lt;/properties&gt;<br/>   &lt;dependencies&gt;<br/>      &lt;dependency&gt;<br/>         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;<br/>      &lt;/dependency&gt;<br/><br/>      &lt;dependency&gt;<br/>         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;<br/>         &lt;scope&gt;test&lt;/scope&gt;<br/>      &lt;/dependency&gt;<br/><br/>      &lt;dependency&gt;<br/>         &lt;groupId&gt;org.drools&lt;/groupId&gt;<br/>         &lt;artifactId&gt;drools-core&lt;/artifactId&gt;<br/>         &lt;version&gt;${drools.version}&lt;/version&gt;<br/>      &lt;/dependency&gt;<br/><br/>      &lt;dependency&gt;<br/>         &lt;groupId&gt;org.drools&lt;/groupId&gt;<br/>         &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;<br/>         &lt;version&gt;${drools.version}&lt;/version&gt;<br/>      &lt;/dependency&gt;<br/><br/>      &lt;dependency&gt;<br/>         &lt;groupId&gt;org.drools&lt;/groupId&gt;<br/>         &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;<br/>         &lt;version&gt;${drools.version}&lt;/version&gt;<br/>      &lt;/dependency&gt;<br/><br/>      &lt;!-- swagger ui --&gt;<br/>      &lt;dependency&gt;<br/>         &lt;groupId&gt;io.springfox&lt;/groupId&gt;<br/>         &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;<br/>         &lt;version&gt;${springfox-swagger2.version}&lt;/version&gt;<br/>      &lt;/dependency&gt;<br/><br/>      &lt;dependency&gt;<br/>         &lt;groupId&gt;io.springfox&lt;/groupId&gt;<br/>         &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;<br/>         &lt;version&gt;${springfox-swagger2.version}&lt;/version&gt;<br/>      &lt;/dependency&gt;<br/>   &lt;/dependencies&gt;<br/><br/>   &lt;build&gt;<br/>      &lt;plugins&gt;<br/>         &lt;plugin&gt;<br/>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br/>            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;<br/>         &lt;/plugin&gt;<br/>      &lt;/plugins&gt;<br/>   &lt;/build&gt;<br/><br/>&lt;/project&gt;</span></pre></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><h2 id="20a2" class="kk kl hi bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld le bi translated">2.配置Drools应用程序</h2><p id="db39" class="pw-post-body-paragraph jn jo hi jp b jq lf ij js jt lg im jv jw lh jy jz ka li kc kd ke lj kg kh ki hb bi translated">创建一个名为<strong class="jp hj">DroolsConfig.java</strong>的配置java类，并将下面的配置添加到这个java类中。</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="8883" class="kk kl hi ll b fi lp lq l lr ls">package com.praveen.drools.example.configuration;<br/><br/>import com.praveen.drools.example.service.CustomerCategorizeService;<br/>import org.kie.api.KieServices;<br/>import org.kie.api.builder.KieBuilder;<br/>import org.kie.api.builder.KieFileSystem;<br/>import org.kie.api.builder.KieModule;<br/>import org.kie.api.runtime.KieContainer;<br/>import org.kie.internal.io.ResourceFactory;<br/>import org.springframework.context.annotation.Bean;<br/>import org.springframework.context.annotation.Configuration;<br/><br/><em class="ma">/**<br/> * Drools Config.<br/> * </em><strong class="ll hj"><em class="ma">@author </em></strong><em class="ma">Praveen.Nair<br/> */<br/></em>@Configuration<br/>public class DroolsConfig {<br/><br/>    private static final String <em class="ma">RULES_CUSTOMER_RULES_DRL </em>= "rules/customer-category.drl";<br/><br/>    @Bean<br/>    public KieContainer kieContainer() { <br/>        final KieServices kieServices = KieServices.Factory.<em class="ma">get</em>();<br/>        KieFileSystem kieFileSystem = kieServices.newKieFileSystem();<br/>        kieFileSystem.write(ResourceFactory.<em class="ma">newClassPathResource</em>(<em class="ma">RULES_CUSTOMER_RULES_DRL</em>));<br/>        KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);<br/>        kb.buildAll();<br/>        KieModule kieModule = kb.getKieModule();<br/>        return kieServices.newKieContainer(kieModule.getReleaseId());<br/>    }<br/>}</span></pre><p id="7f0b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">config类创建一个spring bean<strong class="jp hj">kie container</strong>来构建规则引擎，方法是加载应用程序的<strong class="jp hj"> /resources </strong>文件夹下的规则文件。我们创建了<strong class="jp hj"> KieFileSystem </strong>实例，并从应用程序的资源目录中加载DRL文件。</p><p id="bcc2" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">最后，我们使用KieService和KieBuilder创建一个KieContainer，并将其配置为一个spring bean。</p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><h2 id="aefc" class="kk kl hi bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld le bi translated">3.创建模型类</h2><p id="d57f" class="pw-post-body-paragraph jn jo hi jp b jq lf ij js jt lg im jv jw lh jy jz ka li kc kd ke lj kg kh ki hb bi translated">创建名为<strong class="jp hj"> CustomerRequest </strong>的Pojo类，并定义以下字段。</p><p id="c5eb" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们接收这个类作为规则引擎的请求对象，并且我们还将这些字段作为输入发送给已定义的规则，以便为给定的客户请求导出customerType。</p><p id="21ba" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">还定义一个名为<strong class="jp hj">CustomerCategory.java</strong>的java枚举，如下所示。enum保存客户类别，规则引擎根据该值导出客户类型。</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="051f" class="kk kl hi ll b fi lp lq l lr ls">package com.praveen.drools.example.model;<br/><br/><em class="ma">/**<br/> * Customer Categories.<br/> */<br/></em>public enum CustomerCategory {<br/><br/>    <em class="ma">GENERAL</em>, <em class="ma">KIDS</em>, <em class="ma">SENIOR_CITIZEN</em>, <em class="ma">SUSPENDED</em>;<br/><br/>    public String getValue() {<br/>        return this.toString();<br/>    }<br/>}</span></pre><p id="a145" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">最后，创建一个名为CustomerType的响应POJO类，如下所示。</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="c1f1" class="kk kl hi ll b fi lp lq l lr ls">package com.praveen.drools.example.model;<br/><br/>import java.util.Objects;<br/>import java.util.StringJoiner;<br/><br/><em class="ma">/**<br/> * CustomerType Response model.<br/> * </em><strong class="ll hj"><em class="ma">@author </em></strong><em class="ma">Praveen.Nair<br/> */<br/></em>public class CustomerType {<br/><br/>    private CustomerCategory customerType;<br/><br/>    public CustomerCategory getCustomerType() {<br/>        return customerType;<br/>    }<br/><br/>    public void setCustomerType(CustomerCategory customerType) {<br/>        this.customerType = customerType;<br/>    }<br/>}</span></pre><p id="6505" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj"> 4。定义Drools规则</strong></p><p id="946b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">创建一个名为<strong class="jp hj"> customer-category.drl </strong>的drools规则文件，并将该文件放在目录<strong class="jp hj">/src/main/resources/rules</strong>下。</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="b1b9" class="kk kl hi ll b fi lp lq l lr ls">import com.praveen.drools.example.model.CustomerRequest<br/>import com.praveen.drools.example.model.CustomerCategory;<br/>global com.praveen.drools.example.model.CustomerType customerType;<br/><br/>dialect "mvel"<br/><br/>rule "Categorize customer based on age"<br/>    when<br/>        CustomerRequest(age &lt; 20)<br/>    then<br/>        customerType.setCustomerType(CustomerCategory.<em class="ma">KIDS</em>);<br/>end<br/><br/>rule "Categorize senior citizen customer based on age"<br/>    when<br/>        CustomerRequest(age &gt; 50)<br/>    then<br/>      customerType.setCustomerType(CustomerCategory.<em class="ma">SENIOR_CITIZEN</em>);<br/>end<br/><br/>rule "Categorize customer based on number of orders"<br/>    when<br/>        CustomerRequest(numberOfOrders == 0)<br/>    then<br/>        customerType.setCustomerType(CustomerCategory.<em class="ma">SUSPENDED</em>);<br/>end<br/><br/>rule "Categorize customer general case"<br/>    when<br/>        CustomerRequest((gender == "M" || gender == "F") &amp;&amp; age &gt; 20 &amp;&amp; age &lt; 50)<br/>    then<br/>        customerType.setCustomerType(CustomerCategory.<em class="ma">GENERAL</em>);<br/>end</span></pre><p id="3ed3" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们需要导入DRL文件中使用的模型。我们还使用名为<strong class="jp hj"> customerType </strong>的全局参数。全局参数可以在多个规则之间共享。</p><p id="8a00" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">DRL文件可以包含一个或多个规则。我们可以使用<a class="ae kj" href="http://mvel.documentnode.com/" rel="noopener ugc nofollow" target="_blank"> mvel </a>语法来指定规则。此外，每个规则都可以使用<strong class="jp hj">规则</strong>关键字进行描述。</p><p id="3c68" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">然后我们定义<strong class="jp hj"> when-then </strong>语法来指定规则的条件。基于客户请求的输入值，我们将customerType派生为结果。</p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="94f9" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj"> 5。添加控制器和服务层</strong></p><p id="23a9" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">创建一个名为<strong class="jp hj">CustomerCategorizeService</strong>的服务java类，并添加以下内容。</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="2cff" class="kk kl hi ll b fi lp lq l lr ls">package com.praveen.drools.example.service;<br/><br/>import com.praveen.drools.example.model.CustomerRequest;<br/>import com.praveen.drools.example.model.CustomerType;<br/>import org.kie.api.runtime.KieContainer;<br/>import org.kie.api.runtime.KieSession;<br/><br/><em class="ma">/**<br/> * Customer Categorization service.<br/> * </em><strong class="ll hj"><em class="ma">@author </em></strong><em class="ma">Praveen.Nair<br/> */<br/></em>public class CustomerCategorizeService {<br/><br/>    private final KieContainer kieContainer;<br/><br/>    public CustomerCategorizeService(KieContainer kieContainer) {<br/>        this.kieContainer = kieContainer;<br/>    }<br/><br/>    public CustomerType getCustomerType(CustomerRequest customerRequest) {<br/>        CustomerType customerType = new CustomerType();<br/>        KieSession kieSession = kieContainer.newKieSession();<br/>        kieSession.setGlobal("customerType", customerType);<br/>        kieSession.insert(customerRequest);<br/>        kieSession.fireAllRules();<br/>        kieSession.dispose();<br/>        return customerType;<br/>    }<br/>}</span></pre><p id="4f28" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在我们正在注入<strong class="jp hj"> KieContainer </strong>实例并创建一个<strong class="jp hj"> KieSession </strong>实例。我们还设置了一个类型为<strong class="jp hj"> CustomerType </strong>的全局参数，它将保存规则的执行结果。</p><p id="7159" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">要将请求对象传递给DRL文件，我们可以使用<strong class="jp hj"> insert() </strong>方法。然后我们通过调用<strong class="jp hj"> fireAllRules() </strong>方法触发所有规则，最后通过调用KieSession的<strong class="jp hj"> dispose() </strong>方法终止会话。</p><p id="8fe8" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">用端点<strong class="jp hj"> /api/getCustomerType </strong>公开一个POST API。端点需要一个<strong class="jp hj"> CustomerRequest </strong>对象，并返回<strong class="jp hj"> CustomerType </strong>响应。控制器内容如下所示:</p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="55f8" class="kk kl hi ll b fi lp lq l lr ls">package com.praveen.drools.example.web;<br/><br/>import com.praveen.drools.example.model.CustomerRequest;<br/>import com.praveen.drools.example.model.CustomerType;<br/>import com.praveen.drools.example.service.CustomerCategorizeService;<br/>import org.springframework.http.HttpStatus;<br/>import org.springframework.http.ResponseEntity;<br/>import org.springframework.web.bind.annotation.PostMapping;<br/>import org.springframework.web.bind.annotation.RequestBody;<br/>import org.springframework.web.bind.annotation.RequestMapping;<br/>import org.springframework.web.bind.annotation.RestController;<br/><br/>@RestController<br/>@RequestMapping("/api/getCustomerType")<br/>public class CustomerCategorizeController {<br/><br/>    private final CustomerCategorizeService customerCategorizeService;<br/><br/>    public CustomerCategorizeController(<br/>            CustomerCategorizeService customerCategorizeService) {<br/>        this.customerCategorizeService = customerCategorizeService;<br/>    }<br/><br/>    @PostMapping<br/>    public ResponseEntity&lt;CustomerType&gt; getCustomer(@RequestBody CustomerRequest customerRequest) {<br/>        CustomerType customerType = customerCategorizeService.getCustomerType(customerRequest);<br/>        return new ResponseEntity&lt;&gt;(customerType, HttpStatus.OK);<br/>    }<br/><br/>}</span></pre></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="e12c" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jp hj"> 6。添加Swagger配置(可选)</strong></p><p id="256f" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">将swagger配置添加到应用程序中，以获得一个swagger页面。</p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="dba4" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">使用下面的curl执行一些测试，或者通过swagger运行。</p><ol class=""><li id="381c" class="mb mc hi jp b jq jr jt ju jw md ka me ke mf ki mg mh mi mj bi translated"><em class="ma">如果numberOfOrders == 0，则customerType = SUSPENDED </em></li></ol><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="cf63" class="kk kl hi ll b fi lp lq l lr ls">curl -X POST "<a class="ae kj" href="http://localhost:8080/api/getCustomerType" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/api/getCustomerType</a>" -H "accept: */*" -H "Content-Type: application/json" -d "{ \"age\": 0, \"gender\": \"M\", \"id\": 0, \"numberOfOrders\": 0}"</span><span id="ec0c" class="kk kl hi ll b fi mk lq l lr ls">Response :<br/>{<strong class="ll hj"><br/>  </strong>"customerType":<strong class="ll hj"> </strong>"SUSPENDED"<strong class="ll hj"><br/></strong>}</span></pre><p id="8a30" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">2.<em class="ma">如果年龄&gt; 0且订单数量！= 0，则customerType = KIDS </em></p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="3691" class="kk kl hi ll b fi lp lq l lr ls">curl -X POST "<a class="ae kj" href="http://localhost:8080/api/getCustomerType" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/api/getCustomerType</a>" -H "accept: */*" -H "Content-Type: application/json" -d "{ \"age\": 10, \"gender\": \"M\", \"id\": 0, \"numberOfOrders\": 1}"</span><span id="3d80" class="kk kl hi ll b fi mk lq l lr ls">Response :<br/>{<strong class="ll hj"><br/>  </strong>"customerType":<strong class="ll hj"> </strong>"KIDS"<strong class="ll hj"><br/></strong>}</span></pre><p id="d313" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">3.<em class="ma">如果年龄&gt; 50且数量订单！=0那么customer type = SENIOR _ CITIZEN</em></p><pre class="iy iz ja jb fd lk ll lm ln aw lo bi"><span id="f58d" class="kk kl hi ll b fi lp lq l lr ls">curl -X POST "<a class="ae kj" href="http://localhost:8080/api/getCustomerType" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/api/getCustomerType</a>" -H "accept: */*" -H "Content-Type: application/json" -d "{ \"age\": 60, \"gender\": \"M\", \"id\": 0, \"numberOfOrders\": 1}"</span><span id="6cae" class="kk kl hi ll b fi mk lq l lr ls">Response :<br/>{<strong class="ll hj"><br/>  </strong>"customerType":<strong class="ll hj"> </strong>"SENIOR_CITIZEN"<strong class="ll hj"><br/></strong>}</span></pre></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><h2 id="e259" class="kk kl hi bd km kn ko kp kq kr ks kt ku jw kv kw kx ka ky kz la ke lb lc ld le bi translated">摘要</h2><p id="1c8f" class="pw-post-body-paragraph jn jo hi jp b jq lf ij js jt lg im jv jw lh jy jz ka li kc kd ke lj kg kh ki hb bi translated">在这篇博客中，我们学习了如何使用spring boot框架创建drools规则引擎。我们还看到了如何使用DRL文件来定义业务规则。</p><p id="822b" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">希望你喜欢学习。我已经将全部代码推送到<a class="ae kj" href="https://github.com/PraveenGNair/springboot-drools-demo" rel="noopener ugc nofollow" target="_blank"> github </a>中。<br/>如果不想错过类似内容，关注并订阅我的中柄。编码快乐！！</p></div></div>    
</body>
</html>