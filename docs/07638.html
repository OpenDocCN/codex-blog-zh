<html>
<head>
<title>Why Should We Care About Logs in Cybersecurity?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网络安全为什么要关心日志？</h1>
<blockquote>原文：<a href="https://medium.com/codex/why-should-we-care-about-logs-in-cybersecurity-11f85afa88df?source=collection_archive---------12-----------------------#2022-06-20">https://medium.com/codex/why-should-we-care-about-logs-in-cybersecurity-11f85afa88df?source=collection_archive---------12-----------------------#2022-06-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="80ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">什么是日志？</strong></p><p id="dce5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">实际上，日志是记录特定事件、发生时间、发生位置以及与事件相关的其他信息的文件，具体取决于配置的参数。对于安全性和故障排除来说，这些是绝对重要的——无论我们是查看过去的日志来确定违规的根本原因，还是查看最近的日志来确定操作是否正常运行，日志都会告知我们系统中发生的事件，并且是让我们了解情况的关键。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/dbc170fc58828b51bbcc31f356040d62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TuSMpf-zDsf3Eukl3iVqlw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">位于/var/log/syslog中的日志</figcaption></figure><p id="aeab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">日志格式</strong></p><p id="72f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">日志可以有多种格式。如果您的日志来自<strong class="ih hj">窗口事件查看器</strong>，您可以利用<em class="jt">。csv </em>，。<em class="jt"> XML </em>，<em class="jt">。evtx </em>和<em class="jt">。txt </em>扩展名。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/b13c5367927dd586291b28410c760fba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SbcHAe3v7JNWhvnTebuXAQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">在Windows机器上存储日志时，可以使用不同的扩展。</figcaption></figure><p id="6d07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一方面，如果您使用的是<strong class="ih hj"> Linux </strong>系统，日志通常会有<em class="jt">。日志</em>扩展。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jv"><img src="../Images/834f1ebccc3c4234d084376899d1abba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iULKz06JS_hL-5L5xmAUhg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Ubuntu上的日志文件</figcaption></figure><p id="afbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在哪里可以找到我的日志？</p><p id="ae68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Windows环境中，事件日志通常会存储在<strong class="ih hj"><em class="jt">C:\ Windows \ system32 \ config</em></strong>文件夹中。请注意，要修改、查看或编辑日志文件，您需要提升权限。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jw"><img src="../Images/ae9cb5ed39bf6e015edee4d939feca11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9u-CfTKTZkaP9yoYsJH-0Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">C:\Windows\system32\config文件夹</figcaption></figure><p id="94dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Linux环境中，日志通常会存储在<strong class="ih hj"> <em class="jt"> /var/log </em> </strong>路径中。同样的逻辑也适用于这里——根据日志文件的不同，您需要适当的权限来读取和/或修改它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jx"><img src="../Images/25da5fd87d7bb48653c6cb1e1bf73c6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NnLaGif0BTGRfHlbHHrmVQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">包含日志文件的/var/log/文件夹</figcaption></figure><p id="2333" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">日志记录发生在哪里？</p><p id="4fb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在企业环境中，网络中的几乎所有设备都可以被记录。从工作站、端点、路由器、交换机、防火墙和代理到IOT，日志记录是了解这些系统中到底发生了什么的非常有效的工具。但是，一定要突出<strong class="ih hj"> <em class="jt">质量日志</em> </strong>的重要性。</p><p id="d787" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">记录与您的目标无关的事件会导致<em class="jt">噪音，</em>噪音通常弊大于利。你当然不希望为了找到对你有帮助的东西而去翻很多不相关信息的文件。就磁盘存储而言，这也是非常昂贵的，我们将在接下来讨论这一点。</p><p id="05b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目标应该始终是记录重要的事件——指示操作是否按预期运行的事件、异常流量等等。</p><p id="68cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">记录日志时使用了多少磁盘存储空间？</strong></p><p id="dc5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据组织和所用设备的不同，<strong class="ih hj"> EPS </strong>(每秒事件数)的数量会有所不同。例如，平均而言，Windows工作站的<strong class="ih hj"> EPS </strong>为<strong class="ih hj"> 1.0 </strong>，这表示每秒一个事件，而防火墙的<strong class="ih hj"> EPS </strong>为<strong class="ih hj">10.0–50.0</strong>，这表示每秒10–50个事件。</p><p id="7266" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，在做这些决定时考虑高峰时间也是很重要的，因为通常在那些时间会发生一些不寻常的事情。要想知道在某一天你将利用多少空间，你可以使用下面的公式:</p><p id="4662" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jt"> EPS(每台设备)* 86，400(一天中的秒数)* 600(平均原始单个事件的大小，以字节为单位)</em> =考虑到事件以其<strong class="ih hj">原始</strong>形式存储，给定日期和单个设备的未压缩日志文件的大小，以字节为单位。</p><p id="11b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jt"> EPS(每台设备)* 86，400(一天中的秒数)* 1500(平均标准化单个事件的大小，以字节为单位)</em> =给定一天单个设备的未压缩日志文件的大小，以字节为单位，考虑到事件是以其<strong class="ih hj">标准化</strong>形式存储的。</p><p id="e91b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，你可能会问自己，一个<strong class="ih hj"> <em class="jt">原始事件</em> </strong>和一个<strong class="ih hj"> <em class="jt">正常化事件</em> </strong>有什么区别？</p><p id="f431" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">规范化事件本质上是原始事件的修改版本。原始事件的内容被重新组织，并添加了额外的信息，以便安全管理员能够更好地阅读和理解该事件。这是一个非常重要的步骤，可以确保日志提供正确保护系统所需的信息。但是，与原始事件相比，规范化事件的字节数更多。</p><p id="e00a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">压缩</strong></p><p id="f969" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以未压缩的形式存储这些日志文件会占用大量存储空间。因此，我们必须利用压缩来减少存储磁盘需求。8:1的比率可能是一个很好的起点，但考虑到对SIEM系统的影响、标准化数据量与原始数据量等变量也很重要。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jy"><img src="../Images/daea3565652a35f9927f97d5953dd39b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1cxcWz3Y0p8-wMdsSeWMPg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">压缩文件夹大小</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jz"><img src="../Images/9b9fd83376e006aefff65207a07d908d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GWrqHIwoIsO6tDZ28prdGg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">未压缩的文件夹大小</figcaption></figure><p id="e833" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">总结</strong></p><p id="8ad5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">日志是网络安全操作的一个重要元素。如果执行得当，日志记录可以让我们清楚地看到系统中正在发生或已经发生的事情，让我们能够更精确地证实事件，并根据需要进行调整。如果我们要从这个过程中获取价值，了解在哪里记录什么是至关重要的。就所需的存储磁盘而言，日志记录的成本可能很高，因此考虑各种因素(EPS、NEs(正常事件)、PEs(峰值事件)、标准化和原始事件、压缩率、设备数量、潜在扩展空间、增长空间等)非常重要。)将磁盘空间资源分配给日志文件时。</p></div></div>    
</body>
</html>