<html>
<head>
<title>How to customize in-app chat on iOS with the Sendbird UIKit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Sendbird UIKit在iOS上定制应用内聊天</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-customize-in-app-chat-on-ios-with-the-sendbird-uikit-33e2188e3897?source=collection_archive---------17-----------------------#2022-09-06">https://medium.com/codex/how-to-customize-in-app-chat-on-ios-with-the-sendbird-uikit-33e2188e3897?source=collection_archive---------17-----------------------#2022-09-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e2f93a4ddd0e74be11bac39768e8097f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yU7WRKA4fVRDHntn.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">仙鸟2022</figcaption></figure><div class=""/><div class=""><h2 id="6bc1" class="pw-subtitle-paragraph iu hw hx bd b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl dx translated">自定义Sendbird iOS聊天UIKit的频道列表视图和消息视图。</h2></div><p id="0989" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">杰森·奥尔肖恩<br/>解决方案工程师| <a class="ae ki" href="https://www.sendbird.com/" rel="noopener ugc nofollow" target="_blank">仙鸟</a></p><p id="e769" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><em class="kj">你可能会发现查看iOS聊天UIKit </em> <a class="ae ki" href="https://github.com/sendbird/sendbird-uikit-ios" rel="noopener ugc nofollow" target="_blank"> <em class="kj">样本</em> </a> <em class="kj">很有用。有关本教程中材料的其他指导，请参见</em> <a class="ae ki" href="https://sendbird.com/docs/uikit/v2/ios/quickstart/send-first-message" rel="noopener ugc nofollow" target="_blank"> <em class="kj">文档</em> </a> <em class="kj">。要查看仙鸟聊天的运行情况，请查看这个</em> <a class="ae ki" href="https://sendbird.com/demos/in-app-chat" rel="noopener ugc nofollow" target="_blank"> <em class="kj">演示</em> </a> <em class="kj">。您也可以访问我们的</em> <a class="ae ki" href="https://sendbird.com/features/chat-messaging/uikit" rel="noopener ugc nofollow" target="_blank"> <em class="kj">网站</em> </a> <em class="kj">了解更多关于UIKit的信息。</em></p><h1 id="2b88" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">介绍</h1><p id="9b25" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">本教程将向您展示如何定制iOS Sendbird聊天工具包。我们将定制两个组件:</p><ul class=""><li id="d682" class="lh li hx jo b jp jq js jt jv lj jz lk kd ll kh lm ln lo lp bi translated">频道列表视图</li><li id="5dbc" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh lm ln lo lp bi translated">邮件列表视图</li></ul><p id="397d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在我们开始之前，您需要安装Sendbird UIKit。为此，请遵循Sendbird <a class="ae ki" href="https://sendbird.com/docs/uikit/v1/ios/quickstart/send-first-message" rel="noopener ugc nofollow" target="_blank"> <strong class="jo hy">文档</strong> </a>中的说明。</p><p id="aaf0" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">既然你已经准备好了，让我们开始吧。</p><h1 id="6605" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">如何自定义聊天频道列表</h1><p id="9453" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">要更改频道列表的外观，我们需要更新SBUChannelListViewController。以下要点包含要定制的代码:</p><p id="6b38" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">首先，让我们:</p><ul class=""><li id="e84d" class="lh li hx jo b jp jq js jt jv lj jz lk kd ll kh lm ln lo lp bi translated">初始化UIKit频道列表视图控制器</li><li id="6875" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh lm ln lo lp bi translated">并覆盖其功能和属性</li></ul><p id="35e7" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">这是为iOS定制Sendbird Chat UIKit的任何组件的相同过程。</p><p id="46ab" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">下面是初始化自定义UIKit频道列表视图类的基本模式。IBAction openChat是视图控制器中的一个按钮，用于显示UIKit频道列表。</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="afb2" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">现在，让我们改变的外观:</p><ol class=""><li id="cef5" class="lh li hx jo b jp jq js jt jv lj jz lk kd ll kh mb ln lo lp bi translated">左边的按钮</li><li id="ae50" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh mb ln lo lp bi translated">标题视图</li><li id="876d" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh mb ln lo lp bi translated">右侧按钮</li><li id="6ebd" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh mb ln lo lp bi translated">通道细胞</li><li id="c015" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh mb ln lo lp bi translated">自定义频道列表查询</li></ol><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mc"><img src="../Images/3b22f60fabe3625f2e0f2762d3f80159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*942MIa9Y1pRfQPJ96IUrUg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">图一。聊天频道列表定制前后</figcaption></figure><h2 id="9a56" class="md kl hx bd km me mf mg kq mh mi mj ku jv mk ml kw jz mm mn ky kd mo mp la mq bi translated">自定义左边的按钮</h2><p id="a7a8" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">要自定义leftBarButton，请使用以下代码:</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="f58b" class="md kl hx bd km me mf mg kq mh mi mj ku jv mk ml kw jz mm mn ky kd mo mp la mq bi translated">自定义标题视图</h2><p id="3960" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">要自定义标题视图，请使用以下代码:</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="9070" class="md kl hx bd km me mf mg kq mh mi mj ku jv mk ml kw jz mm mn ky kd mo mp la mq bi translated">自定义channelListVC.rightBarButton</h2><p id="cda1" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">要自定义<a class="ae ki" href="https://gist.github.com/supertopoz/c3b266f8da04cb5a8aab60a9d587460c#file-channellistviewcontroller-swift-L21" rel="noopener ugc nofollow" target="_blank"><strong class="jo hy">channelistvc . rightbarbutton</strong></a>使用以下代码:</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="ca46" class="md kl hx bd km me mf mg kq mh mi mj ku jv mk ml kw jz mm mn ky kd mo mp la mq bi translated">自定义channelistvc . register(channel cell:customchannelistcell())</h2><p id="f2d2" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">要自定义channelistvc . register(channel cell:customchannelistcell())，请使用以下代码:</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="6ea7" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">对于<strong class="jo hy">customchannelistcell</strong>类，代码侧重于单元格视图的编程呈现。下面是一个工作示例代码:</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="1d52" class="md kl hx bd km me mf mg kq mh mi mj ku jv mk ml kw jz mm mn ky kd mo mp la mq bi translated">定制频道列表查询</h2><ul class=""><li id="bdaa" class="lh li hx jo b jp lc js ld jv mr jz ms kd mt kh lm ln lo lp bi translated">创建频道列表视图时，在初始化时包含您的自定义查询，并将其传递到<strong class="jo hy">超级</strong>。<strong class="jo hy"> init </strong>()方法。</li><li id="1a46" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh lm ln lo lp bi translated">自定义频道列表查询利用了Sendbird core SDK的频道列表<a class="ae ki" href="https://sendbird.com/docs/chat/v3/ios/guides/group-channel-advanced#2-search-channels-by-name-url-or-other-filters" rel="noopener ugc nofollow" target="_blank"> <strong class="jo hy">查询</strong> </a>。Sendbird核心SDK是Sendbird UIKit库的一部分。</li></ul><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h1 id="c56d" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">如何定制频道消息列表</h1><p id="5c85" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">这个viewController显示特定通道中的所有消息。在本例中，我们将更改:</p><ol class=""><li id="874c" class="lh li hx jo b jp jq js jt jv lj jz lk kd ll kh mb ln lo lp bi translated">左边的按钮</li><li id="3af4" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh mb ln lo lp bi translated">标题视图</li><li id="a7c6" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh mb ln lo lp bi translated">右侧按钮</li><li id="269b" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh mb ln lo lp bi translated">register(channel cell:CustomUserMessageCell())</li><li id="6a47" class="lh li hx jo b jp lq js lr jv ls jz lt kd lu kh mb ln lo lp bi translated">自定义消息发送</li></ol><figure class="lv lw lx ly fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mu"><img src="../Images/e60eb8437adbca6a77efa11fc1b5a7da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ZjErn3jqxoesqHtRa-UrQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">图二。频道消息列表定制前后</figcaption></figure><p id="82f1" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">您需要用通道URL或通道对象初始化channelViewController，以自定义单个通道。下面的代码演示了如何重写SBUChannelListViewController的didSelectRowAt委托。覆盖允许您收听在channelListViewController中选择的频道，然后显示channelViewController。</p><p id="c5a2" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">ViewController.swift</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="0230" class="md kl hx bd km me mf mg kq mh mi mj ku jv mk ml kw jz mm mn ky kd mo mp la mq bi translated">自定义左边的按钮</h2><p id="1f9d" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">要自定义leftBarButton，请使用以下代码:</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="41e7" class="md kl hx bd km me mf mg kq mh mi mj ku jv mk ml kw jz mm mn ky kd mo mp la mq bi translated">自定义标题视图</h2><p id="912c" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">要自定义标题视图，请使用以下代码:</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="fb71" class="md kl hx bd km me mf mg kq mh mi mj ku jv mk ml kw jz mm mn ky kd mo mp la mq bi translated">自定义右边的按钮</h2><p id="1d49" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">要自定义rightBarButton，请使用以下代码:</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="36c6" class="md kl hx bd km me mf mg kq mh mi mj ku jv mk ml kw jz mm mn ky kd mo mp la mq bi translated">自定义寄存器(channel cell:CustomUserMessageCell())</h2><p id="5844" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">要自定义寄存器(channel cell:CustomUserMessageCell())，请使用以下代码:</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h2 id="a7a5" class="md kl hx bd km me mf mg kq mh mi mj ku jv mk ml kw jz mm mn ky kd mo mp la mq bi translated">自定义消息发送</h2><p id="5a9d" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">要自定义消息发送，请使用以下代码:</p><figure class="lv lw lx ly fd hk"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h1 id="6e31" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">颜色设置</h1><p id="2b61" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">默认情况下，Sendbird提供了一个漂亮的用户界面，带有浅色或深色的主题。要进一步定制和指定用于浅色和深色主题的确切颜色，您可以使用我们的UIKit <a class="ae ki" href="https://sendbird.com/wp-content/uploads/SB_UIKit_colorSet_guide.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="jo hy">颜色设置指南</strong> </a>。这个文档将帮助你在背景和聊天界面组件之间设置和谐的颜色和对比度。</p><h1 id="0e94" class="kk kl hx bd km kn ko kp kq kr ks kt ku jd kv je kw jg kx jh ky jj kz jk la lb bi translated">结论</h1><p id="0f92" class="pw-post-body-paragraph jm jn hx jo b jp lc iy jr js ld jb ju jv le jx jy jz lf kb kc kd lg kf kg kh hb bi translated">本教程向您介绍了定制iOS Sendbird聊天UIKit的两个组件的步骤。对于额外的UI修改，请查看文档以获得可定制的<a class="ae ki" href="https://sendbird.com/docs/uikit/v1/ios/guides/themes#1-themes" rel="noopener ugc nofollow" target="_blank"> <strong class="jo hy">主题</strong> </a>以及如何更改<a class="ae ki" href="https://sendbird.com/docs/uikit/v1/ios/guides/common-resources#1-common-resources" rel="noopener ugc nofollow" target="_blank"> <strong class="jo hy">公共资源</strong> </a>如字符串、图标和其他样式的完整列表。</p><p id="263d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">您正在创建一个美丽而个性化的聊天体验！保持下去，快乐聊天建设！🙂</p></div></div>    
</body>
</html>