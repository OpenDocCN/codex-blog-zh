<html>
<head>
<title>Metrics For Logistic Regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">逻辑回归的度量</h1>
<blockquote>原文：<a href="https://medium.com/codex/metrics-for-logistic-regression-db5bf6dee450?source=collection_archive---------2-----------------------#2022-03-29">https://medium.com/codex/metrics-for-logistic-regression-db5bf6dee450?source=collection_archive---------2-----------------------#2022-03-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/471622e047d49f3c3810d886d4cfd2ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8BC-Onb_n1pZw_S-32s84Q.png"/></div></div></figure><p id="273a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上图描述了如果您只是部署您的模型，而没有用合适的度量来度量它，这是多么罪恶。</p><p id="8c70" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于一个机器学习专业人员来说，能够评估不同模型的性能与能够训练它们一样重要。衡量分类模型性能的最简单方法是计算其准确性，但准确性并不能反映全部情况，因为有些模型显示出很高的准确性，但却不是好模型，因此我们在本文中讨论以下指标:</p><ul class=""><li id="c80a" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">准确(性)</li><li id="475b" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">回忆</li><li id="66f6" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">精确</li><li id="1318" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">灵敏度</li><li id="1d90" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">特征</li><li id="3766" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">f分数</li><li id="d593" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">受试者工作特征曲线</li><li id="bc27" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">罗马纪元</li></ul></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><h2 id="96c9" class="kj kk hi bd kl km kn ko kp kq kr ks kt jb ku kv kw jf kx ky kz jj la lb lc ld bi translated">混淆矩阵概述:</h2><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es le"><img src="../Images/30ac9de4fcd95a0c7052a5a3d1555a58.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*mZzvLrfy_HE78ulHlCl6bg.png"/></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图1:混淆矩阵</figcaption></figure><ul class=""><li id="b7ed" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">TP →真阳性。</li><li id="94a2" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">TN →真阴性。</li><li id="1ec0" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">FP →假阳性(1型错误)。</li><li id="f3de" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">FN →假阴性(2型错误)。</li><li id="bc69" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">P →实际正类之和。</li><li id="1da6" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">N →实际负类之和。</li><li id="6f82" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">P <strong class="is hj"> ' </strong> →预测正类之和。</li><li id="5f34" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">N <strong class="is hj"> ' → </strong>预测负类之和。</li></ul><blockquote class="ln lo lp"><p id="3220" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated">注-: P <strong class="is hj"> ' + </strong> N <strong class="is hj"> ' = </strong> P + N</p></blockquote><p id="b4da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们试着用不同场景的例子来理解上面的缩写:</p></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><p id="536d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">场景-1: </strong>分类器检测一个人是生病还是健康。</p><p id="1ec7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">真阳性:</strong>被诊断为患病的患病者。</p><p id="cb46" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">真阴性:</strong>被诊断为健康的健康人。</p><p id="3ab8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">假阳性:</strong>被错误诊断为患病的健康人。</p><p id="2f4a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">假阴性:</strong>被错误诊断为健康的患病者。</p></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><p id="9d49" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">场景-2: </strong>分类器检测我收到的邮件是垃圾邮件还是垃圾邮件。</p><p id="37bb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">真阳性:</strong>一封被正确归类为垃圾邮件的<strong class="is hj"> </strong>垃圾邮件。</p><p id="a16a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">真阴性:</strong>被正确分类为火腿的火腿邮件。</p><p id="e37d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">误报:</strong>被错误归类为垃圾邮件的火腿电子邮件。</p><p id="f160" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">误报:</strong>被错误归类为火腿的垃圾邮件。</p></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><blockquote class="ln lo lp"><p id="6c0d" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated">注意-:在场景1中，假阴性的代价更大，因为很明显这是危险的，如果我们预测一个病人是健康的&amp;建议不要服用任何药物，这将花费某人的生命。</p><p id="8388" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated">而在场景2中，误报的成本更高，因为试想一下，如果你收到一封录用信&amp;你的分类器预测它是一封垃圾邮件，它会让你丢掉工作。</p></blockquote><p id="66e8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，区分优先级、假阳性或假阴性完全取决于数据背后的故事。</p></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><h2 id="4669" class="kj kk hi bd kl km kn ko kp kq kr ks kt jb ku kv kw jf kx ky kz jj la lb lc ld bi translated">准确性:</h2><p id="32b7" class="pw-post-body-paragraph iq ir hi is b it lu iv iw ix lv iz ja jb lw jd je jf lx jh ji jj ly jl jm jn hb bi translated">准确性是所有数据点中正确预测的数据点的数量。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/74a753ec5e570694ddbb9a4e17ed535f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IC9nvIiV-O9fQHfhnAV9RQ.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图2:精确度公式</figcaption></figure><p id="0297" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">类似地，我们还使用术语“错误率或错误分类率”来记录所有数据点中不正确预测的数据点的数量，即(1 —准确性)。</p><blockquote class="ln lo lp"><p id="c7c5" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated">注意:如果我们有不平衡的数据集，那么我们永远不能使用准确性作为衡量标准。</p></blockquote><p id="075d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在的问题是，当我们有一个不平衡的数据集(即欺诈检测或乳腺癌数据集)时，为什么我们不能使用准确性？</p><p id="ad26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面我们来解释一下上面的问题→在一个不平衡的数据集中，感兴趣的主要类总是很少的。也就是说，数据集分布反映了绝大多数的负类和少数的正类。</p><p id="6fc3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了理解上面的陈述，让我们举一个例子，比如在欺诈检测应用中，感兴趣的类别(或正面类别)是“欺诈”，它比负面的“非欺诈”类别出现的频率低得多。在医学数据中，可能存在一个罕见的类，比如“癌症”。假设您已经训练了一个分类器来对医疗数据进行分类，其中类标签属性是“cancer ”,可能的类值是“yes”和“no”。97%的准确率可能会使分类器看起来相当准确，但是如果只有3%的训练元组实际上是癌症呢？显然，97%的准确率可能是不可接受的——例如，分类器可能只正确地标记了非癌症元组，而错误地分类了所有的癌症元组。相反，我们需要其他度量，这些度量访问分类器能够多好地识别正元组(癌症=是)以及它能够多好地识别负元组(癌症=否)。</p><p id="8253" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为此，可分别使用<strong class="is hj">灵敏度</strong>和<strong class="is hj">特异性</strong>测量。那么接下来让我们讨论一下<strong class="is hj">灵敏度&amp;特异性。</strong></p></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><h2 id="2260" class="kj kk hi bd kl km kn ko kp kq kr ks kt jb ku kv kw jf kx ky kz jj la lb lc ld bi translated">敏感性和特异性:</h2><p id="15f5" class="pw-post-body-paragraph iq ir hi is b it lu iv iw ix lv iz ja jb lw jd je jf lx jh ji jj ly jl jm jn hb bi translated"><strong class="is hj">灵敏度</strong> →确定分类器正确识别的阳性元组比例。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/4ad3c453659b6aa463997565a920fb03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FOYuwk7l9X-nxrZFgDNeSQ.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图3:灵敏度公式。</figcaption></figure><p id="c931" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">特异性</strong> →确定分类器正确识别的阴性元组的比例。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/54521697fd1125fb72fa513d9e67643e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bbEwR-giFT6BUyH4mKsT2A.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图4:特异性公式。</figcaption></figure><p id="8665" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们举一个例子，了解一下敏感性和特异性有什么不同。</p><p id="f035" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例子:</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/60dac972ec45da49d9eda00bd089464f.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*-L6rpLu-yubrCoxA6xipFQ.png"/></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图5:癌症=是和癌症=否的混淆矩阵。</figcaption></figure><p id="78ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">分类器的准确率为9650/10000 = 96.50%</p><p id="9d9a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">分类器的灵敏度是90/300 = 30.00%</p><p id="a38e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">分类器的特异性为9560/9700 = 98.56%</p><p id="560b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意，虽然分类器具有高准确度，但是鉴于其低灵敏度，其正确标记阳性(罕见)类别的能力较差。它具有高特异性，这意味着它可以准确地识别阴性元组，但不能识别阳性元组。</p><p id="92e9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此这个分类器<strong class="is hj">不好😦</strong>因为它不能预测实际患有癌症的患者(即其灵敏度非常低)。这意味着这个模型有更多的假阴性，如果我们建议一个人不接受任何治疗，即使他实际上患有癌症，这也是危险的。</p><p id="dab9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在考虑另一种情况，分类器检测到垃圾邮件。这里“是”表示这是一封垃圾邮件，是肯定的类别,“否”表示这是一封垃圾邮件，是否定的类别。</p><p id="334f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们假设我们得到了同样的准确性、敏感性和特异性。</p><p id="9a6c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以这一次我们可以说这个分类器是好的，因为它有很高的特异性，意味着我们的重要邮件都不会被默认发送到垃圾邮件，因此我们不会错过收件箱中的任何重要邮件。但是是的，因为敏感度较低，所以我们的收件箱中可能会收到一些垃圾邮件。</p><blockquote class="ln lo lp"><p id="609d" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated">注意:在癌症数据集中，如果我们有太多的“假阴性”,分类器是不好的，因为我们预测癌症患者是非癌性的。而在垃圾邮件数据集中，如果分类器有太多的“假阳性”，则分类器是坏的，因为这样我们会将垃圾邮件预测为垃圾邮件。</p></blockquote><p id="88df" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，要使用的指标总是取决于数据集和数据背后的故事。😃</p></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><h2 id="eb8a" class="kj kk hi bd kl km kn ko kp kq kr ks kt jb ku kv kw jf kx ky kz jj la lb lc ld bi translated">精确度和召回率:</h2><p id="6d2f" class="pw-post-body-paragraph iq ir hi is b it lu iv iw ix lv iz ja jb lw jd je jf lx jh ji jj ly jl jm jn hb bi translated"><strong class="is hj">精度</strong> →它测量被分类器预测为阳性的数据实际上是阳性的百分比。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/5aa0a52583797edcf26799790226d5c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gGWStrxANn6vo5i6CSFm6A.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图6:精度公式</figcaption></figure><p id="0c8f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们举一个例子&amp;理解精度→参考图5，其中第一列中总共有230个被分类器预测为+ve。但是为了找出有多少实际上属于+ve类，我们使用precision，因此根据公式<strong class="is hj"> (90/230) </strong>是precision的计算值。</p><p id="7893" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">召回(与敏感度相同)</strong> →确定分类器正确识别的阳性元组比例。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/92036e1f620ca00bdc9eb9f896f47c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-rZMkpJ8gBfEbF01bi6RJQ.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图7:召回公式</figcaption></figure><p id="71b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">类似地，参考图5回忆，假设我们知道总共300个数据点实际上属于+ve类。那么召回或灵敏度实际上告诉我们+ve元组被分类器正确标记(或预测)的百分比。</p><p id="acc0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这意味着在图5中，在总共300个实际+ve数据点中，有90个+ve数据点被分类器正确预测。因此，根据召回公式，我们将其计算为(90/300)。</p><p id="6014" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="lq">关于召回的重要说明&amp;精度WRT False -ve &amp; False +ve举例-: </em> </strong></p><p id="35fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">回想一下</strong> →衡量我们的模型在假阴性情况下表现如何的指标(例如:在冠状病毒测试中，我们更关心假ve而不是假+ve，因为我们不想告诉一个人是-ve，而实际上他是+ve)。</p><p id="47cb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这种模式不能有太多的错误。</p><p id="dfba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例子:</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/ccd3333d06e725e7570afd43dffd7c9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k1IJfwkFqoGAKSiYuIwZJg.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图8:冠状病毒测试的混淆矩阵。</figcaption></figure><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/9ef5817cfa60884d9960bb22653a4390.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0RBAQ6rggiDuNzP9XiQHoA.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图9:模型1</figcaption></figure><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/e9ec517575e5c4476005b0c6ec8b58cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bfEOmQUgVP3kvpS0ilB5Ow.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图10:模型2</figcaption></figure><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/0eb018b1edcd2ad7759b4aaa0a8bc8db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*smsxuVuKZS437120JnHLLQ.png"/></div></div></figure><blockquote class="ln lo lp"><p id="7b5f" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated">注意:从上面的例子我们可以得出结论，如果我们有太多的错误值，或者召回不能承受太多的错误值，召回值就会下降。</p></blockquote><p id="5049" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> Precision → </strong>衡量我们的模型在误报情况下表现如何的指标(例如，垃圾邮件分类器，它将垃圾邮件检测为阳性场景，因此误报意味着分类器将重要邮件分类为垃圾邮件，这将对我产生更大的成本，而不是false -ve，在false-ve中，我只会额外读取垃圾邮件)。</p><p id="48ee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这种模式经不起太多的假+ve。</p><p id="66e9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例子:</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/9d90863d9851f3a91ebcda1647511ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lSQg42iDtgZ7COncEzPh_w.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图11:分类器模型1和模型2</figcaption></figure><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/371e524dfc65404c853287fc8d2bb5e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FRgo7j5u4j8Z37hxxPW1vw.png"/></div></div></figure><blockquote class="ln lo lp"><p id="4d19" class="iq ir lq is b it iu iv iw ix iy iz ja lr jc jd je ls jg jh ji lt jk jl jm jn hb bi translated">注意:从上面的例子我们可以得出结论，如果我们有太多的假+ve或者精度不能承受太多的假+ve，精度值就会下降。</p></blockquote></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><h2 id="a967" class="kj kk hi bd kl km kn ko kp kq kr ks kt jb ku kv kw jf kx ky kz jj la lb lc ld bi translated">f分数:</h2><p id="a677" class="pw-post-body-paragraph iq ir hi is b it lu iv iw ix lv iz ja jb lw jd je jf lx jh ji jj ly jl jm jn hb bi translated">这是“精确度”和“召回率”的调和平均值，将这两个指标都考虑在内。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/290b32e6ebef8501e7173175f447fe36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nM3-9pMdA5-FL6hgXSgeWQ.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图12:F值公式</figcaption></figure><p id="38a6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们用调和平均值代替简单平均值，因为简单平均值不会影响极值，但是调和平均值会影响极值。</p><p id="62ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">举个例子吧→</p><p id="e77c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设一个模型给出，precision = 1.0 &amp; Recall = 0.0。</p><p id="1aef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi">— — — — — — —</p><p id="e60c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">简单平均值计算= (1+0)/2 = 0.5</p><p id="7eb6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">调和平均值计算= [2*(1*0)]/(1+0) = 0</p><p id="bf95" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi">— — — — — — —</p><p id="e3ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，我们得出结论，当任何一个值(精确度或召回率)较低时，调和平均值总是降低总体F值。F-score惩罚具有低召回率或精确度值的模型。</p><h2 id="6b79" class="kj kk hi bd kl km kn ko kp kq kr ks kt jb ku kv kw jf kx ky kz jj la lb lc ld bi translated">Fβ分数:</h2><p id="64da" class="pw-post-body-paragraph iq ir hi is b it lu iv iw ix lv iz ja jb lw jd je jf lx jh ji jj ly jl jm jn hb bi translated">Fβ score使用一个称为β(希腊字母β)的参数，它可以取任何正值。β的作用是作为一个刻度盘，我们转动它来强调精确性或回忆性。更具体地说，如果我们将β刻度盘滑动到零，我们得到完全的精度；如果我们把它滑动到无穷大，我们就能完全回忆起来。一般来说，β值越低，我们越强调精确，β值越高，我们越强调召回。</p><p id="11d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以现在，你可以通过拨“β”旋钮来决定是惩罚你的模型精度低还是召回率低。</p><p id="dbe6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Fβ分数定义如下(其中精度为P，召回率为R):</p><figure class="lf lg lh li fd ij er es paragraph-image"><div class="er es mj"><img src="../Images/8ed5ddb6b1d4e0bcedff086c41f8b900.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*M51Q0yGip78DyB3asi4B0g.png"/></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图13: Fβ分数公式</figcaption></figure></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><h2 id="07fc" class="kj kk hi bd kl km kn ko kp kq kr ks kt jb ku kv kw jf kx ky kz jj la lb lc ld bi translated">ROC曲线:</h2><p id="b432" class="pw-post-body-paragraph iq ir hi is b it lu iv iw ix lv iz ja jb lw jd je jf lx jh ji jj ly jl jm jn hb bi translated">基于0和1之间的各种阈值绘制接收器操作特性曲线，其中改变该阈值可以增加或降低特异性和灵敏度。</p><p id="3b7a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们预测二元类的逻辑回归中，我们选择一个阈值，如果分类器预测的概率大于阈值，那么我们选择一个类，或者如果分类器预测的概率小于阈值，那么我们选择另一个类。这个阈值实际上有助于调节ROC曲线中的特异性和敏感性。</p><p id="fd42" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我们将阈值从低到高(即0到1)移动时，灵敏度降低，特异性增加。</p><p id="5260" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这意味着，在冠状病毒测试中，如果我们想要降低false -ve，那么我们必须选择较低的阈值，而在垃圾邮件分类器中，如果我们想要降低false +ve，那么我们需要选择较高的阈值。</p><p id="4abb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下图显示了随着阈值从(0到1)的增加，灵敏度如何降低，特异性如何增加。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mk"><img src="../Images/2cb7ec56f31967d84c3318ffc075c6e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B0g3x38RidHrmoqE9Lx32w.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图14:不同阈值的特异性和敏感性</figcaption></figure><p id="8ec0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下图显示了曲线图中的ROC曲线，X轴和Y轴分别为灵敏度和特异性，阈值从0到1，每个点由时间步长→</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/94dfafd71817b4b682c534a41499f4c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cpWPq_dy9kxtMESOFM2H9Q.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图15:在这里我们可以看到与我们正在进行的例子相对应的ROC曲线，这给了我们模型的大量信息。突出显示的点对应于通过将阈值从0移动到1而获得的时间步长，每个点都由时间步长标记。在水平轴上，我们记录模型在每个时间步的敏感性，在垂直轴上，我们记录特异性</figcaption></figure><p id="61e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">简而言之，ROC曲线有助于我们获得模型的最佳阈值。</p></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><h2 id="d4bc" class="kj kk hi bd kl km kn ko kp kq kr ks kt jb ku kv kw jf kx ky kz jj la lb lc ld bi translated">AUC(ROC曲线下面积):</h2><p id="ae23" class="pw-post-body-paragraph iq ir hi is b it lu iv iw ix lv iz ja jb lw jd je jf lx jh ji jj ly jl jm jn hb bi translated">AUC是分类器区分类别的能力的度量。它测量从(0，0)到(1，1)的整个ROC曲线下的整个二维区域(想想积分学)。</p><p id="ab8f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在下面的图16中，我们可以看到三个模型，其中预测由横轴给出(从0到1)。在底部，你可以看到三条相应的ROC曲线。每个正方形的大小都是0.2乘以0.2。每条曲线下的方块数分别为13、18和25，相当于0.52、0.72和1的曲线下面积。注意，一个模型能做的最好的事情是AUC为1，这对应于右边的模型。一个模型能做的最坏的事情是AUC为0.5，因为这意味着这个模型和随机猜测一样好。这对应于左边的模型。中间的模型是我们原来的模型，AUC为0.72。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/cde05e5fffaae2bac242a5a8cb6da874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tsG9iSclt2yzEXaZ21Rkcw.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图16:在这个图中，我们可以看到AUC，或者曲线下的面积，是一个很好的度量来决定一个模型有多好。AUC越高，模型越好。在左边，我们有一个AUC为0.52的坏模型。在中间，我们有一个很好的模型，AUC为0.72。在右边，我们有一个AUC为1的伟大模型。</figcaption></figure><p id="445f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">类似地，我们可以将ROC和AUC结合在一起，如下图图17所示，我们可以看到，如果我们希望我们的模型具有高灵敏度，我们只需将阈值向左推(即降低阈值),直到我们到达曲线中具有所需灵敏度的点。注意，模型可能会失去一些特异性，这是我们付出的代价。相比之下，如果我们想要更高的特异性，我们将阈值向右推(即，增加它)，直到我们到达曲线中具有我们想要的那么多特异性的点。在这个过程中，我们又失去了一些敏感性。曲线准确地告诉我们我们得到和失去了多少，所以作为数据科学家，这是一个很好的工具来帮助我们决定我们模型的最佳阈值。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/35814b4e7db93df140963af8b75b6553.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e_G22t-Htv7pGooWtQMOOA.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图17:模型的阈值和ROC之间的平行关系。左边的模型具有高阈值、低灵敏度和高特异性。中间的模型具有中等的阈值、灵敏度和特异性。右边的模型具有低阈值、高灵敏度和低特异性。</figcaption></figure><p id="62bb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">参见下图图18，该图区分了高特异性和高敏感性。</p><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mi"><img src="../Images/602a9973ef76bfcfd7e79137030ee4d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W6iKfex6z6rZgXxjHTu4QA.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图18:在这个更一般的场景中，我们可以看到一条ROC曲线，曲线上的三个点对应三个不同的阈值。如果我们想选择一个给我们高特异性的阈值，我们选择左边的那个。对于灵敏度高的模型，我们选右边的。如果我们想要一个既有很好的灵敏度又有很好的特异性的模型，我们就选择中间的那个。</figcaption></figure><p id="3e55" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们需要一个高灵敏度的模型，比如冠状病毒模型，我们会选择右边的点。如果我们需要一个高特异性的模型，比如垃圾邮件检测模型，我们可以选择左边的点。然而，如果我们想要相对高的灵敏度和特异性，我们可以选择中间点。作为数据科学家，我们有责任充分了解问题，从而做出正确的决定。</p><p id="8778" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，我们完成了，让我们以这篇文章的总结作为结束。</p></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><h2 id="05f0" class="kj kk hi bd kl km kn ko kp kq kr ks kt jb ku kv kw jf kx ky kz jj la lb lc ld bi translated">总结:</h2><ul class=""><li id="9b72" class="jo jp hi is b it lu ix lv jb mo jf mp jj mq jn jt ju jv jw bi translated">鸟瞰中的混淆矩阵→</li></ul><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mr"><img src="../Images/7a6b881dcd79f5ac652f3aff71e37639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7LvHjuU0gghBAsFXdVZJuA.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图19:混淆矩阵的顶行给出了我们的回忆和敏感度:真阳性的数量与真阳性和假阴性的总和之间的比率。最左边的一列给出了精确度:真阳性的数量与真阳性和假阳性之和的比率。最下面一行给出了特异性:假阳性的数量与假阳性和真阴性的总和之间的比率。</figcaption></figure></div><div class="ab cl kc kd gp ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hb hc hd he hf"><ul class=""><li id="b771" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">公式→</li></ul><figure class="lf lg lh li fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/af1ba63bcccc8af3ab678566f2cfefe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UahOoHVqjSF01hvJXGFpTw.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">图20:评估方法。请注意，有些度量有多个名称。TP、TN、FP、P、N分别指真阳性、真阴性、假阳性、阳性和阴性样本的数量。</figcaption></figure><p id="5ea8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们完成了，谢谢你的时间。如对本文有任何建议，请发邮件至我的邮箱“arijitbarat11m@gmail.com ”,并在medium上关注我。</p><p id="8986" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">快乐学习。😃。</p></div></div>    
</body>
</html>