<html>
<head>
<title>Data Analysis From Scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从头开始数据分析</h1>
<blockquote>原文：<a href="https://medium.com/codex/data-analysis-from-scratch-a16e287f6e97?source=collection_archive---------10-----------------------#2021-08-17">https://medium.com/codex/data-analysis-from-scratch-a16e287f6e97?source=collection_archive---------10-----------------------#2021-08-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="4c11" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">第一阶段—数据准备和分析</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/b26afb26de03ae1b82d7412ba56191b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wOxQ4v5JAumpcdX-"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">尼克·莫瑞森在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="111e" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">介绍</h1><p id="d24f" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">最近一直在上微软Power BI培训。而且既然我已经有了一点R编程语言的技能，那我可以做什么项目把这两种技能结合起来呢？</p><p id="855c" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">我想到了一个主意，如果我们分析一家公司在Kaggle提供的样本数据会怎么样？所以我所学的一切不会凭空消失，但是我可以试着训练我使用BI和r的能力。</p><p id="5bdd" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">我将尝试使用R处理来自数据准备/清理、数据分析的数据，直到使用Power BI制作仪表板。你兴奋吗？</p><h1 id="d33f" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">资料组</h1><p id="748f" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我将在Kaggle上使用一个数据集，它有一个有趣的模式，看看这个:<a class="ae jn" href="https://www.kaggle.com/ukveteran/adventure-works" rel="noopener ugc nofollow" target="_blank">冒险作品| Kaggle </a></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lh"><img src="../Images/7cd98d7491395674c8aa254ed124dcf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oFPsz2ZqvrGcaLMvSuL7ZA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">冒险工作循环数据集</figcaption></figure><p id="ce14" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">Adventure Work Database是一个OLTP数据库的Microsoft产品示例，它代表一家名为Adventure Work Cycles的全球制造公司。</p><h1 id="615b" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">提取、转换、加载(ETL)</h1><h2 id="1833" class="li jp hi bd jq lj lk ll ju lm ln lo jy kp lp lq ka kt lr ls kc kx lt lu ke lv bi translated">步伐</h2><p id="1356" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">从CSV文件中提取原始数据。</p><p id="7245" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">转换数据，例如，更改数据类型、更改格式、排序值、保留和删除列/行、分组和聚合等。</p><p id="2eaf" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">将转换后的数据加载到我们想要使用的工具中，我使用Power BI来规范化数据。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lw"><img src="../Images/1a431e2eb80afea3a978092a6631856f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k_fVRiAt7vncvoOm9phJ_g.png"/></div></div></figure><h1 id="6a8f" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">创建表关系</h1><p id="59ca" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">将所有的表混合在一个规范化的数据模型中。基于<em class="lx"> ProductKey </em>字段，这些表通过关系连接。</p><p id="5e7f" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">我们将通过在关系数据库中组织表来规范化数据。因为将所有数据合并/缝合到一个表中会产生冗余，所以我们将只创建表之间的关系。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ly"><img src="../Images/0e46eaf41dd241e4cefae48c179ca7b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d8F2bysN1cr8LcDkgaKkkw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">星型模式和雪花型模式</figcaption></figure><h1 id="6f2c" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">分析数据</h1><p id="f62f" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">我将对这些数据进行的分析是市场篮子分析(MBA)。简而言之，MBA是一种分析，同时产生几种产品的包装建议和吸引客户的宣传片。<br/> <strong class="ki hj">目标</strong>是<strong class="ki hj">增加销售</strong>和<strong class="ki hj">减少仓库库存</strong>。因此，在一次分析中，我们可以得到两种解决业务问题的方法。</p><p id="dad1" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">我将使用以下数据进行市场篮分析:<br/>AdventureWorks _ Sales<br/>AdventureWorks _ Products<br/>AdventureWorks _ Subcategories</p><p id="9555" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">将使用的算法是使用R编程语言的Apriori算法。</p><h2 id="f6e6" class="li jp hi bd jq lj lk ll ju lm ln lo jy kp lp lq ka kt lr ls kc kx lt lu ke lv bi translated">导入库，读取和显示数据</h2><p id="258b" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">为了使用购物篮分析来分析数据，我们必须根据订单(订单号)对产品进行分组。在每个订单行中，都有一个在交易中购买的产品列表。这一行然后被转换成交易数据，其中每个订单被计为一个交易。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="8518" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">一些事务的显示被限制在10行，所以我们可以看一下数据表单。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mb"><img src="../Images/ef37d255e4b29cde1197da6a6c6c6d2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*QUUPeZTnb8NXm5bKkQoiJw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">10行的数据样本</figcaption></figure><h2 id="9133" class="li jp hi bd jq lj lk ll ju lm ln lo jy kp lp lq ka kt lr ls kc kx lt lu ke lv bi translated">产品销售频率</h2><p id="ee02" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">在实现Apriori算法之前，我们必须识别已经售出的产品。通过寻找最高的购买频率，我们可以将这些产品与和主要产品有关联的配套产品包装在一起，以增加销售。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="d33d" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">第20行中的代码将给出一个图表，按顺序显示畅销产品的产品子类别的销售频率。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mc"><img src="../Images/74c3617a3f8715bf816c2d4c89daa924.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*teVqiwAUh15c4J8g4mDhlQ.png"/></div></div></figure><h2 id="cb1a" class="li jp hi bd jq lj lk ll ju lm ln lo jy kp lp lq ka kt lr ls kc kx lt lu ke lv bi translated">关联规则— Apriori算法</h2><p id="760e" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">从这里开始，我们实际上可以使用Apriori算法实现查看畅销产品的关联。如果要确定一个产品的促销套餐，就要保证配套产品会带来收益。</p><p id="4373" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">有3个指标可用于计算多个产品的关联性:</p><ol class=""><li id="282b" class="md me hi ki b kj lc km ld kp mf kt mg kx mh lb mi mj mk ml bi translated">支持<br/>与发生的总交易相比，项目集交易的频率。支持数字是0-1。越接近1意味着产品越受欢迎。</li><li id="eade" class="md me hi ki b kj mm km mn kp mo kt mp kx mq lb mi mj mk ml bi translated">置信度<br/>与LHS的项目集相比，规则中所有产品的支持度。该数字在0-1的范围内。越接近1表示产品经常一起购买。但是，它不能反映产品关联的强度，因为它只支持LHS中的项目集。</li><li id="bf86" class="md me hi ki b kj mm km mn kp mo kt mp kx mq lb mi mj mk ml bi translated">与LHS和RHS中的项目集相比，提升<br/>对所有产品的支持。电梯号在0-无穷大。强关联由最高的数字表示(最好大于1)。</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="2657" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">第14行的代码会给我们一个关于产品包的最佳组合的可视化。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mr"><img src="../Images/00f53b4948ff182d77d5ba59e0794d21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7O49T1YqdABembbIcuq4Ag.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">关联规则可视化</figcaption></figure><p id="bea6" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">圆圈的大小表示受欢迎程度，而颜色的强度表示提升程度。从图中可以看出<strong class="ki hj">旅行车</strong> &amp; <strong class="ki hj">头盔</strong>虽然支撑不太大，但是升力还是比较高的。</p><h1 id="c9ff" class="jo jp hi bd jq jr js jt ju jv jw jx jy io jz ip ka ir kb is kc iu kd iv ke kf bi translated">结论</h1><p id="d80c" class="pw-post-body-paragraph kg kh hi ki b kj kk ij kl km kn im ko kp kq kr ks kt ku kv kw kx ky kz la lb hb bi translated">根据分析，可以提供一些业务建议:</p><ol class=""><li id="2de6" class="md me hi ki b kj lc km ld kp mf kt mg kx mh lb mi mj mk ml bi translated">在线下商店，相关产品(旅行自行车和头盔)应该放在一起。目的是提高客户购物体验，解决仓库囤货问题。</li><li id="49da" class="md me hi ki b kj mm km mn kp mo kt mp kx mq lb mi mj mk ml bi translated">在网上商店，营销可以从这种关联关系中获益，通过对这些包装打折来鼓励顾客在购物篮上花更多的钱。这两个产品可以显示在网站的主页上，有一个特殊的捆绑促销。</li></ol><p id="13cb" class="pw-post-body-paragraph kg kh hi ki b kj lc ij kl km ld im ko kp le kr ks kt lf kv kw kx lg kz la lb hb bi translated">就是这样。感谢您花时间阅读这篇文章，希望对您有用。请在下面评论，让我知道你的想法。下一节再见，关于冒险工作循环的仪表板！</p></div></div>    
</body>
</html>