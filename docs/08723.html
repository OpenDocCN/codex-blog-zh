<html>
<head>
<title>AWS Certified Solutions Architect Professional — Security — S3 Security</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS认证解决方案架构师专家—安全— S3安全</h1>
<blockquote>原文：<a href="https://medium.com/codex/aws-certified-solutions-architect-professional-security-s3-security-36b84d9968e0?source=collection_archive---------12-----------------------#2022-08-29">https://medium.com/codex/aws-certified-solutions-architect-professional-security-s3-security-36b84d9968e0?source=collection_archive---------12-----------------------#2022-08-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d8f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于AWS S3安全的简要说明。这篇文章是夏羽·玛瑞克的《终极AWS认证解决方案架构师》课程的一个简短记录。这个帖子的唯一目的是一个总结，如果你想要详细的学习，请购买夏羽·马雷克的课程。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/4df5f6a1457affa852ab65e16a27fec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fp3LF0Gu6-a2mcTe_XqJNA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">AWS提供的图像</figcaption></figure><h1 id="42be" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">数据保护</h1><p id="d944" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">数据保护指的是保护传输中的数据(当数据往返于亚马逊S3时)和静态数据(当数据存储在亚马逊S3数据中心的磁盘上时)。</p><h2 id="9ca2" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">保护静态数据</h2><p id="7386" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">在亚马逊S3有两种保护静态数据的方法:</p><p id="72bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">服务器端加密</strong></p><p id="e97d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要求亚马逊S3在将你的对象保存在数据中心的磁盘上之前对其进行加密，然后在你下载这些东西时对其进行解密。有3种服务器端加密方法:</p><ul class=""><li id="7076" class="lk ll hi ih b ii ij im in iq lm iu ln iy lo jc lp lq lr ls bi translated">SSE-S3:使用AWS处理和管理的密钥加密S3对象。</li><li id="da8f" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">SSE-KMS:利用AWS密钥管理服务来管理加密密钥。</li><li id="f02a" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">SSE-C:当你想管理自己的加密密钥时。</li></ul><p id="2b28" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">客户端加密</strong></p><p id="20f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在客户端加密数据，并将加密的数据上传到亚马逊S3。在这种情况下，您管理加密过程、加密密钥和相关工具。</p><h2 id="381e" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">保护传输中的数据</h2><p id="ca44" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">您可以使用安全套接字层/传输层安全性(SSL/TLS)来保护传输中的数据。</p><p id="a840" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AWS S3揭露:</p><ul class=""><li id="eeed" class="lk ll hi ih b ii ij im in iq lm iu ln iy lo jc lp lq lr ls bi translated">HTTP端点:未加密。</li><li id="f8ec" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">HTTPS端点:飞行中的加密。</li></ul><p id="0920" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以自由使用您想要的端点，但建议使用HTTPS。</p><h1 id="e8a6" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">S3访问日志</h1><p id="5706" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">您可以为S3启用服务器访问日志记录，它会提供对存储桶所做请求的详细记录。</p><p id="bdb7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">访问日志信息在安全和访问审计中很有用。它还可以帮助你了解你的客户群，理解你的亚马逊S3账单。</p><p id="bdd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">值得一提的是:</p><ul class=""><li id="320e" class="lk ll hi ih b ii ij im in iq lm iu ln iy lo jc lp lq lr ls bi translated">日志可能需要几个小时才能送达。</li><li id="feab" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">日志可能不完整(尽最大努力)。</li></ul><h1 id="c58b" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">S3安全</h1><p id="3e2c" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">默认情况下，所有亚马逊S3资源都是私有的。亚马逊S3提供访问策略选项，大致分为基于资源的策略和用户策略。</p><p id="8767" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过<em class="ly">用户策略，您可以使用IAM策略将访问策略附加到您帐户中的用户。</em></p><p id="1a4d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用<em class="ly">基于资源的策略(S3存储桶策略)，</em>您可以将访问策略附加到您的资源(存储桶和对象)。</p><p id="ac1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您还可以使用访问控制列表(ACL)向其他AWS帐户授予基本的读写权限。</p><h2 id="b729" class="kw ju hi bd jv kx ky kz jz la lb lc kd iq ld le kh iu lf lg kl iy lh li kp lj bi translated">S3水桶政策</h2><p id="95ec" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">使用S3策略时段可以:</p><ul class=""><li id="8892" class="lk ll hi ih b ii ij im in iq lm iu ln iy lo jc lp lq lr ls bi translated">授予桶的公共访问权限。</li><li id="85d9" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">上传时强制加密对象。</li><li id="9a7f" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">授予对另一个帐户的访问权限(交叉帐户)。</li></ul><p id="f6f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可选条件:</p><ul class=""><li id="eeee" class="lk ll hi ih b ii ij im in iq lm iu ln iy lo jc lp lq lr ls bi translated">公有IP或者弹性IP <strong class="ih hj">(不在私有IP上)。</strong></li><li id="b1cd" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">源VPC或源VPC端点—仅适用于VPC端点。</li><li id="ba32" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">CloudFront源标识。</li><li id="2aee" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">MFA。</li></ul><h1 id="d54b" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">S3预签名网址</h1><p id="07a9" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">可以使用SDK或CLI生成预签名的URL:</p><ul class=""><li id="2487" class="lk ll hi ih b ii ij im in iq lm iu ln iy lo jc lp lq lr ls bi translated">用于下载(简单，可以使用CLI)。</li><li id="e247" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">用于上传(更难，必须使用SDK)。</li></ul><p id="d06b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认3600秒有效，可通过<code class="du lz ma mb mc b">--expires-in [TIME_BY_SECONDS]</code>参数改变超时。</p><p id="d4d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获得预签名URL的用户继承了为GET/PUT生成URL的人的权限。</p><p id="7456" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用案例:</p><ul class=""><li id="fe26" class="lk ll hi ih b ii ij im in iq lm iu ln iy lo jc lp lq lr ls bi translated">仅允许登录用户在您的S3桶上下载优质视频。</li><li id="881d" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">通过动态生成URL，允许不断变化的用户列表下载文件。</li><li id="113e" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc lp lq lr ls bi translated">暂时允许一个用户上传一个文件到一个精确的位置。</li></ul><h1 id="9202" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结束</h1><p id="83f7" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">结束关于AWS S3安全的简短说明。</p><ol class=""><li id="1f49" class="lk ll hi ih b ii ij im in iq lm iu ln iy lo jc md lq lr ls bi translated"><a class="ae me" rel="noopener" href="/codex/aws-certified-solutions-architect-professional-security-cloudtrail-850006168acb">安全——云迹</a>。</li><li id="9d73" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc md lq lr ls bi translated"><a class="ae me" rel="noopener" href="/codex/aws-certified-solutions-architect-professional-security-cloudtrail-solution-architect-9014311a3af5">安全性— CloudTrail解决方案架构师</a>。</li><li id="d53f" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc md lq lr ls bi translated"><a class="ae me" rel="noopener" href="/@hmquan08011996/aws-certified-solutions-architect-professional-security-key-management-service-2da9f983a58a">安全—密钥管理服务</a>。</li><li id="4146" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc md lq lr ls bi translated"><a class="ae me" rel="noopener" href="/@hmquan08011996/aws-certified-solutions-architect-professional-security-ssm-parameter-store-11875fd32c6d">安全性— AWS系统管理器参数存储</a>。</li><li id="d1a0" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc md lq lr ls bi translated"><a class="ae me" rel="noopener" href="/codex/aws-certified-solutions-architect-professional-security-secrets-manager-f39137c72211">安全—秘密管理器</a>。</li><li id="ab17" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc md lq lr ls bi translated"><a class="ae me" rel="noopener" href="/codex/aws-certified-solutions-architect-professional-security-aws-certificate-manager-58f89dedaec">安全— AWS证书管理器</a>。</li><li id="2b0b" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc md lq lr ls bi translated"><a class="ae me" rel="noopener" href="/@hmquan08011996/aws-certified-solutions-architect-professional-security-s3-security-36b84d9968e0">安全——S3安全</a>。</li><li id="b491" class="lk ll hi ih b ii lt im lu iq lv iu lw iy lx jc md lq lr ls bi translated"><a class="ae me" rel="noopener" href="/@hmquan08011996/aws-certified-solutions-architect-professional-security-s3-config-e659beba0f88">安全— S3配置</a>。</li></ol></div></div>    
</body>
</html>