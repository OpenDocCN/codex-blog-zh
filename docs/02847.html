<html>
<head>
<title>Goodbye Google Analytics, hello Umami</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">再见谷歌分析，你好鲜味</h1>
<blockquote>原文：<a href="https://medium.com/codex/goodbye-google-analytics-hello-umami-d5c7becf23b9?source=collection_archive---------17-----------------------#2021-08-08">https://medium.com/codex/goodbye-google-analytics-hello-umami-d5c7becf23b9?source=collection_archive---------17-----------------------#2021-08-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="cc12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我概述我离开Google Adsense 的原因时，我的抱怨清单上的第四条是它的跟踪cookies的侵犯性和随着广告在网络上跟随读者而引发的隐私担忧。然而，我不能一边使用谷歌分析一边吹嘘我的读者的隐私。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/e867fa7455183a8f4f7b941f2da6893a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IftSO5IaP6w9DozP_jmBdQ.jpeg"/></div></div></figure><h1 id="9033" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">什么是分析，我为什么要使用它们？</h1><p id="d70a" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">在网站环境中，分析是帮助网站所有者了解访问者如何在网站上花费时间的软件。基本上，每当有人到达一个网站，该软件会记录他们的访问数据，通常会将这些数据汇总成一份报告。</p><p id="17df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在理想世界中，我不会使用<em class="kt">的任何</em>分析，但事实上，它们帮助我对我的网站做出决定，包括我写什么，我如何构建我的网站，以及我如何赚钱。例如，我知道我的路过流量带来的读者对我的技术文章比对我的书和世界建设更感兴趣。我知道我最大的读者群来自美国，所以我把Amazon.com作为我首选的联盟计划。我知道当我在帖子中包含更多内部链接时，我的跳出率会下降。</p><p id="9960" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，总而言之，我收集分析数据来帮助我改进我的网站，让它更贴近我的读者。</p><h1 id="8ac4" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">谷歌分析有什么问题？</h1><p id="aa72" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">嗯，什么都没有，或者什么都有，取决于你的观点。Google Analytics是一个强大的分析服务，可以收集大量令人垂涎的数据。老实说，我不知道它收集的全部内容，也不知道世界上有多少网站在使用它。我见过的<a class="ae jd" href="https://w3techs.com/technologies/details/ta-googleanalytics" rel="noopener ugc nofollow" target="_blank">最佳估计值</a>超过了全球所有网站的56.4%。</p><p id="9e36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">他们搜刮的所有数据不仅仅是网站所有者的。相反，它被送入谷歌的服务器，成为科技巨头控制的大数据馅饼中的又一块。而且他们收集的数据是<em class="kt">他们的</em>数据，不是我们的。当然，他们给了我一系列从这些数据中产生的令人困惑的报告，但是原始记录超出了我的控制范围。</p><p id="48fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">撇开隐私不谈，我不喜欢谷歌分析，因为它使用起来过于复杂，有很多不必要的噪音，吸引垃圾邮件，同时增加了我的网站的性能和带宽开销。</p><p id="d92f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，我决定从我的网站上删除谷歌分析，并自己托管一个开源解决方案。</p><h1 id="e7c0" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">输入鲜味</h1><p id="4e6b" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">在搜索了一个开源的、自主托管的Google Analytics替代品后，我昨天才知道了Umami。它在我的列表中名列前茅，因为它是免费的，只记录我感兴趣的数据，并且具有非常干净和最小化的界面。重要的是，鲜味<em class="kt">不会</em>收集任何可识别个人身份的信息，并且会对收集的所有数据进行匿名处理。我通过查看存储在数据库中的代码和会话数据验证了这一点——啊，开源软件的乐趣就在于此。</p><p id="f5fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">事实上，它只收集了我所需要的最低限度的信息:推荐、页面浏览量、访问时间、来源国、跳出率、操作系统和浏览器以及设备类型。没有名字，没有IP地址，没有广告id——一个都没有。</p><p id="b89f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">报告仪表板非常干净简单，我需要的所有东西都显示在一个页面上。这是在我的网站上运行了大约18个小时后的仪表盘截图。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ku"><img src="../Images/4f04c6794f59b9cc2d373fc99dbf143f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*En76_P7rid1BF5mz.png"/></div></div></figure><p id="7ecd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与谷歌分析相比，Umami是一种使用乐趣，而且同样准确。在关闭GA之前，我让这两个软件在我的网站上运行了大约18个小时。是的，我可能应该等一个星期，以便得到一个更完整的比较，但事实上，我渴望把谷歌踢到路边。</p><h1 id="85d8" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">技术细节</h1><p id="33f1" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">我觉得没有必要写一个完整的教程来说明我是如何安装鲜味的，因为<a class="ae jd" href="https://umami.is/docs/hosting" rel="noopener ugc nofollow" target="_blank">官方指南</a>已经足够好了。然而，如果你决定跟随我的脚步，这里有一些考虑。</p><p id="5721" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Umami是一个需要Node12的节点/Javascript应用程序。你不能把一个文件夹放入一个典型PHP驱动的web主机中，然后它就期望它能工作。它还需要支持MariaDB/MySQL和Postgres的数据库服务器。</p><p id="db0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我用ModProxy在Apache2后面的<a class="ae jd" href="https://m.do.co/c/bcfec4757439" rel="noopener ugc nofollow" target="_blank"> DigitalOcean droplet </a>上运行Umami就像我托管我的网站一样。这对我有用，但是我喜欢危险的生活，而且我比其他人更了解Apache。《开发人员指南》建议使用Nginx而不是Apache，如果您决定自托管，您可能应该这样做。</p><p id="28bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Vercel上运行Umami有一个<a class="ae jd" href="https://umami.is/docs/running-on-vercel" rel="noopener ugc nofollow" target="_blank">官方指南</a>，但是我不能让它工作，主要是因为我发现Vercel有点笨重。您可能很容易让UI在Netlify上运行。无论是哪种情况，Vercel还是Netlify，您仍然需要一个数据库服务器，并且在这一点上，您还不如像我一样在相同的VPS上运行所有的东西。</p><p id="8395" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不过，有一个提示，如果您的数据库密码包含符号(它应该包含)，请确保将这些字符作为URL安全字符串进行转义，否则Umami将报告一个关于错误数据库端口的无用错误。</p><h1 id="43b7" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">总结想法</h1><p id="7d8e" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">我觉得我终于可以走自己的路了，而不是简单地用一些含糊其词的承诺来谈论它，以尊重我的读者的隐私。我不知道谷歌或其他科技巨头对我们的数据做了什么，但我肯定不希望我的网站成为他们全球搜索网的一部分。</p></div><div class="ab cl kv kw gp kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hb hc hd he hf"><p id="b41e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kt">原载于2021年8月8日</em><a class="ae jd" href="https://chrisrosser.net/posts/2021/08/08/goodbye-google-analytics-hello-umami/" rel="noopener ugc nofollow" target="_blank"><em class="kt">【https://chrisrosser.net】</em></a><em class="kt">。</em></p></div></div>    
</body>
</html>