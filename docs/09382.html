<html>
<head>
<title>Docker: The Beginning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">码头工人:开始</h1>
<blockquote>原文：<a href="https://medium.com/codex/docker-the-beginning-4c452b769033?source=collection_archive---------7-----------------------#2022-10-17">https://medium.com/codex/docker-the-beginning-4c452b769033?source=collection_archive---------7-----------------------#2022-10-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/440b6eeaae18f971b65d928383ee038b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dFfOamMfDZV61IJx"/></div></div></figure><p id="6ff7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是的，它正在发生，Docker，你所需要的是启动容器和微服务，并使用最强大的工具。你听说过特洛伊古城吗？如果没有，你应该读一下，你的思想会像特洛伊一样被摧毁，但是当然不会有任何伤亡。</p><p id="6ab9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">先说Docker。等等！那是马林吗？不要！是鲸鱼吃了他，为什么它背上背着一堆东西？等等，那是莫比·迪克的画像吗？不，不是的。鲸鱼正在运送容器，这就是docker，一个容器旋转工具。别问我为什么鲸鱼？我可以问你为什么麦当劳里的小丑，然后我们可以就这些来来回回。(附:如果你不知道马林，谷歌一下)</p><p id="6666" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">什么是容器？为了理解这一点，我们必须回过头来理解什么是虚拟机。虚拟机是一个系统，其中所有的部件和螺栓都是虚拟初始化的。我这么说是什么意思？通俗地说，这意味着它只是一台机器，它的存在只是为了让我们可以在一个系统上运行多个系统，而没有双重启动的麻烦。所以基本上，我可以在windows上运行Linux，反之亦然。任何系统都可以通过这种方法运行。一些著名的虚拟机工具有Hyper-V、VirtualBox、VMware等等。那么现在，集装箱呢？这完全像一个虚拟机，但有所不同。因此，虚拟机的基础是我们定义它最初将获得的资源，在启动虚拟机后，您不能增加或减少这些资源。假设您想要一台Ubuntu虚拟机，您的基本计算机的硬件配置是8GB RAM、英特尔i5第七代处理器4核和集成显卡，您的虚拟机中有2个内核和4GB RAM，但最初您想要4GB RAM，但现在工作量很小，您想要分配2GB RAM，现在您必须关闭该计算机并重新分配资源，这是一个问题，如果您在该计算机上运行实时服务，我们无法总是重启设备并重新分配资源。</p><p id="7ca3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，容器在此提供了帮助，我们在传统虚拟机中预分配资源，我们不在容器中这样做，它只是直接从硬件中获取所需的资源，不多也不少。这些容器的基准是它们可以直接访问硬件，而在传统虚拟机中，我们必须先分配资源，然后虚拟机才能使用这些资源。Docker是一套平台即服务(PAAS)模型，使用操作系统级虚拟化，而VMware/VirtualBox使用硬件级虚拟化</p><p id="0573" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，现在我们已经弄清楚了什么是容器，让我们来看看docker的作用。Docker运行这些容器，并为它们在您的系统上运行创建一个虚拟空间。它创建网络适配器和更多的东西来确保你的容器运行没有中断。现在docker又多了一个叫做docker-compose的部分，让我们把它留到下一次，不要担心，我会告诉你一切，让你开始使用docker和容器。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/ad57a21674a3f35a64bc64013a2a33ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uNUPR4nLQ3CuI0_-k_dUgQ.png"/></div></div></figure><p id="e1f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Docker生态系统包含:</p><p id="daed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.码头客户</p><p id="7023" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.Docker守护程序/服务器</p><p id="e64f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.码头枢纽</p><p id="544d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.Docker图像</p><p id="8d38" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.Docker撰写</p><p id="bc64" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们稍微详细地讨论一下这些组件。</p><h1 id="d926" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">Docker守护进程</h1><p id="2bd2" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">1.Docker守护程序在主机操作系统上运行</p><p id="5fdd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.它负责运行容器</p><p id="7191" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.Docker守护进程可以与其他守护进程通信</p><h1 id="e710" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">码头客户</h1><p id="5dd0" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">我们通过docker客户端与docker交互</p><p id="99f0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.docker客户机使用命令和REST API与Docker守护进程通信</p><p id="e1cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.当客户机在docker客户机终端上运行任何服务器命令时，客户机终端将这些docker命令发送给docker守护程序。</p><h1 id="f1a1" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">Docker图像</h1><p id="f1e8" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">Docker映像是用于创建docker容器的只读二进制模板。创建docker图像有几种方法。</p><p id="66ad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.从docker hub获取图像</p><p id="8f62" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.从docker文件创建图像</p><p id="79ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.从现有的docker容器创建图像</p><h1 id="c72c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">码头枢纽</h1><p id="2f38" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">管理和存储docker映像的Docker注册表被称为docker hub。有两种类型的注册表</p><p id="4b4c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">1.公共登记处</p><p id="e5c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.私人登记处</p><p id="8e22" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">名称本身就足以知道这些注册表代表什么。</p><h1 id="955e" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">码头工人的安装</h1><p id="36b2" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">Docker是Linux的原生版本，我将带您完成Linux本身的安装过程。尽管你可以在任何你喜欢的操作系统上运行Docker。</p><p id="0c0c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你要做的就是这个:</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="aa83" class="lb ju hi kx b fi lc ld l le lf">sudo apt-get update</span><span id="cf69" class="lb ju hi kx b fi lg ld l le lf">sudo apt-get install docker docker-engine docker.io containerd runc</span></pre><p id="f553" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，如果您在此命令中遇到错误，请参考以下链接:</p><p id="5e69" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae lh" href="https://docs.docker.com/engine/install/ubuntu/" rel="noopener ugc nofollow" target="_blank">在Ubuntu | Docker文档上安装Docker引擎</a></p><p id="ee8b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在docker已经设置好了，让我们开始吧</p><h1 id="c554" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">Docker命令</h1><p id="98a1" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">首先，让我们复习一些简单的命令</p><p id="75a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要查看系统中的docker图像</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="81c4" class="lb ju hi kx b fi lc ld l le lf">docker images</span></pre><p id="682c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要从docker hub中查找图像</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="dfee" class="lb ju hi kx b fi lc ld l le lf">docker search &lt;image name&gt;</span></pre><p id="7dbc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下载图像</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="fc74" class="lb ju hi kx b fi lc ld l le lf">docker pull &lt;image name&gt;</span></pre><p id="fd11" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行容器</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="0649" class="lb ju hi kx b fi lc ld l le lf">docker run -it --name &lt;container name&gt; &lt;image name&gt; &lt;entry-point&gt;</span></pre><p id="21e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们进一步讨论这个命令，把它分成几个部分</p><p id="0a8d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以docker run很明显我们想要运行容器，在这之后-它在这里"-i "和"-t "是写在一起的独立命令，"-i "代表交互，"-t "代表打开终端然后来"--name "表示容器的名称，然后是图像名称。那么，什么是切入点呢？入口点是容器将从中启动的文件或二进制文件。假设你想从bash开始，那么我们就写/bin/bash，如果你有配置文件，那么你就把它添加到那里</p><p id="810b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">完整的命令如下所示</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="f64c" class="lb ju hi kx b fi lc ld l le lf">docker run -it –name ilovedocker ubuntu /bin/bash</span></pre><p id="b41e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">试试这个，很有趣</p><p id="a307" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">启动容器</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="bdc3" class="lb ju hi kx b fi lc ld l le lf">docker start &lt;container-name&gt; OR &lt;container-ID(first 4 characters)&gt;</span></pre><p id="05df" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">进入一个运行的容器</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="a50b" class="lb ju hi kx b fi lc ld l le lf">docker attach &lt;container-name&gt; OR &lt;container-ID(first 4 characters)&gt;</span></pre><p id="6f12" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要查看所有容器</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="35f6" class="lb ju hi kx b fi lc ld l le lf">docker ps -a</span></pre><p id="d96e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">若要仅查看运行中的容器</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="49cf" class="lb ju hi kx b fi lc ld l le lf">docker ps</span></pre><p id="3184" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">停止集装箱</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="f85b" class="lb ju hi kx b fi lc ld l le lf">docker stop &lt;container-name&gt; OR &lt;container-ID(first 4 characters)&gt;</span></pre><p id="e964" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要删除容器</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="7602" class="lb ju hi kx b fi lc ld l le lf">docker rm &lt;container-name&gt; OR &lt;container-ID(first 4 characters)&gt;</span></pre><p id="8bcb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要删除图像</p><pre class="jp jq jr js fd kw kx ky kz aw la bi"><span id="1fc3" class="lb ju hi kx b fi lc ld l le lf">docker image rm &lt;Image-name&gt;</span></pre><p id="5fed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我认为这就足够了。尝试使用这些命令。</p><p id="ba9a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我很快会回来继续我的博客。</p><p id="391d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">保持好奇！</p><p id="a1fb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谢了。</p></div></div>    
</body>
</html>