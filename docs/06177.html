<html>
<head>
<title>“String in Java is immutable” is it right?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“Java中的字符串是不可变的”对吗？</h1>
<blockquote>原文：<a href="https://medium.com/codex/string-in-java-is-immutable-is-it-right-e21d8e424497?source=collection_archive---------14-----------------------#2022-04-11">https://medium.com/codex/string-in-java-is-immutable-is-it-right-e21d8e424497?source=collection_archive---------14-----------------------#2022-04-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="af3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，我相信你们大多数人已经知道了！！！我对此也很熟悉！！！但是我们是否准确地得到了“不可变”这个关键词，我们知道为什么Java中的字符串是不可变的吗？</p><p id="1ee4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始吧！！！</p><h1 id="d673" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">什么是不变的？</h1><p id="4217" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">对象创建后就不能编辑或修改了。在Java中，值和对象是两个不同的概念。瞬时变量或参考变量保持值。例如，一个即时变量存储一个程序员提供的真实值(取决于类型)。</p><pre class="kg kh ki kj fd kk kl km kn aw ko bi"><span id="d74c" class="kp je hi kl b fi kq kr l ks kt">int x = 53;<br/>double s = 43.725;<br/>String name = “Kasun”;</span></pre><p id="00c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可能知道，Java中的对象存储在JVM内存的堆区域中。因此，引用变量的值就是它所指向的对象的内存地址。参考变量“S”如下图所示。</p><figure class="kg kh ki kj fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es ku"><img src="../Images/0d91e6190c64a490c6008b42784af72a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*apey2ijMz1vD6-91"/></div></div></figure><p id="f1bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一方面，一个对象是一个类的子类，有几个实例变量，称为“属性”</p><p id="d9b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">String类表示Java中的字符串。因此，任何用“String”类型声明的变量都成为指向String类实例(例如:String对象)的引用变量。值“Alex”被分配给变量“name ”,如下所示。我们稍后将变量的值更改为“Lucas ”,在这种情况下，只有引用变量“name”的值被更改。字符串对象根本没有被修改。“John”对象是我们引用的字符串对象。</p><pre class="kg kh ki kj fd kk kl km kn aw ko bi"><span id="67ee" class="kp je hi kl b fi kq kr l ks kt">String name = “Alex”;<br/>name = “Lucas”;</span></pre><p id="4d3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，我明白了。你很困惑。让我们看看上面的代码在堆栈和堆内存位置发生了什么！！！</p><p id="b127" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如前所述，任何Java对象都存储在堆中。当“name”变量设置为“Alex”时，JVM在堆中生成一个对象，并将其值设置为“Alex”(因为分配了一个字符串值，String是Java中的一个类，所以创建了一个字符串对象)。该对象由“name”变量引用。如下图所示。</p><figure class="kg kh ki kj fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es ku"><img src="../Images/e3ec919ed62f2c6b0cfee6e95faa6487.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LkgCI6XmuP9iHX4k"/></div></div></figure><p id="6584" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当“名字”后来分配给“卢卡斯”的时候。这会生成一个新的字符串对象，其值为“Lucas”那么,“name”变量现在指向哪里呢？当然，从这里可以看出,“name”变量从“Alex”对象解引用并指向“Lucas”对象。</p><figure class="kg kh ki kj fd kv er es paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="er es ku"><img src="../Images/811a57181f57b7753b535b55b47800c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*O_PPPVnxe-VZjDxr"/></div></div></figure><p id="b6ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，我们能改变或转化这个物体吗？没有，但是只生成了一个新的String对象(Lucas对象)，并且“name”变量现在指向该对象。这说明了为什么您可以影响“name”变量的值。这意味着Java字符串是不可变的！</p><p id="a59f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只是提醒一下，堆中的对象有独立的内存地址。</p><p id="7c71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看为什么Java字符串对于我的其他内容是不可变的。</p></div></div>    
</body>
</html>