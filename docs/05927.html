<html>
<head>
<title>How to Read and Write to CSV Files in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中读写CSV文件</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-read-and-write-to-csv-files-in-python-380dabec30b4?source=collection_archive---------3-----------------------#2022-04-03">https://medium.com/codex/how-to-read-and-write-to-csv-files-in-python-380dabec30b4?source=collection_archive---------3-----------------------#2022-04-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4828" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">了解如何使用Pandas和CSV库操作CSV文件</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/b11007479aa6f7b7c6a5e7ddc70f54f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*71TTPkOJaZrLAD9z4EEoDw.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">米卡·鲍梅斯特在<a class="ae jt" href="https://unsplash.com/s/photos/csv?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="14df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">CSV文件是包含行和列的纯文本文件。CSV文件中的行由换行符分隔，列由逗号分隔。</p><p id="9dad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">CSV提供了一种简单的数据存储方式，通常用于在许多网站上导出表格数据。</p><h2 id="775e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">简单的CSV文件</h2><p id="b201" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">让我们编写一个包含学生数据的CSV文件，如下所示。</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="eebb" class="ju jv hi kv b fi kz la l lb lc">student, calculus,statistics,math<br/>Harrison,pass,pass,pass<br/>Leakey, fail, pass,pass<br/>matt, pass, pass,fail<br/>cathy, pass,pass,pass</span></pre><h2 id="29cd" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">Python CSV库</h2><p id="610c" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">Python提供了几种读写CSV文件的方法。在本教程中，我们将使用CSV模块和pandas库来读写CSV文件中的数据</p><h2 id="cfff" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">读取CSV文件</h2><p id="ea3c" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">让我们从创建2个文件开始，即</p><ul class=""><li id="42bb" class="ld le hi ih b ii ij im in iq lf iu lg iy lh jc li lj lk ll bi translated">学生. txt</li><li id="1c78" class="ld le hi ih b ii lm im ln iq lo iu lp iy lq jc li lj lk ll bi translated">学生. py</li></ul><p id="4b54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，将以下数据输入到students.txt文件中</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="fcd8" class="ju jv hi kv b fi kz la l lb lc">student, calculus,statistics,math<br/>Harrison,pass,pass,pass<br/>Leakey, fail, pass,pass<br/>matt, pass, pass,fail<br/>cathy, pass,pass,pass</span></pre><p id="a1c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在打开students.py文件，开始导入CSV模块</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="4176" class="ju jv hi kv b fi kz la l lb lc">import csv</span><span id="023a" class="ju jv hi kv b fi lr la l lb lc">with open('students.txt') as my_file:</span><span id="54b1" class="ju jv hi kv b fi lr la l lb lc">    reader = csv.reader(my_file, delimiter =',')</span><span id="0bc2" class="ju jv hi kv b fi lr la l lb lc">        for row in reader:</span><span id="9a93" class="ju jv hi kv b fi lr la l lb lc">            print(row)</span></pre><p id="a75d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">open()文件函数用于打开Python文件，支持3种文件操作模式</p><ul class=""><li id="8ea1" class="ld le hi ih b ii ij im in iq lf iu lg iy lh jc li lj lk ll bi translated">读取模式-r</li><li id="54a1" class="ld le hi ih b ii lm im ln iq lo iu lp iy lq jc li lj lk ll bi translated">写入模式-w</li><li id="a163" class="ld le hi ih b ii lm im ln iq lo iu lp iy lq jc li lj lk ll bi translated">附加模式a</li></ul><p id="c231" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">csv.reader通过遍历csv文件中的每一行来读取文件的内容。然后我们得到每一行并打印内容。分隔符指定使用哪个字符来分隔字段，在我们的例子中，它是一个逗号<br/>,结果将是；</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="1da4" class="ju jv hi kv b fi kz la l lb lc">['student', ' calculus', 'statistics', 'math']<br/>['Harrison', 'pass', 'pass', 'pass']<br/>['Leakey', ' fail', ' pass', 'pass']<br/>['matt', ' pass', ' pass', 'fail']<br/>['cathy', ' pass', 'pass', 'pass']</span></pre><h2 id="1f3f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">使用CSV编写CSV文件</h2><p id="a85f" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">我们已经学习了如何读取一个CSV文件，但是假设我们想要写入一个CSV文件；我们该怎么做？。<br/>写入文件的语法将保持不变，但我们将使用写入模式</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="9360" class="ju jv hi kv b fi kz la l lb lc">with open('filename","w") as myfile:<br/>    pass</span></pre><p id="5093" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们将学生数据的副本写入另一个文件</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ls lt l"/></div></figure><p id="7b24" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当写入CSV时，我们使用writer函数和write模式。writerow会将一行数据写入新行。这是我们的新数据。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/3b02675b4f84981aa81e71a05a6bcfe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e4_bNLr5GkWs-B4Hydk6UA.png"/></div></div></figure><h1 id="5ae1" class="lv jv hi bd jw lw lx ly ka lz ma mb ke mc md me kh mf mg mh kk mi mj mk kn ml bi translated">使用熊猫阅读CSV文件</h1><p id="93c4" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">Pandas是一个允许处理表格数据(如Excel和CSV)的模块。要使用pandas模块，我们首先需要用pip安装它。</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="aa97" class="ju jv hi kv b fi kz la l lb lc">pip install pandas</span></pre><p id="c48d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当CSV中有数据时，可以使用Pandas模块读取它。read_csv(): pandas提供了read_csv()函数来读取存储为csv文件的数据。</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="e2fc" class="ju jv hi kv b fi kz la l lb lc">import pandas as pd</span><span id="dc6a" class="ju jv hi kv b fi lr la l lb lc">data = pd.read_csv('students.csv')</span><span id="ddee" class="ju jv hi kv b fi lr la l lb lc">print(data)</span></pre><p id="4afc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中，您使用。read_csv()方法，并将文件作为参数传递。结果将是:</p><pre class="je jf jg jh fd ku kv kw kx aw ky bi"><span id="e09d" class="ju jv hi kv b fi kz la l lb lc">students Calculus Statstics  Math<br/>0    Leakey     fail      pass  pass<br/>1  Harrison     pass      pass  pass<br/>2      matt     pass      pass  fail<br/>3     cathy     pass      pass  pass</span></pre><p id="99d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你所看到的，使用pandas提供了一种简单的方法来读取CSV文件。</p><h1 id="1b4b" class="lv jv hi bd jw lw lx ly ka lz ma mb ke mc md me kh mf mg mh kk mi mj mk kn ml bi translated">使用熊猫写入CSV文件</h1><p id="b775" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">为了使用pandas向CSV写入数据，我们使用Dataframes。Dataframe是以行和列的形式存储数据的对象。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ls lt l"/></div></figure><h2 id="8f72" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">结论</h2><p id="6d8a" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">本教程涵盖了开始操作表格数据所需的概念。熊猫图书馆是用于数据科学的强大工具。它也很容易使用，因此节省时间和资源。</p><p id="8898" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">享受在媒体上阅读的乐趣，<a class="ae jt" href="https://essyking.medium.com/membership" rel="noopener">创建一个帐户</a>以获得全部访问权限。如果你喜欢读这篇文章，你可能会喜欢？</p><div class="mm mn ez fb mo mp"><a href="https://betterprogramming.pub/how-to-plot-charts-and-graphs-with-matplotlib-using-python-ffb79ec6fd60" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">如何使用Python用Matplotlib绘制图表和图形</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">成为用Python展示和组织数据的大师</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">better编程. pub</p></div></div><div class="my l"><div class="mz l na nb nc my nd jn mp"/></div></div></a></div></div></div>    
</body>
</html>