<html>
<head>
<title>How to Test a Smart Contract with Remix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Remix测试智能合约</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-test-a-smart-contract-with-remix-b2e9669997dd?source=collection_archive---------2-----------------------#2021-10-13">https://medium.com/codex/how-to-test-a-smart-contract-with-remix-b2e9669997dd?source=collection_archive---------2-----------------------#2021-10-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d99d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">无需部署到测试网即可轻松测试。</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/12de5afa94729567e2b9840c06e30afc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VSBQ4TtZHLxTg8D58Nr45A.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated"><a class="ae ju" href="https://unsplash.com/@executium?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">行政</a>在<a class="ae ju" href="https://unsplash.com/s/photos/ethereum?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="c567" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Remix 已经成为以太坊和其他基于Solidity的区块链上最著名的智能合约开发ide之一。它易于使用，具有您想要的所有适当的代码突出显示，并且具有集成的编译器和部署器。</p><p id="5db7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，这种部署可以用Ethereum的Web3来完成，或者在JavaScript虚拟机上本地完成。在本地部署契约是用remix提供的漂亮GUI测试它的一种非常简单的方法，所以让我们快速看一下如何使用Remix测试我们的智能契约。</p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="ee6a" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">合同</h1><p id="42a1" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">我将使用下面的<a class="ae ju" href="https://gist.github.com/mbvissers/a2145e511e6b16d9acb92641b51e9f88" rel="noopener ugc nofollow" target="_blank">智能合同</a>。这是一个基本的NFT契约，带有一些我们可以用来学习使用Javascript VM进行测试的功能。</p><p id="9877" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以使用任何契约，它不必遵循ERC721之类的特定标准，只要它有一些公共函数、一些公共变量、一些<code class="du lf lg lh li b">onlyOwner</code>函数，以及一个我将在本文中展示如何使用的<code class="du lf lg lh li b">payable</code>函数。</p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="ec98" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">在JavaScript虚拟机上部署合同</h1><p id="4ba0" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">当您部署一个契约时，必须首先编译它。这可以使用Remix提供的编译器功能来完成。它是左边菜单中的第二个标签。选择您的合同(不是子合同)，然后单击编译。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lj"><img src="../Images/13c14a24eb615a0fbc4821b5fcd5ec21.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*5038IAjz7kxMxSEgzCrkCw.png"/></div></figure><p id="a6e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编译后，您可以部署该协定。这可以通过单击左侧菜单上的第三个选项卡来完成。选择一个<code class="du lf lg lh li b">JavaScript VM</code>，再次选择右边的合同，所以不是子合同，点击橙色的<code class="du lf lg lh li b">deploy</code>按钮。你不必把它发表到IPFS。</p><p id="8092" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些帐户是测试帐户，不会使用任何testnet以太坊工作。你可以从一个大列表中选择，但选择哪个并不重要。请记住，您部署的契约是<strong class="ih hj">所有者</strong>。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lk"><img src="../Images/dde550ba4f477b8d64defa797313b811.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*IxpyVCvUIqUA1KOQm3864g.png"/></div></figure><p id="2c13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您现在应该会看到一个新部署的契约出现。打开选项卡，您将看到所有可用的功能。这些功能通过可见性和是否接受付款来进行颜色编码。有参数的函数旁边会有一个文本字段。如果契约有多个参数，可以打开它们，或者可以像在代码中一样用逗号分隔这些值。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ll"><img src="../Images/f93de22351547233791d2322964b0b94.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*lEjwr2V76A2m3PZIQQcbAA.png"/></div></figure></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="66cb" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">测试合同</h1><p id="f1b2" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">要测试这些功能，您可以输入参数并单击按钮来发送交易或查看值。</p><p id="2270" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于<code class="du lf lg lh li b">payable</code>功能，您需要在<code class="du lf lg lh li b">value</code>字段中添加一定量的乙醚。请务必检查您选择的值的类型。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lm"><img src="../Images/229be89fd03457bfbc586aee0d95241e.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*IsDvXn2OrKhjw51Urb8B0g.png"/></div><figcaption class="jq jr et er es js jt bd b be z dx translated">发送0.02ETH或20芬尼</figcaption></figure><p id="3aeb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您现在点击<code class="du lf lg lh li b">SafeMint</code>功能时，它应该会在底部屏幕上返回一个交易状态。如果成功，旁边会有一个勾号。您可以打开事务信息来查看更详细的信息。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ln"><img src="../Images/5078368b59f200b229c31e345f0c4197.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1f9m0S3B76KytlJKCYLCsA.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">成功发送</figcaption></figure><p id="84f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du lf lg lh li b">View</code>功能不会添加勾号，它们会在日志中显示为<code class="du lf lg lh li b">call</code>。它们将在函数下面显示检索到的值。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es lo"><img src="../Images/45c394e73973a03c063895be80fe4b50.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*BDmRuOc1DALa7MuIBJunYg.png"/></div><figcaption class="jq jr et er es js jt bd b be z dx translated">该地址拥有的第一个令牌的令牌Id为0</figcaption></figure><p id="f941" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了打开参数字段之外，您还可以以双引号括起来的字符串形式输入所有者，并在逗号后面添加数字。</p><pre class="jf jg jh ji fd lp li lq lr aw ls bi"><span id="e16a" class="lt kd hi li b fi lu lv l lw lx">"0x5B38Da6a701c568545dCfcB03FcB875f56beddC4", 0</span></pre><p id="7476" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你有很多功能要测试，这就更容易了，它让界面更整洁。</p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="1588" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">结论</h1><p id="a96e" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">当我遇到这种测试方式时，我大吃一惊。因为当时我对合同开发还很陌生。还有其他工具，如Ganache，应该在本地而不是在网页上提供相同的功能，这可能是可取的。</p><p id="5890" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">非常感谢你的阅读，祝你有美好的一天。</p><p id="2956" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae ju" href="https://mbvissers.medium.com/membership" rel="noopener">用支持介质支持我，成为会员</a>。</p><p id="92de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae ju" href="https://twitter.com/MVissers4" rel="noopener ugc nofollow" target="_blank">在Twitter上关注我</a>跟上我。</p><p id="001a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击这里查看我最新的<a class="ae ju" href="https://www.pixel-pizzas.com/" rel="noopener ugc nofollow" target="_blank"> NFT收藏。</a></p></div></div>    
</body>
</html>