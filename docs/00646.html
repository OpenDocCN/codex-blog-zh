<html>
<head>
<title>Sending Emails with Nuxt.js the Easy Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Nuxt.js发送电子邮件的简单方法</h1>
<blockquote>原文：<a href="https://medium.com/codex/sending-emails-with-nuxt-js-the-easy-way-91a65963bb4?source=collection_archive---------1-----------------------#2021-03-07">https://medium.com/codex/sending-emails-with-nuxt-js-the-easy-way-91a65963bb4?source=collection_archive---------1-----------------------#2021-03-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/44f7de4332ad11342b7dfa5ea7717c99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c-_-R9A2oB5nrA6VbDtuxQ.png"/></div></div></figure><p id="08d3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我开始使用Nuxt.js时，我经常遇到这样的问题，我想通过联系方式发送电子邮件。虽然有第三方服务可以做到这一点，但我想:为什么不使用Nuxt.js自带的现有服务器基础设施呢？</p><p id="db89" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这就是为什么我编写了<a class="ae jo" href="https://github.com/dword-design/nuxt-mail" rel="noopener ugc nofollow" target="_blank"> nuxt-mail </a>，这是一个Nuxt.js模块，它向服务器添加了一个<code class="du jp jq jr js b">/mail/send</code>路由，并注入了一个包装API调用的<code class="du jp jq jr js b">$mail</code>变量。</p><h1 id="a285" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">使用</h1><p id="060b" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">首先通过<code class="du jp jq jr js b">npm install nuxt-mail @nuxtjs/axios</code>或<code class="du jp jq jr js b">yarn add nuxt-mail @nuxtjs/axios</code>安装模块和<a class="ae jo" href="https://github.com/axios/axios" rel="noopener ugc nofollow" target="_blank"> @nuxtjs/axios </a>。</p><p id="2db0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du jp jq jr js b">@nuxtjs/axios</code>在这里很重要，因为它允许模块执行REST调用。</p><p id="7fa8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后将<code class="du jp jq jr js b">@nuxtjs/axios</code>和<code class="du jp jq jr js b">nuxt-mail</code>添加到<code class="du jp jq jr js b">nuxt.config.js</code>文件中。我们必须传递应该由<code class="du jp jq jr js b">nodemailer</code>内部使用的SMPT设置。出于安全原因，我们也在这里配置接收者。这样，客户端就无法从您的SMTP服务器向任意收件人发送电子邮件。你实际上可以在这里预先配置消息，以防你总是想给它们相同的标题，发件人地址或什么的。</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="d469" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请注意，您可能应该通过环境变量传递凭证或整个配置(例如，通过<a class="ae jo" href="https://github.com/motdotla/dotenv" rel="noopener ugc nofollow" target="_blank"> dotenv </a>)。还要注意，您不能将这个模块用于静态站点(通过<code class="du jp jq jr js b">nuxt generate</code>)，因为服务器中间件不存在。</p><p id="fafb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们走吧！现在，我们可以自己实现一个联系表单页面并发送电子邮件:</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="4819" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<code class="du jp jq jr js b">&lt;script&gt;</code>部分，我们基本上称之为<code class="du jp jq jr js b">this.$mail.send()</code>:</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="ef41" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当你现在点击<code class="du jp jq jr js b">Send</code>按钮时，你应该会收到一封电子邮件到你的收件箱！</p><h1 id="c378" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">多消息配置</h1><p id="9e9b" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">还可以通过将“消息”配置改变成数组来提供多种消息配置。</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="4f72" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，您可以像这样引用配置:</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="49c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者通过索引(在这种情况下，您不需要“名称”属性):</p><figure class="kw kx ky kz fd ij"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="7cbd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">基本上就是这样，我希望这对你们中的一些人有用。</p><h1 id="bdb3" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="37d6" class="pw-post-body-paragraph iq ir hi is b it kr iv iw ix ks iz ja jb kt jd je jf ku jh ji jj kv jl jm jn hb bi translated">您可以使用该模块轻松设置电子邮件发送功能。如果您计划构建一个更大的发送大量电子邮件的SaaS，那么通过cronjob或服务器端钩子发送邮件的异步解决方案可能是一个更好的主意。但是对于第一个解决方案，它应该工作得很好。</p><p id="9791" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请告诉我您对该模块的看法，以及是否有任何未解决的问题。另外，因为这是我的第一篇文章，让我知道你对这篇文章的总体看法。</p><p id="f39e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以在这里找到模块<a class="ae jo" href="https://github.com/dword-design/nuxt-mail" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="d673" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">如果你喜欢我正在做的事情，请关注我的</strong> <a class="ae jo" href="https://twitter.com/seblandwehr" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> Twitter </strong> </a> <strong class="is hj">或者查看我的</strong> <a class="ae jo" href="https://sebastianlandwehr.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">网站</strong> </a> <strong class="is hj">。也可以考虑在</strong> <a class="ae jo" href="https://www.buymeacoffee.com/dword" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">给我买杯咖啡</strong></a><strong class="is hj"/><a class="ae jo" href="https://www.paypal.com/paypalme/SebastianLandwehr" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">PayPal</strong></a><strong class="is hj">或者</strong><a class="ae jo" href="https://www.patreon.com/dworddesign" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">Patreon</strong></a><strong class="is hj">进行捐赠。非常感谢！❤️ </strong></p><p id="a886" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lc">原载于</em><a class="ae jo" href="https://sebastianlandwehr.com/blog/sending-emails-with-nuxt-js-the-easy-way" rel="noopener ugc nofollow" target="_blank"><em class="lc">sebastianlandwehr.com</em></a></p></div></div>    
</body>
</html>