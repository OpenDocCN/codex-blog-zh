<html>
<head>
<title>React app in more than one language</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用多种语言的React app</h1>
<blockquote>原文：<a href="https://medium.com/codex/react-app-in-more-than-one-language-e424b5338237?source=collection_archive---------7-----------------------#2021-06-13">https://medium.com/codex/react-app-in-more-than-one-language-e424b5338237?source=collection_archive---------7-----------------------#2021-06-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/71ac23f58a2fee9dc3361f105b8321f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N7PuDnmsFqv9njUqRiKanw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片上的文本:i18n in React —调整web应用程序以显示多种语言</figcaption></figure><p id="1a24" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">过去几个月，我大部分时间都在React应用中转换文本。从源代码中删除硬编码的字符串，把它们放在一个更注重内容而不是代码的地方，这是令人惊讶的回报。然而，最精彩的部分是观察语言之间的转换——从一种有日期和复数形式的语言到另一种语言，没有留下任何成分。</p><p id="ea4f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">作为牵着琴弦的人，我当然知道，变革将会到来。然而，对于那些往里看的人来说，在这种转变之前，看不到任何变化。网站上的一切看起来都是一样的，无论字符串是硬编码的还是包装在更动态的东西中。</p><p id="e8f7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你也想让你的React web应用程序支持除一种语言之外的其他语言，这里有一个简单的总结。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h1 id="7663" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">React中i18n的前三个库</h1><ul class=""><li id="29b2" class="kx ky hi iw b ix kz jb la jf lb jj lc jn ld jr le lf lg lh bi translated"><a class="ae li" href="https://react.i18next.com/" rel="noopener ugc nofollow" target="_blank"> React-i18next </a> — NPM每周下载量:978 '</li><li id="8a31" class="kx ky hi iw b ix lj jb lk jf ll jj lm jn ln jr le lf lg lh bi translated"><a class="ae li" href="https://formatjs.io/docs/react-intl/" rel="noopener ugc nofollow" target="_blank"> React-intl </a> — NPM每周下载量:927 '</li><li id="ae0b" class="kx ky hi iw b ix lj jb lk jf ll jj lm jn ln jr le lf lg lh bi translated"><a class="ae li" href="https://lingui.js.org/" rel="noopener ugc nofollow" target="_blank">LinguiJS</a>——NPM每周下载量:50 '</li></ul><blockquote class="lo"><p id="6d59" class="lp lq hi bd lr ls lt lu lv lw lx jr dx translated">太好了，我们有赢家了！</p><p id="9558" class="lp lq hi bd lr ls ly lz ma mb mc jr dx translated">…还是我们现在就要？</p></blockquote><p id="e7af" class="pw-post-body-paragraph iu iv hi iw b ix md iz ja jb me jd je jf mf jh ji jj mg jl jm jn mh jp jq jr hb bi translated">至少可以说，选择前三名进行战斗是一条捷径，从这些人中选择下载量最多的进行国际化是…容易的。但是由于你选择的库将会在你的软件中存在很长一段时间，你可能需要多加考虑。</p><p id="5f4d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">虽然我知道比较可能已经过时，但我仍然觉得在特定的时间点获得感知的利弊快照是有价值的。它使寻找改进或找到满足特定需求的东西的过程变得更加容易。考虑到这一点，这里总结了截至2021年6月排名前三的React i18n库。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h2 id="916c" class="mi ka hi bd kb mj mk ml kf mm mn mo kj jf mp mq kn jj mr ms kr jn mt mu kv mv bi translated">react-i18接下来</h2><p id="be09" class="pw-post-body-paragraph iu iv hi iw b ix kz iz ja jb la jd je jf mw jh ji jj mx jl jm jn my jp jq jr hb bi mz translated">它越来越受欢迎，目前在周下载量上领先于React-intl。它是i18next系列的一部分，可以与任何JS框架结合。它的伸缩性很好，支持类和函数组件以及普通的JS，并附带了大量插件，可以满足您使i18n进程顺利进行的所有需求。要开始，你需要设置一个配置文件，但这是你需要完全覆盖到全局语言状态。也有一个<code class="du ni nj nk nl b">i18NextProvider</code>可用，但是只有在使用服务器端渲染或者有多个i18n实例时才需要。</p><p id="f00d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">react-i18n最大的缺点是默认不依赖ICU消息格式。然而，如果这是你的项目所需要的，有一个插件。它的语法比react-i18next的标准翻译函数更冗长，但这是意料之中的，因为语法遵循标准。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h2 id="8138" class="mi ka hi bd kb mj mk ml kf mm mn mo kj jf mp mq kn jj mr ms kr jn mt mu kv mv bi translated">反应-国际</h2><p id="5bf9" class="pw-post-body-paragraph iu iv hi iw b ix kz iz ja jb la jd je jf mw jh ji jj mx jl jm jn my jp jq jr hb bi mz translated"><span class="l na nb nc bm nd ne nf ng nh di"> T </span>多年来，他一直是React应用程序国际化的首选库，但React-i18next一直在不断逼近。它支持多种语言环境，可扩展，并且开箱即可提取翻译信息。它最大的卖点是它建立在行业标准之上，如<a class="ae li" href="https://www.ecma-international.org/publications-and-standards/standards/ecma-402/" rel="noopener ugc nofollow" target="_blank"> ECMA脚本国际化API </a>、<a class="ae li" href="http://cldr.unicode.org/" rel="noopener ugc nofollow" target="_blank"> Unicode CLDR </a>和<a class="ae li" href="http://userguide.icu-project.org/formatparse/messages" rel="noopener ugc nofollow" target="_blank"> ICU消息格式</a>。您可以放心地知道，您的软件将符合您的应用程序将支持的不同语言和国家所使用的语言和文化惯例。作为FormatJS系列的一部分，它现在支持服务器端渲染</p><p id="fbdf" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是另一方面，您只能在React组件的视图层中翻译消息。普通JS函数中的字符串不能被翻译。此外，它还没有充分利用hook的使用。所提供的只是一个框架，供开发人员构建定制的挂钩。尽管React-i18next的钩子(和HOC，就此而言)用全局语言状态注入了组件/普通JS函数，但<code class="du ni nj nk nl b">useIntl</code>钩子(或HOC)不会。如果您希望用户能够切换语言，这取决于开发人员使用<code class="du ni nj nk nl b">React.Context</code>来处理全局区域设置状态并将其传递给提供者。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><h2 id="4d5e" class="mi ka hi bd kb mj mk ml kf mm mn mo kj jf mp mq kn jj mr ms kr jn mt mu kv mv bi translated">语言</h2><p id="e7b7" class="pw-post-body-paragraph iu iv hi iw b ix kz iz ja jb la jd je jf mw jh ji jj mx jl jm jn my jp jq jr hb bi mz translated">因圭斯就像是服用了类固醇的轻量级反兴奋剂。它具有相同的消息格式和类似的API，但是使用宏和CLI来改进开发人员和翻译人员的国际化过程。基本上，你所需要做的就是将硬编码封装在一个组件或宏中，剩下的事情自然就好了。宏的使用减少了代码的冗长性和可读性，没有因改变翻译文件的结构而破坏任何东西的风险。</p><p id="1816" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">像React-Intl一样，您需要通过用传递给地区的上下文包装<code class="du ni nj nk nl b">intlProvider</code>来注入全局语言状态。使用字符串作为id也可能被视为反模式，但这取决于您，因为您可以使用id作为键。</p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="2e6b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所以，我们有它。三个流行的库，各有利弊。如果你想让你的React应用程序支持多种语言，支持它们在日期、复数、小数点等方面的不同特点，你就有机会成功。</p></div></div>    
</body>
</html>