<html>
<head>
<title>Data Structures and How To Build It From Scratch (Array) #1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据结构和如何从头构建它(数组)#1</h1>
<blockquote>原文：<a href="https://medium.com/codex/data-structures-and-how-to-build-it-from-scratch-array-1-3609f6f383d7?source=collection_archive---------37-----------------------#2022-06-19">https://medium.com/codex/data-structures-and-how-to-build-it-from-scratch-array-1-3609f6f383d7?source=collection_archive---------37-----------------------#2022-06-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="60f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">javascript中的数组只是带有基于整数的键的对象，并且需要理解oop如何在JavaScript上工作。</p><p id="0ba5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将创建一个名为<strong class="ih hj"> MyArray </strong>的类，它将有四个方法，分别是<strong class="ih hj"> get </strong>、<strong class="ih hj"> push </strong>、<strong class="ih hj"> pop </strong>和<strong class="ih hj"> delete </strong>。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="ab24" class="jm jn hi ji b fi jo jp l jq jr">Class MyArray {}</span></pre><p id="bb6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先我们创建构造函数，将属性<strong class="ih hj">数据</strong>指定为对象，并将<strong class="ih hj">长度</strong> = 0。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="cdc0" class="jm jn hi ji b fi jo jp l jq jr">constructor () {<br/>    this.data = {};<br/>    this.length = 0;<br/>}</span></pre><p id="f6b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，我们将使我们的第一个方法<strong class="ih hj">得到</strong>。<strong class="ih hj"> Get </strong>基本上是通过索引返回<strong class="ih hj"> this.data </strong>里面的任何一项。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="54c9" class="jm jn hi ji b fi jo jp l jq jr">get(index) {<br/>   return this.data[index];<br/>}</span></pre><p id="50ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将制作一个名为<strong class="ih hj">推送</strong>的方法。<strong class="ih hj">按下</strong>会在<strong class="ih hj"> this.data </strong>内增加一项作为最后一项。在这个方法中，我们将把<strong class="ih hj">this . data</strong>(index = last item+1或this.length)设置为一个来自参数的项。不要忘记，我们还必须增加this.length，因为我们刚刚增加了1项。</p><blockquote class="js jt ju"><p id="0438" class="if ig jv ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">花絮:一个</em> <strong class="ih hj"> <em class="hi">参数</em> </strong> <em class="hi">是一个函数定义中的变量。它是一个占位符，因此没有具体的值。一个</em> <strong class="ih hj"> <em class="hi">参数</em> </strong> <em class="hi">是函数调用时传递的值。</em></p></blockquote><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="f0f0" class="jm jn hi ji b fi jo jp l jq jr">push(item) {<br/>   this.data[this.length] = item;<br/>   this.length++;<br/>   return this.length;<br/>}</span></pre><p id="8813" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将制作一个名为<strong class="ih hj"> pop </strong>的方法。<strong class="ih hj"> Pop </strong>是push的反义词。因此<strong class="ih hj">弹出</strong>将从最后一个索引中删除一个项目。如何确定<strong class="ih hj"> this.data </strong>中任意一项的最后一个索引？嗯，很简单。我们只需要属性长度减一(因为索引从0开始)。所以我们可以使用delete(内置函数)来删除该项。不要忘了我们还必须减少this.length ，因为我们刚刚删除了1项。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="96f3" class="jm jn hi ji b fi jo jp l jq jr">pop() {<br/>   const lastItem = this.data[this.length - 1];<br/>   delete this.data[this.length - 1];<br/>   this.length--;<br/>   return lastItem;<br/>}</span></pre><p id="a093" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，最后一个方法是<strong class="ih hj">删除</strong>。因此<strong class="ih hj"> delete </strong>方法将删除具有特定索引的任何项目</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="2f1c" class="jm jn hi ji b fi jo jp l jq jr">delete(index) {<br/>    const item = this.data[index];<br/>    for (let i = index; i &lt; this.length - 1; i++) {<br/>       this.data[i] = this.data[i + 1];<br/>    }<br/>    delete this.data[this.length - 1];<br/>    this.length--;<br/> <br/>    return item;<br/>}</span></pre><p id="8cb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这对你来说可能有点困惑，但是别担心，我会解释的。所以在for循环中，我们基本上用i + 1的数据替换I的数据(在索引之后)。例如，我们有["零"、"一"、"二"、"三"、"四]]，我们使用我们的<strong class="ih hj">删除</strong>方法(假设index = 2)..</p><p id="cb97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以会是这样的</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="c892" class="jm jn hi ji b fi jo jp l jq jr">existing data<br/>[“zero”, “one”, “two”, “three”, “four”]<br/>   0       1     2       3       4</span><span id="d48f" class="jm jn hi ji b fi jz jp l jq jr">first iterate (index = 2, i = 2)<br/>["zero", "one", "three", "three", "four"]<br/>    0      1       2        3       4<br/>second iterate (index = 3, i = 3)<br/>["zero", "one", "three", "four", "four"]<br/>   0      1       2        3      4 </span><span id="7652" class="jm jn hi ji b fi jz jp l jq jr">our for loop (i = 4) is over because i === this.length - 1 or i &lt; this.length - 1;</span></pre><p id="61a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可能会注意到有些不对劲。是的，我们仍然有索引= 4的“4”。这就是为什么我们需要删除this.data[this.length-1]并对this.length进行减量。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="4a50" class="jm jn hi ji b fi jo jp l jq jr">our final data after delete index = 2 (item "two").<br/>["zero", "one", "three", "four"]</span></pre><p id="8526" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，就这样了。我们刚刚用类制作了自己的数组。这是MyArray类的完整代码。</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="2556" class="jm jn hi ji b fi jo jp l jq jr">Class MyArray {</span><span id="3091" class="jm jn hi ji b fi jz jp l jq jr">constructor() {<br/>    this.data = {};<br/>    this.length = 0;<br/>}</span><span id="bc84" class="jm jn hi ji b fi jz jp l jq jr">get(index){<br/>   return this.data[index];<br/>}</span><span id="b082" class="jm jn hi ji b fi jz jp l jq jr">push(item) {<br/>   this.data[this.length] = item;<br/>   this.length++;<br/>   return this.length;<br/>}</span><span id="680f" class="jm jn hi ji b fi jz jp l jq jr">pop() {<br/>   const lastItem = this.data[this.length - 1];<br/>   delete this.data[this.length - 1];<br/>   this.length--;<br/>   return lastItem;<br/>}</span><span id="a7fc" class="jm jn hi ji b fi jz jp l jq jr">delete(index) {<br/>     const item = this.data[index];<br/>     for (let i = index; i &lt; this.length - 1; i++) {<br/>        this.data[i] = this.data[i + 1];<br/>     }<br/>     delete this.data[this.length - 1];<br/>     this.length--;<br/>     return item;<br/>  }<br/>}</span><span id="2766" class="jm jn hi ji b fi jz jp l jq jr">const myArray = new MyArray();<br/>myArray.push("zero");<br/>myArray.push("one");<br/>myArray.push("two");<br/>myArray.push("three");<br/>myArray.push("four");</span></pre><p id="441a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在<a class="ae ka" href="https://singgihaji.medium.com/data-structures-and-how-to-build-it-from-scratch-hash-table-2-95158a7883fc" rel="noopener">数据结构和如何从头开始构建(散列表)#2 </a>上再见！</p></div></div>    
</body>
</html>