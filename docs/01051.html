<html>
<head>
<title>The AWS Serverless HorseRiders</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS无服务器骑手</h1>
<blockquote>原文：<a href="https://medium.com/codex/the-aws-serverless-horseriders-d09124ca7fde?source=collection_archive---------16-----------------------#2021-04-01">https://medium.com/codex/the-aws-serverless-horseriders-d09124ca7fde?source=collection_archive---------16-----------------------#2021-04-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/129c158fc0b9ec4de3c185bbe4aa5c2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8oc8WcX5NiTj1S15.jpg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来源:Greenbiz</figcaption></figure><p id="9936" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">每天都有很多关于云的讨论，今天我选择了我们就<strong class="iw hj">无服务器架构</strong>和相应的可能改变工程师实现云的方式的骑士进行一次小小的交谈。2016年，当我第一次进入云计算领域时，我经常从高级工程师那里听到<strong class="iw hj">“无服务器”</strong>这个词，但我总是想象无服务器意味着实际上没有服务器，但随着时间的推移，我开始理解真正的东西。</p><p id="98bd" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是，让我们来定义一下<strong class="iw hj">【无服务器】</strong>这个概念。首先，在无服务器计算世界中实际上存在物理服务器，但是工程师/开发人员不需要知道它们的存在。无服务器架构定义了工程师在云中部署和处理代码的能力，而无需担心基础设施和流程。<em class="js">它很大程度上被看作是云中的一个</em><strong class="iw hj"><em class="js">【as-used】</em></strong><em class="js">服务。</em></p><blockquote class="jt"><p id="8ad3" class="ju jv hi bd jw jx jy jz ka kb kc jr dx translated"><strong class="ak">云计算运营的核心是围绕“无服务器架构”构建的</strong></p></blockquote><p id="8cc4" class="pw-post-body-paragraph iu iv hi iw b ix kd iz ja jb ke jd je jf kf jh ji jj kg jl jm jn kh jp jq jr hb bi translated">在AWS中，无服务器的概念必须遵守四个主要规则:</p><ul class=""><li id="60b5" class="ki kj hi iw b ix iy jb jc jf kk jj kl jn km jr kn ko kp kq bi translated"><strong class="iw hj">系统中存在容错/可用性。</strong></li><li id="ecda" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr kn ko kp kq bi translated"><strong class="iw hj">运行代码的现收现付价值系统(未使用的部分不会计费)。</strong></li><li id="6797" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr kn ko kp kq bi translated"><strong class="iw hj">服务器不需要开发者/用户管理。</strong></li><li id="dc61" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr kn ko kp kq bi translated"><strong class="iw hj">基于使用曲线的系统缩放。</strong></li></ul><p id="cef1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">展望未来，无服务器架构允许工程师投入更多精力来构建产品，而云操作则在书本之外处理。但是，该架构是由一些被视为AWS无服务器架构骑士的服务驱动的，但我认为它们是支柱(如果你喜欢，你可以使用骑士)。骑士/柱子会在我们开车的时候详细讨论，请续杯咖啡。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/41c7efe385844c5522aec76e484bedb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iAhCWv3RdmDOjMya.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">无服务器架构</figcaption></figure><h2 id="4ffd" class="lb lc hi bd ld le lf lg lh li lj lk ll jf lm ln lo jj lp lq lr jn ls lt lu lv bi translated"><strong class="ak"> AWS Lambda </strong></h2><p id="f7c8" class="pw-post-body-paragraph iu iv hi iw b ix lw iz ja jb lx jd je jf ly jh ji jj lz jl jm jn ma jp jq jr hb bi translated">当在应用程序的后端空间处理事件时，您将需要管理基础设施、检查应用程序状态、管理大量服务器和其他繁琐的活动，但是随着无服务器计算的出现，您需要支付的只是计算时间，然后您可以根据自己的需要在本地消耗和处理代码。</p><blockquote class="jt"><p id="a698" class="ju jv hi bd jw jx jy jz ka kb kc jr dx translated"><strong class="ak"> AWS Lambda由事件驱动计算驱动，作为服务运行(将事件分配给特定应用程序代码),最重要的是无需服务器。</strong></p></blockquote><p id="3352" class="pw-post-body-paragraph iu iv hi iw b ix kd iz ja jb ke jd je jf kf jh ji jj kg jl jm jn kh jp jq jr hb bi translated">AWS Lambda运行对对象上传/下载、存储桶管理、数据库更新甚至应用内活动等事件的响应。它将实时日志发布到cloud watch，你可以跟踪你上传的代码的操作。你可以很容易地开始使用它，你可以使用你的任何语言库，比如Node.js，Python，Go等等，最近本地库也参与进来了。<em class="js">使结构完整的功能有三个部分；</em> <strong class="iw hj"> <em class="js"> Handler()函数，事件对象和上下文对象</em> </strong>。有一些已经为普通应用程序建立的结构的使用示例，所以如果你是初学者，你可以探索一下，如果你已经有了lambda代码，你可以把它作为zip文件上传，甚至可以使用Lambda函数open space。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/6d49b79e5dd0f547616294bd3d63e868.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*2uVOJGXZu7MW3WPK_x_H_g.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">S3、DynamoDB和Lambda函数之间的数据流</figcaption></figure><p id="4f0b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如图所示，您可以使用AWS SDK和boom将S3桶和DynamoDB与Lambda函数集成在一起，这样您就可以实现流程自动化，照顾您的狗，甚至下棋。最后，谈到支付，你可以根据价值和运行代码来支付，但根据我的经验，有时更多的内存可以降低价格，令人震惊吧？我来解释一下，<strong class="iw hj"> <em class="js"> Lambda只公开了一个内存控制器，将CPU内核和网络容量的%分配给该函数。所以如果你的代码依赖于网络，内存，甚至是网络，那么你可能需要使用更多的内存来降低速度。</em>T9】</strong></p><h2 id="6563" class="lb lc hi bd ld le lf lg lh li lj lk ll jf lm ln lo jj lp lq lr jn ls lt lu lv bi translated">AWS IAM</h2><p id="bb31" class="pw-post-body-paragraph iu iv hi iw b ix lw iz ja jb lx jd je jf ly jh ji jj lz jl jm jn ma jp jq jr hb bi translated">每当我想到IAM时，脑海中浮现的都是安全性和特权，然后是对服务的关键访问。AWS IAM是AWS身份访问管理的缩写。有了这个特性，您可以为用户分配角色，这样他们就可以执行他们需要执行的任务。根据定义，IAM策略编写允许您向您的用户/工程师授予访问权限，但更进一步，AWS需要执行这些策略，并允许基于已设置的预定义规则进行访问控制。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/34cbfbe9742a060a8db9727994fc48b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UJ5hRTKAAXgP2qjb.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">IAM政策理念草图-MSP360</figcaption></figure><p id="4813" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有一个策略结构/语法，它有四个主要部分，I <strong class="iw hj">【缩写】</strong> <strong class="iw hj"> PARC </strong>，分别代表<strong class="iw hj">主体、动作、资源和条件</strong> n。在每种情况下，它们都必须在代码中进行标识，但在某些情况下，主体可能不是必需的。然而，根据经验，如果您引用某个存储桶，我认为您应该确保分配主体。</p><p id="4a43" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="js"> AWS将</em> <strong class="iw hj"> <em class="js">主体</em> </strong> <em class="js">定义为允许/拒绝访问的实体，将动作定义为允许/拒绝访问的访问，</em> <strong class="iw hj"> <em class="js">资源</em> </strong> <em class="js">是动作将作用于的AWS资源，然后最终</em> <strong class="iw hj"> <em class="js">条件</em> </strong> <em class="js">是访问有效的条件(这可以在构建VPC和基础设施时出现。最后，IAM与无服务器架构非常相关，您应该在此处</em>   <em class="js">查找文档</em> <a class="ae mb" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj"> <em class="js">。</em></strong></a></p><p id="ee9e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在总结IAM之前，我们应该理解策略类型和可能的用例。一些最著名的政策如下所示:</p><ul class=""><li id="d22a" class="ki kj hi iw b ix iy jb jc jf kk jj kl jn km jr kn ko kp kq bi translated"><strong class="iw hj">服务控制策略:</strong>这是为了禁用帐户主体上的服务访问而设计的，因此在使用存储桶策略时相对有用。</li><li id="e45e" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr kn ko kp kq bi translated"><strong class="iw hj">权限策略和权限边界:</strong>这很简单，只是用来描述如何为某些用户设置边界。例如，用户可以限制在组织内设置某些权限。</li><li id="fc11" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr kn ko kp kq bi translated"><strong class="iw hj">缩小范围的策略:</strong>这进一步减少了系统中通常共享的权限。</li><li id="d1bb" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr kn ko kp kq bi translated"><strong class="iw hj">基于资源的策略:</strong>顾名思义，它们是基于资源的策略，它控制对系统/组织中某些资源的跨帐户访问。</li><li id="998e" class="ki kj hi iw b ix kr jb ks jf kt jj ku jn kv jr kn ko kp kq bi translated"><strong class="iw hj">端点策略:</strong>使用VPC端点，您可以控制对服务的访问，我指的是组织内用户对服务的访问。</li></ul><p id="ec5e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">最后，我想我应该在此结束IAM策略，但我相信您应该理解，这些策略通过确保服务控制策略和IAM策略/基于资源的策略之间存在某种信任系统来协同工作，因此一切都必须允许纯粹的通信。你可以在这里 阅读更多关于策略<a class="ae mb" href="https://aws.amazon.com/iam/#:~:text=AWS%20Identity%20and%20Access%20Management%20(IAM)%20enables%20you%20to%20manage,offered%20at%20no%20additional%20charge." rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj">及其对无服务器架构的影响。</strong></a></p><h2 id="597b" class="lb lc hi bd ld le lf lg lh li lj lk ll jf lm ln lo jj lp lq lr jn ls lt lu lv bi translated">AWS DynamoDB</h2><p id="c2c3" class="pw-post-body-paragraph iu iv hi iw b ix lw iz ja jb lx jd je jf ly jh ji jj lz jl jm jn ma jp jq jr hb bi translated"><a class="ae mb" href="https://aws.amazon.com/dynamodb/" rel="noopener ugc nofollow" target="_blank"> Amazon DynamoDB </a>是一种快速灵活的NoSQL数据库服务，适用于任何规模下需要一致的单位数毫秒延迟的所有应用程序。还记得我们的无服务器用例吗？在这个用例中，事件和活动不容易处理，所以我们需要雇佣这些骑手来使工作顺利进行。嗯，Amazon DynamoDB就是这样的骑手之一，它被用于许多可伸缩的应用程序中。它是完全托管的，可以处理加密、SLA，每天可以处理超过1万亿个请求。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es me"><img src="../Images/c952171ccf1b643f177ac9bcba5a77a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*WjtuiWaoh8qFbVT2iJEo2Q.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">带Lambda的DynamoDB草图</figcaption></figure><p id="b071" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在使用DynamoDB时，不需要创建/配置服务器，您只需访问控制台并开始创建表，这与复杂世界中的其他数据库不同。<em class="js">它的一些特性包括事务、动态容量管理、高可用性、持久性、按需容量模式、静态加密、表部件(即分区键、排序键、属性等)、用户友好的控制台、DAX支持，以及许多其他很酷的东西</em>。进一步，您可以通过这个<a class="ae mb" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SampleData.CreateTables.html" rel="noopener ugc nofollow" target="_blank">指南测试表的创建。</a></p><h2 id="f87f" class="lb lc hi bd ld le lf lg lh li lj lk ll jf lm ln lo jj lp lq lr jn ls lt lu lv bi translated">AWS S3</h2><p id="a4f4" class="pw-post-body-paragraph iu iv hi iw b ix lw iz ja jb lx jd je jf ly jh ji jj lz jl jm jn ma jp jq jr hb bi translated"><a class="ae mb" href="https://aws.amazon.com/s3/" rel="noopener ugc nofollow" target="_blank">亚马逊简单存储服务</a>是一种对象存储服务，提供行业领先的可扩展性、数据可用性、安全性和性能。亚马逊S3易于使用，有一个简单的网络服务界面来存储和检索网络上任何地方的任何数量的数据。企业和产品(尤其是拥有大量用户的产品)中使用的数据类型非常复杂，这就是必须引入存储服务的地方。在某些情况下，它可以用于从Cloudwatch收集日志，以便进行研究和提取。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/c92f87ec90f4be90f2cf25c82195e06c.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*bXhN1c6Q0YhYXzgrhsEL5Q.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">S3基础建筑</figcaption></figure><p id="fde9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这里有无与伦比的耐用性、安全管理和由来自世界各地的多样化第三方合作伙伴组成的庞大生态系统。它还允许在AWS中进行任何分析处理的业务流程。出于数据标准和保护的考虑，数据可以存储在不同的可用性区域，但为了降低成本，您也可以采用其他方式，这无疑是有风险的。对于安全性和法规遵从性，执行加密，并遵循安全标准和最佳实践。此外，我们可以将S3与Lambda结合使用，这是一种有趣的数据存储方式。有机会利用红移光谱来分析S3桶数据和云中其他很酷的东西。我们可以继续下去，但让我把你留在这里消化，我们可以在其他时间谈论其他AWS S3的细节。</p></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="bc0c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">最后，每个了解如何构建和自动化之前讨论的这些服务的AWS工程师/用户都有能力构建一个新的世界，端到端地骑着无服务器的马，关闭那个世界，创建一个新的世界，再骑一次并重复——明确地说，知道这些骑手的本质，你就控制了世界。</p><p id="34f2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，为了记录，这个内容对社区中的各种人开放。如果你有问题，有评论，有投稿，在这里拍或者<strong class="iw hj">联系我</strong> <a class="ae mb" href="https://twitter.com/SamuelArogbonlo" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj">推特</strong> </a> <strong class="iw hj">和</strong><a class="ae mb" href="https://github.com/samuelarogbonlo" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj">Github</strong></a><strong class="iw hj">。</strong></p><p id="6362" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">感谢阅读❤️ </strong></p><p id="68a9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你对这个话题有任何想法，请留下评论——我乐于学习和探索知识。</p><h1 id="9f7a" class="mn lc hi bd ld mo mp mq lh mr ms mt ll mu mv mw lo mx my mz lr na nb nc lu nd bi translated">我可以想象这个帖子有多有用，请留下掌声👏下面几次来表示你对作者的支持</h1></div></div>    
</body>
</html>