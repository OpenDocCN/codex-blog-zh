# å¦‚ä½•ç”¨ Sendbird UIKit æ„å»º Android èŠå¤©åº”ç”¨

> åŸæ–‡ï¼š<https://medium.com/codex/how-to-build-an-android-chat-app-with-sendbird-uikit-fcadfaa457d9?source=collection_archive---------7----------------------->

![](img/7616b11eb61054f911fa7e5f7a4e8a50.png)

ä»™é¸Ÿ 2022

## ä½¿ç”¨é¢„æ„å»ºçš„ UI ç»„ä»¶æ„å»ºåŠŸèƒ½ä¸°å¯Œçš„åº”ç”¨å†…èŠå¤©

è§£å†³æ–¹æ¡ˆå·¥ç¨‹å¸ˆ| [Sendbird](https://www.sendbird.com)

*æ‚¨å¯èƒ½ä¼šå‘ç°æŸ¥çœ‹ Android Chat UIKit* [*ç¤ºä¾‹ä»£ç *](https://github.com/sendbird/sendbird-uikit-android) *å¾ˆæœ‰ç”¨ã€‚å¦‚éœ€æ›´å¤šæŒ‡å¯¼ï¼Œè¯·å‚è€ƒæˆ‘ä»¬çš„* [*æ–‡æ¡£*](https://sendbird.com/docs/uikit/v1/android/quickstart/send-first-message) *ã€‚è¦æŸ¥çœ‹æ‚¨çš„ç°ä»£ã€åŠŸèƒ½é½å…¨çš„èŠå¤©å·¥å…·ï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬çš„* [*æ¼”ç¤º*](https://sendbird.com/demos/in-app-chat) *ã€‚æœ€åï¼ŒæŸ¥çœ‹æˆ‘ä»¬çš„* [*Chat UIKit é¡µé¢*](https://sendbird.com/features/chat-messaging/uikit) *äº†è§£è¯¦æƒ…ã€‚*

*åˆ«å¿˜äº†è®¿é—®æˆ‘ä»¬çš„* [*å¼€å‘è€…é—¨æˆ·*](https://sendbird.com/developer) *è·å–æ›´å¤šæœ‰ç”¨çš„æ•™ç¨‹å’Œå¼€å‘è€…èµ„æºï¼*

# ä»‹ç»

Sendbird UIKit æ˜¯ä¸€å¥—ä¸°å¯Œçš„é¢„å»º UI ç»„ä»¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒåœ¨ 10 åˆ†é’Ÿå†…åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­åˆ›å»ºç°ä»£ messenger ä½“éªŒã€‚æ‚¨ä¹Ÿå¯ä»¥å°† [Sendbird Chat SDK](https://sendbird.com/docs/chat%22) ä¸æ‚¨è‡ªå·±çš„è‡ªå®šä¹‰ UI ä¸€èµ·ä½¿ç”¨ã€‚

æœ¬æ•™ç¨‹å°†å‘ä½ å±•ç¤ºå¦‚ä½•ç”¨ Sendbird å‘é€ä½ çš„ç¬¬ä¸€æ¡æ¶ˆæ¯ã€‚é˜…è¯»å®Œæœ¬æ–‡åï¼Œæ‚¨å°†ä½¿ç”¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä»£ç æ„å»ºä¸€ä¸ªé€šä¿¡é€šé“æ¥å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚å°½ç®¡å¯¹ Kotlin å’Œ Sendbird UIKit çš„åŸºæœ¬ç†Ÿæ‚‰ä¼šæœ‰æ‰€å¸®åŠ©ï¼Œä½†æœ¬æŒ‡å—é€‚ç”¨äºæ‰€æœ‰ç†Ÿç»ƒç¨‹åº¦çš„å¼€å‘äººå‘˜ã€‚

è¦å‘é€æ‚¨çš„ç¬¬ä¸€å°é‚®ä»¶ï¼Œæ‚¨éœ€è¦:

1.åˆ›å»º:
a. [Sendbird è´¦å·](https://dashboard.sendbird.com/auth/signup)b . send bird ç¯å¢ƒä¸­çš„ç”¨æˆ·
2 .å¯¼å…¥ Sendbird UIKit ä¾èµ–å…³ç³»
3ã€‚å°† Sendbird UIKit SDK é›†æˆåˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­

æœ¬æŒ‡å—è¯¦ç»†ä»‹ç»äº†è¿™äº›æ­¥éª¤ã€‚æˆ‘ä»¬å¼€å§‹å§ï¼

# ç¬¬ä¸€æ­¥ã€‚åˆ›å»ºä¸€ä¸ª Sendbird å¸æˆ·

1.1 æ³¨å†Œä¸€ä¸ªå…è´¹çš„ [Sendbird å¸æˆ·](https://dashboard.sendbird.com/auth/signup)

![](img/e3903a3c9a51b37076d333eb586c89d5.png)

1.2 ä½¿ç”¨æ‚¨çš„ç”µå­é‚®ä»¶åœ°å€åˆ›å»ºä¸€ä¸ªå¸æˆ·ï¼Œæˆ–å•å‡»â€œç»§ç»­ä½¿ç”¨ Googleâ€

![](img/b4cb4bc7333e33a9f5cbb2ab56986a16.png)

1.3 é€šè¿‡è¾“å…¥â€œç»„ç»‡åç§°â€å’Œâ€œç”µè¯å·ç â€æ¥è®¾ç½®æ‚¨çš„ç»„ç»‡

![](img/02d20af586316607a799901f2b7c55d5.png)

1.4 é€‰æ‹©â€œäº§å“ç±»å‹â€å¹¶è¾“å…¥â€œåº”ç”¨ç¨‹åºåç§°â€å’Œâ€œåœ°åŒºâ€åï¼Œåˆ›å»ºæ‚¨çš„ Sendbird åº”ç”¨ç¨‹åº

![](img/57976c9dce3b02c4e46e0e015e0a4874.png)

1.5 æ‚¨å°†è¢«å¼•å¯¼è‡³ Sendbird ä»ªè¡¨æ¿çš„ä¸»é¡µï¼Œå¼€å§‹åœ¨æ‚¨çš„äº§å“ä¸­å®æ–½ Sendbird Chat SDK å’Œ API

1.6 è¿›å…¥åï¼Œä»â€œåº”ç”¨ç¨‹åºâ€éƒ¨åˆ†å¤åˆ¶æ‚¨å”¯ä¸€çš„â€œåº”ç”¨ç¨‹åº IDâ€ï¼Œå¹¶å°†å…¶ç²˜è´´åˆ°æ‚¨çš„å‰ªè´´æ¿ä¸­ã€‚è¿™å°†åœ¨æ­¥éª¤ 4.1 ä¸­åˆå§‹åŒ– UIKit SDK æ—¶ä½¿ç”¨ã€‚

![](img/a59a80d24546869f8d57a597fbcd8814.png)

# ç¬¬äºŒæ­¥ã€‚åœ¨ Sendbird ä»ªè¡¨æ¿ä¸­åˆ›å»ºç”¨æˆ·

2.1 å¯¼èˆªè‡³ä»ªè¡¨æ¿å·¦ä¾§å¯¼èˆªä¸­çš„ç”¨æˆ·éƒ¨åˆ†

2.2 å•å‡»å³ä¸Šè§’çš„â€œåˆ›å»ºç”¨æˆ·+â€å›¾æ ‡

2.3 é€šè¿‡å¡«å†™ä»¥ä¸‹å­—æ®µæ¥åˆ›å»ºæ–°ç”¨æˆ·:
â€“â€˜IDâ€™
â€“â€˜æ˜µç§°â€™
â€“â€˜ä¸ªäººèµ„æ–™ URLâ€™â€”å¯é€‰
â€“â€˜é¢å‘è®¿é—®ä»¤ç‰Œâ€™â€”å¯é€‰

![](img/943cdccd0f926804980aa0f866894016.png)

é¦–å…ˆåˆ›å»ºè‡³å°‘ä¸¤ä¸ªç”¨æˆ·ï¼Œè¿™æ ·æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å°±æœ‰äº†å¯ä»¥äº’ç›¸èŠå¤©çš„ç”¨æˆ·ã€‚

![](img/f7650ac1e26fb6f5b4fc7595ddb7b06f.png)

# ç¬¬ä¸‰æ­¥ã€‚æ·»åŠ  [Sendbird UIKit](https://sendbird.com/blog/introducing-sendbird-uikit-get-chat-running-in-minutes) SDK

ä¸ºäº†æ„å»ºæˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Android Studio ä½œä¸ºæˆ‘ä»¬çš„ IDEã€‚æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®æˆ–æ·»åŠ åˆ°ä¸€ä¸ªç°æœ‰é¡¹ç›®ä¸­ï¼Œè¿™ä¸ä¸‹é¢å°†è¦ä»‹ç»çš„å†…å®¹æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚

**3.1 åˆ›å»ºé¡¹ç›®**

3.1.1.åœ¨æ¬¢è¿ç•Œé¢ä¸­ï¼Œç‚¹å‡»â€œå¯åŠ¨ä¸€ä¸ªæ–°çš„ Android Studio é¡¹ç›®â€

3.1.2.åœ¨â€œé€‰æ‹©é¡¹ç›®æ¨¡æ¿â€çª—å£ä¸­ï¼Œé€‰æ‹©â€œç©ºæ´»åŠ¨â€ï¼Œç„¶åå•å‡»â€œä¸‹ä¸€æ­¥â€

3.1.3.åœ¨â€œé…ç½®æ‚¨çš„é¡¹ç›®â€çª—å£çš„â€œåç§°â€å­—æ®µä¸­è¾“å…¥æ‚¨çš„é¡¹ç›®åç§°

3.1.4.ä»è¯­è¨€ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©æ‚¨çš„è¯­è¨€ Java æˆ– Kotlin

3.1.5.å¯ç”¨ä½¿ç”¨ androidxã€‚*å·¥ä»¶

3.1.6.é€‰æ‹©æœ€ä½ API ç­‰çº§ä¸º 16 æˆ–æ›´é«˜

**3.2 ä½¿ç”¨æ‰³æ‰‹å®‰è£… UIKitã€‘**

3 . 2 . 1 Android ç‰ˆ UIKit é€šè¿‡ Gradle å®‰è£…ã€‚å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°é¡¹ç›®çº§`build.gradle`æ–‡ä»¶ä¸­:

![](img/bfba60ce4cf224cc4dcf473b86440a13.png)

3.2.2 ç„¶åï¼Œæ‰“å¼€ä½ çš„ app çº§`build.gradle`æ–‡ä»¶ã€‚å¯¹äº Java å’Œ Kotlinï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç å—å’Œä¾èµ–é¡¹ï¼Œå¹¶åŒæ­¥ä»¥åº”ç”¨æ›´æ”¹ã€‚

# ç¬¬å››æ­¥ã€‚åˆå§‹åŒ– UIKit SDK

4.1 åˆ›å»ºä¸€ä¸ªåä¸º`BaseApplication`çš„ç±»ï¼Œå¹¶åˆå§‹åŒ–ä¸€ä¸ª`SendBirdUIKit`å®ä¾‹ï¼Œç»•è¿‡`SendBirdUIKitAdapter`å®ä¾‹ä½œä¸º`SendBirdUIkit.init()`æ–¹æ³•ä¸­ä¸€ä¸ªå‚æ•°çš„è‡ªå˜é‡ã€‚è¿™é‡Œæ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨æ‚¨ä¹‹å‰å¤åˆ¶çš„ ApplicationIDã€‚

4 . 1 . 1`SendBirdUIkit.init()`å¿…é¡»åœ¨å®¢æˆ·ç«¯ app çš„åº”ç”¨å®ä¾‹çš„`onCreate()`æ–¹æ³•ä¸­è°ƒç”¨ä¸€æ¬¡ã€‚

4.1.2 å°†åˆ›å»ºçš„`BaseApplication`æ·»åŠ åˆ°`AndroidManifest.xml`ä¸­

4.2 é€šé“æ´»æ€§

`ChannelListActivity`æ˜¯åœ¨åº”ç”¨ç¨‹åºä¸­å¯åŠ¨ Sendbird UIKit çš„èµ·ç‚¹ã€‚åªéœ€ä¸€è¡Œä»£ç ï¼Œæ•´ä¸ª UIKit å°±å¯ä»¥åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å®ç°ã€‚

*æ³¨æ„*:ä½ å¯ä»¥ä»ä¸€ä¸ªç‰‡æ®µæˆ–è€…ä¸€ä¸ªæ´»åŠ¨ä¸­å¯åŠ¨ UIKitï¼Œä½ ä¸éœ€è¦æ‰©å±•`ChannelListActivity`ã€‚

# ç¬¬äº”æ­¥ã€‚æµ‹è¯•æ‚¨çš„é›†æˆ

5.1 åœ¨ä»¿çœŸå™¨æˆ–æ’å…¥å¼è®¾å¤‡ä¸Šè¿è¡Œåº”ç”¨ç¨‹åºã€‚

5.2 ç»§ç»­åˆ›å»ºä¸€ä¸ªé€šé“ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

5.2.1.æ·»åŠ ç”¨æˆ·

5.2.2.å•å‡»åˆ›å»ºæŒ‰é’®

![](img/f28e8fa36d9a8af8a16e02f81a5cc928.png)![](img/142fef1ee96731e1069b8b549381b190.png)![](img/14c1bfb139a55807ccf247f7105439e6.png)

5.3 å‘é€æ‚¨çš„ç¬¬ä¸€æ¡æ¶ˆæ¯

è¯•ç€è¾“å…¥ä¸€æ¡ä¿¡æ¯ï¼Œç„¶åç‚¹å‡»å‘é€ã€‚æ‚¨åº”è¯¥èƒ½å¤Ÿåœ¨åº”ç”¨ç¨‹åºä¸­æ–°å»ºçš„èŠå¤©ä¸­æˆåŠŸå‘é€æ‚¨çš„ç¬¬ä¸€æ¡æ¶ˆæ¯ã€‚

![](img/bb54f7611202b764b377992f31561027.png)![](img/0fd59fe49546d6264eb8a8f8f785120d.png)

# ç»“è®º

æ­å–œä½ ï¼æ‚¨å·²ç»å‡†å¤‡å¥½ä½¿ç”¨ Sendbird ä»æ‚¨çš„ Android åº”ç”¨ç¨‹åºå‘é€å’Œæ¥æ”¶ä¿¡æ¯ã€‚æ‚¨æ­£åœ¨æ„å»ºä¸€ä¸ªä¼˜ç§€ä¸”å¸å¼•äººçš„åº”ç”¨ç¨‹åºï¼

å¼€å¿ƒèŠæ¥¼ï¼ğŸ™‚