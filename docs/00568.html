<html>
<head>
<title>Create an Animated Bar Chart Race Easily with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python轻松创建动画条形图比赛</h1>
<blockquote>原文：<a href="https://medium.com/codex/create-a-bar-chart-race-for-covid-19-cases-easily-with-python-15cc37015899?source=collection_archive---------1-----------------------#2021-02-27">https://medium.com/codex/create-a-bar-chart-race-for-covid-19-cases-easily-with-python-15cc37015899?source=collection_archive---------1-----------------------#2021-02-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="ff0a" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">法典</a></h2><div class=""/><div class=""><h2 id="c474" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">使用Python和来自真实世界新冠肺炎案例数据集的强大bar_chart_race库创建条形图竞赛的实践指南</h2></div><p id="6494" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">数据可视化是Python的优势之一。用Python从数据集创建丰富多彩且有意义的图表总是很有趣，尤其是当它是动画的时候！是的。你没看错！今天我将向你展示如何用Python和<a class="ae kc" href="https://pypi.org/project/bar-chart-race/" rel="noopener ugc nofollow" target="_blank"> <strong class="ji hs">条形图-比赛</strong> </a>库创建一个移动的比赛条形图。</p><figure class="ke kf kg kh fd ki er es paragraph-image"><div class="er es kd"><img src="../Images/bbab46fcc757877a97c8d2eb2fdf2168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/1*X_knEAFSAemsbU3nHYLENw.gif"/></div><figcaption class="kl km et er es kn ko bd b be z dx translated">作者用Python-GIF创建的新冠肺炎案例条形图竞赛</figcaption></figure><h1 id="0224" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">介绍</h1><p id="100c" class="pw-post-body-paragraph jg jh hi ji b jj lh is jl jm li iv jo jp lj jr js jt lk jv jw jx ll jz ka kb hb bi translated">Python实践者认为用Python进行数据可视化是有效且有趣的。有了像<strong class="ji hs"> pandas </strong>、<strong class="ji hs"> Matplotlib </strong>和s <strong class="ji hs"> eaborn </strong>这样强大的库，我们使用Python的数据处理和可视化能力是强大的。彩色图表从我们希望理解的数据集中揭示了有意义的信息。</p><p id="c9da" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">还有另一个强大的库可以把我们的可视化带到另一个层次！介绍<a class="ae kc" href="https://pypi.org/project/bar-chart-race/" rel="noopener ugc nofollow" target="_blank"> <strong class="ji hs">条形图竞赛</strong> </a>，这是一个库，它将赋予你的条形图以生命，并使条形图在一场丰富多彩的竞赛中不断增长和移动。</p><h2 id="8dba" class="lm kq hi bd kr ln lo lp kv lq lr ls kz jp lt lu lb jt lv lw ld jx lx ly lf ho bi translated">可视化新冠肺炎案例数据集</h2><p id="5544" class="pw-post-body-paragraph jg jh hi ji b jj lh is jl jm li iv jo jp lj jr js jt lk jv jw jx ll jz ka kb hb bi translated">除了在艺术上有意义之外，数据可视化还可以提供大量信息并产生影响，尤其是在反映世界上正在发生的事情时。</p><p id="3caa" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">在我发表这篇文章的那一天，我们都经历了一年多的新冠肺炎局势。它仍在全球范围内进行。现在，这不再是一个新奇的情况，但它仍然会给我们带来不必要的后果，让我们每天都要处理。</p><p id="6d65" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">在痛苦的紧缩环境下，各国政府(应该)正在尽最大努力应对这种情况，优化经济。跟踪一个国家处理这种情况的有效性的一种方法可能是可视化该病毒在该国与其他国家相比传播的速度。</p><p id="6be7" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">为了让这个故事更有趣一点，我们将研究一个<a class="ae kc" href="https://ourworldindata.org/covid-cases" rel="noopener ugc nofollow" target="_blank">真实世界的新冠肺炎案例数据集</a>，并从中制作一个赛车条形图。我们将通过一个赛车条形图来展示病毒在世界主要经济体的传播速度。“快速”一词意味着我们将处理一个时间序列数据集，而“时间”将在我们的图表中揭示一个有趣的行为，一旦我们完成创建，您就会看到这一点。</p></div><div class="ab cl lz ma gp mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="hb hc hd he hf"><p id="6dae" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="ji hs"> <em class="mg">注意事项一:</em> </strong> <em class="mg">本文基于</em><a class="ae kc" href="https://www.python.org/downloads/release/python-391/" rel="noopener ugc nofollow" target="_blank"><strong class="ji hs"><em class="mg">Python 3 . 9 . 1</em></strong></a><strong class="ji hs"><em class="mg"/></strong><a class="ae kc" href="https://en.wikipedia.org/wiki/Project_Jupyter" rel="noopener ugc nofollow" target="_blank"><strong class="ji hs"><em class="mg">Jupyter笔记本6 . 1 . 6</em></strong></a><strong class="ji hs"><em class="mg"/></strong><em class="mg">运行于64位</em><a class="ae kc" href="https://en.wikipedia.org/wiki/Windows_10" rel="noopener ugc nofollow" target="_blank"><strong class="ji hs"><em class="mg">Windows 14</em></strong></a></p></div><div class="ab cl lz ma gp mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="hb hc hd he hf"><h1 id="b417" class="kp kq hi bd kr ks mh ku kv kw mi ky kz ix mj iy lb ja mk jb ld jd ml je lf lg bi translated">动手部分</h1><h2 id="59a2" class="lm kq hi bd kr ln lo lp kv lq lr ls kz jp lt lu lb jt lv lw ld jx lx ly lf ho bi translated">制定明确的目标</h2><p id="5fc6" class="pw-post-body-paragraph jg jh hi ji b jj lh is jl jm li iv jo jp lj jr js jt lk jv jw jx ll jz ka kb hb bi translated">首先，我们需要为我们的项目设定一个明确的目标。这样做将有助于指导我们从数据集中只收集我们真正需要的东西，并比我们漫无目的地探索和实验数据时更快地完成项目(希望如此)。</p><p id="6823" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">从一开始，我们的目标就已经非常明确:我们将制作一个赛车条形图，以可视化新冠肺炎病毒在世界上一些顶级国家的传播。</p><p id="ca6d" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="ji hs">剩下的问题是我们希望在哪些国家和多长时间内可视化数据？</strong></p><p id="5b42" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我做的选择只是武断的。在这种情况下，我决定创建一个记录了世界10大经济体中新冠肺炎案例的条形图竞赛。我从investopedia.com那里得到了这些国家的名单。然后，我决定时间框架将大致为一年，从2020年1月任何一个国家的任何记录数据的第一天开始，到2021年1月底。</p><p id="2bf5" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="ji hs">目标总结:</strong></p><ul class=""><li id="87db" class="mm mn hi ji b jj jk jm jn jp mo jt mp jx mq kb mr ms mt mu bi translated">制作一个条形图比赛，显示世界前10个国家的新冠肺炎病例</li><li id="5e2c" class="mm mn hi ji b jj mv jm mw jp mx jt my jx mz kb mr ms mt mu bi translated">时间框架为1年(2020年1月至2021年1月底)</li></ul><p id="ff31" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">一切就绪！我们可以走了！</p><h2 id="2cc8" class="lm kq hi bd kr ln lo lp kv lq lr ls kz jp lt lu lb jt lv lw ld jx lx ly lf ho bi translated">数据探索和重塑</h2><p id="a661" class="pw-post-body-paragraph jg jh hi ji b jj lh is jl jm li iv jo jp lj jr js jt lk jv jw jx ll jz ka kb hb bi translated">准备好！我们将从这个链接下载一个真实的新冠肺炎案例数据集:【https://ourworldindata.org/covid<a class="ae kc" href="https://ourworldindata.org/covid-cases?fbclid=IwAR26VP5h-nwmz1cRoySi5ZuQdFuc_YWNC7DBaWolRlJAtIql5L_XG-qDRfM" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="38c2" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">你也可以在这里下载数据集和这个项目中使用的所有Python代码:<a class="ae kc" href="https://github.com/pkx8326/COVID-19-Race-Bar-Chart.git" rel="noopener ugc nofollow" target="_blank">https://github.com/pkx8326/COVID-19-Race-Bar-Chart.git</a></p><p id="21af" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">一旦我们放置好<strong class="ji hs">。csv </strong>文件放在我们运行Python的同一个文件夹中，我们可以开始在键盘上忙碌了。</p><p id="e20a" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="ji hs">导入库:</strong></p><p id="fc0e" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">首先，我们需要为这个项目导入几个库:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="0863" class="lm kq hi nb b fi nf ng l nh ni">import pandas as pd<br/>import matplotlib.pyplot as plt #Not necessary<br/>plt.style.use("seaborn-whitegrid") #Not necessary<br/>import bar_chart_race as bcr</span></pre><p id="6cd7" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">熊猫是不可或缺的，因为在制作最终的赛车条形图之前，我们必须将数据整理成我们想要的形状。</p><p id="9a21" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">这个项目中另一个不可或缺的库是<a class="ae kc" href="https://pypi.org/project/bar-chart-race/" rel="noopener ugc nofollow" target="_blank"><strong class="ji hs">bar _ chart _ race</strong></a><strong class="ji hs">。我们将对这个库施展魔法。没有必要导入<strong class="ji hs"> matplotllib，</strong>，但是，在这种情况下，我希望Python基于<strong class="ji hs"> matplotlib的</strong>能力来绘制图表，并且我还希望在图表上使用“<strong class="ji hs"> seaborn-whitegrid </strong>”样式。不过，这是我个人的偏好。</strong></p><p id="8943" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="ji hs">创建数据帧:</strong></p><p id="975a" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">现在，我们已经导入了所有必需的库，让我们继续将数据加载到dataframe中并研究它:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="2f39" class="lm kq hi nb b fi nf ng l nh ni">df = pd.read_csv("covid-data.csv")<br/>df</span></pre><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="er es nj"><img src="../Images/6bdd8b495f16641629d43f72d48853f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F9tCZDJPtz4yWXaHBE4V-A.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated"><strong class="bd kr"> df </strong>的结果——作者照片</figcaption></figure><p id="b959" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">在这个项目中，我将文件命名为“<strong class="ji hs"> covid-data.csv </strong>”。最初，我们可以看到数据有<strong class="ji hs">71061行</strong>和<strong class="ji hs"> 59列</strong>。我使用了<strong class="ji hs"> df </strong>而不是<strong class="ji hs"> df.head() </strong>，因为我想同时看到这个数据帧的头部和尾部。似乎我们有许多国家按字母顺序排列，从<strong class="ji hs">阿富汗</strong>到<strong class="ji hs">津巴布韦</strong>。但是和阿富汗有很多分歧，和津巴布韦也有很多分歧。这两个国家之间的所有其他国家必须相同，分布在多行中。</p><p id="60a8" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">回顾我们的目标摘要，我们需要的唯一信息是国家名称、日期从2020年1月到2021年1月，以及每个国家每天登录的病例数。让我们首先删除所有其他不必要的信息，只保留我们需要的信息:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="8b16" class="lm kq hi nb b fi nf ng l nh ni">df = df[["location", "date", "new_cases"]]<br/>df</span></pre><figure class="ke kf kg kh fd ki er es paragraph-image"><div class="er es no"><img src="../Images/06202144c1e4a3174900ed4c0825296e.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*8TJH06mHlruTlotpqfOWNw.png"/></div><figcaption class="kl km et er es kn ko bd b be z dx translated"><strong class="bd kr"> df </strong>去掉所有不必要信息后的结果——作者照片</figcaption></figure><p id="318e" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">太好了！现在只剩下3列需要处理了。</p><p id="8edd" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">仔细观察<strong class="ji hs">日期</strong>列，我们可以看到每一天都会开始一个新行，其中包含所有其他信息，包括国家名称。这就是为什么我们在<strong class="ji hs">位置</strong>栏中有重复的国家名称。</p><p id="6b2c" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我们已经可以想象，一个以连续日期为索引、以国家名称和案件数量填充的列的表将有助于创建我们的条形图竞赛。</p><p id="3e9b" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我们这里已经有的是一个<a class="ae kc" href="https://en.wikipedia.org/wiki/Wide_and_narrow_data" rel="noopener ugc nofollow" target="_blank"> <strong class="ji hs">窄</strong> </a>(有时<strong class="ji hs">叠</strong>或<strong class="ji hs">高</strong>)的数据框架。这种类型的数据帧包含一个粒度最高的列。在本例中，是包含每日案例数的<strong class="ji hs"> new_cases </strong>列。其余的列是上下文列，包含值的“上下文”以使它们有意义。上下文列中的值可以重复。在我们的例子中，它是location列，包含国家名称。</p><p id="13f8" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="ji hs">透视数据:</strong></p><p id="9710" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">很明显，我们不能使用这种类型的数据框架来创建我们的赛车条形图。让我们用pandas的pivot函数将我们的数据框架转换成更有用的东西:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="efa9" class="lm kq hi nb b fi nf ng l nh ni">df = df.pivot(index = "date", columns = "location", values = "new_cases").reset_index().rename_axis(None, axis=1)</span><span id="8180" class="lm kq hi nb b fi np ng l nh ni">df</span></pre><p id="f952" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我使用pivot函数将我们的dataframe转换为一个索引列，其中包含国家名称的列以案件数量作为值。</p><p id="eb93" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">尽管我们的目标是创建一个以日期作为索引的dataframe，但我现在还不需要它们，因为我仍然想修改日期格式，并且我现在需要将<strong class="ji hs"> date </strong>列作为普通列。</p><p id="3fc3" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="ji hs">。reset_index()。rename_axis(None，axis=1) </strong> chain将重置索引并从索引列中删除名称。</p><p id="e07f" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">做好准备，结果数据框架中的列数与原始数据框架中的所有国家数一样多:</p><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="er es nq"><img src="../Images/ebcc4f06e3d9c5f71e755b409cb00892.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y9ULHA1Bm7OIQID_tEL0bg.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">创建透视表后<strong class="bd kr"> df </strong>的结果。<strong class="bd kr">日期</strong>列暂时作为普通列保留——作者照片</figcaption></figure><p id="7350" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我们的新数据帧有421行和215列。这意味着原始文件包含所有国家421天的数据记录信息，该表中有215个国家。我们不需要那么多日子和国家。</p><p id="04ae" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">来自<a class="ae kc" href="https://www.investopedia.com/insights/worlds-top-economies/" rel="noopener ugc nofollow" target="_blank">https://www.investopedia.com/insights/worlds-top-economies/</a>的消息，2020年世界前10大经济体分别是美国、中国、日本、德国、印度、英国、法、意、巴西和加拿大。让我们只将这10个国家保留在我们的数据框架中，并删除所有其他国家:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="fc22" class="lm kq hi nb b fi nf ng l nh ni">df = df[["date", "United States", "China", "Japan", "Germany", "India", "United Kingdom", "France", "Italy", "Brazil", "Canada"]]</span><span id="fade" class="lm kq hi nb b fi np ng l nh ni">df</span></pre><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="er es nr"><img src="../Images/a45c669da12a9e21ca58ed805717ab99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GIRqZehW_AIMoF8nlddeNg.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">“去掉所有其他国家的信息后，只留下世界十大经济体的结果”——作者照片</figcaption></figure><p id="7b81" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">太好了！我们的数据框架现在小多了。去掉所有其他国家的信息后，我们只剩下世界前10个经济体的数据，这些数据可以放入一个421乘11的数据框架。</p><p id="b410" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="ji hs">数据清理:</strong></p><p id="b738" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">正如我们所看到的，在我们的数据帧的开头有一些单元格中有<strong class="ji hs"> NaN </strong>(不是一个数字)值。这些单元开始于2020年1月1日(2020–01–01)。这意味着这10个国家没有一个在2020年1月1日开始记录数据。我们不知道每个国家到底有多少个nan。nan越多，我们就需要等待越长的时间才能在最终产品中出现一个条形。</p><p id="922a" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">让我们设计一个策略，从我们的数据框架中删除尽可能多的nan。<strong class="ji hs">不言而喻，我们将删除nan而不删除我们有用的case值！</strong></p><p id="d266" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">首先，找出这10个国家中谁首先开始记录数据将是有用的。我们将删除第一个国家开始记录其数据的第一天之前的NaNs，其余的我们将保留。</p><p id="56d5" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">为了找出谁是第一个开始记录数据的人，让我们从数据框的第一行开始数每个国家的NaNs:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="e3fa" class="lm kq hi nb b fi nf ng l nh ni">import math</span><span id="5939" class="lm kq hi nb b fi np ng l nh ni">for i in df.columns[1:]:<br/>    j = 0<br/>    while math.isnan(df[i].iloc[j]):<br/>    j = j + 1<br/>    print(i, j)</span><span id="baa3" class="lm kq hi nb b fi np ng l nh ni">United States 22<br/>China 22<br/>Japan 22<br/>Germany 26<br/>India 29<br/>United Kingdom 30<br/>France 23<br/>Italy 30<br/>Brazil 56<br/>Canada 25</span></pre><p id="3e8e" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">嵌套在for循环的<strong class="ji hs">中的【while循环</strong>检查每个国家每一行中的nan。美国、中国和日本似乎是最早开始记录数据的三个国家。他们也在同一天开始。</p><p id="29b8" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我们现在知道，我们将从索引0到22的整个数据帧中删除nan:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="b306" class="lm kq hi nb b fi nf ng l nh ni">for i in range(22):<br/>    df.drop(index = i, inplace = True)</span><span id="f33e" class="lm kq hi nb b fi np ng l nh ni">df.head()</span></pre><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="er es ns"><img src="../Images/ea3ef97eabe7b96acab64c5edaa76f0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bckYKljT-W1XoXwjtMxPuQ.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated"><strong class="bd kr"> df.head() </strong>去掉所有不必要的nan后的结果——作者照片</figcaption></figure><p id="d492" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">现在，我们的数据框架变小了。仔细看，美国和日本在伐木第一天还是0例，而中国已经有95例了。</p><p id="e435" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">从数据帧的头部删除一些行后，索引不再从0开始。为了防止将来可能出现的混乱，让我们重置数据帧的索引，从0重新开始:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="e6b1" class="lm kq hi nb b fi nf ng l nh ni">df = df.reset_index()<br/>df.drop(columns = “index”, inplace = True)</span><span id="16f5" class="lm kq hi nb b fi np ng l nh ni">df.head()</span></pre><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="er es nt"><img src="../Images/857c51257ea5fd94fed82a7e9d3d76c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fg-PeH-c2eSpH2R3EdHfPA.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated"><strong class="bd kr"> df.head() </strong>重置索引后的结果。索引又从0开始—作者照片</figcaption></figure><p id="d5a0" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我们还需要从数据帧中删除一些行。记得我们的目标吗？我们数据框架中的最后日期应该是2021年1月底(2021年1月31日)。我们还不知道它在哪里(什么指数)。让我们来了解一下:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="a4ee" class="lm kq hi nb b fi nf ng l nh ni">for i in df.index:<br/>    if df["date"].iloc[i] == "2021-01-31":<br/>        print(i)</span><span id="bf35" class="lm kq hi nb b fi np ng l nh ni">374</span></pre><p id="d3aa" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我们数据的最后一天记录在索引#374中。我们将删除该索引之后的所有行:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="804f" class="lm kq hi nb b fi nf ng l nh ni">for i in range(375, len(df.index), 1):<br/>    df.drop(index = i, inplace = True)</span><span id="bbd9" class="lm kq hi nb b fi np ng l nh ni">df</span></pre><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="er es nu"><img src="../Images/15731d7759f1c3c2d8310538a75758b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZCFQfSh150X6DQE3yWbQbQ.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">删除索引#374之后的所有行后的<strong class="bd kr"> df </strong>结果—作者照片</figcaption></figure><p id="fc1f" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我们将数据帧从421×11缩小到375×11。现在我们又瘦又健康！但是我们还没有到那一步。</p><p id="83d3" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我们仍然有NaNs，我们的案例号的数据类型是<strong class="ji hs"> float </strong>而不是<strong class="ji hs"> int </strong>。因为浮点型对象需要更大的内存分配。这将不必要地消耗我们的处理时间。</p><p id="6c9f" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">让我们将所有的NaNs更改为0，并将每个案例号更改为int:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="66d0" class="lm kq hi nb b fi nf ng l nh ni">df = df.fillna(0)<br/>for i in df.columns[1:]:<br/>    df[i] = df[i].astype(int)</span><span id="f3b7" class="lm kq hi nb b fi np ng l nh ni">df</span></pre><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="er es nu"><img src="../Images/5df7e7cf7140789d76956c37b90827c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YQ4UwbF8E5XU2h3mwgbEFA.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">将NaNs替换为0并将每个案例号更改为int-Photo(作者拍摄)后的结果<strong class="bd kr"> df </strong></figcaption></figure><p id="2480" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我们真的快到了！还有几件事。</p><p id="62d4" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">看<strong class="ji hs">日期</strong>栏。光是看日期格式就已经让我很痛苦了。我<em class="mg">讨厌</em>这种格式。因为我们要在图表上显示变化的日期，我不能接受。</p><p id="42c0" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我希望是2021年1月1日，而不是<strong class="ji hs"> 2021年1月1日</strong>。这在我的图表上会看起来更漂亮(也更有意义)。</p><p id="8c32" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">日期中有三个元素:年、月号和日。我们需要改变的主要事情是月份。我们需要将月份号改为英语中实际的月份名称。我认为首先我们需要创建一个包含所有月份名称的字典:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="6575" class="lm kq hi nb b fi nf ng l nh ni">monthDict = {"01":"January", "02":"February", "03":"March", "04":"April", "05":"May", "06":"June", "07":"July", "08":"August","09":"September", "10":"October", "11":"November", "12":"December"}</span></pre><p id="a2d4" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">因为日期中的每个元素都用“-”分隔，所以我们将使用字符串。split()方法将每个元素彼此分开，交换它们的位置，并用字典中的月份名替换月份号。</p><p id="ff4c" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">让我们用日期(2020年1月23日)的第一条记录来测试这个策略:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="e235" class="lm kq hi nb b fi nf ng l nh ni">print(monthDict[df["date"].iloc[0].split("-")[1]], df["date"].iloc[0].split("-")[2]+",", df["date"].iloc[0].split("-")[0])</span><span id="dc67" class="lm kq hi nb b fi np ng l nh ni">January 23, 2020</span></pre><p id="cb1f" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">太好了！print函数给出了我想要的日期格式。我们必须将每个日期记录都转换成这种格式。让我们为此创建一个函数:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="4511" class="lm kq hi nb b fi nf ng l nh ni">def correctDate(dateStr):<br/>    strList = dateStr.split("-")<br/>    dateFormat = str(monthDict[strList[1]]) + " " + str(strList[2]) + ", " + str(strList[0])<br/>    return dateFormat</span></pre><p id="91e0" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">该函数的工作原理是切换原始日期元素的位置，并用<strong class="ji hs"> monthDict </strong>字典中的月份名称替换月份号。</p><p id="1914" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">让我们测试一下这个函数:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="0d6b" class="lm kq hi nb b fi nf ng l nh ni">correctDate("2020-01-23")</span><span id="a497" class="lm kq hi nb b fi np ng l nh ni">'January 23, 2020'</span></pre><p id="0ffd" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">维奥拉。现在让我们用Python的<strong class="ji hs"> lambda函数</strong>功能将这个函数应用于<strong class="ji hs">日期</strong>列中的所有记录:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="e256" class="lm kq hi nb b fi nf ng l nh ni">df["date"] = df["date"].apply(lambda x: correctDate(x))<br/>df</span></pre><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="er es nv"><img src="../Images/0a17c184939af41e8ac656fd71b2822e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SwL79580OMqd9J8b30tV4g.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">对<strong class="bd kr">日期</strong>列应用<strong class="bd kr"> correctDate() </strong>函数后<strong class="bd kr"> df </strong>的结果—作者照片</figcaption></figure><p id="c618" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">现在，在创建条形图竞赛之前，我们需要对这个数据帧做的最后一件事是将<strong class="ji hs">日期</strong>列作为索引列:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="5ab5" class="lm kq hi nb b fi nf ng l nh ni">df.set_index("date", inplace = True)<br/>df</span></pre><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="er es nw"><img src="../Images/fae20026bb0909af17a288bcdbe39a1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ViC9cqF9Xx-laBnSRs1iuw.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated">用粗体表示，我们的<strong class="bd kr">日期</strong>列现在是这个数据框的索引列——作者照片</figcaption></figure><p id="2ca7" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">不要忘记，我们的数据框架中的病例是每日记录的病例。我们实际需要的是每个国家所有病例的累计总和。我们可以通过下面的代码得到累积和:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="9117" class="lm kq hi nb b fi nf ng l nh ni">c_sumData = df.cumsum(axis = 0)</span></pre><p id="4fad" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我分配了一个名为c_sumData的新数据框架，并让它等于我们原始数据框架中每个国家所有案例的累积总和。<strong class="ji hs">轴= 0 </strong>参数用于指示行之间发生求和。</p><p id="3903" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">让我们检查一下新数据框架的尾部，每个国家的病例数应该很大:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="1c62" class="lm kq hi nb b fi nf ng l nh ni">c_sumData.tail()</span></pre><figure class="ke kf kg kh fd ki er es paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="er es nx"><img src="../Images/f0f82fcf61d5f8ef8dd58534dd669e2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LF8pSCfXQvUvRdIYj2Yhfw.png"/></div></div><figcaption class="kl km et er es kn ko bd b be z dx translated"><strong class="bd kr"> c_sumData.tail() </strong>的结果显示了每个国家/地区累积总和后的大量案例—作者提供的照片</figcaption></figure><h2 id="38b4" class="lm kq hi bd kr ln lo lp kv lq lr ls kz jp lt lu lb jt lv lw ld jx lx ly lf ho bi translated">为新冠肺炎案例创建条形图竞赛</h2><p id="cf11" class="pw-post-body-paragraph jg jh hi ji b jj lh is jl jm li iv jo jp lj jr js jt lk jv jw jx ll jz ka kb hb bi translated">现在，我们准备调用我们的摇滚明星库并创建我们的图表。遵循下面的代码，我们的Jupyter笔记本上就会出现一个动画条形图比赛。运行代码后，根据您的处理能力，您可能需要等待几分钟。但我向你保证，结果是值得等待的。</p><p id="dd49" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="ji hs"> <em class="mg">注意二:</em> </strong>您可能会从Jupyter笔记本上收到关于图表设置的警告信息。这个可以忽略。</p><p id="99cd" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">让我们创造我们的条形图比赛！：</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="a6d0" class="lm kq hi nb b fi nf ng l nh ni">bcr.bar_chart_race(df = c_sumData, filename = None, period_summary_func = summary, period_label = {'x':.75, 'y': .1}, title = 'COVID-19 Cases by Country (JAN 20 - 21)')</span></pre><p id="54aa" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><strong class="ji hs"> <em class="mg">注意三:</em> </strong>你可能会得到一个错误，声称你的机器上没有<strong class="ji hs"> FFmpeg </strong>。可以用<a class="ae kc" href="https://imagemagick.org/index.php" rel="noopener ugc nofollow" target="_blank"> ImageMagick </a>安装，免费。</p><p id="387d" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">结果是:</p><figure class="ke kf kg kh fd ki er es paragraph-image"><div class="er es kd"><img src="../Images/172b631373366cbe97d33ccc266c1a87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/1*vzkAWrb4sTppFulHKbe9Zg.gif"/></div><figcaption class="kl km et er es kn ko bd b be z dx translated">将来自<strong class="bd kr"> bcr </strong>(昵称)库中的<strong class="bd kr"> bar_chart_race() </strong>函数应用于我们的数据的结果— GIF by author</figcaption></figure><p id="74ed" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">虽然条形图比赛出现在你的Jupyter笔记本上，但你可以选择将其保存为<strong class="ji hs"> .mp4 </strong>视频文件。尝试单击图表右下角的保存图标。</p><p id="953b" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">根据条形图race库的<a class="ae kc" href="https://www.dexplo.org/bar_chart_race/tutorial/" rel="noopener ugc nofollow" target="_blank">教程</a>，如果您想要更多的信息，比方说，如果您想要所有案例的运行摘要出现在运行日期下，您可以创建下面的函数，并在<strong class="ji hs"> bar_chart_race() </strong>函数中使用它作为参数:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="dc2b" class="lm kq hi nb b fi nf ng l nh ni">def summary(values, ranks):<br/>    total_cases = values.sum()<br/>    s = f"Total cases - {total_cases:,.0f}"<br/>    return {'x': .75, 'y': .05, 's': s, 'size': 8}</span></pre><p id="7b19" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">现在，让我们再次对我们的数据应用<strong class="ji hs"> bar_chart_race() </strong>函数，这一次使用我们刚刚创建的<strong class="ji hs"> summary() </strong>函数:</p><pre class="ke kf kg kh fd na nb nc nd aw ne bi"><span id="1d69" class="lm kq hi nb b fi nf ng l nh ni">bcr.bar_chart_race(df = c_sumData, filename = None, period_summary_func = summary, period_label = {'x':.75, 'y': .1}, title = 'COVID-19 Cases by Country (JAN 20 - 21)')</span></pre><p id="7441" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">结果是:</p><figure class="ke kf kg kh fd ki er es paragraph-image"><div class="er es kd"><img src="../Images/bbab46fcc757877a97c8d2eb2fdf2168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/1*X_knEAFSAemsbU3nHYLENw.gif"/></div><figcaption class="kl km et er es kn ko bd b be z dx translated">由于<strong class="bd kr"> summary() </strong>功能——GIF by author，运行中的总病例数现在显示在运行显示日期下</figcaption></figure><p id="522c" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">现在，我们的最终产品准备好了。美丽，有用，令人兴奋，因为它应该是。</p><h1 id="b69d" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">结论</h1><p id="a9ca" class="pw-post-body-paragraph jg jh hi ji b jj lh is jl jm li iv jo jp lj jr js jt lk jv jw jx ll jz ka kb hb bi translated">我已经向您展示了如何使用Python和<strong class="ji hs"> bar_chart_race() </strong>库将真实世界的新冠肺炎案例数据转换成激动人心的条形图竞赛。</p><h2 id="fd22" class="lm kq hi bd kr ln lo lp kv lq lr ls kz jp lt lu lb jt lv lw ld jx lx ly lf ho bi translated">这张图表告诉了我们什么？</h2><p id="e212" class="pw-post-body-paragraph jg jh hi ji b jj lh is jl jm li iv jo jp lj jr js jt lk jv jw jx ll jz ka kb hb bi translated">由此产生的种族条形图告诉我们的一件事是冠状病毒在我们选择的时间段内在每个国家的传播速度，仅此而已。这并不能真正反映一个政府应对疫情的效率。</p><h2 id="bae5" class="lm kq hi bd kr ln lo lp kv lq lr ls kz jp lt lu lb jt lv lw ld jx lx ly lf ho bi translated">带回家的信息</h2><p id="1d2b" class="pw-post-body-paragraph jg jh hi ji b jj lh is jl jm li iv jo jp lj jr js jt lk jv jw jx ll jz ka kb hb bi translated">每个国家都有其独特的社会和技术背景，仅仅通过观察病毒在一段时间内传播的速度，无法真正比较其在缓解危机方面的表现与其他国家的表现。该图表可能反映了有效的政府干预或出现听力免疫时，酒吧显着放缓，但这种解释仍然是模糊的。</p><p id="3b41" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">然而，创建这种可视化总是有趣且有教育意义的。除了查看新冠肺炎案例，这种图表还有其他应用，比如可视化同一行业的公司在一段时间内的增长。</p><p id="05b2" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">有了<strong class="ji hs"> bar_chart_race </strong>库，代码得到了极大的简化，最终的可视化效果既美观又丰富。然而，大部分仍然是数据准备、转换和清理。因此，在对数据做任何事情之前，首先设定一个明确的目标并在脑海中有一个成品的画面总是有用的。尽管如此，我们总是可以从数据准备中获得乐趣。</p><p id="0008" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">我希望这篇文章对您的可视化项目有用。</p><p id="f03a" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">下次见，编码快乐！</p></div></div>    
</body>
</html>