<html>
<head>
<title>Add data from KIE execution server for authoring dashboards</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从KIE执行服务器添加数据以编写控制板</h1>
<blockquote>原文：<a href="https://medium.com/codex/add-data-from-kie-execution-server-for-authoring-dashboards-25a374da8a19?source=collection_archive---------17-----------------------#2021-08-05">https://medium.com/codex/add-data-from-kie-execution-server-for-authoring-dashboards-25a374da8a19?source=collection_archive---------17-----------------------#2021-08-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9010" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://blog.kie.org/2021/04/dashbuilder-an-apache-licensed-business-reporting-and-monitoring-tool.html" rel="noopener ugc nofollow" target="_blank"> DashBuilder </a>是一个独立的工具，也集成到了Business Central中，由数据集编辑器和内容管理器页面使用，以方便创建指示关键绩效指标(KPI)、度量和其他与业务或特定流程相关的关键数据点的仪表板和报告。如果您是第一次使用，可以参考<a class="ae jd" href="https://blog.kie.org/2021/05/dashbuilder-getting-started-guide.html" rel="noopener ugc nofollow" target="_blank"> DashBuilder入门指南</a>开始使用。参考<a class="ae jd" href="https://blog.kie.org/2021/05/add-csv-datasets-for-authoring-dashboards.html" rel="noopener ugc nofollow" target="_blank">这篇文章</a>配置CSV数据集，参考<a class="ae jd" href="https://blog.kie.org/2021/05/add-prometheus-datasets-for-authoring-dashboards.html" rel="noopener ugc nofollow" target="_blank">这篇文章</a>配置Prometheus数据集以在DashBuilder上创作仪表板。</p><p id="1b59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<a class="ae jd" href="https://blog.kie.org/2021/07/add-sql-datasource-for-authoring-dashboards.html" rel="noopener ugc nofollow" target="_blank">上一篇文章</a>中，我们向您展示了在DashBuilder中添加SQL数据集以创作仪表板的过程。</p><p id="1119" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在构建仪表板时，您可以将仪表板配置为在DashBuilder中使用来自各种来源的数据集，如Bean、CSV、SQL、Prometheus、Elastic Search、Kafka和Execution server。在本帖中，您将了解如何从KIE执行服务器为您的仪表板添加和配置数据。</p><h1 id="cbef" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">关于KIE执行服务器</h1><p id="b1d4" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">KIE执行服务器是一个独立的、开箱即用的组件，可用于通过REST、JMS或Java客户端应用程序可用的接口实例化和执行规则。作为web可部署WAR文件创建，该引擎可以部署在任何web容器上。参考<a class="ae jd" href="https://docs.jboss.org/drools/release/6.2.0.Final/drools-docs/html/ch19.html" rel="noopener ugc nofollow" target="_blank"> Jboss官方文档</a>了解更多关于KIE执行服务器的信息。</p><h1 id="7ab2" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">在DashBuilder上添加和配置来自KIE执行服务器的数据</h1><p id="5b5b" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">有两种方法可以将数据从KIE执行服务器添加到DashBuilder中。</p><h2 id="f504" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">使用jBPM服务器</h2><p id="53b1" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><a class="ae jd" href="https://www.jbpm.org/" rel="noopener ugc nofollow" target="_blank"> jBPM </a>服务器具有完整的设置和配置，由业务中心和KIE执行服务器的功能组成。您可以在这里配置您的执行服务器，同时创作仪表板。</p><ol class=""><li id="9d65" class="kv kw hi ih b ii ij im in iq kx iu ky iy kz jc la lb lc ld bi translated">前往<a class="ae jd" href="https://www.jbpm.org/" rel="noopener ugc nofollow" target="_blank">jbpm.org</a>，按照右边卡片上的说明下载并运行jBPM服务器。在浏览器上进入<a class="ae jd" href="http://localhost:8080/business-central" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/business-central</a>。你会看到下面的屏幕。</li></ol><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es le"><img src="../Images/6df50b115503335097e2d942b20f71af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dqj683a-iWMbvcdT"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">商务中心主页</figcaption></figure><p id="4ea1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.在用户名和密码字段中使用“wbadmin”凭据登录。按照以下视频中的说明添加IT订单示例项目。您也可以选择创建自己的项目或导入项目。这里有一个视频，供大家参考。</p><figure class="lf lg lh li fd lj"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">jBPM入门::IT订单案例</figcaption></figure><p id="dde6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.前往<a class="ae jd" href="https://www.jbpm.org/learn/gettingStarted.html" rel="noopener ugc nofollow" target="_blank"> jBPM入门页面</a>尝试更多示例或切换到另一个数据库。部署并验证项目后，单击导航栏上的齿轮图标并选择“数据集”。现在，您可以单击“数据集资源管理器”侧边栏顶部的“新建数据集”按钮(该侧边栏负责显示您添加和配置的所有数据集，以便以后由页面和仪表板使用)或数据集创作主页上的“新建数据集”超链接。</p><p id="18fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.您现在可以看到一个熟悉的“数据集创建向导”页面，其中列出了所有数据集提供者。选择“执行服务器”。</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es le"><img src="../Images/ecefcf3969deb180bba8807cd3a52dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KYpUjbzUriHd__VS"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">数据集创建向导页</figcaption></figure><p id="3fc4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.现在，您将看到下面的屏幕，从KIE执行服务器添加数据。添加一个名称。在服务器配置下拉列表中，选择sample-server，并在查询目标下拉列表中选择“PROCESS ”,然后添加查询，如下面的屏幕截图所示。请参考jBPM引擎持久性的数据模型，以了解更多关于可以用于查询的其他表的信息。参考<a class="ae jd" href="https://blog.kie.org/2021/01/queries-for-building-kie-server-dashboards.html" rel="noopener ugc nofollow" target="_blank">这篇文章</a>了解更多关于构建KIE服务器仪表板的查询。</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es lw"><img src="../Images/bbb5c16fb2b60d28bbda9c3bb5defa04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FMaD5CJqZF4bAqsH"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">执行服务器数据集编辑器(配置选项卡)</figcaption></figure><p id="1156" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您对字段的作用感到困惑，请将鼠标悬停在字段旁边的问号图标或与其相邻的文本框上。单击“测试”预览数据集。</p><p id="89ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:如果您第二次尝试测试一个查询，您可能会得到<code class="du lx ly lz ma b">com.google.gwt.core.client.JavaScriptException: (TypeError) : Cannot read property ‘getTimezoneOffset’ of undefined</code>。测试完查询后，删除数据集并开始一个新的数据集。</p><p id="1f15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.您现在位于预览选项卡上。现在，您可以查看数据列，并在数据集上方的选项卡中添加过滤器。您也可以通过取消选中左侧提供的列旁边的复选框来编辑类型或删除不需要的列。如果预览不是您所期望的，您可以通过单击它切换回Configuration选项卡并进行更改。如果您对预览感到满意，请单击“下一步”按钮。</p><p id="e065" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.在保存模式中输入所需的注释，然后单击保存按钮。</p><p id="2f78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的数据集已被添加和配置。现在，您将返回到数据集创作主页。现在，您可以在左侧窗格中看到一个数据集。当您添加多个数据集时，您可以在左侧窗格中看到所有数据集的列表。这是完整流程的屏幕记录。</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mb"><img src="../Images/8d115e70163244d6853ecb4cc560c749.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qHII6lFH1toV2zVU0pq67w.gif"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">从KIE执行服务器添加数据</figcaption></figure><p id="294b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，您可以单击导航栏上的下拉菜单，并选择Content Manager来创建页面和仪表板。拖动组件后，确保在“Displayer Editor”的“Data”部分使用正确的类型对列进行了良好的配置。</p><h2 id="91cf" class="kh jf hi bd jg ki kj kk jk kl km kn jo iq ko kp js iu kq kr jw iy ks kt ka ku bi translated">利用野火和KIE服务器大战</h2><ol class=""><li id="0850" class="kv kw hi ih b ii kc im kd iq mc iu md iy me jc la lb lc ld bi translated">要开始，您必须配置KIE服务器在WildFly服务器上运行。对于这个例子，我使用了wildly 19 . 0 . 0。<a class="ae jd" href="https://www.wildfly.org/downloads/" rel="noopener ugc nofollow" target="_blank">下载WildFly </a>和<a class="ae jd" href="https://www.drools.org/download/download.html" rel="noopener ugc nofollow" target="_blank"> KIE服务器大战</a>部署在WildFly服务器上。解压WildFly zip，打开WildFly解压文件夹内的一个终端(姑且称之为WILDFLY_HOME)。将WAR文件(例如kie-server-7 . 15 . 0 . final-ee7 . WAR)复制到WildFly的<em class="mf"> deployments </em>文件夹中。为了方便起见，您可以将其重命名为“<strong class="ih hj"> kie-server.war </strong>”。使用standalone-full.xml概要文件启动WildFly。转到“/bin”并使用<code class="du lx ly lz ma b">./standalone.sh -c standalone-full.xml </code>或s <code class="du lx ly lz ma b">udo sh standalone.sh -c standalone-full.xml</code>运行“standalone.sh”。您现在可以找到运行在“localhost:9990”中的WildFly服务器，并看到提示添加用户的以下屏幕。</li></ol><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es le"><img src="../Images/9a5360445145f10e73c6c7dbfd3df4ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8ehQYrFkCKUeHvac"/></div></div></figure><p id="8222" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.打开另一个终端，运行<code class="du lx ly lz ma b">./bin/add-user.sh -a -u kieserver -p password1! -g admin,kie-server</code>。这是您的终端的外观:</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mg"><img src="../Images/5930220f20f32bfd0e6e38b6a20f5bf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JPLRS92r_SoHhMj2"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">添加ApplicationRealm用户</figcaption></figure><p id="fcec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是可用于向ApplicationRealm添加用户的命令。对于管理领域，打开另一个终端并运行<code class="du lx ly lz ma b">./bin/add-user.sh</code>，通过选择选项“a”并添加用户名和密码来添加管理领域用户，然后按照终端上闪烁的说明添加“admin”组。添加用户后，终端应该是这样的。</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es le"><img src="../Images/65e61cdbaf2f51973d965c5bbc4302a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*szsCyZ02WtPLJFAX"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">添加管理领域用户</figcaption></figure><p id="c755" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:您必须添加一个ManagementRealm用户来登录WildFly，ApplicationRealm用户是您需要登录WildFly中部署的应用程序的用户，如本例中的DashBuilder和KIE服务器。</p><p id="6b17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.单击浏览器上的“重试”链接，并使用您在管理领域的终端中配置的相同凭据登录。您现在将能够看到HAL管理控制台屏幕。</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es le"><img src="../Images/914b2a3a674094552409be0f060c4e02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*aRWtTDMcYa30qxZh"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">HAL管理控制台</figcaption></figure><p id="238a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.现在，单击“部署”下的“开始”链接，您可以看到KIE服务器部署。您可以点击“上下文根”的链接以访问KIE服务器，您必须进入<a class="ae jd" href="http://127.0.0.1:8080/kie-server-7.57.0.Final-ee8/services/rest/server/" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8080/kie-server-7 . 57 . 0 . final-ee8/services/rest/server/</a>，现在您需要输入您之前配置的用户名和密码，以“kie-server”访问。一旦登录成功，您现在可以看到下面的XML页面。</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es le"><img src="../Images/682da8904b01af0ac5ad1a3e5b7afd5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oRS3M4vYn0DX4IR9"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">KIE服务器成功XML页面</figcaption></figure><p id="3ed8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有一段屏幕录音供你参考:</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mb"><img src="../Images/b55f694512b24f2d844839501d209b06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PuPxsS8tSE7t6WcOruYEkA.gif"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">访问KIE服务器XML页面</figcaption></figure><p id="23f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.从jBPM获得KIE模块。在“使用JBPM服务器”一节的步骤2中，我们导入了“IT订单”项目。我们将需要在我们的本地系统这个项目。点击右上角的齿轮图标，转到Artifacts并下载JAR和POM文件，否则您可以在同一个页面中配置SSH密钥(就像您使用GitHub一样)，然后转到<strong class="ih hj">Projects-&gt;MySpace-&gt;IT _ Orders-&gt;Settings</strong>，复制SSH链接并将其克隆到您的本地系统中。有时，SSH可能会有问题，所以有另一种方法。去藏起来”。niogit”文件夹中的JBPM_HOME或根文件夹。你可以看到一个“MySpace”文件夹，里面有一个“IT_Orders.git”，你可以克隆这个。使用<code class="du lx ly lz ma b">git clone IT_Orders.git</code>在相同的文件位置git文件。一旦它被克隆，在新创建的“IT_Orders”文件夹中打开一个终端并运行一个<code class="du lx ly lz ma b">mvn clean install</code>。既然我们在本地Maven存储库中有了所需的KIE模块，我们可以使用它创建一个KIE容器。</p></div><div class="ab cl mh mi gp mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hb hc hd he hf"><p id="9c5c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:</p><ol class=""><li id="856c" class="kv kw hi ih b ii ij im in iq kx iu ky iy kz jc la lb lc ld bi translated">的”。niogit "文件夹可能被隐藏，请确保您可以看到所有隐藏的文件夹，以便您可以访问它们。</li><li id="2bff" class="kv kw hi ih b ii mo im mp iq mq iu mr iy ms jc la lb lc ld bi translated">你必须交替使用jBPM和WildFly，而不是同时使用。</li><li id="6536" class="kv kw hi ih b ii mo im mp iq mq iu mr iy ms jc la lb lc ld bi translated">我们需要在我们的本地Maven存储库中有KIE模块，以便KIE服务器可以访问它，并且我们可以使用它创建一个容器。</li><li id="0429" class="kv kw hi ih b ii mo im mp iq mq iu mr iy ms jc la lb lc ld bi translated">有时候你可能会碰到<code class="du lx ly lz ma b">“dashbuilder-webapp-7.56.0.Final”.”org.uberfire.server.locale.GWTLocaleHeaderFilter”: java.lang.OutOfMemoryError: Metaspace</code>，打开这个文件:<em class="mf"> bin/standalone.conf </em>寻找这些属性，增加到512m/1024m-XX:MetaspaceSize = 512m-XX:MaxMetaspaceSize = 512m，这是修改后的样子:</li></ol><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mt"><img src="../Images/6640e021a0c134dc40f1c6b296d5d063.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xvCasJTtSYEXCeU1Mohctg.png"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">调整了<em class="mu"> bin/standalone.conf </em>中的元空间大小</figcaption></figure></div><div class="ab cl mh mi gp mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hb hc hd he hf"><p id="ed3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.您的KIE服务器正在运行。您现在可以转到`<a class="ae jd" href="http://127.0.0.1:8080/kie-server-7.57.0.Final-ee8/docs/" rel="noopener ugc nofollow" target="_blank">http://127 . 0 . 0 . 1:8080/kie-server-7 . 57 . 0 . final-ee8/docs/</a>`查看Swagger文档并访问kie服务器的REST端点。通过转到“KIE服务器和KIE容器部分”并执行“PUT<a class="ae jd" href="http://127.0.0.1:8080/kie-server-7.57.0.Final-ee8/docs/#/KIE%20Server%20and%20KIE%20containers/createContainer" rel="noopener ugc nofollow" target="_blank">/server/containers/{ container id }</a>”来创建一个容器，您现在可以看到一个200 Ok响应。</p><p id="e695" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">示例PUT请求URL和JSON请求主体数据</strong></p><p id="3198" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="http://localhost:8080/kie-server/services/rest/server/containers/MyContainer/release-id" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/kie-server/services/rest/server/containers/{ container id }</a></p><pre class="lf lg lh li fd mv ma mw mx aw my bi"><span id="5b27" class="kh jf hi ma b fi mz na l nb nc">{<strong class="ma hj"><br/>    </strong>"container-id"<strong class="ma hj"> </strong>:<strong class="ma hj"> </strong>"MyProject",<strong class="ma hj"><br/>    </strong>"release-id"<strong class="ma hj"> </strong>:<strong class="ma hj"> </strong>{<strong class="ma hj"><br/>        </strong>"group-id"<strong class="ma hj"> </strong>:<strong class="ma hj"> </strong>"itorders",<strong class="ma hj"><br/>        </strong>"artifact-id"<strong class="ma hj"> </strong>:<strong class="ma hj"> </strong>"itorders",<strong class="ma hj"><br/>        </strong>"version"<strong class="ma hj"> </strong>:<strong class="ma hj"> </strong>"1.0.0-SNAPSHOT"<strong class="ma hj"><br/>    </strong>}<strong class="ma hj"><br/></strong>}</span></pre><p id="7de3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您需要使用适当的group-id、artifact-id和version，就像您之前克隆的IT_Orders项目中的pom.xml一样(在我们的例子中，对group-id和version-id使用“itorders ”,对version使用“1.0.0-SNAPSHOT”。</p><figure class="lf lg lh li fd lj er es paragraph-image"><div class="er es nd"><img src="../Images/0118e029d28f314e90fb9bf7ebff8723.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*iG62Wax5PyrsCkkzdjVYmg.png"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">IT_Orders pom.xml</figcaption></figure><p id="2660" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的容器现在已经创建好了。您现在可以执行“GET<a class="ae jd" href="http://127.0.0.1:8080/kie-server-7.57.0.Final-ee8/docs/#/KIE%20Server%20and%20KIE%20containers/getContainerInfo" rel="noopener ugc nofollow" target="_blank">/server/containers/{ container id }</a>”来获取关于KIE服务器的信息。下面是上面的GET请求作为响应发送的一个例子。</p><pre class="lf lg lh li fd mv ma mw mx aw my bi"><span id="e3ae" class="kh jf hi ma b fi mz na l nb nc">{<br/>  "type": "SUCCESS",<br/>  "msg": "List of created containers",<br/>  "result": {<br/>    "kie-containers": {<br/>      "kie-container": [<br/>        {<br/>          "container-id": "itorders_1.0.0-SNAPSHOT",<br/>          "release-id": {<br/>            "group-id": "itorders",<br/>            "artifact-id": "itorders",<br/>            "version": "1.0.0-SNAPSHOT"<br/>          },<br/>          "resolved-release-id": {<br/>            "group-id": "itorders",<br/>            "artifact-id": "itorders",<br/>            "version": "1.0.0-SNAPSHOT"<br/>          },<br/>          "status": "STARTED",<br/>          "scanner": {<br/>            "status": "DISPOSED",<br/>            "poll-interval": null<br/>          },<br/>          "config-items": [],<br/>          "container-alias": "itorders"<br/>        }<br/>      ]<br/>    }<br/>  }<br/>}</span></pre><p id="ba4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请参考<a class="ae jd" href="https://www.jbpm.org/api-docs/kie-server/paths.html" rel="noopener ugc nofollow" target="_blank">资源页面</a>了解更多关于端点及其用途的信息。您还可以通过Swagger文档了解更多信息，该文档本身就相当详细。如果您不喜欢Swagger，可以随意使用自己的命令行界面或Postman。确保运行“GET /server”来获取关于KIE服务器的信息。这个请求的端点是REST API的基本URL。你不必担心精确的curl命令。一旦您点击请求的“Execute ”,您也会得到相应的curl命令。如果您遇到请求错误，请查看返回的错误代码消息，并相应地调整您的请求。下面是截图，供大家参考。</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es ne"><img src="../Images/a19e913abfafa374e3720ead617092a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LYqcHnLK-5mQKuko0_61pQ.png"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">让相应的curl命令在终端或Postman中运行</figcaption></figure><p id="ff24" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.转到Swagger文档中的流程实例部分，执行“GET<a class="ae jd" href="http://127.0.0.1:8080/kie-server-7.57.0.Final-ee8/docs/#/Process%20instances/getProcessesByDeploymentId" rel="noopener ugc nofollow" target="_blank">/server/containers/{ container id }/processes</a>，以获得您将用来创建流程实例的流程。复制要创建实例的流程。使用复制的processId和containerId在同一节的开头执行“POST<a class="ae jd" href="http://127.0.0.1:8080/kie-server-7.57.0.Final-ee8/docs/#/Process%20instances/startProcess" rel="noopener ugc nofollow" target="_blank">/server/containers/{ container id }/processes/{ processId }/instances</a>”来创建一个实例。主体是一个JSON对象。您可以创建多个实例。</p><p id="2056" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.成功创建流程实例后，以root身份打开<em class="mf">wildly _ HOME/standalone/configuration/standalone-full . XML</em>，添加以下系统属性以让DashBuilder访问服务器，并重启wildly服务器。现在，您将能够在DashBuilder中访问数据集。<code class="du lx ly lz ma b">serverTemplates</code>属性是专门为DashBuilder配置的，它确保填充了DashBuilder中执行服务器的数据集创建向导中的远程服务器模板字段的下拉列表。</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es nf"><img src="../Images/e2360dfc5527544ef13d91bcb4c33aeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6OnhHOM56p16WCDt-X7kgQ.png"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">将系统属性添加到standalone-full.xml</figcaption></figure><p id="11a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用DashBuilder运行时，您可能还需要将以下属性添加到中:</p><pre class="lf lg lh li fd mv ma mw mx aw my bi"><span id="f727" class="kh jf hi ma b fi mz na l nb nc">dashbuilder.kieserver.serverTemplate.{SERVER_TEMPLATE}.location dashbuilder.kieserver.serverTemplate.{SERVER_TEMPLATE}.user dashbuilder.kieserver.serverTemplate.{SERVER_TEMPLATE}.password dashbuilder.kieserver.serverTemplate.{SERVER_TEMPLATE}.token</span></pre><p id="9064" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">令牌系统属性是一个备选属性，当KIE服务器配置为使用令牌而不是用户/密码时，可以使用该属性。还有一个系统属性可以让DashBuilder在KIE服务器上创建查询。如果为真，则数据库在KIE服务器上创建查询:</p><p id="76e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du lx ly lz ma b">dashbuilder.kieserver.serverTemplate.{SERVER_TEMPLATE}.replace_query</code></p></div><div class="ab cl mh mi gp mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hb hc hd he hf"><p id="0903" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:</p><ul class=""><li id="2912" class="kv kw hi ih b ii ij im in iq kx iu ky iy kz jc ng lb lc ld bi translated">每次你对<em class="mf"> standalone-full.xml </em>做任何修改时，你都必须重新启动WildFly服务器。</li><li id="6b24" class="kv kw hi ih b ii mo im mp iq mq iu mr iy ms jc ng lb lc ld bi translated">确保serverTemplate.location与您用来访问KIE REST API的URL相同。kie-server名称很有可能是错误的。在这种情况下，在尝试使用所有正确的值访问DashBuilder中的数据时，您可能会收到405 Method Not Allowed错误。</li></ul></div><div class="ab cl mh mi gp mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hb hc hd he hf"><p id="f7ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">9.现在，您可以在DashBuilder中访问已配置的数据集。转到“部署”选项卡，单击“上下文根”的链接。使用您在开始时创建的具有“kieserver”访问权限的ApplicationRealm用户凭据登录DashBuilder(与您登录KIE服务器所需的权限相同)。你会看到类似下面屏幕的主页。</p><figure class="lf lg lh li fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es le"><img src="../Images/1b66adb9dca3e030e621e2ce6937a4c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bXLAiXnkWMHY_ENw"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">DashBuilder主页</figcaption></figure><p id="8133" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">10.要添加数据集，请从菜单中选择数据集。或者，您也可以单击导航栏上DashBuilder徽标旁边左上角的“菜单”下拉菜单。您现在会看到两个标题，“DashBuilder”和“Administration”。点击“管理”下的“数据集”。您将看到数据集创作主页，其中包含添加数据集、创建显示程序和新仪表板的说明。单击“新数据集”超链接，重复本文“使用jBPM服务器”一节中的步骤4–7，添加数据集并创建仪表板。</p><h1 id="fa2e" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">结论</h1><p id="da16" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">在这篇文章的帮助下，您将能够添加和配置来自KIE执行服务器的数据，供您的仪表板使用。请随意添加您对遇到问题的评论，以便我们进一步改进和更新本指南。在接下来的文章中，我们将添加其余数据集提供者的演练，敬请关注！</p></div></div>    
</body>
</html>