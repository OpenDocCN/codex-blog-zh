<html>
<head>
<title>Svelte&amp;Tailwind First Look With Socket.io Chat Application Example🚀</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Socket.io聊天应用程序示例进行第一次查看🚀</h1>
<blockquote>原文：<a href="https://medium.com/codex/svelte-tailwind-first-look-with-socket-io-chat-application-example-3fb588149010?source=collection_archive---------3-----------------------#2022-01-19">https://medium.com/codex/svelte-tailwind-first-look-with-socket-io-chat-application-example-3fb588149010?source=collection_archive---------3-----------------------#2022-01-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0944" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你好，在这篇文章中，我们将首先看看苗条和顺风CSS。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/d7ba72079506bedb41d5128d8593d1cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2OpYcoQc8y5YFjiWwyNBtw.jpeg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">细长-尾翼-插座。超正析象管(Image Orthicon)</figcaption></figure><p id="26e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在开发我的周末项目之初，我从React开始，我注意到我真的厌倦了使用状态管理，并开始寻找新的旅程。那个时候，苗条出现在我的脑海里，从<a class="ae jp" href="https://svelte.dev/tutorial" rel="noopener ugc nofollow" target="_blank">苗条教程</a>开始。两个小时后，我开始了我的苗条计划。在Svelte，发展和结果真的很快。</p><p id="ca4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我开始思考，如果我开始学习一项新技术，为什么不更激进一点呢？从而开始学习TailwindCSS。</p><h1 id="4f1e" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">TL；速度三角形定位法(dead reckoning)</h1><div class="ko kp ez fb kq kr"><a href="https://github.com/muhammedikinci/svelte-tailwind-socketio-medium" rel="noopener  ugc nofollow" target="_blank"><div class="ks ab dw"><div class="kt ab ku cl cj kv"><h2 class="bd hj fi z dy kw ea eb kx ed ef hh bi translated">GitHub-muhammedikinci/svelte-tail wind-socket io-medium:针对Medium文章的Svelte项目</h2><div class="ky l"><h3 class="bd b fi z dy kw ea eb kx ed ef dx translated">Psst -寻找更完整的解决方案？查看SvelteKit，构建web应用程序的官方框架…</h3></div><div class="kz l"><p class="bd b fp z dy kw ea eb kx ed ef dx translated">github.com</p></div></div><div class="la l"><div class="lb l lc ld le la lf jj kr"/></div></div></a></div><h1 id="b9b7" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">苗条的</h1><p id="e739" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">Svelte 不像其他框架(React和Vue)那样使用传统方法。没有虚拟DOM，因此更多的具有超快的构建时间和运行时。</p><h1 id="e773" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">顺风CSS</h1><p id="2ea2" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">如果你正在开发一个应用程序，那么Tailwind CSS 是一个非常快速的CSS框架。Tailwind有一个记录良好且不复杂的站点。</p><h1 id="cb2e" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">🚦开始</h1><p id="7c54" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">我们需要将模板项目克隆到我们的本地。我们可以克隆如下所示的项目<a class="ae jp" href="https://svelte.dev/blog/the-easiest-way-to-get-started" rel="noopener ugc nofollow" target="_blank">这个文档</a>:</p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="6c66" class="lq jr hi lm b fi lr ls l lt lu">npx degit your-name/template svelte-tailwind</span></pre><p id="2df2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要启动项目，您必须转到项目目录并运行<code class="du lv lw lx lm b">npm install</code>。安装完依赖项后，在终端输入<code class="du lv lw lx lm b">npm run dev</code>命令。苗条在<code class="du lv lw lx lm b">localhost:8080</code>准备好了</p><h1 id="d408" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">🌐安装顺风</h1><p id="5dde" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">转到<a class="ae jp" href="https://tailwindcss.com/docs/installation/using-postcss" rel="noopener ugc nofollow" target="_blank"> Tailwind PostCss安装</a>页面，向终端输入以下命令:</p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="f3b0" class="lq jr hi lm b fi lr ls l lt lu">npm install -D tailwindcss postcss autoprefixer<br/>npx tailwindcss init</span></pre><h2 id="9fd2" class="lq jr hi bd js ly lz ma jw mb mc md ka iq me mf ke iu mg mh ki iy mi mj km mk bi translated">添加到苗条</h2><p id="9118" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">打开<code class="du lv lw lx lm b">rollup.config.js</code>并像这样导入依赖项:</p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="3621" class="lq jr hi lm b fi lr ls l lt lu">import sveltePreprocess from 'svelte-preprocess';<br/>import tailwindcss from 'tailwindcss';<br/>import autoprefixer from 'autoprefixer';<br/>import postcss from 'postcss';</span></pre><p id="a314" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这种情况下，我们应该安装<code class="du lv lw lx lm b">svelte-preprocess</code></p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="33e3" class="lq jr hi lm b fi lr ls l lt lu">npm install svelte-preprocess</span></pre><p id="07cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后将预处理添加到<code class="du lv lw lx lm b">plugins -&gt; svelte</code>下面，如下所示:</p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="cc5c" class="lq jr hi lm b fi lr ls l lt lu">preprocess: sveltePreprocess({<br/>  postcss: postcss({<br/>    plugins: [tailwindcss(), autoprefixer()],<br/>  }),<br/>}),</span></pre><p id="a6c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并且<code class="du lv lw lx lm b">src/App.svelte</code>文件看起来如下:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ml mm l"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">App.svelte</figcaption></figure><p id="ddbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样。顺风CSS被成功导入到我们的项目中。如果你想了解如何使用<code class="du lv lw lx lm b">svelte-preprocess</code>，你可以看看<a class="ae jp" href="https://github.com/sveltejs/svelte-preprocess/blob/main/docs/preprocessing.md#stand-alone-processors" rel="noopener ugc nofollow" target="_blank">的文档</a>。</p><h1 id="29b3" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">📖布局</h1><p id="58e0" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">在开始添加顺风类之前，我们必须创建一个布局。我们的新<code class="du lv lw lx lm b">App.svelte</code>文件看起来是这样的:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="7811" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们可以开始写一些顺风CSS，首先我们添加一些类到主容器中，并设置屏幕的中心。</p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="52b2" class="lq jr hi lm b fi lr ls l lt lu">flex justify-center items-center h-screen</span></pre><p id="577f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，有一个应用程序容器等待新视图。添加带<code class="du lv lw lx lm b">rounded</code>的<code class="du lv lw lx lm b">border-radius</code>和带<code class="du lv lw lx lm b">px-8</code>和<code class="du lv lw lx lm b">py-8</code>的<code class="du lv lw lx lm b">padding</code></p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="b813" class="lq jr hi lm b fi lr ls l lt lu">class="flex flex-col w-5/12 bg-slate-900 px-8 py-8 rounded-lg"</span></pre><p id="d120" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">向H1和消息容器添加类我们的应用程序如下所示:</p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="90c8" class="lq jr hi lm b fi lr ls l lt lu">mb-4 font-bold text-gray-50 text-4xl text-center -&gt; H1<br/>w-full mb-4 bg-gray-300 rounded-md px-4 py-4 -&gt; DIV.messageContainer</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es mn"><img src="../Images/65e9dfff3235c659528528dd383cfc97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OB3Q9dKKTlkkdO_Tml0BcQ.png"/></div></div></figure><p id="d5aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将所有类添加到布局中后，应用程序如下所示:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es ms"><img src="../Images/d4dd38e5146446fb793739297d6528f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wLPr5dAFbU2vQoUD9ZOgOQ.png"/></div></div></figure><h1 id="85e5" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">🔌插座。超正析象管(Image Orthicon)</h1><p id="5aa1" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">如果你是socket.io的新手，不要担心，这里我们只是重新设计了<a class="ae jp" href="https://socket.io/get-started/chat" rel="noopener ugc nofollow" target="_blank"> Socket提供的自定义聊天应用。IO文件</a>。</p><h2 id="6f5c" class="lq jr hi bd js ly lz ma jw mb mc md ka iq me mf ke iu mg mh ki iy mi mj km mk bi translated">计算机网络服务器</h2><p id="6f7e" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">我们想创建一个socket.io服务器，并在svelte中使用。如果你想要这个，我们必须加上<code class="du lv lw lx lm b">cors</code>来使服务更加苗条。创建<code class="du lv lw lx lm b">server.js</code>文件并将代码添加到下面:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="1d37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行这些命令并启动socket.io服务器:</p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="d0b8" class="lq jr hi lm b fi lr ls l lt lu">npm install socket.io<br/>node server.js</span></pre><h2 id="4180" class="lq jr hi bd js ly lz ma jw mb mc md ka iq me mf ke iu mg mh ki iy mi mj km mk bi translated">客户</h2><p id="42c2" class="pw-post-body-paragraph if ig hi ih b ii lg ik il im lh io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">安装<a class="ae jp" href="https://socket.io/docs/v4/client-api/" rel="noopener ugc nofollow" target="_blank">套筒。IO客户端</a></p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="1772" class="lq jr hi lm b fi lr ls l lt lu">npm install socket.io-client</span></pre><p id="7754" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入它并连接到服务器:</p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="0c6e" class="lq jr hi lm b fi lr ls l lt lu">import io from 'socket.io-client'<br/>const socket = io("http://localhost:3000")</span></pre><p id="65f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为存储到来的消息创建<code class="du lv lw lx lm b">messages</code>数组，并监听从其他客户端发出的消息的<code class="du lv lw lx lm b">chat message</code>事件。</p><p id="8b2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了更新<code class="du lv lw lx lm b">messages</code>数组，我们应该重新赋值，你可以<a class="ae jp" href="https://svelte.dev/tutorial/updating-arrays-and-objects" rel="noopener ugc nofollow" target="_blank">阅读此链接了解为什么</a>。</p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="6d13" class="lq jr hi lm b fi lr ls l lt lu">let messages = []<br/>socket.on('chat message', (data) =&gt; {<br/>  messages = [...messages, data]<br/>})</span></pre><p id="937e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有我们的<code class="du lv lw lx lm b">sendMessage</code>功能:</p><pre class="je jf jg jh fd ll lm ln lo aw lp bi"><span id="0246" class="lq jr hi lm b fi lr ls l lt lu">function sendMessage() {<br/>  socket.emit('chat message', message)<br/>  message = ''<br/>}</span></pre><p id="80b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终我们的<code class="du lv lw lx lm b">App.svelte</code>看起来是这样的:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ml mm l"/></div></figure><p id="7b3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">和结果:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="er es mt"><img src="../Images/cd40948392c08f9a4a0e015bc67eb4db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-gS4yMmEUkzLSjBuO7fB9w.gif"/></div></div></figure></div></div>    
</body>
</html>