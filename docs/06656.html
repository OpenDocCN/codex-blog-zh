<html>
<head>
<title>Bazel in Vulkan Projects. Part 1 — Environment Setup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vulkan项目中的Bazel。第1部分—环境设置</h1>
<blockquote>原文：<a href="https://medium.com/codex/vulkan-in-bazel-projects-part-1-environment-setup-e9fc2ec51b?source=collection_archive---------3-----------------------#2022-05-06">https://medium.com/codex/vulkan-in-bazel-projects-part-1-environment-setup-e9fc2ec51b?source=collection_archive---------3-----------------------#2022-05-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="25f0" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">通过Bazel构建系统运行使用Vulkan图形API的项目</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/9339a98d5e9c4a6911ff58c00a97d621.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lbv9k2Hiag46d3ERwEu3ug.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/photos/MrWOCGKFVDg" rel="noopener ugc nofollow" target="_blank">哈维尔·米兰达</a>在<a class="ae jn" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="2485" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这篇博文中，我们将看到如何为用Bazel构建的Vulkan项目设置环境。然后，在<a class="ae jn" rel="noopener" href="/codex/bazel-in-vulkan-projects-part-2-shaders-35cdeb0f4c67">第二部分</a>中，我们将使用构建GLSL着色器和绘制三角形的项目。</p><p id="9977" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> Vulkan — </strong>是3D图形和计算的开放标准，支持跨平台访问GPU。它面向高性能实时3D图形应用，如视频游戏和交互式媒体。你可以从其<a class="ae jn" href="https://www.vulkan.org/" rel="noopener ugc nofollow" target="_blank">官方页面</a>了解更多关于Vulkan的信息。</p><p id="8332" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> Bazel </strong> —是一个开源构建系统，具有高级本地和分布式缓存、优化的依赖性分析和并行执行。它支持多种语言，包括C++。你可以从其官方页面了解更多关于Bazel的信息。</p><p id="9028" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们将严格遵循Vulkan的<a class="ae jn" href="https://vulkan-tutorial.com/Development_environment#page_MacOS" rel="noopener ugc nofollow" target="_blank">官方环境设置指南</a>，但用Bazel构建一切。为此，我们将使用<a class="ae jn" href="https://github.com/jadarve/rules_vulkan" rel="noopener ugc nofollow" target="_blank"><strong class="jq hj">rules _ vulkan</strong></a><strong class="jq hj"/>项目。</p><p id="3066" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">此外，我们将设置通常与Vulkan一起使用的工具，例如:</p><ul class=""><li id="a870" class="kk kl hi jq b jr js ju jv jx km kb kn kf ko kj kp kq kr ks bi translated"><strong class="jq hj"> GLM </strong> —线性代数运算库。</li><li id="91af" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated">GLFW  —一个用于创建窗口的跨平台API。</li></ul><p id="ad8a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">您可以使用下面的链接在GitHub上找到这篇博文的完整源代码。</p><div class="ky kz ez fb la lb"><a href="https://github.com/Morfly/vulkan-bazel-samples" rel="noopener  ugc nofollow" target="_blank"><div class="lc ab dw"><div class="ld ab le cl cj lf"><h2 class="bd hj fi z dy lg ea eb lh ed ef hh bi translated">GitHub-Morfly/Vulkan-bazel-samples:一个为Vulkan……</h2><div class="li l"><h3 class="bd b fi z dy lg ea eb lh ed ef dx translated">这是一个样例库，展示了如何设置一个开发Vulkan应用程序的环境</h3></div><div class="lj l"><p class="bd b fp z dy lg ea eb lh ed ef dx translated">github.com</p></div></div><div class="lk l"><div class="ll l lm ln lo lk lp jh lb"/></div></div></a></div></div><div class="ab cl lq lr gp ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="hb hc hd he hf"><h1 id="0703" class="lx ly hi bd lz ma mb mc md me mf mg mh io mi ip mj ir mk is ml iu mm iv mn mo bi translated">先决条件</h1><h2 id="500e" class="mp ly hi bd lz mq mr ms md mt mu mv mh jx mw mx mj kb my mz ml kf na nb mn nc bi translated">安装Bazel</h2><p id="d2e7" class="pw-post-body-paragraph jo jp hi jq b jr nd ij jt ju ne im jw jx nf jz ka kb ng kd ke kf nh kh ki kj hb bi translated">这篇博文假设您的机器上安装了一个Bazel(或者它的包装器Bazelisk)。访问官方文档了解如何做。</p><h2 id="3b4d" class="mp ly hi bd lz mq mr ms md mt mu mv mh jx mw mx mj kb my mz ml kf na nb mn nc bi translated">正在下载Vulkan SDK</h2><p id="7d63" class="pw-post-body-paragraph jo jp hi jq b jr nd ij jt ju ne im jw jx nf jz ka kb ng kd ke kf nh kh ki kj hb bi translated">在进行任何Bazel设置之前，我们必须下载并安装Vulkan SDK到我们的机器上。这一步和你遵循官方的Vulkan文档是完全一样的。</p><ul class=""><li id="becf" class="kk kl hi jq b jr js ju jv jx km kb kn kf ko kj kp kq kr ks bi translated"><strong class="jq hj"> macOS。</strong>只遵循<a class="ae jn" href="https://vulkan-tutorial.com/Development_environment#page_Vulkan-SDK-2" rel="noopener ugc nofollow" target="_blank">MAC OS官方Vulkan教程</a>中的<em class="ni"> Vulkan SDK </em>部分。</li><li id="9528" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><strong class="jq hj"> Linux。</strong>只遵循<a class="ae jn" href="https://vulkan-tutorial.com/Development_environment#page_Vulkan-Packages" rel="noopener ugc nofollow" target="_blank">官方Linux漏洞教程</a>中的<em class="ni">漏洞包</em>部分。</li><li id="85e9" class="kk kl hi jq b jr kt ju ku jx kv kb kw kf kx kj kp kq kr ks bi translated"><strong class="jq hj"> Windows。</strong>只遵循<a class="ae jn" href="https://vulkan-tutorial.com/Development_environment#page_Vulkan-SDK" rel="noopener ugc nofollow" target="_blank">Windows官方Vulkan教程</a>中的<em class="ni"> Vulkan SDK </em>部分。</li></ul><h1 id="fd1b" class="lx ly hi bd lz ma nj mc md me nk mg mh io nl ip mj ir nm is ml iu nn iv mn mo bi translated">设置项目</h1><p id="d1fc" class="pw-post-body-paragraph jo jp hi jq b jr nd ij jt ju ne im jw jx nf jz ka kb ng kd ke kf nh kh ki kj hb bi translated">通常对于Bazel项目，我们必须初始化项目工作区。为此，在项目的根目录下(姑且称之为<code class="du no np nq nr b">vulkan-bazel-samples</code>)我们需要创建一个名为<code class="du no np nq nr b">WORKSPACE</code>的文件。</p><pre class="iy iz ja jb fd ns nr nt nu aw nv bi"><span id="b5dd" class="mp ly hi nr b fi nw nx l ny nz">vulkan-bazel-samples<br/>└── <strong class="nr hj">WORKSPACE</strong></span></pre><h2 id="64f7" class="mp ly hi bd lz mq mr ms md mt mu mv mh jx mw mx mj kb my mz ml kf na nb mn nc bi translated">为Vulkan配置Bazel</h2><p id="7a45" class="pw-post-body-paragraph jo jp hi jq b jr nd ij jt ju ne im jw jx nf jz ka kb ng kd ke kf nh kh ki kj hb bi translated">首先，我们需要为Bazel项目添加Vulkan支持。为此，我们将使用<strong class="jq hj"> rules_vulkan </strong> repo。打开<code class="du no np nq nr b">WORKSPACE</code>文件，用下面的代码填充它。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="ak">工作区</strong>文件内容。第1部分—在项目中配置<strong class="ak"> rules_vulkan </strong></figcaption></figure><p id="8a4b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在这里，我们获取<strong class="jq hj"> rules_vulkan </strong>作为<code class="du no np nq nr b">git_repository</code>，并使用<code class="du no np nq nr b">vulkan_repositories</code>宏在项目中配置它。</p><p id="30f0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们将在后面的博文中看到如何使用它。但是，在此之前，我们需要配置额外的通常在Vulkan项目中使用的第三方库。</p><h2 id="673b" class="mp ly hi bd lz mq mr ms md mt mu mv mh jx mw mx mj kb my mz ml kf na nb mn nc bi translated"><strong class="ak">配置GLM </strong></h2><p id="63fb" class="pw-post-body-paragraph jo jp hi jq b jr nd ij jt ju ne im jw jx nf jz ka kb ng kd ke kf nh kh ki kj hb bi translated">GLM是一个线性代数运算的库。</p><p id="3396" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">首先，我们需要让它在我们的项目中可用。为此，我们将使用一个<code class="du no np nq nr b">http_archive</code>构建规则，它将从GitHub档案中下载源代码。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="ak">工作区</strong>文件内容。第2部分—加载GLM库</figcaption></figure><p id="ebf5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这样，我们在项目中获取库源代码，我们需要配置一个<code class="du no np nq nr b">BUILD</code>文件来告诉Bazel如何构建它。我们将这个文件的路径作为上面的<code class="du no np nq nr b">build_file</code>参数传递。这个文件将被<em class="ni">放在</em>被获取的库的根目录中。</p><p id="9acf" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">显然，我们需要创建这个<code class="du no np nq nr b">BUILD</code>文件。我们需要将它放在<code class="du no np nq nr b">third_party/glm</code>文件夹下，并将其命名为<code class="du no np nq nr b">glm.BUILD</code>。以下是它的内容。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="ak">第三方/glm/glm。构建</strong>文件内容</figcaption></figure><p id="70ed" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这里没有什么特别的，因为我们只是告诉Bazel从哪里获得库的源文件。</p><p id="3da5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">完成上述操作后，GLM图书馆将作为外部工作空间<code class="du no np nq nr b">@glm</code>。为了便于使用，我们可以为它创建一个简单的别名。为此，创建一个<code class="du no np nq nr b">third_party/glm/BUILD</code>文件并用下面的内容填充它。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="ak">第三方/glm/BUILD </strong>文件内容</figcaption></figure><p id="4260" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">下面是项目到目前为止的文件结构。</p><pre class="iy iz ja jb fd ns nr nt nu aw nv bi"><span id="b9e6" class="mp ly hi nr b fi nw nx l ny nz">vulkan-bazel-samples<br/>├── <strong class="nr hj">third_party</strong><br/>│   └── <strong class="nr hj">glm</strong><br/>│       ├── <strong class="nr hj">glm.BUILD</strong><br/>│       └── <strong class="nr hj">BUILD</strong><br/>│<br/>└── WORKSPACE</span></pre><p id="9abe" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">接下来，我们将在项目中包含一个GLFW库。</p><h2 id="b0aa" class="mp ly hi bd lz mq mr ms md mt mu mv mh jx mw mx mj kb my mz ml kf na nb mn nc bi translated"><strong class="ak">配置GLFW </strong></h2><p id="916f" class="pw-post-body-paragraph jo jp hi jq b jr nd ij jt ju ne im jw jx nf jz ka kb ng kd ke kf nh kh ki kj hb bi translated">GLFW是一个用于创建窗口的跨平台API。</p><p id="69ec" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">将其添加到项目中的算法类似于GLM。然而，我们需要执行更复杂的配置。将下面的代码添加到<code class="du no np nq nr b">WORKSPACE</code>文件中。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="ak">工作区</strong>文件内容。第3部分—加载GLFW库</figcaption></figure><p id="d46a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">与GLM类似，我们需要为GLFW库指定一个<code class="du no np nq nr b">BUILD</code>文件。为此，在<code class="du no np nq nr b">third_party/glfw</code>目录下创建一个名为<code class="du no np nq nr b">glfw.BUILD</code>的文件。接下来，我们需要用内容填充它。</p><p id="3e37" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">首先，对于每个受支持的操作系统，我们需要选择正确的实现源文件、<code class="du no np nq nr b">define</code>语句和链接器标志。为了节省空间，下面的代码片段定义了相应的变量，但省略了它们的值。然而，这个文件的完整代码可以在<a class="ae jn" href="https://github.com/Morfly/vulkan-bazel-samples/blob/main/third_party/glfw/glfw.BUILD" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">第三方/glfw/glfw。构建文件内容。第一部分</figcaption></figure><p id="f856" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">接下来，我们需要定义一个<code class="du no np nq nr b">cc_library</code>目标，为Linux或Windows操作系统构建这些源代码。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">第三方/glfw/glfw。构建文件内容。第二部分</figcaption></figure><p id="3075" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">类似地，要为macOS构建GLFW源代码，我们需要定义一个<code class="du no np nq nr b">objc_library</code>目标。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">第三方/glfw/glfw。构建文件内容。第三部分</figcaption></figure><p id="590d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">最后，我们正在定义一个公共Bazel目标，它将GLFW API头与我们之前定义的实现链接起来。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">第三方/glfw/glfw。构建文件内容。第四部分</figcaption></figure><p id="deff" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">此外，创建一个<code class="du no np nq nr b">third_party/glfw/BUILD</code>文件，为外部<code class="du no np nq nr b">@glfw</code>存储库定义简单的别名。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="ak">第三方/glfw/BUILD </strong>文件内容</figcaption></figure><p id="7bd3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这是我们到目前为止更新的文件结构。</p><pre class="iy iz ja jb fd ns nr nt nu aw nv bi"><span id="7fd2" class="mp ly hi nr b fi nw nx l ny nz">vulkan-bazel-samples<br/>├── <strong class="nr hj">third_party<br/></strong>│<strong class="nr hj">   </strong>├── glm<br/>│   │<br/>│   └── <strong class="nr hj">glfw</strong><br/>│       ├── <strong class="nr hj">glfw.BUILD</strong><br/>│       └── <strong class="nr hj">BUILD</strong><br/>│<br/>└── WORKSPACE</span></pre></div><div class="ab cl lq lr gp ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="hb hc hd he hf"><h1 id="22c3" class="lx ly hi bd lz ma mb mc md me mf mg mh io mi ip mj ir mk is ml iu mm iv mn mo bi translated">编写和构建Vulkan代码</h1><p id="d65d" class="pw-post-body-paragraph jo jp hi jq b jr nd ij jt ju ne im jw jx nf jz ka kb ng kd ke kf nh kh ki kj hb bi translated">现在，我们准备添加一些使用Vulkan API的C++代码。它不会做任何花哨的事情，只是显示一个空窗口并打印Vulkan扩展的列表。这足以证明项目配置正确。</p><p id="053d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在<code class="du no np nq nr b">env_setup</code>目录下创建一个<code class="du no np nq nr b">main.cpp</code>文件。用下面的代码填充，代码取自官方<a class="ae jn" href="https://vulkan-tutorial.com/Development_environment" rel="noopener ugc nofollow" target="_blank"> Vulkan教程</a>。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="ak"> env_setup/main.cpp </strong>文件内容</figcaption></figure><p id="746a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">接下来，我们需要在<code class="du no np nq nr b">env_setup</code>目录下为我们的源代码添加一个<code class="du no np nq nr b">BUILD</code>文件。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oa ob l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="ak">环境_设置/构建</strong>文件内容</figcaption></figure><p id="000b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们正在定义一个使用我们之前配置的<code class="du no np nq nr b">glfw</code>和<code class="du no np nq nr b">glm</code>库的<code class="du no np nq nr b">env_setup</code>二进制目标。此外，它还依赖于来自<code class="du no np nq nr b">@rules_vulkan</code>外部工作空间的<code class="du no np nq nr b">vulkan_cc_library </code>。这就是我们如何使Vulkan支持这个目标。</p><p id="4747" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">下面您可以找到更新的项目结构。</p><pre class="iy iz ja jb fd ns nr nt nu aw nv bi"><span id="11b2" class="mp ly hi nr b fi nw nx l ny nz">vulkan-bazel-samples<br/>├── <strong class="nr hj">env_setup</strong><br/>│   ├── <strong class="nr hj">main.cpp</strong><br/>│   └── <strong class="nr hj">BUILD<br/></strong>│<br/>├── third_party<br/>└── WORKSPACE</span></pre><h2 id="a4ef" class="mp ly hi bd lz mq mr ms md mt mu mv mh jx mw mx mj kb my mz ml kf na nb mn nc bi translated">运行代码</h2><p id="0af9" class="pw-post-body-paragraph jo jp hi jq b jr nd ij jt ju ne im jw jx nf jz ka kb ng kd ke kf nh kh ki kj hb bi translated">最后，我们准备与Bazel一起构建和运行这个项目。为此，请在终端中运行以下命令。</p><pre class="iy iz ja jb fd ns nr nt nu aw nv bi"><span id="ab99" class="mp ly hi nr b fi nw nx l ny nz">bazel run //env_setup</span></pre><p id="b496" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果一切正常，您应该会在控制台中看到一个空窗口和一堆Vulkan扩展。</p></div><div class="ab cl lq lr gp ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="hb hc hd he hf"><h1 id="9afd" class="lx ly hi bd lz ma mb mc md me mf mg mh io mi ip mj ir mk is ml iu mm iv mn mo bi translated">结论</h1><p id="e8a8" class="pw-post-body-paragraph jo jp hi jq b jr nd ij jt ju ne im jw jx nf jz ka kb ng kd ke kf nh kh ki kj hb bi translated">就是这样！在这篇博文中，我们看到了如何建立一个使用Vulkan graphics API的项目，并使用Bazel使用<strong class="jq hj"> rules_vulkan </strong> repo来构建它。此外，我们还看到了如何将GLM和GLFW库添加到这样一个项目中，当使用图形API时，它们是不可或缺的伙伴。</p><p id="7516" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在第二部分<a class="ae jn" rel="noopener" href="/codex/bazel-in-vulkan-projects-part-2-shaders-35cdeb0f4c67">中，我们将看到如何用Bazel构建GLSL着色器，并应用这些知识来运行一个绘制三角形的项目。</a></p><p id="4030" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这篇博文的所有源代码都可以在GitHub上找到。</p><div class="ky kz ez fb la lb"><a href="https://github.com/Morfly/vulkan-bazel-samples" rel="noopener  ugc nofollow" target="_blank"><div class="lc ab dw"><div class="ld ab le cl cj lf"><h2 class="bd hj fi z dy lg ea eb lh ed ef hh bi translated">GitHub-Morfly/vulkan-bazel-samples:为应用程序设置环境的示例报告…</h2><div class="li l"><h3 class="bd b fi z dy lg ea eb lh ed ef dx translated">为使用Vulkan graphics API的应用程序设置环境的示例报告，该API是用Bazel - GitHub构建的…</h3></div><div class="lj l"><p class="bd b fp z dy lg ea eb lh ed ef dx translated">github.com</p></div></div><div class="lk l"><div class="oc l lm ln lo lk lp jh lb"/></div></div></a></div><h2 id="2af1" class="mp ly hi bd lz mq mr ms md mt mu mv mh jx mw mx mj kb my mz ml kf na nb mn nc bi translated">参考</h2><ul class=""><li id="fd10" class="kk kl hi jq b jr nd ju ne jx od kb oe kf of kj kp kq kr ks bi translated"><a class="ae jn" href="https://github.com/jadarve/rules_vulkan" rel="noopener ugc nofollow" target="_blank"><strong class="jq hj">rules _ vulkan</strong></a><strong class="jq hj"/>—一个支持Vulkan项目的Bazel库，由Juan David Adarve创建。</li></ul></div></div>    
</body>
</html>