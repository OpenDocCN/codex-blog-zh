<html>
<head>
<title>Perfect CSS Positioning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">完美的CSS定位</h1>
<blockquote>原文：<a href="https://medium.com/codex/perfect-css-positioning-938e98bce6b6?source=collection_archive---------9-----------------------#2021-03-05">https://medium.com/codex/perfect-css-positioning-938e98bce6b6?source=collection_archive---------9-----------------------#2021-03-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="1998" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph"><a class="ae ge" href="http://medium.com/codex" rel="noopener">法典</a></h2><div class=""/><div class=""><h2 id="1c72" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">了解位置属性和Z索引</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/1c8e461423fe8230951a3541b1fffbda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lzFJrhZHLHR1nFtUJ54Yzg.jpeg"/></div></div><figcaption class="js jt et er es ju jv bd b be z dx translated">来自<a class="ae jw" href="https://www.pexels.com/photo/person-in-black-leather-boots-lying-on-brown-cardboard-boxes-4553183/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae jw" href="https://www.pexels.com/@cottonbro?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> cottonbro </a>摄影</figcaption></figure><h1 id="4b02" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ix ki iy kj ja kk jb kl jd km je kn ko bi translated">为什么排列盒子比看起来更难</h1><p id="c439" class="pw-post-body-paragraph kp kq hi kr b ks kt is ku kv kw iv kx ky kz la lb lc ld le lf lg lh li lj lk hb bi translated">一开始，使用基本CSS设计应用程序的样式可能感觉相当简单和直接。您可以轻松地更改颜色、大小、字体等。我们的元素位于由边距、边框和填充组成的框中的概念很容易理解…但是如何定义这些框在页面上的位置呢？这是事情变得有点棘手的地方。</p><p id="a7a5" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">我们没有使用其他语言时使用的典型调试工具，比如控制台日志或错误消息。因此，当我们的造型表现不如预期时，很难找出问题所在。然而，熟悉一些默认行为以及如何操作它们可以节省我们大量的时间和挫折。</p><h1 id="af63" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ix ki iy kj ja kk jb kl jd km je kn ko bi translated">位置属性</h1><p id="82cc" class="pw-post-body-paragraph kp kq hi kr b ks kt is ku kv kw iv kx ky kz la lb lc ld le lf lg lh li lj lk hb bi translated">所有元素的默认位置是静态的。静态元素遵循HTML文档的自然流程(垂直地，一个元素接一个元素)。如果我们给一个元素的position属性任何其他的值，比如相对的、绝对的、固定的或者粘性的，它就被认为是一个定位的元素。</p><p id="dfe9" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">只有当我们改变了这个缺省值，我们才能够指定我们想要将元素移动到的上、下、左、右的距离。根据位置属性的值，这些方向指示具有不同的含义。例如，如果一个元素的位置设置为相对，上限值为10px，那么它会将元素从其先前位置的顶部移动10px。相对定位相对于其先前的静态位置调整放置。</p><p id="ad93" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">绝对位置值和固定位置值将元素完全从文档的默认流程中移除。这可能会导致一些奇怪的行为，比如元素堆叠在一起，因为常规文档流中的元素不会注意到绝对的和固定的元素。这两个值的主要区别在于，绝对元素的位置相对于其最近的父元素，而固定元素的位置相对于其包含的块。对于固定元素，此规则有一个例外。如果它的一个祖先具有transform、perspective或filter属性，则该祖先充当它的包含块，而固定元素相对于它放置。</p><p id="f865" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">最后，我们来谈谈粘性定位。需要注意的是，并不是所有的浏览器都支持它，但是如果使用得当，它还是很棒的。当我们将元素的位置定义为sticky时，它保持在正常的HTML文档流中。但是，它的位置是相对于具有滚动机制(如溢出:隐藏、滚动、自动或覆盖)的最近祖先设置的。另请注意，它仍将停留在其包含块内。这是导航栏中常见的行为，所以当我们向下滚动页面时，它会继续留在视窗中。</p><h1 id="9306" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ix ki iy kj ja kk jb kl jd km je kn ko bi translated">z索引和堆叠索引</h1><p id="07f8" class="pw-post-body-paragraph kp kq hi kr b ks kt is ku kv kw iv kx ky kz la lb lc ld le lf lg lh li lj lk hb bi translated">就像地理位置坐标一样，x和y索引的值决定了我们的元素在二维平面上的位置。z指数决定了我们元素的第三维度位置。这给了我们在其他参考点之上或之下放置东西的能力。默认情况下，所有元素的z索引都设置为0。所以，所有的元素都在同一个平面上，一个接一个地垂直渲染。当我们为z-index分配不同的值时，具有最高z-index的元素将出现在顶部。</p><p id="06fa" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">这里有个问题…我们不能只给静态定位的元素添加一个z索引。嗯，你可以，但不会有任何效果。所以首先，一定要定义元素的位置是相对的，绝对的，固定的还是粘性的。更改位置属性会创建所谓的堆叠上下文。</p><p id="ee6e" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">正如MDN Web Docs中所描述的，“堆叠上下文是HTML元素沿着相对于用户的虚拟z轴的三维概念化”。</p><p id="7bd5" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">其中一个最好的分析是Photoshop图层和群组。如果你熟悉Photoshop，你会明白你可以把照片、图画、商标等组合在一起。所有这些东西都将被平铺到一个“层”中。然后，您可以添加其他层，并定义您想要的顶部和底部。将每个堆叠上下文想象成由父元素包围的一组子元素可能会有所帮助。它们不会与其他堆叠上下文混合。该组可以放在其他层的上面或下面，但它将始终粘在一起。</p><p id="a818" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">包含指定z索引的元素的子元素将跟随其父元素的位置。它不会与其父元素之外的元素进行比较。解决这个问题的唯一方法是移除父对象的z索引，从而将其从堆栈上下文中一起移除。不要混淆堆叠上下文和DOM树中元素的位置。这是不一样的，因为堆栈上下文只关注有z索引的非静态元素！</p><p id="eb9e" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">同样重要的是要注意，堆叠上下文可能会受到其他属性的影响，如不透明度、变换、隔离和其他一些属性。如果您看到一些意外的行为，请注意这一点。</p><p id="fec6" class="pw-post-body-paragraph kp kq hi kr b ks ll is ku kv lm iv kx ky ln la lb lc lo le lf lg lp li lj lk hb bi translated">isolation属性特别有用，因为它实际上允许我们稍微打破规则，将我们想要的特定元素添加到堆栈上下文中——包括静态定位的元素！</p><h1 id="37db" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ix ki iy kj ja kk jb kl jd km je kn ko bi translated">结论</h1><p id="0407" class="pw-post-body-paragraph kp kq hi kr b ks kt is ku kv kw iv kx ky kz la lb lc ld le lf lg lh li lj lk hb bi translated">咻！那是很难接受的。如果这些概念需要一段时间来掌握，这是可以理解的。打开一个最近的项目，使用position属性。尝试在这里和那里添加z索引。你看到变化了吗？如果没有，你能找出原因吗？记住，对你的CSS定位真正感到自信的最好方法是实践。祝你好运！</p><h1 id="4efe" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ix ki iy kj ja kk jb kl jd km je kn ko bi translated">资源</h1><div class="lq lr ez fb ls lt"><a href="https://www.joshwcomeau.com/css/the-importance-of-learning-css/" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hs fi z dy ly ea eb lz ed ef hr bi translated">学习CSS的重要性</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">我知道很多超级天才的开发者都有一个共同的致命弱点:CSS。这不是试图“逃脱”CSS，而是…</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">www.joshwcomeau.com</p></div></div><div class="mc l"><div class="md l me mf mg mc mh jq lt"/></div></div></a></div><div class="lq lr ez fb ls lt"><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context#the_stacking_context" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hs fi z dy ly ea eb lz ed ef hr bi translated">堆叠上下文</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">堆叠上下文是HTML元素沿着相对于…的假想z轴的三维概念化。</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">developer.mozilla.org</p></div></div><div class="mc l"><div class="mi l me mf mg mc mh jq lt"/></div></div></a></div><div class="lq lr ez fb ls lt"><a href="https://www.w3.org/Style/CSS/#specs" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hs fi z dy ly ea eb lz ed ef hr bi translated">级联样式表</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">级联样式表(CSS)是一种向Web文档添加样式(例如，字体、颜色、间距)的简单机制…</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">www.w3.org</p></div></div><div class="mc l"><div class="mj l me mf mg mc mh jq lt"/></div></div></a></div></div></div>    
</body>
</html>