<html>
<head>
<title>How to write an FTP communication script using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python编写FTP通信脚本</h1>
<blockquote>原文：<a href="https://medium.com/codex/how-to-write-an-ftp-communication-script-using-python-3c4b94b0f68?source=collection_archive---------10-----------------------#2022-08-29">https://medium.com/codex/how-to-write-an-ftp-communication-script-using-python-3c4b94b0f68?source=collection_archive---------10-----------------------#2022-08-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a830" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好！在这个博客中，我们将学习如何用Python写一个脚本，它可以执行我们的文件上传和下载的FTP请求。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/6beb1a727e43ca8bc25d10b3611f9ad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tnlGcmd7Dh8u87zY"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae jt" href="https://unsplash.com/@iammrcup?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Cup先生/杨奇煜·巴勒</a>拍摄的照片</figcaption></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="8db8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在使用该脚本之前，您需要从windows命令行安装“ftplib”包。使用命令<code class="du kb kc kd ke b">pip install pyftpdlib</code>安装软件包。</p><p id="81d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导入所需的库。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kf kg l"/></div></figure><p id="74bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以将信息性消息打印到控制台。我们需要<code class="du kb kc kd ke b">user id</code>、<code class="du kb kc kd ke b">address</code>和<code class="du kb kc kd ke b">password</code>来执行FTP查询。我们将这些值存储在不同的变量中。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kf kg l"/></div></figure><p id="817b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将检查<code class="du kb kc kd ke b">user id</code>、<code class="du kb kc kd ke b">address</code>和<code class="du kb kc kd ke b">password</code>的组合是否匹配一个有效的FTP服务器。Try-catch块捕获此处发生的错误。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kf kg l"/></div></figure><p id="eb6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该脚本检查您是想要执行下载还是上传操作。对于上传，您为脚本指定文件名。假设脚本找到了文件(一个好的做法是将文件放在与脚本相同的目录中)。在这种情况下，上传操作完成，脚本退出会话，退出逻辑和try-catch块。同样的事情也适用于下载操作。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kf kg l"/></div></figure><p id="e043" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是完整的脚本。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kf kg l"/></div></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><h1 id="eaaf" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">结论</h1><p id="48e7" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">终于！使用上面的方法，我们可以用Python写一个FTP脚本。感谢您的阅读，我会继续添加新的说明和示例。其他文章和更新，请在<a class="ae jt" href="http://linkedin.com/in/bkullukcu" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上与我联系。也可以在<a class="ae jt" href="https://github.com/bkullukcu" rel="noopener ugc nofollow" target="_blank"> Github </a>上关注我。</p></div></div>    
</body>
</html>