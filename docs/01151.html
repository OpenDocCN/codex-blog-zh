<html>
<head>
<title>Instagram post image from GDrive or local storage</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">来自GDrive或本地存储的Instagram发布图像</h1>
<blockquote>原文：<a href="https://medium.com/codex/instagram-choose-img-from-gdrive-or-local-storage-629fa836dd4f?source=collection_archive---------9-----------------------#2021-04-07">https://medium.com/codex/instagram-choose-img-from-gdrive-or-local-storage-629fa836dd4f?source=collection_archive---------9-----------------------#2021-04-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/968723697612ebd92184626f7c379fb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3l2bTkaLiIS4TEQB"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">亚历山大·沙托夫在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class=""/><figure class="ev ex iw ix iy hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es iv"><img src="../Images/ccee117c55d2716bf9b4c4cfcd8b9fcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q_EWGyg32yJZ0cZRm9E6Aw.png"/></div></div></figure><h2 id="2133" class="iz ja hy bd jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw bi translated">该项目分为三个部分:</h2><p id="a038" class="pw-post-body-paragraph jx jy hy jz b ka kb kc kd ke kf kg kh jk ki kj kk jo kl km kn js ko kp kq kr hb bi ks translated"><span class="l kt ku kv bm kw kx ky kz la di"> 1 </span>首先从你的电脑目录中获取图片，你可以在这里找到:</p><div class="hh hi ez fb hj lb"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/find-files-folders-in-your-directory-with-python-2ff11081e373"><div class="lc ab dw"><div class="ld ab le cl cj lf"><h2 class="bd hz fi z dy lg ea eb lh ed ef hx bi translated">使用Python查找目录中的文件和文件夹</h2><div class="li l"><h3 class="bd b fi z dy lg ea eb lh ed ef dx translated">摘要</h3></div><div class="lj l"><p class="bd b fp z dy lg ea eb lh ed ef dx translated">medium.com</p></div></div><div class="lk l"><div class="ll l lm ln lo lk lp hp lb"/></div></div></a></div><p id="01c6" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi ks translated">从你的硬盘下载文件，你可以在这里找到:</p><div class="hh hi ez fb hj lb"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/request-get-files-from-google-api-with-python-f6dab75681ae"><div class="lc ab dw"><div class="ld ab le cl cj lf"><h2 class="bd hz fi z dy lg ea eb lh ed ef hx bi translated">使用Python从Google API请求/获取文件</h2><div class="li l"><h3 class="bd b fi z dy lg ea eb lh ed ef dx translated">本文介绍了如何首先设置您的Google Drive API，然后创建一个python脚本来下载…</h3></div><div class="lj l"><p class="bd b fp z dy lg ea eb lh ed ef dx translated">medium.com</p></div></div><div class="lk l"><div class="lv l lm ln lo lk lp hp lb"/></div></div></a></div><p id="f54c" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi ks translated"><span class="l kt ku kv bm kw kx ky kz la di"> 3 </span> rd将上述两者结合起来的主要应用程序脚本如下:</p><p id="f4e3" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">Tkinter是事实上的标准GUI(图形用户界面)包。</p><p id="201b" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated"><strong class="jz hz"> Instabot </strong>用于推广的免费Instagram python bot和API python wrapper。</p><blockquote class="lw lx ly"><p id="cee5" class="jx jy lz jz b ka lq kc kd ke lr kg kh ma ls kj kk mb lt km kn mc lu kp kq kr hb bi translated"><strong class="jz hz"> <em class="hy">注:</em> </strong></p><p id="01d3" class="jx jy lz jz b ka lq kc kd ke lr kg kh ma ls kj kk mb lt km kn mc lu kp kq kr hb bi translated">要做到这一点，所有的部分都必须包含在内，最需要注意的是设置你的GDrive API，因为它包含了大部分的验证等步骤。</p></blockquote></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><h1 id="fac5" class="mk ja hy bd jb ml mm mn jf mo mp mq jj mr ms mt jn mu mv mw jr mx my mz jv na bi translated">导入/包和图像</h1><figure class="nb nc nd ne fd hk"><div class="bz dy l di"><div class="nf ng l"/></div></figure><p id="52d3" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">如前所述，我们从导入少量的tkinter导入开始，如tk、标签、按钮、PIL以及图像库。Instabot登录到我们的帐户和职位。从定时器模块和<strong class="jz hz">检查</strong>和<strong class="jz hz">驱动列表</strong>脚本得到想要的图像。</p><p id="f829" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">我们在bot变量中初始化instabot Bot()方法以使其运行。</p><p id="b371" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">继续启动<strong class="jz hz"> CheckIMG </strong>脚本函数<strong class="jz hz"> choose_option() </strong>从本地驱动器或Gdrive文件中选择图像。</p><blockquote class="lw lx ly"><p id="6be1" class="jx jy lz jz b ka lq kc kd ke lr kg kh ma ls kj kk mb lt km kn mc lu kp kq kr hb bi translated">完成后，将<strong class="jz hz"> time.sleep </strong>设置为3秒，这样文件就可以被下载和访问以供发布！</p></blockquote><p id="875e" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">如果图像变量<strong class="jz hz"> <em class="lz">为空</em> </strong> <em class="lz"> </em>则制作一个图像变量和' '。来自drive_list脚本的join(image_input)名称，以便可以访问和用于发布。否则显然从本地目录中选择了图像，并且图片从<strong class="jz hz"> CheckIMG </strong>脚本中继承了<strong class="jz hz">图像</strong>的字符串名称！</p><figure class="nb nc nd ne fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nh"><img src="../Images/3e9fe7e9d24ae59176246888afd42567.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i6tbVELPb6p6w333k0nhLw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">启动app.py</figcaption></figure><p id="afca" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">请注意，图像的像素尺寸比例对帖子的成功起着巨大的作用(自己选择不同类型的图片的错误，有些通过，有些给我一个<strong class="jz hz">错误</strong>)！</p></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><h1 id="455d" class="mk ja hy bd jb ml mm mn jf mo mp mq jj mr ms mt jn mu mv mw jr mx my mz jv na bi translated">Tkinter GUI设置</h1><figure class="nb nc nd ne fd hk"><div class="bz dy l di"><div class="nf ng l"/></div></figure><p id="5284" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">我们继续创建应用程序类<strong class="jz hz"> IGGUI </strong>。<strong class="jz hz"> </strong>这个类的构造函数调用<a class="ae hv" href="https://www.askpython.com/python/oops/inheritance-in-python" rel="noopener ugc nofollow" target="_blank">基类</a> ( <code class="du ni nj nk nl b">tk.Frame</code>)构造函数并传递master对象，这样就可以初始化重要的东西了。</p><p id="42e6" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">继续使用标准协议来创建__init__方法。</p><p id="79f3" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">使用<code class="du ni nj nk nl b">super</code>实际上会修改主对象，所以我们将自己的副本更新为最新的，因为其他调用需要它。</p><p id="8c8c" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">我们用<strong class="jz hz"> Image </strong>方法创建可以打开图片的self.image。</p><p id="5415" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">必须调整其大小，然后必须创建一个新的self.img变量，以便将其存储在Tkinter GUI应用程序中进行显示。</p><p id="b064" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">此后将调用self.create_widgets()函数，它应该是不言自明的。我们只需创建一个标签，并将其分配到相应的网格位置。此外，使用Tkinter的Entry方法以及关于文章的textarea的StringVar()。</p><p id="41ed" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">提交后的self.button运行帖子的最后一个功能，以便进一步处理…</p><figure class="nb nc nd ne fd hk er es paragraph-image"><div class="er es nm"><img src="../Images/87db9c2d4f5f6127b958827df76a4d28.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*E5Fub9F2-x-luN5aMVDBrA.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">说到设计，它并不完美，但它完成了工作:P</figcaption></figure><figure class="nb nc nd ne fd hk"><div class="bz dy l di"><div class="nf ng l"/></div></figure><p id="f715" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">回调具有存储self.content文本的值。之后，我们<strong class="jz hz">销毁</strong>我们的GUI应用程序，并创建一个名为entry_text的golbal变量，其中包含我们输入的文本内容，在这种情况下，它是喵喵#curios #cat ❤ ❤ ❤</p><figure class="nb nc nd ne fd hk er es paragraph-image"><div class="er es nn"><img src="../Images/ad96219e38bd946cfbb241efe243dcab.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*lRHW8jyAKXBbi7Cr7OuwXg.jpeg"/></div></figure><p id="63c2" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">然后我们创建一个根来启动tkinter。幕后的Tk()解释器。</p><p id="7262" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">分配标题并创建使用根作为其<em class="lz">主实例的应用程序实例。</em></p><p id="df04" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated"><strong class="jz hz"> app </strong>。<strong class="jz hz">主循环</strong>()告诉<strong class="jz hz"> Python </strong>运行<strong class="jz hz"> Tkinter </strong>事件循环。</p></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><h1 id="2aba" class="mk ja hy bd jb ml mm mn jf mo mp mq jj mr ms mt jn mu mv mw jr mx my mz jv na bi translated">正在执行Post！</h1><p id="1e9b" class="pw-post-body-paragraph jx jy hy jz b ka kb kc kd ke kf kg kh jk ki kj kk jo kl km kn js ko kp kq kr hb bi translated">现在这是最简单的部分，只剩下两行代码了。</p><p id="4fb3" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">我们通过传递您的“用户名”和“密码”来登录，从而调用bot.login。</p><p id="9f2c" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">然后<strong class="jz hz"> bot.upload_photo </strong>带图片我们选择<strong class="jz hz"> </strong>以及标题我们传入我们在Tkinter中写的文本。</p><figure class="nb nc nd ne fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es no"><img src="../Images/a0527738a8c740da331dad9170328c87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ufuAyGNFdKWT9Ha9HR4dzw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">它发表的帖子大约有多长(撒有❤的隐私)</figcaption></figure><h1 id="67a2" class="mk ja hy bd jb ml np mn jf mo nq mq jj mr nr mt jn mu ns mw jr mx nt mz jv na bi translated">结论</h1><p id="8a34" class="pw-post-body-paragraph jx jy hy jz b ka kb kc kd ke kf kg kh jk ki kj kk jo kl km kn js ko kp kq kr hb bi translated">这个项目是如此令人头痛，但可以从中学到很多东西。从搜索自己目录中的文件开始，继续访问您的GDrive文件，最后实现Tkinter和Instabot。有无限的可能性，唯一阻止你的想法是你的想象！</p><p id="3e00" class="pw-post-body-paragraph jx jy hy jz b ka lq kc kd ke lr kg kh jk ls kj kk jo lt km kn js lu kp kq kr hb bi translated">快乐编码你可以在下面找到完整的项目:</p><div class="hh hi ez fb hj lb"><a href="https://github.com/Mozes721/IG_Tk_Gdrive" rel="noopener  ugc nofollow" target="_blank"><div class="lc ab dw"><div class="ld ab le cl cj lf"><h2 class="bd hz fi z dy lg ea eb lh ed ef hx bi translated">Mozes721/IG_Tk_Gdrive</h2><div class="li l"><h3 class="bd b fi z dy lg ea eb lh ed ef dx translated">该项目是在IG上使用Tkinter(图形用户界面)发布。如果您想从…获取图像，会在终端上得到提示</h3></div><div class="lj l"><p class="bd b fp z dy lg ea eb lh ed ef dx translated">github.com</p></div></div><div class="lk l"><div class="nu l lm ln lo lk lp hp lb"/></div></div></a></div></div></div>    
</body>
</html>