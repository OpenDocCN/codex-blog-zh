# 不要在生产中记录这些

> 原文：<https://medium.com/codex/never-log-these-on-production-718c8cef23dd?source=collection_archive---------12----------------------->

![](img/644c7188dcb3a9c32277651e471187b9.png)

照片由[杰玛·埃文斯](https://unsplash.com/@stayandroam?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄

日志是软件开发的一个重要方面。日志文件可用于记录任务处理过程中发生的事件、不同服务之间发生的通信、基于复杂逻辑的算法步骤等等。

作为一名开发人员，可能经常觉得应该记录一些东西，这可能有助于调试、进行某种分析，或者有时只是确保到达特定的代码点。尽管所有这些看起来都是合法的，但事实往往并非如此。日志文件不应该充斥着不必要的数据。如果确实需要记录附加信息，可以在单独的文件中记录。虽然日志记录是当今应用程序的基本要求，但应该避免过度。

继续这篇文章，让我们讨论什么不应该是生产日志文件的一部分。

## 高度机密信息

对客户保密的详细信息，例如他们的密码、信用卡号或社会保险号。任何可能损害客户财务或身体安全的信息都会进入公共领域，必须避免被记录。

## 应用安全信息

密码、数据库名称、网络路由、互联网协议地址、加密密钥等详细信息。这些信息可能看起来不保密，但对黑客来说非常有用。

## 全栈跟踪

毫无疑问，堆栈跟踪确实有助于调试和解决问题，但是记录完整的堆栈跟踪并不是一个好的做法。可以转换堆栈跟踪以提取有意义的信息，其余的可以丢弃。如果真的有必要记录整个跟踪，最好在另一个文件中捕获它。

## 整个工艺流程

有意或无意地，有时我们最终会捕获大量关于流程流的信息。这可能包括在处理过程中做出的小决定，方法或类的入口和出口，以及启动对其他服务的 HTTP 调用等等。所有这些肯定都不是必需的。我们应该努力记录重要的东西，而不是看似重要的东西。

日志应尽可能保持整洁和易读。用大量不必要的信息将日志弄得乱七八糟，会降低它们的可读性和处理难度。也很占地方。这里有一些东西可以帮助有效地维护日志。

1.  以适当的级别记录。慎重使用各种可用的日志级别，例如，对于异常和失败，始终使用警告和错误级别。
2.  始终向日志中添加一些上下文，例如，在记录订单状态的变化时，最好提及订单 id。
3.  在捕获日志时，最好遵循标准格式。使用这些日志进行分析会更容易解析。

> 这是我最近写的关于设计模式的书的链接。希望你会觉得有用。

[](https://www.amazon.in/Software-Design-Patterns-Java-Developers/dp/9391392474) [## 面向 Java 开发人员的软件设计模式:专家主导的构建可重用软件的方法和…

### 面向 Java 开发人员的软件设计模式讨论了软件设计的基础，以及公认的…

www。亚马逊网站](https://www.amazon.in/Software-Design-Patterns-Java-Developers/dp/9391392474)